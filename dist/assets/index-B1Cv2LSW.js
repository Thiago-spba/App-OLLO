function V4(n,e){for(var t=0;t<e.length;t++){const a=e[t];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(a,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function gb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var u0={exports:{}},bc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function M4(){if($v)return bc;$v=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:n,type:a,key:u,ref:o!==void 0?o:null,props:l}}return bc.Fragment=e,bc.jsx=t,bc.jsxs=t,bc}var Gv;function L4(){return Gv||(Gv=1,u0.exports=M4()),u0.exports}var g=L4(),d0={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function j4(){if(Zv)return ze;Zv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.iterator;function T(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,$={};function P(V,se,de){this.props=V,this.context=se,this.refs=$,this.updater=de||C}P.prototype.isReactComponent={},P.prototype.setState=function(V,se){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,se,"setState")},P.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function re(){}re.prototype=P.prototype;function F(V,se,de){this.props=V,this.context=se,this.refs=$,this.updater=de||C}var G=F.prototype=new re;G.constructor=F,B(G,P.prototype),G.isPureReactComponent=!0;var X=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},pe=Object.prototype.hasOwnProperty;function O(V,se,de,ae,be,oe){return de=oe.ref,{$$typeof:n,type:V,key:se,ref:de!==void 0?de:null,props:oe}}function R(V,se){return O(V.type,se,void 0,void 0,void 0,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function D(V){var se={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(de){return se[de]})}var j=/\/+/g;function L(V,se){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):se.toString(36)}function k(){}function Le(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(k,k):(V.status="pending",V.then(function(se){V.status==="pending"&&(V.status="fulfilled",V.value=se)},function(se){V.status==="pending"&&(V.status="rejected",V.reason=se)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Ue(V,se,de,ae,be){var oe=typeof V;(oe==="undefined"||oe==="boolean")&&(V=null);var he=!1;if(V===null)he=!0;else switch(oe){case"bigint":case"string":case"number":he=!0;break;case"object":switch(V.$$typeof){case n:case e:he=!0;break;case b:return he=V._init,Ue(he(V._payload),se,de,ae,be)}}if(he)return be=be(V),he=ae===""?"."+L(V,0):ae,X(be)?(de="",he!=null&&(de=he.replace(j,"$&/")+"/"),Ue(be,se,de,"",function(ct){return ct})):be!=null&&(N(be)&&(be=R(be,de+(be.key==null||V&&V.key===be.key?"":(""+be.key).replace(j,"$&/")+"/")+he)),se.push(be)),1;he=0;var Ne=ae===""?".":ae+":";if(X(V))for(var Ce=0;Ce<V.length;Ce++)ae=V[Ce],oe=Ne+L(ae,Ce),he+=Ue(ae,se,de,oe,be);else if(Ce=T(V),typeof Ce=="function")for(V=Ce.call(V),Ce=0;!(ae=V.next()).done;)ae=ae.value,oe=Ne+L(ae,Ce++),he+=Ue(ae,se,de,oe,be);else if(oe==="object"){if(typeof V.then=="function")return Ue(Le(V),se,de,ae,be);throw se=String(V),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return he}function W(V,se,de){if(V==null)return V;var ae=[],be=0;return Ue(V,ae,"","",function(oe){return se.call(de,oe,be++)}),ae}function fe(V){if(V._status===-1){var se=V._result;se=se(),se.then(function(de){(V._status===0||V._status===-1)&&(V._status=1,V._result=de)},function(de){(V._status===0||V._status===-1)&&(V._status=2,V._result=de)}),V._status===-1&&(V._status=0,V._result=se)}if(V._status===1)return V._result.default;throw V._result}var we=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Be(){}return ze.Children={map:W,forEach:function(V,se,de){W(V,function(){se.apply(this,arguments)},de)},count:function(V){var se=0;return W(V,function(){se++}),se},toArray:function(V){return W(V,function(se){return se})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},ze.Component=P,ze.Fragment=t,ze.Profiler=o,ze.PureComponent=F,ze.StrictMode=a,ze.Suspense=p,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,ze.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ne.H.useMemoCache(V)}},ze.cache=function(V){return function(){return V.apply(null,arguments)}},ze.cloneElement=function(V,se,de){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ae=B({},V.props),be=V.key,oe=void 0;if(se!=null)for(he in se.ref!==void 0&&(oe=void 0),se.key!==void 0&&(be=""+se.key),se)!pe.call(se,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&se.ref===void 0||(ae[he]=se[he]);var he=arguments.length-2;if(he===1)ae.children=de;else if(1<he){for(var Ne=Array(he),Ce=0;Ce<he;Ce++)Ne[Ce]=arguments[Ce+2];ae.children=Ne}return O(V.type,be,void 0,void 0,oe,ae)},ze.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},ze.createElement=function(V,se,de){var ae,be={},oe=null;if(se!=null)for(ae in se.key!==void 0&&(oe=""+se.key),se)pe.call(se,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(be[ae]=se[ae]);var he=arguments.length-2;if(he===1)be.children=de;else if(1<he){for(var Ne=Array(he),Ce=0;Ce<he;Ce++)Ne[Ce]=arguments[Ce+2];be.children=Ne}if(V&&V.defaultProps)for(ae in he=V.defaultProps,he)be[ae]===void 0&&(be[ae]=he[ae]);return O(V,oe,void 0,void 0,null,be)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(V){return{$$typeof:f,render:V}},ze.isValidElement=N,ze.lazy=function(V){return{$$typeof:b,_payload:{_status:-1,_result:V},_init:fe}},ze.memo=function(V,se){return{$$typeof:y,type:V,compare:se===void 0?null:se}},ze.startTransition=function(V){var se=ne.T,de={};ne.T=de;try{var ae=V(),be=ne.S;be!==null&&be(de,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Be,we)}catch(oe){we(oe)}finally{ne.T=se}},ze.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},ze.use=function(V){return ne.H.use(V)},ze.useActionState=function(V,se,de){return ne.H.useActionState(V,se,de)},ze.useCallback=function(V,se){return ne.H.useCallback(V,se)},ze.useContext=function(V){return ne.H.useContext(V)},ze.useDebugValue=function(){},ze.useDeferredValue=function(V,se){return ne.H.useDeferredValue(V,se)},ze.useEffect=function(V,se,de){var ae=ne.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(V,se)},ze.useId=function(){return ne.H.useId()},ze.useImperativeHandle=function(V,se,de){return ne.H.useImperativeHandle(V,se,de)},ze.useInsertionEffect=function(V,se){return ne.H.useInsertionEffect(V,se)},ze.useLayoutEffect=function(V,se){return ne.H.useLayoutEffect(V,se)},ze.useMemo=function(V,se){return ne.H.useMemo(V,se)},ze.useOptimistic=function(V,se){return ne.H.useOptimistic(V,se)},ze.useReducer=function(V,se,de){return ne.H.useReducer(V,se,de)},ze.useRef=function(V){return ne.H.useRef(V)},ze.useState=function(V){return ne.H.useState(V)},ze.useSyncExternalStore=function(V,se,de){return ne.H.useSyncExternalStore(V,se,de)},ze.useTransition=function(){return ne.H.useTransition()},ze.version="19.1.0",ze}var Kv;function gg(){return Kv||(Kv=1,d0.exports=j4()),d0.exports}var _=gg();const Zn=gb(_),P4=V4({__proto__:null,default:Zn},[_]);var h0={exports:{}},xc={},f0={exports:{}},m0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function U4(){return Yv||(Yv=1,function(n){function e(W,fe){var we=W.length;W.push(fe);e:for(;0<we;){var Be=we-1>>>1,V=W[Be];if(0<o(V,fe))W[Be]=fe,W[we]=V,we=Be;else break e}}function t(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var fe=W[0],we=W.pop();if(we!==fe){W[0]=we;e:for(var Be=0,V=W.length,se=V>>>1;Be<se;){var de=2*(Be+1)-1,ae=W[de],be=de+1,oe=W[be];if(0>o(ae,we))be<V&&0>o(oe,ae)?(W[Be]=oe,W[be]=we,Be=be):(W[Be]=ae,W[de]=we,Be=de);else if(be<V&&0>o(oe,we))W[Be]=oe,W[be]=we,Be=be;else break e}}return fe}function o(W,fe){var we=W.sortIndex-fe.sortIndex;return we!==0?we:W.id-fe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var p=[],y=[],b=1,w=null,T=3,C=!1,B=!1,$=!1,P=!1,re=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function X(W){for(var fe=t(y);fe!==null;){if(fe.callback===null)a(y);else if(fe.startTime<=W)a(y),fe.sortIndex=fe.expirationTime,e(p,fe);else break;fe=t(y)}}function ne(W){if($=!1,X(W),!B)if(t(p)!==null)B=!0,pe||(pe=!0,L());else{var fe=t(y);fe!==null&&Ue(ne,fe.startTime-W)}}var pe=!1,O=-1,R=5,N=-1;function D(){return P?!0:!(n.unstable_now()-N<R)}function j(){if(P=!1,pe){var W=n.unstable_now();N=W;var fe=!0;try{e:{B=!1,$&&($=!1,F(O),O=-1),C=!0;var we=T;try{t:{for(X(W),w=t(p);w!==null&&!(w.expirationTime>W&&D());){var Be=w.callback;if(typeof Be=="function"){w.callback=null,T=w.priorityLevel;var V=Be(w.expirationTime<=W);if(W=n.unstable_now(),typeof V=="function"){w.callback=V,X(W),fe=!0;break t}w===t(p)&&a(p),X(W)}else a(p);w=t(p)}if(w!==null)fe=!0;else{var se=t(y);se!==null&&Ue(ne,se.startTime-W),fe=!1}}break e}finally{w=null,T=we,C=!1}fe=void 0}}finally{fe?L():pe=!1}}}var L;if(typeof G=="function")L=function(){G(j)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Le=k.port2;k.port1.onmessage=j,L=function(){Le.postMessage(null)}}else L=function(){re(j,0)};function Ue(W,fe){O=re(function(){W(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(W){switch(T){case 1:case 2:case 3:var fe=3;break;default:fe=T}var we=T;T=fe;try{return W()}finally{T=we}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function(W,fe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var we=T;T=W;try{return fe()}finally{T=we}},n.unstable_scheduleCallback=function(W,fe,we){var Be=n.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Be+we:Be):we=Be,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=we+V,W={id:b++,callback:fe,priorityLevel:W,startTime:we,expirationTime:V,sortIndex:-1},we>Be?(W.sortIndex=we,e(y,W),t(p)===null&&W===t(y)&&($?(F(O),O=-1):$=!0,Ue(ne,we-Be))):(W.sortIndex=V,e(p,W),B||C||(B=!0,pe||(pe=!0,L()))),W},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(W){var fe=T;return function(){var we=T;T=fe;try{return W.apply(this,arguments)}finally{T=we}}}}(m0)),m0}var Qv;function B4(){return Qv||(Qv=1,f0.exports=U4()),f0.exports}var g0={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function z4(){if(Xv)return fn;Xv=1;var n=gg();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,y,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:y,implementation:b}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,fn.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return l(p,y,null,b)},fn.flushSync=function(p){var y=u.T,b=a.p;try{if(u.T=null,a.p=2,p)return p()}finally{u.T=y,a.p=b,a.d.f()}},fn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},fn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},fn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,w=f(b,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,C=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:C}):b==="script"&&a.d.X(p,{crossOrigin:w,integrity:T,fetchPriority:C,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},fn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=f(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},fn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,w=f(b,y.crossOrigin);a.d.L(p,b,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},fn.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=f(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},fn.requestFormReset=function(p){a.d.r(p)},fn.unstable_batchedUpdates=function(p,y){return p(y)},fn.useFormState=function(p,y,b){return u.H.useFormState(p,y,b)},fn.useFormStatus=function(){return u.H.useHostTransitionStatus()},fn.version="19.1.0",fn}var Wv;function pb(){if(Wv)return g0.exports;Wv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),g0.exports=z4(),g0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function F4(){if(Jv)return xc;Jv=1;var n=B4(),e=gg(),t=pb();function a(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,s=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(s=i.return),r=i.return;while(r)}return i.tag===3?s:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(a(188))}function p(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(a(188));return i!==r?null:r}for(var s=r,c=i;;){var h=s.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){s=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===s)return f(h),r;if(m===c)return f(h),i;m=m.sibling}throw Error(a(188))}if(s.return!==c.return)s=h,c=m;else{for(var E=!1,A=h.child;A;){if(A===s){E=!0,s=h,c=m;break}if(A===c){E=!0,c=h,s=m;break}A=A.sibling}if(!E){for(A=m.child;A;){if(A===s){E=!0,s=m,c=h;break}if(A===c){E=!0,c=m,s=h;break}A=A.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==c)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?r:i}function y(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=y(r),i!==null)return i;r=r.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),G=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=j&&r[j]||r["@@iterator"],typeof r=="function"?r:null)}var k=Symbol.for("react.client.reference");function Le(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===k?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case B:return"Fragment";case P:return"Profiler";case $:return"StrictMode";case ne:return"Suspense";case pe:return"SuspenseList";case N:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case G:return(r.displayName||"Context")+".Provider";case F:return(r._context.displayName||"Context")+".Consumer";case X:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return i=r.displayName||null,i!==null?i:Le(r.type)||"Memo";case R:i=r._payload,r=r._init;try{return Le(r(i))}catch{}}return null}var Ue=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},Be=[],V=-1;function se(r){return{current:r}}function de(r){0>V||(r.current=Be[V],Be[V]=null,V--)}function ae(r,i){V++,Be[V]=r.current,r.current=i}var be=se(null),oe=se(null),he=se(null),Ne=se(null);function Ce(r,i){switch(ae(he,i),ae(oe,r),ae(be,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?_v(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=_v(i),r=bv(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}de(be),ae(be,r)}function ct(){de(be),de(oe),de(he)}function Yt(r){r.memoizedState!==null&&ae(Ne,r);var i=be.current,s=bv(i,r.type);i!==s&&(ae(oe,r),ae(be,s))}function kn(r){oe.current===r&&(de(be),de(oe)),Ne.current===r&&(de(Ne),gc._currentValue=we)}var Xn=Object.prototype.hasOwnProperty,oa=n.unstable_scheduleCallback,kr=n.unstable_cancelCallback,Wa=n.unstable_shouldYield,Xs=n.unstable_requestPaint,Nn=n.unstable_now,pu=n.unstable_getCurrentPriorityLevel,Ja=n.unstable_ImmediatePriority,M=n.unstable_UserBlockingPriority,K=n.unstable_NormalPriority,ee=n.unstable_LowPriority,_e=n.unstable_IdlePriority,ye=n.log,me=n.unstable_setDisableYieldValue,ve=null,Se=null;function Fe(r){if(typeof ye=="function"&&me(r),Se&&typeof Se.setStrictMode=="function")try{Se.setStrictMode(ve,r)}catch{}}var it=Math.clz32?Math.clz32:ca,la=Math.log,Wn=Math.LN2;function ca(r){return r>>>=0,r===0?32:31-(la(r)/Wn|0)|0}var mr=256,gr=4194304;function Pn(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ua(r,i,s){var c=r.pendingLanes;if(c===0)return 0;var h=0,m=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var A=c&134217727;return A!==0?(c=A&~m,c!==0?h=Pn(c):(E&=A,E!==0?h=Pn(E):s||(s=A&~r,s!==0&&(h=Pn(s))))):(A=c&~m,A!==0?h=Pn(A):E!==0?h=Pn(E):s||(s=c&~r,s!==0&&(h=Pn(s)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,s=i&-i,m>=s||m===32&&(s&4194048)!==0)?i:h}function da(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function ei(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pl(){var r=mr;return mr<<=1,(mr&4194048)===0&&(mr=256),r}function yl(){var r=gr;return gr<<=1,(gr&62914560)===0&&(gr=4194304),r}function ha(r){for(var i=[],s=0;31>s;s++)i.push(r);return i}function fa(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function vl(r,i,s,c,h,m){var E=r.pendingLanes;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=s,r.entangledLanes&=s,r.errorRecoveryDisabledLanes&=s,r.shellSuspendCounter=0;var A=r.entanglements,I=r.expirationTimes,Z=r.hiddenUpdates;for(s=E&~s;0<s;){var te=31-it(s),le=1<<te;A[te]=0,I[te]=-1;var Y=Z[te];if(Y!==null)for(Z[te]=null,te=0;te<Y.length;te++){var Q=Y[te];Q!==null&&(Q.lane&=-536870913)}s&=~le}c!==0&&Nr(r,c,0),m!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=m&~(E&~i))}function Nr(r,i,s){r.pendingLanes|=i,r.suspendedLanes&=~i;var c=31-it(i);r.entangledLanes|=i,r.entanglements[c]=r.entanglements[c]|1073741824|s&4194090}function _l(r,i){var s=r.entangledLanes|=i;for(r=r.entanglements;s;){var c=31-it(s),h=1<<c;h&i|r[c]&i&&(r[c]|=i),s&=~h}}function ti(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ws(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ni(){var r=fe.p;return r!==0?r:(r=window.event,r===void 0?32:Uv(r.type))}function yu(r,i){var s=fe.p;try{return fe.p=r,i()}finally{fe.p=s}}var vt=Math.random().toString(36).slice(2),Bt="__reactFiber$"+vt,Dt="__reactProps$"+vt,Jn="__reactContainer$"+vt,bl="__reactEvents$"+vt,ff="__reactListeners$"+vt,ri="__reactHandles$"+vt,vu="__reactResources$"+vt,rs="__reactMarker$"+vt;function ai(r){delete r[Bt],delete r[Dt],delete r[bl],delete r[ff],delete r[ri]}function ma(r){var i=r[Bt];if(i)return i;for(var s=r.parentNode;s;){if(i=s[Jn]||s[Bt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(r=Tv(r);r!==null;){if(s=r[Bt])return s;r=Tv(r)}return i}r=s,s=r.parentNode}return null}function Cr(r){if(r=r[Bt]||r[Jn]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function Ir(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(a(33))}function bn(r){var i=r[vu];return i||(i=r[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function kt(r){r[rs]=!0}var xl=new Set,Js={};function pr(r,i){ga(r,i),ga(r+"Capture",i)}function ga(r,i){for(Js[r]=i,r=0;r<i.length;r++)xl.add(i[r])}var _u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bu={},as={};function xu(r){return Xn.call(as,r)?!0:Xn.call(bu,r)?!1:_u.test(r)?as[r]=!0:(bu[r]=!0,!1)}function ii(r,i,s){if(xu(i))if(s===null)r.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+s)}}function Or(r,i,s){if(s===null)r.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+s)}}function nn(r,i,s,c){if(c===null)r.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttributeNS(i,s,""+c)}}var is,Eu;function pa(r){if(is===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);is=i&&i[1]||"",Eu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+is+r+Eu}var eo=!1;function to(r,i){if(!r||eo)return"";eo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(Q){var Y=Q}Reflect.construct(r,[],le)}else{try{le.call()}catch(Q){Y=Q}r.call(le.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(le=r())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),E=m[0],A=m[1];if(E&&A){var I=E.split(`
`),Z=A.split(`
`);for(h=c=0;c<I.length&&!I[c].includes("DetermineComponentFrameRoot");)c++;for(;h<Z.length&&!Z[h].includes("DetermineComponentFrameRoot");)h++;if(c===I.length||h===Z.length)for(c=I.length-1,h=Z.length-1;1<=c&&0<=h&&I[c]!==Z[h];)h--;for(;1<=c&&0<=h;c--,h--)if(I[c]!==Z[h]){if(c!==1||h!==1)do if(c--,h--,0>h||I[c]!==Z[h]){var te=`
`+I[c].replace(" at new "," at ");return r.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",r.displayName)),te}while(1<=c&&0<=h);break}}}finally{eo=!1,Error.prepareStackTrace=s}return(s=r?r.displayName||r.name:"")?pa(s):""}function El(r){switch(r.tag){case 26:case 27:case 5:return pa(r.type);case 16:return pa("Lazy");case 13:return pa("Suspense");case 19:return pa("SuspenseList");case 0:case 15:return to(r.type,!1);case 11:return to(r.type.render,!1);case 1:return to(r.type,!0);case 31:return pa("Activity");default:return""}}function no(r){try{var i="";do i+=El(r),r=r.return;while(r);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function xn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function wl(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function mf(r){var i=wl(r)?"checked":"value",s=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,m=s.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){c=""+E,m.call(this,E)}}),Object.defineProperty(r,i,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function ro(r){r._valueTracker||(r._valueTracker=mf(r))}function Tl(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var s=i.getValue(),c="";return r&&(c=wl(r)?r.checked?"true":"false":r.value),r=c,r!==s?(i.setValue(r),!0):!1}function ss(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var gf=/[\n"\\]/g;function Vt(r){return r.replace(gf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Un(r,i,s,c,h,m,E,A){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),i!=null?E==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+xn(i)):r.value!==""+xn(i)&&(r.value=""+xn(i)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),i!=null?si(r,E,xn(i)):s!=null?si(r,E,xn(s)):c!=null&&r.removeAttribute("value"),h==null&&m!=null&&(r.defaultChecked=!!m),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+xn(A):r.removeAttribute("name")}function os(r,i,s,c,h,m,E,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),i!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;s=s!=null?""+xn(s):"",i=i!=null?""+xn(i):s,A||i===r.value||(r.value=i),r.defaultValue=i}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=A?r.checked:!!c,r.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function si(r,i,s){i==="number"&&ss(r.ownerDocument)===r||r.defaultValue===""+s||(r.defaultValue=""+s)}function ya(r,i,s,c){if(r=r.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<r.length;s++)h=i.hasOwnProperty("$"+r[s].value),r[s].selected!==h&&(r[s].selected=h),h&&c&&(r[s].defaultSelected=!0)}else{for(s=""+xn(s),i=null,h=0;h<r.length;h++){if(r[h].value===s){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}i!==null||r[h].disabled||(i=r[h])}i!==null&&(i.selected=!0)}}function ut(r,i,s){if(i!=null&&(i=""+xn(i),i!==r.value&&(r.value=i),s==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=s!=null?""+xn(s):""}function ls(r,i,s,c){if(i==null){if(c!=null){if(s!=null)throw Error(a(92));if(Ue(c)){if(1<c.length)throw Error(a(93));c=c[0]}s=c}s==null&&(s=""),i=s}s=xn(i),r.defaultValue=s,c=r.textContent,c===s&&c!==""&&c!==null&&(r.value=c)}function er(r,i){if(i){var s=r.firstChild;if(s&&s===r.lastChild&&s.nodeType===3){s.nodeValue=i;return}}r.textContent=i}var cs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wu(r,i,s){var c=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":c?r.setProperty(i,s):typeof s!="number"||s===0||cs.has(i)?i==="float"?r.cssFloat=s:r[i]=(""+s).trim():r[i]=s+"px"}function Al(r,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(r=r.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var h in i)c=i[h],i.hasOwnProperty(h)&&s[h]!==c&&wu(r,h,c)}else for(var m in i)i.hasOwnProperty(m)&&wu(r,m,i[m])}function Sl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ao(r){return yf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var va=null;function tr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var _a=null,ba=null;function Rl(r){var i=Cr(r);if(i&&(r=i.stateNode)){var s=r[Dt]||null;e:switch(r=i.stateNode,i.type){case"input":if(Un(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=r;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Vt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var c=s[i];if(c!==r&&c.form===r.form){var h=c[Dt]||null;if(!h)throw Error(a(90));Un(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)c=s[i],c.form===r.form&&Tl(c)}break e;case"textarea":ut(r,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&ya(r,!!s.multiple,i,!1)}}}var Dr=!1;function Tu(r,i,s){if(Dr)return r(i,s);Dr=!0;try{var c=r(i);return c}finally{if(Dr=!1,(_a!==null||ba!==null)&&(yd(),_a&&(i=_a,r=ba,ba=_a=null,Rl(i),r)))for(i=0;i<r.length;i++)Rl(r[i])}}function us(r,i){var s=r.stateNode;if(s===null)return null;var c=s[Dt]||null;if(c===null)return null;s=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nr=!1;if(yr)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){nr=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{nr=!1}var Vr=null,oi=null,xa=null;function kl(){if(xa)return xa;var r,i=oi,s=i.length,c,h="value"in Vr?Vr.value:Vr.textContent,m=h.length;for(r=0;r<s&&i[r]===h[r];r++);var E=s-r;for(c=1;c<=E&&i[s-c]===h[m-c];c++);return xa=h.slice(r,1<c?1-c:void 0)}function Mr(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Lr(){return!0}function Nl(){return!1}function Qt(r){function i(s,c,h,m,E){this._reactName=s,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(s=r[A],this[A]=s?s(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Lr:Nl,this.isPropagationStopped=Nl,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Lr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Lr)},persist:function(){},isPersistent:Lr}),i}var rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},io=Qt(rt),hs=b({},rt,{view:0,detail:0}),Au=Qt(hs),so,oo,jr,fs=b({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==jr&&(jr&&r.type==="mousemove"?(so=r.screenX-jr.screenX,oo=r.screenY-jr.screenY):oo=so=0,jr=r),so)},movementY:function(r){return"movementY"in r?r.movementY:oo}}),rr=Qt(fs),Su=b({},fs,{dataTransfer:0}),vf=Qt(Su),ms=b({},hs,{relatedTarget:0}),lo=Qt(ms),Cl=b({},rt,{animationName:0,elapsedTime:0,pseudoElement:0}),co=Qt(Cl),Ru=b({},rt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),uo=Qt(Ru),_f=b({},rt,{data:0}),Il=Qt(_f),gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ol(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Nu[r])?!!i[r]:!1}function ps(){return Ol}var Cu=b({},hs,{key:function(r){if(r.key){var i=gs[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Mr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ku[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(r){return r.type==="keypress"?Mr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Mr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ho=Qt(Cu),Iu=b({},fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dl=Qt(Iu),Ea=b({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),Ou=Qt(Ea),Du=b({},rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vu=Qt(Du),Mu=b({},fs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),fo=Qt(Mu),En=b({},rt,{newState:0,oldState:0}),Lu=Qt(En),ju=[9,13,27,32],Pr=yr&&"CompositionEvent"in window,d=null;yr&&"documentMode"in document&&(d=document.documentMode);var v=yr&&"TextEvent"in window&&!d,x=yr&&(!Pr||d&&8<d&&11>=d),S=" ",H=!1;function J(r,i){switch(r){case"keyup":return ju.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Xe=!1;function zt(r,i){switch(r){case"compositionend":return ge(i);case"keypress":return i.which!==32?null:(H=!0,S);case"textInput":return r=i.data,r===S&&H?null:r;default:return null}}function We(r,i){if(Xe)return r==="compositionend"||!Pr&&J(r,i)?(r=kl(),xa=oi=Vr=null,Xe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return x&&i.locale!=="ko"?null:i.data;default:return null}}var Xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ft(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Xt[r.type]:i==="textarea"}function wa(r,i,s,c){_a?ba?ba.push(c):ba=[c]:_a=c,i=wd(i,"onChange"),0<i.length&&(s=new io("onChange","change",null,s,c),r.push({event:s,listeners:i}))}var rn=null,Ur=null;function Vl(r){mv(r,0)}function Pu(r){var i=Ir(r);if(Tl(i))return r}function Mp(r,i){if(r==="change")return i}var Lp=!1;if(yr){var bf;if(yr){var xf="oninput"in document;if(!xf){var jp=document.createElement("div");jp.setAttribute("oninput","return;"),xf=typeof jp.oninput=="function"}bf=xf}else bf=!1;Lp=bf&&(!document.documentMode||9<document.documentMode)}function Pp(){rn&&(rn.detachEvent("onpropertychange",Up),Ur=rn=null)}function Up(r){if(r.propertyName==="value"&&Pu(Ur)){var i=[];wa(i,Ur,r,tr(r)),Tu(Vl,i)}}function uT(r,i,s){r==="focusin"?(Pp(),rn=i,Ur=s,rn.attachEvent("onpropertychange",Up)):r==="focusout"&&Pp()}function dT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Pu(Ur)}function hT(r,i){if(r==="click")return Pu(i)}function fT(r,i){if(r==="input"||r==="change")return Pu(i)}function mT(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Bn=typeof Object.is=="function"?Object.is:mT;function Ml(r,i){if(Bn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var s=Object.keys(r),c=Object.keys(i);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var h=s[c];if(!Xn.call(i,h)||!Bn(r[h],i[h]))return!1}return!0}function Bp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function zp(r,i){var s=Bp(r);r=0;for(var c;s;){if(s.nodeType===3){if(c=r+s.textContent.length,r<=i&&c>=i)return{node:s,offset:i-r};r=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Bp(s)}}function Fp(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Fp(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Hp(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=ss(r.document);i instanceof r.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)r=i.contentWindow;else break;i=ss(r.document)}return i}function Ef(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var gT=yr&&"documentMode"in document&&11>=document.documentMode,mo=null,wf=null,Ll=null,Tf=!1;function qp(r,i,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Tf||mo==null||mo!==ss(c)||(c=mo,"selectionStart"in c&&Ef(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ll&&Ml(Ll,c)||(Ll=c,c=wd(wf,"onSelect"),0<c.length&&(i=new io("onSelect","select",null,i,s),r.push({event:i,listeners:c}),i.target=mo)))}function ys(r,i){var s={};return s[r.toLowerCase()]=i.toLowerCase(),s["Webkit"+r]="webkit"+i,s["Moz"+r]="moz"+i,s}var go={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionrun:ys("Transition","TransitionRun"),transitionstart:ys("Transition","TransitionStart"),transitioncancel:ys("Transition","TransitionCancel"),transitionend:ys("Transition","TransitionEnd")},Af={},$p={};yr&&($p=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function vs(r){if(Af[r])return Af[r];if(!go[r])return r;var i=go[r],s;for(s in i)if(i.hasOwnProperty(s)&&s in $p)return Af[r]=i[s];return r}var Gp=vs("animationend"),Zp=vs("animationiteration"),Kp=vs("animationstart"),pT=vs("transitionrun"),yT=vs("transitionstart"),vT=vs("transitioncancel"),Yp=vs("transitionend"),Qp=new Map,Sf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sf.push("scrollEnd");function vr(r,i){Qp.set(r,i),pr(i,[r])}var Xp=new WeakMap;function ar(r,i){if(typeof r=="object"&&r!==null){var s=Xp.get(r);return s!==void 0?s:(i={value:r,source:i,stack:no(i)},Xp.set(r,i),i)}return{value:r,source:i,stack:no(i)}}var ir=[],po=0,Rf=0;function Uu(){for(var r=po,i=Rf=po=0;i<r;){var s=ir[i];ir[i++]=null;var c=ir[i];ir[i++]=null;var h=ir[i];ir[i++]=null;var m=ir[i];if(ir[i++]=null,c!==null&&h!==null){var E=c.pending;E===null?h.next=h:(h.next=E.next,E.next=h),c.pending=h}m!==0&&Wp(s,h,m)}}function Bu(r,i,s,c){ir[po++]=r,ir[po++]=i,ir[po++]=s,ir[po++]=c,Rf|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function kf(r,i,s,c){return Bu(r,i,s,c),zu(r)}function yo(r,i){return Bu(r,null,null,i),zu(r)}function Wp(r,i,s){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s);for(var h=!1,m=r.return;m!==null;)m.childLanes|=s,c=m.alternate,c!==null&&(c.childLanes|=s),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(h=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,h&&i!==null&&(h=31-it(s),r=m.hiddenUpdates,c=r[h],c===null?r[h]=[i]:c.push(i),i.lane=s|536870912),m):null}function zu(r){if(50<oc)throw oc=0,Vm=null,Error(a(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var vo={};function _T(r,i,s,c){this.tag=r,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(r,i,s,c){return new _T(r,i,s,c)}function Nf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ta(r,i){var s=r.alternate;return s===null?(s=zn(r.tag,i,r.key,r.mode),s.elementType=r.elementType,s.type=r.type,s.stateNode=r.stateNode,s.alternate=r,r.alternate=s):(s.pendingProps=i,s.type=r.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=r.flags&65011712,s.childLanes=r.childLanes,s.lanes=r.lanes,s.child=r.child,s.memoizedProps=r.memoizedProps,s.memoizedState=r.memoizedState,s.updateQueue=r.updateQueue,i=r.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=r.sibling,s.index=r.index,s.ref=r.ref,s.refCleanup=r.refCleanup,s}function Jp(r,i){r.flags&=65011714;var s=r.alternate;return s===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,r.type=s.type,i=s.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Fu(r,i,s,c,h,m){var E=0;if(c=r,typeof r=="function")Nf(r)&&(E=1);else if(typeof r=="string")E=x4(r,s,be.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case N:return r=zn(31,s,i,h),r.elementType=N,r.lanes=m,r;case B:return _s(s.children,h,m,i);case $:E=8,h|=24;break;case P:return r=zn(12,s,i,h|2),r.elementType=P,r.lanes=m,r;case ne:return r=zn(13,s,i,h),r.elementType=ne,r.lanes=m,r;case pe:return r=zn(19,s,i,h),r.elementType=pe,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case re:case G:E=10;break e;case F:E=9;break e;case X:E=11;break e;case O:E=14;break e;case R:E=16,c=null;break e}E=29,s=Error(a(130,r===null?"null":typeof r,"")),c=null}return i=zn(E,s,i,h),i.elementType=r,i.type=c,i.lanes=m,i}function _s(r,i,s,c){return r=zn(7,r,c,i),r.lanes=s,r}function Cf(r,i,s){return r=zn(6,r,null,i),r.lanes=s,r}function If(r,i,s){return i=zn(4,r.children!==null?r.children:[],r.key,i),i.lanes=s,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var _o=[],bo=0,Hu=null,qu=0,sr=[],or=0,bs=null,Aa=1,Sa="";function xs(r,i){_o[bo++]=qu,_o[bo++]=Hu,Hu=r,qu=i}function e1(r,i,s){sr[or++]=Aa,sr[or++]=Sa,sr[or++]=bs,bs=r;var c=Aa;r=Sa;var h=32-it(c)-1;c&=~(1<<h),s+=1;var m=32-it(i)+h;if(30<m){var E=h-h%5;m=(c&(1<<E)-1).toString(32),c>>=E,h-=E,Aa=1<<32-it(i)+h|s<<h|c,Sa=m+r}else Aa=1<<m|s<<h|c,Sa=r}function Of(r){r.return!==null&&(xs(r,1),e1(r,1,0))}function Df(r){for(;r===Hu;)Hu=_o[--bo],_o[bo]=null,qu=_o[--bo],_o[bo]=null;for(;r===bs;)bs=sr[--or],sr[or]=null,Sa=sr[--or],sr[or]=null,Aa=sr[--or],sr[or]=null}var wn=null,Tt=null,nt=!1,Es=null,Br=!1,Vf=Error(a(519));function ws(r){var i=Error(a(418,""));throw Ul(ar(i,r)),Vf}function t1(r){var i=r.stateNode,s=r.type,c=r.memoizedProps;switch(i[Bt]=r,i[Dt]=c,s){case"dialog":Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":case"embed":Ze("load",i);break;case"video":case"audio":for(s=0;s<cc.length;s++)Ze(cc[s],i);break;case"source":Ze("error",i);break;case"img":case"image":case"link":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"input":Ze("invalid",i),os(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ro(i);break;case"select":Ze("invalid",i);break;case"textarea":Ze("invalid",i),ls(i,c.value,c.defaultValue,c.children),ro(i)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||c.suppressHydrationWarning===!0||vv(i.textContent,s)?(c.popover!=null&&(Ze("beforetoggle",i),Ze("toggle",i)),c.onScroll!=null&&Ze("scroll",i),c.onScrollEnd!=null&&Ze("scrollend",i),c.onClick!=null&&(i.onclick=Td),i=!0):i=!1,i||ws(r)}function n1(r){for(wn=r.return;wn;)switch(wn.tag){case 5:case 13:Br=!1;return;case 27:case 3:Br=!0;return;default:wn=wn.return}}function jl(r){if(r!==wn)return!1;if(!nt)return n1(r),nt=!0,!1;var i=r.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=r.type,s=!(s!=="form"&&s!=="button")||Qm(r.type,r.memoizedProps)),s=!s),s&&Tt&&ws(r),n1(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(s=r.data,s==="/$"){if(i===0){Tt=br(r.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;r=r.nextSibling}Tt=null}}else i===27?(i=Tt,wi(r.type)?(r=e0,e0=null,Tt=r):Tt=i):Tt=wn?br(r.stateNode.nextSibling):null;return!0}function Pl(){Tt=wn=null,nt=!1}function r1(){var r=Es;return r!==null&&(On===null?On=r:On.push.apply(On,r),Es=null),r}function Ul(r){Es===null?Es=[r]:Es.push(r)}var Mf=se(null),Ts=null,Ra=null;function li(r,i,s){ae(Mf,i._currentValue),i._currentValue=s}function ka(r){r._currentValue=Mf.current,de(Mf)}function Lf(r,i,s){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===s)break;r=r.return}}function jf(r,i,s,c){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var m=h.dependencies;if(m!==null){var E=h.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=h;for(var I=0;I<i.length;I++)if(A.context===i[I]){m.lanes|=s,A=m.alternate,A!==null&&(A.lanes|=s),Lf(m.return,s,r),c||(E=null);break e}m=A.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(a(341));E.lanes|=s,m=E.alternate,m!==null&&(m.lanes|=s),Lf(E,s,r),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===r){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Bl(r,i,s,c){r=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var A=h.type;Bn(h.pendingProps.value,E.value)||(r!==null?r.push(A):r=[A])}}else if(h===Ne.current){if(E=h.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(gc):r=[gc])}h=h.return}r!==null&&jf(i,r,s,c),i.flags|=262144}function $u(r){for(r=r.firstContext;r!==null;){if(!Bn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function As(r){Ts=r,Ra=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function hn(r){return a1(Ts,r)}function Gu(r,i){return Ts===null&&As(r),a1(r,i)}function a1(r,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ra===null){if(r===null)throw Error(a(308));Ra=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Ra=Ra.next=i;return s}var bT=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(s,c){r.push(c)}};this.abort=function(){i.aborted=!0,r.forEach(function(s){return s()})}},xT=n.unstable_scheduleCallback,ET=n.unstable_NormalPriority,Ht={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new bT,data:new Map,refCount:0}}function zl(r){r.refCount--,r.refCount===0&&xT(ET,function(){r.controller.abort()})}var Fl=null,Uf=0,xo=0,Eo=null;function wT(r,i){if(Fl===null){var s=Fl=[];Uf=0,xo=zm(),Eo={status:"pending",value:void 0,then:function(c){s.push(c)}}}return Uf++,i.then(i1,i1),i}function i1(){if(--Uf===0&&Fl!==null){Eo!==null&&(Eo.status="fulfilled");var r=Fl;Fl=null,xo=0,Eo=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function TT(r,i){var s=[],c={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return r.then(function(){c.status="fulfilled",c.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(c.status="rejected",c.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),c}var s1=W.S;W.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&wT(r,i),s1!==null&&s1(r,i)};var Ss=se(null);function Bf(){var r=Ss.current;return r!==null?r:gt.pooledCache}function Zu(r,i){i===null?ae(Ss,Ss.current):ae(Ss,i.pool)}function o1(){var r=Bf();return r===null?null:{parent:Ht._currentValue,pool:r}}var Hl=Error(a(460)),l1=Error(a(474)),Ku=Error(a(542)),zf={then:function(){}};function c1(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Yu(){}function u1(r,i,s){switch(s=r[s],s===void 0?r.push(i):s!==i&&(i.then(Yu,Yu),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,h1(r),r;default:if(typeof i.status=="string")i.then(Yu,Yu);else{if(r=gt,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=i,r.status="pending",r.then(function(c){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=c}},function(c){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,h1(r),r}throw ql=i,Hl}}var ql=null;function d1(){if(ql===null)throw Error(a(459));var r=ql;return ql=null,r}function h1(r){if(r===Hl||r===Ku)throw Error(a(483))}var ci=!1;function Ff(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ui(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function di(r,i,s){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(st&2)!==0){var h=c.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),c.pending=i,i=zu(r),Wp(r,null,s),i}return Bu(r,c,i,s),zu(r)}function $l(r,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var c=i.lanes;c&=r.pendingLanes,s|=c,i.lanes=s,_l(r,s)}}function qf(r,i){var s=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var h=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?h=m=E:m=m.next=E,s=s.next}while(s!==null);m===null?h=m=i:m=m.next=i}else h=m=i;s={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},r.updateQueue=s;return}r=s.lastBaseUpdate,r===null?s.firstBaseUpdate=i:r.next=i,s.lastBaseUpdate=i}var $f=!1;function Gl(){if($f){var r=Eo;if(r!==null)throw r}}function Zl(r,i,s,c){$f=!1;var h=r.updateQueue;ci=!1;var m=h.firstBaseUpdate,E=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var I=A,Z=I.next;I.next=null,E===null?m=Z:E.next=Z,E=I;var te=r.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==E&&(A===null?te.firstBaseUpdate=Z:A.next=Z,te.lastBaseUpdate=I))}if(m!==null){var le=h.baseState;E=0,te=Z=I=null,A=m;do{var Y=A.lane&-536870913,Q=Y!==A.lane;if(Q?(Je&Y)===Y:(c&Y)===Y){Y!==0&&Y===xo&&($f=!0),te!==null&&(te=te.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Me=r,Oe=A;Y=i;var ft=s;switch(Oe.tag){case 1:if(Me=Oe.payload,typeof Me=="function"){le=Me.call(ft,le,Y);break e}le=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Oe.payload,Y=typeof Me=="function"?Me.call(ft,le,Y):Me,Y==null)break e;le=b({},le,Y);break e;case 2:ci=!0}}Y=A.callback,Y!==null&&(r.flags|=64,Q&&(r.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(Z=te=Q,I=le):te=te.next=Q,E|=Y;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);te===null&&(I=le),h.baseState=I,h.firstBaseUpdate=Z,h.lastBaseUpdate=te,m===null&&(h.shared.lanes=0),_i|=E,r.lanes=E,r.memoizedState=le}}function f1(r,i){if(typeof r!="function")throw Error(a(191,r));r.call(i)}function m1(r,i){var s=r.callbacks;if(s!==null)for(r.callbacks=null,r=0;r<s.length;r++)f1(s[r],i)}var wo=se(null),Qu=se(0);function g1(r,i){r=Ma,ae(Qu,r),ae(wo,i),Ma=r|i.baseLanes}function Gf(){ae(Qu,Ma),ae(wo,wo.current)}function Zf(){Ma=Qu.current,de(wo),de(Qu)}var hi=0,He=null,dt=null,Mt=null,Xu=!1,To=!1,Rs=!1,Wu=0,Kl=0,Ao=null,AT=0;function Nt(){throw Error(a(321))}function Kf(r,i){if(i===null)return!1;for(var s=0;s<i.length&&s<r.length;s++)if(!Bn(r[s],i[s]))return!1;return!0}function Yf(r,i,s,c,h,m){return hi=m,He=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=r===null||r.memoizedState===null?W1:J1,Rs=!1,m=s(c,h),Rs=!1,To&&(m=y1(i,s,c,h)),p1(r),m}function p1(r){W.H=ad;var i=dt!==null&&dt.next!==null;if(hi=0,Mt=dt=He=null,Xu=!1,Kl=0,Ao=null,i)throw Error(a(300));r===null||Wt||(r=r.dependencies,r!==null&&$u(r)&&(Wt=!0))}function y1(r,i,s,c){He=r;var h=0;do{if(To&&(Ao=null),Kl=0,To=!1,25<=h)throw Error(a(301));if(h+=1,Mt=dt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=OT,m=i(s,c)}while(To);return m}function ST(){var r=W.H,i=r.useState()[0];return i=typeof i.then=="function"?Yl(i):i,r=r.useState()[0],(dt!==null?dt.memoizedState:null)!==r&&(He.flags|=1024),i}function Qf(){var r=Wu!==0;return Wu=0,r}function Xf(r,i,s){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~s}function Wf(r){if(Xu){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xu=!1}hi=0,Mt=dt=He=null,To=!1,Kl=Wu=0,Ao=null}function Cn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?He.memoizedState=Mt=r:Mt=Mt.next=r,Mt}function Lt(){if(dt===null){var r=He.alternate;r=r!==null?r.memoizedState:null}else r=dt.next;var i=Mt===null?He.memoizedState:Mt.next;if(i!==null)Mt=i,dt=r;else{if(r===null)throw He.alternate===null?Error(a(467)):Error(a(310));dt=r,r={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Mt===null?He.memoizedState=Mt=r:Mt=Mt.next=r}return Mt}function Jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yl(r){var i=Kl;return Kl+=1,Ao===null&&(Ao=[]),r=u1(Ao,r,i),i=He,(Mt===null?i.memoizedState:Mt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?W1:J1),r}function Ju(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Yl(r);if(r.$$typeof===G)return hn(r)}throw Error(a(438,String(r)))}function em(r){var i=null,s=He.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var c=He.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Jf(),He.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(r),c=0;c<r;c++)s[c]=D;return i.index++,s}function Na(r,i){return typeof i=="function"?i(r):i}function ed(r){var i=Lt();return tm(i,dt,r)}function tm(r,i,s){var c=r.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=s;var h=r.baseQueue,m=c.pending;if(m!==null){if(h!==null){var E=h.next;h.next=m.next,m.next=E}i.baseQueue=h=m,c.pending=null}if(m=r.baseState,h===null)r.memoizedState=m;else{i=h.next;var A=E=null,I=null,Z=i,te=!1;do{var le=Z.lane&-536870913;if(le!==Z.lane?(Je&le)===le:(hi&le)===le){var Y=Z.revertLane;if(Y===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),le===xo&&(te=!0);else if((hi&Y)===Y){Z=Z.next,Y===xo&&(te=!0);continue}else le={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},I===null?(A=I=le,E=m):I=I.next=le,He.lanes|=Y,_i|=Y;le=Z.action,Rs&&s(m,le),m=Z.hasEagerState?Z.eagerState:s(m,le)}else Y={lane:le,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},I===null?(A=I=Y,E=m):I=I.next=Y,He.lanes|=le,_i|=le;Z=Z.next}while(Z!==null&&Z!==i);if(I===null?E=m:I.next=A,!Bn(m,r.memoizedState)&&(Wt=!0,te&&(s=Eo,s!==null)))throw s;r.memoizedState=m,r.baseState=E,r.baseQueue=I,c.lastRenderedState=m}return h===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function nm(r){var i=Lt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=r;var c=s.dispatch,h=s.pending,m=i.memoizedState;if(h!==null){s.pending=null;var E=h=h.next;do m=r(m,E.action),E=E.next;while(E!==h);Bn(m,i.memoizedState)||(Wt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),s.lastRenderedState=m}return[m,c]}function v1(r,i,s){var c=He,h=Lt(),m=nt;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=i();var E=!Bn((dt||h).memoizedState,s);E&&(h.memoizedState=s,Wt=!0),h=h.queue;var A=x1.bind(null,c,h,r);if(Ql(2048,8,A,[r]),h.getSnapshot!==i||E||Mt!==null&&Mt.memoizedState.tag&1){if(c.flags|=2048,So(9,td(),b1.bind(null,c,h,s,i),null),gt===null)throw Error(a(349));m||(hi&124)!==0||_1(c,i,s)}return s}function _1(r,i,s){r.flags|=16384,r={getSnapshot:i,value:s},i=He.updateQueue,i===null?(i=Jf(),He.updateQueue=i,i.stores=[r]):(s=i.stores,s===null?i.stores=[r]:s.push(r))}function b1(r,i,s,c){i.value=s,i.getSnapshot=c,E1(i)&&w1(r)}function x1(r,i,s){return s(function(){E1(i)&&w1(r)})}function E1(r){var i=r.getSnapshot;r=r.value;try{var s=i();return!Bn(r,s)}catch{return!0}}function w1(r){var i=yo(r,2);i!==null&&Gn(i,r,2)}function rm(r){var i=Cn();if(typeof r=="function"){var s=r;if(r=s(),Rs){Fe(!0);try{s()}finally{Fe(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:r},i}function T1(r,i,s,c){return r.baseState=s,tm(r,dt,typeof c=="function"?c:Na)}function RT(r,i,s,c,h){if(rd(r))throw Error(a(485));if(r=i.action,r!==null){var m={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};W.T!==null?s(!0):m.isTransition=!1,c(m),s=i.pending,s===null?(m.next=i.pending=m,A1(i,m)):(m.next=s.next,i.pending=s.next=m)}}function A1(r,i){var s=i.action,c=i.payload,h=r.state;if(i.isTransition){var m=W.T,E={};W.T=E;try{var A=s(h,c),I=W.S;I!==null&&I(E,A),S1(r,i,A)}catch(Z){am(r,i,Z)}finally{W.T=m}}else try{m=s(h,c),S1(r,i,m)}catch(Z){am(r,i,Z)}}function S1(r,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){R1(r,i,c)},function(c){return am(r,i,c)}):R1(r,i,s)}function R1(r,i,s){i.status="fulfilled",i.value=s,k1(i),r.state=s,i=r.pending,i!==null&&(s=i.next,s===i?r.pending=null:(s=s.next,i.next=s,A1(r,s)))}function am(r,i,s){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=s,k1(i),i=i.next;while(i!==c)}r.action=null}function k1(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function N1(r,i){return i}function C1(r,i){if(nt){var s=gt.formState;if(s!==null){e:{var c=He;if(nt){if(Tt){t:{for(var h=Tt,m=Br;h.nodeType!==8;){if(!m){h=null;break t}if(h=br(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Tt=br(h.nextSibling),c=h.data==="F!";break e}}ws(c)}c=!1}c&&(i=s[0])}}return s=Cn(),s.memoizedState=s.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:N1,lastRenderedState:i},s.queue=c,s=Y1.bind(null,He,c),c.dispatch=s,c=rm(!1),m=cm.bind(null,He,!1,c.queue),c=Cn(),h={state:i,dispatch:null,action:r,pending:null},c.queue=h,s=RT.bind(null,He,h,m,s),h.dispatch=s,c.memoizedState=r,[i,s,!1]}function I1(r){var i=Lt();return O1(i,dt,r)}function O1(r,i,s){if(i=tm(r,i,N1)[0],r=ed(Na)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Yl(i)}catch(E){throw E===Hl?Ku:E}else c=i;i=Lt();var h=i.queue,m=h.dispatch;return s!==i.memoizedState&&(He.flags|=2048,So(9,td(),kT.bind(null,h,s),null)),[c,m,r]}function kT(r,i){r.action=i}function D1(r){var i=Lt(),s=dt;if(s!==null)return O1(i,s,r);Lt(),i=i.memoizedState,s=Lt();var c=s.queue.dispatch;return s.memoizedState=r,[i,c,!1]}function So(r,i,s,c){return r={tag:r,create:s,deps:c,inst:i,next:null},i=He.updateQueue,i===null&&(i=Jf(),He.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=r.next=r:(c=s.next,s.next=r,r.next=c,i.lastEffect=r),r}function td(){return{destroy:void 0,resource:void 0}}function V1(){return Lt().memoizedState}function nd(r,i,s,c){var h=Cn();c=c===void 0?null:c,He.flags|=r,h.memoizedState=So(1|i,td(),s,c)}function Ql(r,i,s,c){var h=Lt();c=c===void 0?null:c;var m=h.memoizedState.inst;dt!==null&&c!==null&&Kf(c,dt.memoizedState.deps)?h.memoizedState=So(i,m,s,c):(He.flags|=r,h.memoizedState=So(1|i,m,s,c))}function M1(r,i){nd(8390656,8,r,i)}function L1(r,i){Ql(2048,8,r,i)}function j1(r,i){return Ql(4,2,r,i)}function P1(r,i){return Ql(4,4,r,i)}function U1(r,i){if(typeof i=="function"){r=r();var s=i(r);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function B1(r,i,s){s=s!=null?s.concat([r]):null,Ql(4,4,U1.bind(null,i,r),s)}function im(){}function z1(r,i){var s=Lt();i=i===void 0?null:i;var c=s.memoizedState;return i!==null&&Kf(i,c[1])?c[0]:(s.memoizedState=[r,i],r)}function F1(r,i){var s=Lt();i=i===void 0?null:i;var c=s.memoizedState;if(i!==null&&Kf(i,c[1]))return c[0];if(c=r(),Rs){Fe(!0);try{r()}finally{Fe(!1)}}return s.memoizedState=[c,i],c}function sm(r,i,s){return s===void 0||(hi&1073741824)!==0?r.memoizedState=i:(r.memoizedState=s,r=$y(),He.lanes|=r,_i|=r,s)}function H1(r,i,s,c){return Bn(s,i)?s:wo.current!==null?(r=sm(r,s,c),Bn(r,i)||(Wt=!0),r):(hi&42)===0?(Wt=!0,r.memoizedState=s):(r=$y(),He.lanes|=r,_i|=r,i)}function q1(r,i,s,c,h){var m=fe.p;fe.p=m!==0&&8>m?m:8;var E=W.T,A={};W.T=A,cm(r,!1,i,s);try{var I=h(),Z=W.S;if(Z!==null&&Z(A,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var te=TT(I,c);Xl(r,i,te,$n(r))}else Xl(r,i,c,$n(r))}catch(le){Xl(r,i,{then:function(){},status:"rejected",reason:le},$n())}finally{fe.p=m,W.T=E}}function NT(){}function om(r,i,s,c){if(r.tag!==5)throw Error(a(476));var h=$1(r).queue;q1(r,h,i,we,s===null?NT:function(){return G1(r),s(c)})}function $1(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:we},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:s},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function G1(r){var i=$1(r).next.queue;Xl(r,i,{},$n())}function lm(){return hn(gc)}function Z1(){return Lt().memoizedState}function K1(){return Lt().memoizedState}function CT(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var s=$n();r=ui(s);var c=di(i,r,s);c!==null&&(Gn(c,i,s),$l(c,i,s)),i={cache:Pf()},r.payload=i;return}i=i.return}}function IT(r,i,s){var c=$n();s={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},rd(r)?Q1(i,s):(s=kf(r,i,s,c),s!==null&&(Gn(s,r,c),X1(s,i,c)))}function Y1(r,i,s){var c=$n();Xl(r,i,s,c)}function Xl(r,i,s,c){var h={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(rd(r))Q1(i,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var E=i.lastRenderedState,A=m(E,s);if(h.hasEagerState=!0,h.eagerState=A,Bn(A,E))return Bu(r,i,h,0),gt===null&&Uu(),!1}catch{}finally{}if(s=kf(r,i,h,c),s!==null)return Gn(s,r,c),X1(s,i,c),!0}return!1}function cm(r,i,s,c){if(c={lane:2,revertLane:zm(),action:c,hasEagerState:!1,eagerState:null,next:null},rd(r)){if(i)throw Error(a(479))}else i=kf(r,s,c,2),i!==null&&Gn(i,r,2)}function rd(r){var i=r.alternate;return r===He||i!==null&&i===He}function Q1(r,i){To=Xu=!0;var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}function X1(r,i,s){if((s&4194048)!==0){var c=i.lanes;c&=r.pendingLanes,s|=c,i.lanes=s,_l(r,s)}}var ad={readContext:hn,use:Ju,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt},W1={readContext:hn,use:Ju,useCallback:function(r,i){return Cn().memoizedState=[r,i===void 0?null:i],r},useContext:hn,useEffect:M1,useImperativeHandle:function(r,i,s){s=s!=null?s.concat([r]):null,nd(4194308,4,U1.bind(null,i,r),s)},useLayoutEffect:function(r,i){return nd(4194308,4,r,i)},useInsertionEffect:function(r,i){nd(4,2,r,i)},useMemo:function(r,i){var s=Cn();i=i===void 0?null:i;var c=r();if(Rs){Fe(!0);try{r()}finally{Fe(!1)}}return s.memoizedState=[c,i],c},useReducer:function(r,i,s){var c=Cn();if(s!==void 0){var h=s(i);if(Rs){Fe(!0);try{s(i)}finally{Fe(!1)}}}else h=i;return c.memoizedState=c.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},c.queue=r,r=r.dispatch=IT.bind(null,He,r),[c.memoizedState,r]},useRef:function(r){var i=Cn();return r={current:r},i.memoizedState=r},useState:function(r){r=rm(r);var i=r.queue,s=Y1.bind(null,He,i);return i.dispatch=s,[r.memoizedState,s]},useDebugValue:im,useDeferredValue:function(r,i){var s=Cn();return sm(s,r,i)},useTransition:function(){var r=rm(!1);return r=q1.bind(null,He,r.queue,!0,!1),Cn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,s){var c=He,h=Cn();if(nt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),gt===null)throw Error(a(349));(Je&124)!==0||_1(c,i,s)}h.memoizedState=s;var m={value:s,getSnapshot:i};return h.queue=m,M1(x1.bind(null,c,m,r),[r]),c.flags|=2048,So(9,td(),b1.bind(null,c,m,s,i),null),s},useId:function(){var r=Cn(),i=gt.identifierPrefix;if(nt){var s=Sa,c=Aa;s=(c&~(1<<32-it(c)-1)).toString(32)+s,i="«"+i+"R"+s,s=Wu++,0<s&&(i+="H"+s.toString(32)),i+="»"}else s=AT++,i="«"+i+"r"+s.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:lm,useFormState:C1,useActionState:C1,useOptimistic:function(r){var i=Cn();i.memoizedState=i.baseState=r;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=cm.bind(null,He,!0,s),s.dispatch=i,[r,i]},useMemoCache:em,useCacheRefresh:function(){return Cn().memoizedState=CT.bind(null,He)}},J1={readContext:hn,use:Ju,useCallback:z1,useContext:hn,useEffect:L1,useImperativeHandle:B1,useInsertionEffect:j1,useLayoutEffect:P1,useMemo:F1,useReducer:ed,useRef:V1,useState:function(){return ed(Na)},useDebugValue:im,useDeferredValue:function(r,i){var s=Lt();return H1(s,dt.memoizedState,r,i)},useTransition:function(){var r=ed(Na)[0],i=Lt().memoizedState;return[typeof r=="boolean"?r:Yl(r),i]},useSyncExternalStore:v1,useId:Z1,useHostTransitionStatus:lm,useFormState:I1,useActionState:I1,useOptimistic:function(r,i){var s=Lt();return T1(s,dt,r,i)},useMemoCache:em,useCacheRefresh:K1},OT={readContext:hn,use:Ju,useCallback:z1,useContext:hn,useEffect:L1,useImperativeHandle:B1,useInsertionEffect:j1,useLayoutEffect:P1,useMemo:F1,useReducer:nm,useRef:V1,useState:function(){return nm(Na)},useDebugValue:im,useDeferredValue:function(r,i){var s=Lt();return dt===null?sm(s,r,i):H1(s,dt.memoizedState,r,i)},useTransition:function(){var r=nm(Na)[0],i=Lt().memoizedState;return[typeof r=="boolean"?r:Yl(r),i]},useSyncExternalStore:v1,useId:Z1,useHostTransitionStatus:lm,useFormState:D1,useActionState:D1,useOptimistic:function(r,i){var s=Lt();return dt!==null?T1(s,dt,r,i):(s.baseState=r,[r,s.queue.dispatch])},useMemoCache:em,useCacheRefresh:K1},Ro=null,Wl=0;function id(r){var i=Wl;return Wl+=1,Ro===null&&(Ro=[]),u1(Ro,r,i)}function Jl(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function sd(r,i){throw i.$$typeof===w?Error(a(525)):(r=Object.prototype.toString.call(i),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function ey(r){var i=r._init;return i(r._payload)}function ty(r){function i(z,U){if(r){var q=z.deletions;q===null?(z.deletions=[U],z.flags|=16):q.push(U)}}function s(z,U){if(!r)return null;for(;U!==null;)i(z,U),U=U.sibling;return null}function c(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function h(z,U){return z=Ta(z,U),z.index=0,z.sibling=null,z}function m(z,U,q){return z.index=q,r?(q=z.alternate,q!==null?(q=q.index,q<U?(z.flags|=67108866,U):q):(z.flags|=67108866,U)):(z.flags|=1048576,U)}function E(z){return r&&z.alternate===null&&(z.flags|=67108866),z}function A(z,U,q,ie){return U===null||U.tag!==6?(U=Cf(q,z.mode,ie),U.return=z,U):(U=h(U,q),U.return=z,U)}function I(z,U,q,ie){var Te=q.type;return Te===B?te(z,U,q.props.children,ie,q.key):U!==null&&(U.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===R&&ey(Te)===U.type)?(U=h(U,q.props),Jl(U,q),U.return=z,U):(U=Fu(q.type,q.key,q.props,null,z.mode,ie),Jl(U,q),U.return=z,U)}function Z(z,U,q,ie){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=If(q,z.mode,ie),U.return=z,U):(U=h(U,q.children||[]),U.return=z,U)}function te(z,U,q,ie,Te){return U===null||U.tag!==7?(U=_s(q,z.mode,ie,Te),U.return=z,U):(U=h(U,q),U.return=z,U)}function le(z,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Cf(""+U,z.mode,q),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return q=Fu(U.type,U.key,U.props,null,z.mode,q),Jl(q,U),q.return=z,q;case C:return U=If(U,z.mode,q),U.return=z,U;case R:var ie=U._init;return U=ie(U._payload),le(z,U,q)}if(Ue(U)||L(U))return U=_s(U,z.mode,q,null),U.return=z,U;if(typeof U.then=="function")return le(z,id(U),q);if(U.$$typeof===G)return le(z,Gu(z,U),q);sd(z,U)}return null}function Y(z,U,q,ie){var Te=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Te!==null?null:A(z,U,""+q,ie);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return q.key===Te?I(z,U,q,ie):null;case C:return q.key===Te?Z(z,U,q,ie):null;case R:return Te=q._init,q=Te(q._payload),Y(z,U,q,ie)}if(Ue(q)||L(q))return Te!==null?null:te(z,U,q,ie,null);if(typeof q.then=="function")return Y(z,U,id(q),ie);if(q.$$typeof===G)return Y(z,U,Gu(z,q),ie);sd(z,q)}return null}function Q(z,U,q,ie,Te){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return z=z.get(q)||null,A(U,z,""+ie,Te);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case T:return z=z.get(ie.key===null?q:ie.key)||null,I(U,z,ie,Te);case C:return z=z.get(ie.key===null?q:ie.key)||null,Z(U,z,ie,Te);case R:var $e=ie._init;return ie=$e(ie._payload),Q(z,U,q,ie,Te)}if(Ue(ie)||L(ie))return z=z.get(q)||null,te(U,z,ie,Te,null);if(typeof ie.then=="function")return Q(z,U,q,id(ie),Te);if(ie.$$typeof===G)return Q(z,U,q,Gu(U,ie),Te);sd(U,ie)}return null}function Me(z,U,q,ie){for(var Te=null,$e=null,ke=U,De=U=0,en=null;ke!==null&&De<q.length;De++){ke.index>De?(en=ke,ke=null):en=ke.sibling;var tt=Y(z,ke,q[De],ie);if(tt===null){ke===null&&(ke=en);break}r&&ke&&tt.alternate===null&&i(z,ke),U=m(tt,U,De),$e===null?Te=tt:$e.sibling=tt,$e=tt,ke=en}if(De===q.length)return s(z,ke),nt&&xs(z,De),Te;if(ke===null){for(;De<q.length;De++)ke=le(z,q[De],ie),ke!==null&&(U=m(ke,U,De),$e===null?Te=ke:$e.sibling=ke,$e=ke);return nt&&xs(z,De),Te}for(ke=c(ke);De<q.length;De++)en=Q(ke,z,De,q[De],ie),en!==null&&(r&&en.alternate!==null&&ke.delete(en.key===null?De:en.key),U=m(en,U,De),$e===null?Te=en:$e.sibling=en,$e=en);return r&&ke.forEach(function(ki){return i(z,ki)}),nt&&xs(z,De),Te}function Oe(z,U,q,ie){if(q==null)throw Error(a(151));for(var Te=null,$e=null,ke=U,De=U=0,en=null,tt=q.next();ke!==null&&!tt.done;De++,tt=q.next()){ke.index>De?(en=ke,ke=null):en=ke.sibling;var ki=Y(z,ke,tt.value,ie);if(ki===null){ke===null&&(ke=en);break}r&&ke&&ki.alternate===null&&i(z,ke),U=m(ki,U,De),$e===null?Te=ki:$e.sibling=ki,$e=ki,ke=en}if(tt.done)return s(z,ke),nt&&xs(z,De),Te;if(ke===null){for(;!tt.done;De++,tt=q.next())tt=le(z,tt.value,ie),tt!==null&&(U=m(tt,U,De),$e===null?Te=tt:$e.sibling=tt,$e=tt);return nt&&xs(z,De),Te}for(ke=c(ke);!tt.done;De++,tt=q.next())tt=Q(ke,z,De,tt.value,ie),tt!==null&&(r&&tt.alternate!==null&&ke.delete(tt.key===null?De:tt.key),U=m(tt,U,De),$e===null?Te=tt:$e.sibling=tt,$e=tt);return r&&ke.forEach(function(D4){return i(z,D4)}),nt&&xs(z,De),Te}function ft(z,U,q,ie){if(typeof q=="object"&&q!==null&&q.type===B&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case T:e:{for(var Te=q.key;U!==null;){if(U.key===Te){if(Te=q.type,Te===B){if(U.tag===7){s(z,U.sibling),ie=h(U,q.props.children),ie.return=z,z=ie;break e}}else if(U.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===R&&ey(Te)===U.type){s(z,U.sibling),ie=h(U,q.props),Jl(ie,q),ie.return=z,z=ie;break e}s(z,U);break}else i(z,U);U=U.sibling}q.type===B?(ie=_s(q.props.children,z.mode,ie,q.key),ie.return=z,z=ie):(ie=Fu(q.type,q.key,q.props,null,z.mode,ie),Jl(ie,q),ie.return=z,z=ie)}return E(z);case C:e:{for(Te=q.key;U!==null;){if(U.key===Te)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){s(z,U.sibling),ie=h(U,q.children||[]),ie.return=z,z=ie;break e}else{s(z,U);break}else i(z,U);U=U.sibling}ie=If(q,z.mode,ie),ie.return=z,z=ie}return E(z);case R:return Te=q._init,q=Te(q._payload),ft(z,U,q,ie)}if(Ue(q))return Me(z,U,q,ie);if(L(q)){if(Te=L(q),typeof Te!="function")throw Error(a(150));return q=Te.call(q),Oe(z,U,q,ie)}if(typeof q.then=="function")return ft(z,U,id(q),ie);if(q.$$typeof===G)return ft(z,U,Gu(z,q),ie);sd(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(s(z,U.sibling),ie=h(U,q),ie.return=z,z=ie):(s(z,U),ie=Cf(q,z.mode,ie),ie.return=z,z=ie),E(z)):s(z,U)}return function(z,U,q,ie){try{Wl=0;var Te=ft(z,U,q,ie);return Ro=null,Te}catch(ke){if(ke===Hl||ke===Ku)throw ke;var $e=zn(29,ke,null,z.mode);return $e.lanes=ie,$e.return=z,$e}finally{}}}var ko=ty(!0),ny=ty(!1),lr=se(null),zr=null;function fi(r){var i=r.alternate;ae(qt,qt.current&1),ae(lr,r),zr===null&&(i===null||wo.current!==null||i.memoizedState!==null)&&(zr=r)}function ry(r){if(r.tag===22){if(ae(qt,qt.current),ae(lr,r),zr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(zr=r)}}else mi()}function mi(){ae(qt,qt.current),ae(lr,lr.current)}function Ca(r){de(lr),zr===r&&(zr=null),de(qt)}var qt=se(0);function od(r){for(var i=r;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Jm(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function um(r,i,s,c){i=r.memoizedState,s=s(c,i),s=s==null?i:b({},i,s),r.memoizedState=s,r.lanes===0&&(r.updateQueue.baseState=s)}var dm={enqueueSetState:function(r,i,s){r=r._reactInternals;var c=$n(),h=ui(c);h.payload=i,s!=null&&(h.callback=s),i=di(r,h,c),i!==null&&(Gn(i,r,c),$l(i,r,c))},enqueueReplaceState:function(r,i,s){r=r._reactInternals;var c=$n(),h=ui(c);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=di(r,h,c),i!==null&&(Gn(i,r,c),$l(i,r,c))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var s=$n(),c=ui(s);c.tag=2,i!=null&&(c.callback=i),i=di(r,c,s),i!==null&&(Gn(i,r,s),$l(i,r,s))}};function ay(r,i,s,c,h,m,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,m,E):i.prototype&&i.prototype.isPureReactComponent?!Ml(s,c)||!Ml(h,m):!0}function iy(r,i,s,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,c),i.state!==r&&dm.enqueueReplaceState(i,i.state,null)}function ks(r,i){var s=i;if("ref"in i){s={};for(var c in i)c!=="ref"&&(s[c]=i[c])}if(r=r.defaultProps){s===i&&(s=b({},s));for(var h in r)s[h]===void 0&&(s[h]=r[h])}return s}var ld=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function sy(r){ld(r)}function oy(r){console.error(r)}function ly(r){ld(r)}function cd(r,i){try{var s=r.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function cy(r,i,s){try{var c=r.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hm(r,i,s){return s=ui(s),s.tag=3,s.payload={element:null},s.callback=function(){cd(r,i)},s}function uy(r){return r=ui(r),r.tag=3,r}function dy(r,i,s,c){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=c.value;r.payload=function(){return h(m)},r.callback=function(){cy(i,s,c)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){cy(i,s,c),typeof h!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function DT(r,i,s,c,h){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=s.alternate,i!==null&&Bl(i,s,h,!0),s=lr.current,s!==null){switch(s.tag){case 13:return zr===null?Lm():s.alternate===null&&At===0&&(At=3),s.flags&=-257,s.flags|=65536,s.lanes=h,c===zf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([c]):i.add(c),Pm(r,c,h)),!1;case 22:return s.flags|=65536,c===zf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([c]):s.add(c)),Pm(r,c,h)),!1}throw Error(a(435,s.tag))}return Pm(r,c,h),Lm(),!1}if(nt)return i=lr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,c!==Vf&&(r=Error(a(422),{cause:c}),Ul(ar(r,s)))):(c!==Vf&&(i=Error(a(423),{cause:c}),Ul(ar(i,s))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,c=ar(c,s),h=hm(r.stateNode,c,h),qf(r,h),At!==4&&(At=2)),!1;var m=Error(a(520),{cause:c});if(m=ar(m,s),sc===null?sc=[m]:sc.push(m),At!==4&&(At=2),i===null)return!0;c=ar(c,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,r=h&-h,s.lanes|=r,r=hm(s.stateNode,c,r),qf(s,r),!1;case 1:if(i=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(bi===null||!bi.has(m))))return s.flags|=65536,h&=-h,s.lanes|=h,h=uy(h),dy(h,r,s,c),qf(s,h),!1}s=s.return}while(s!==null);return!1}var hy=Error(a(461)),Wt=!1;function an(r,i,s,c){i.child=r===null?ny(i,null,s,c):ko(i,r.child,s,c)}function fy(r,i,s,c,h){s=s.render;var m=i.ref;if("ref"in c){var E={};for(var A in c)A!=="ref"&&(E[A]=c[A])}else E=c;return As(i),c=Yf(r,i,s,E,m,h),A=Qf(),r!==null&&!Wt?(Xf(r,i,h),Ia(r,i,h)):(nt&&A&&Of(i),i.flags|=1,an(r,i,c,h),i.child)}function my(r,i,s,c,h){if(r===null){var m=s.type;return typeof m=="function"&&!Nf(m)&&m.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=m,gy(r,i,m,c,h)):(r=Fu(s.type,null,c,i,i.mode,h),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,!bm(r,h)){var E=m.memoizedProps;if(s=s.compare,s=s!==null?s:Ml,s(E,c)&&r.ref===i.ref)return Ia(r,i,h)}return i.flags|=1,r=Ta(m,c),r.ref=i.ref,r.return=i,i.child=r}function gy(r,i,s,c,h){if(r!==null){var m=r.memoizedProps;if(Ml(m,c)&&r.ref===i.ref)if(Wt=!1,i.pendingProps=c=m,bm(r,h))(r.flags&131072)!==0&&(Wt=!0);else return i.lanes=r.lanes,Ia(r,i,h)}return fm(r,i,s,c,h)}function py(r,i,s){var c=i.pendingProps,h=c.children,m=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=m!==null?m.baseLanes|s:s,r!==null){for(h=i.child=r.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;i.childLanes=m&~c}else i.childLanes=0,i.child=null;return yy(r,i,c,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Zu(i,m!==null?m.cachePool:null),m!==null?g1(i,m):Gf(),ry(i);else return i.lanes=i.childLanes=536870912,yy(r,i,m!==null?m.baseLanes|s:s,s)}else m!==null?(Zu(i,m.cachePool),g1(i,m),mi(),i.memoizedState=null):(r!==null&&Zu(i,null),Gf(),mi());return an(r,i,h,s),i.child}function yy(r,i,s,c){var h=Bf();return h=h===null?null:{parent:Ht._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},r!==null&&Zu(i,null),Gf(),ry(i),r!==null&&Bl(r,i,c,!0),null}function ud(r,i){var s=i.ref;if(s===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(r===null||r.ref!==s)&&(i.flags|=4194816)}}function fm(r,i,s,c,h){return As(i),s=Yf(r,i,s,c,void 0,h),c=Qf(),r!==null&&!Wt?(Xf(r,i,h),Ia(r,i,h)):(nt&&c&&Of(i),i.flags|=1,an(r,i,s,h),i.child)}function vy(r,i,s,c,h,m){return As(i),i.updateQueue=null,s=y1(i,c,s,h),p1(r),c=Qf(),r!==null&&!Wt?(Xf(r,i,m),Ia(r,i,m)):(nt&&c&&Of(i),i.flags|=1,an(r,i,s,m),i.child)}function _y(r,i,s,c,h){if(As(i),i.stateNode===null){var m=vo,E=s.contextType;typeof E=="object"&&E!==null&&(m=hn(E)),m=new s(c,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=dm,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=c,m.state=i.memoizedState,m.refs={},Ff(i),E=s.contextType,m.context=typeof E=="object"&&E!==null?hn(E):vo,m.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(um(i,s,E,c),m.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&dm.enqueueReplaceState(m,m.state,null),Zl(i,c,m,h),Gl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(r===null){m=i.stateNode;var A=i.memoizedProps,I=ks(s,A);m.props=I;var Z=m.context,te=s.contextType;E=vo,typeof te=="object"&&te!==null&&(E=hn(te));var le=s.getDerivedStateFromProps;te=typeof le=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,te||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||Z!==E)&&iy(i,m,c,E),ci=!1;var Y=i.memoizedState;m.state=Y,Zl(i,c,m,h),Gl(),Z=i.memoizedState,A||Y!==Z||ci?(typeof le=="function"&&(um(i,s,le,c),Z=i.memoizedState),(I=ci||ay(i,s,I,c,Y,Z,E))?(te||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=Z),m.props=c,m.state=Z,m.context=E,c=I):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{m=i.stateNode,Hf(r,i),E=i.memoizedProps,te=ks(s,E),m.props=te,le=i.pendingProps,Y=m.context,Z=s.contextType,I=vo,typeof Z=="object"&&Z!==null&&(I=hn(Z)),A=s.getDerivedStateFromProps,(Z=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==le||Y!==I)&&iy(i,m,c,I),ci=!1,Y=i.memoizedState,m.state=Y,Zl(i,c,m,h),Gl();var Q=i.memoizedState;E!==le||Y!==Q||ci||r!==null&&r.dependencies!==null&&$u(r.dependencies)?(typeof A=="function"&&(um(i,s,A,c),Q=i.memoizedState),(te=ci||ay(i,s,te,c,Y,Q,I)||r!==null&&r.dependencies!==null&&$u(r.dependencies))?(Z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,Q,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,Q,I)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=Q),m.props=c,m.state=Q,m.context=I,c=te):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(i.flags|=1024),c=!1)}return m=c,ud(r,i),c=(i.flags&128)!==0,m||c?(m=i.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,r!==null&&c?(i.child=ko(i,r.child,null,h),i.child=ko(i,null,s,h)):an(r,i,s,h),i.memoizedState=m.state,r=i.child):r=Ia(r,i,h),r}function by(r,i,s,c){return Pl(),i.flags|=256,an(r,i,s,c),i.child}var mm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gm(r){return{baseLanes:r,cachePool:o1()}}function pm(r,i,s){return r=r!==null?r.childLanes&~s:0,i&&(r|=cr),r}function xy(r,i,s){var c=i.pendingProps,h=!1,m=(i.flags&128)!==0,E;if((E=m)||(E=r!==null&&r.memoizedState===null?!1:(qt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,r===null){if(nt){if(h?fi(i):mi(),nt){var A=Tt,I;if(I=A){e:{for(I=A,A=Br;I.nodeType!==8;){if(!A){A=null;break e}if(I=br(I.nextSibling),I===null){A=null;break e}}A=I}A!==null?(i.memoizedState={dehydrated:A,treeContext:bs!==null?{id:Aa,overflow:Sa}:null,retryLane:536870912,hydrationErrors:null},I=zn(18,null,null,0),I.stateNode=A,I.return=i,i.child=I,wn=i,Tt=null,I=!0):I=!1}I||ws(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Jm(A)?i.lanes=32:i.lanes=536870912,null;Ca(i)}return A=c.children,c=c.fallback,h?(mi(),h=i.mode,A=dd({mode:"hidden",children:A},h),c=_s(c,h,s,null),A.return=i,c.return=i,A.sibling=c,i.child=A,h=i.child,h.memoizedState=gm(s),h.childLanes=pm(r,E,s),i.memoizedState=mm,c):(fi(i),ym(i,A))}if(I=r.memoizedState,I!==null&&(A=I.dehydrated,A!==null)){if(m)i.flags&256?(fi(i),i.flags&=-257,i=vm(r,i,s)):i.memoizedState!==null?(mi(),i.child=r.child,i.flags|=128,i=null):(mi(),h=c.fallback,A=i.mode,c=dd({mode:"visible",children:c.children},A),h=_s(h,A,s,null),h.flags|=2,c.return=i,h.return=i,c.sibling=h,i.child=c,ko(i,r.child,null,s),c=i.child,c.memoizedState=gm(s),c.childLanes=pm(r,E,s),i.memoizedState=mm,i=h);else if(fi(i),Jm(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var Z=E.dgst;E=Z,c=Error(a(419)),c.stack="",c.digest=E,Ul({value:c,source:null,stack:null}),i=vm(r,i,s)}else if(Wt||Bl(r,i,s,!1),E=(s&r.childLanes)!==0,Wt||E){if(E=gt,E!==null&&(c=s&-s,c=(c&42)!==0?1:ti(c),c=(c&(E.suspendedLanes|s))!==0?0:c,c!==0&&c!==I.retryLane))throw I.retryLane=c,yo(r,c),Gn(E,r,c),hy;A.data==="$?"||Lm(),i=vm(r,i,s)}else A.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=I.treeContext,Tt=br(A.nextSibling),wn=i,nt=!0,Es=null,Br=!1,r!==null&&(sr[or++]=Aa,sr[or++]=Sa,sr[or++]=bs,Aa=r.id,Sa=r.overflow,bs=i),i=ym(i,c.children),i.flags|=4096);return i}return h?(mi(),h=c.fallback,A=i.mode,I=r.child,Z=I.sibling,c=Ta(I,{mode:"hidden",children:c.children}),c.subtreeFlags=I.subtreeFlags&65011712,Z!==null?h=Ta(Z,h):(h=_s(h,A,s,null),h.flags|=2),h.return=i,c.return=i,c.sibling=h,i.child=c,c=h,h=i.child,A=r.child.memoizedState,A===null?A=gm(s):(I=A.cachePool,I!==null?(Z=Ht._currentValue,I=I.parent!==Z?{parent:Z,pool:Z}:I):I=o1(),A={baseLanes:A.baseLanes|s,cachePool:I}),h.memoizedState=A,h.childLanes=pm(r,E,s),i.memoizedState=mm,c):(fi(i),s=r.child,r=s.sibling,s=Ta(s,{mode:"visible",children:c.children}),s.return=i,s.sibling=null,r!==null&&(E=i.deletions,E===null?(i.deletions=[r],i.flags|=16):E.push(r)),i.child=s,i.memoizedState=null,s)}function ym(r,i){return i=dd({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function dd(r,i){return r=zn(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function vm(r,i,s){return ko(i,r.child,null,s),r=ym(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Ey(r,i,s){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),Lf(r.return,i,s)}function _m(r,i,s,c,h){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:h}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=s,m.tailMode=h)}function wy(r,i,s){var c=i.pendingProps,h=c.revealOrder,m=c.tail;if(an(r,i,c.children,s),c=qt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ey(r,s,i);else if(r.tag===19)Ey(r,s,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(ae(qt,c),h){case"forwards":for(s=i.child,h=null;s!==null;)r=s.alternate,r!==null&&od(r)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),_m(i,!1,h,s,m);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(r=h.alternate,r!==null&&od(r)===null){i.child=h;break}r=h.sibling,h.sibling=s,s=h,h=r}_m(i,!0,s,null,m);break;case"together":_m(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ia(r,i,s){if(r!==null&&(i.dependencies=r.dependencies),_i|=i.lanes,(s&i.childLanes)===0)if(r!==null){if(Bl(r,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(a(153));if(i.child!==null){for(r=i.child,s=Ta(r,r.pendingProps),i.child=s,s.return=i;r.sibling!==null;)r=r.sibling,s=s.sibling=Ta(r,r.pendingProps),s.return=i;s.sibling=null}return i.child}function bm(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&$u(r)))}function VT(r,i,s){switch(i.tag){case 3:Ce(i,i.stateNode.containerInfo),li(i,Ht,r.memoizedState.cache),Pl();break;case 27:case 5:Yt(i);break;case 4:Ce(i,i.stateNode.containerInfo);break;case 10:li(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(fi(i),i.flags|=128,null):(s&i.child.childLanes)!==0?xy(r,i,s):(fi(i),r=Ia(r,i,s),r!==null?r.sibling:null);fi(i);break;case 19:var h=(r.flags&128)!==0;if(c=(s&i.childLanes)!==0,c||(Bl(r,i,s,!1),c=(s&i.childLanes)!==0),h){if(c)return wy(r,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(qt,qt.current),c)break;return null;case 22:case 23:return i.lanes=0,py(r,i,s);case 24:li(i,Ht,r.memoizedState.cache)}return Ia(r,i,s)}function Ty(r,i,s){if(r!==null)if(r.memoizedProps!==i.pendingProps)Wt=!0;else{if(!bm(r,s)&&(i.flags&128)===0)return Wt=!1,VT(r,i,s);Wt=(r.flags&131072)!==0}else Wt=!1,nt&&(i.flags&1048576)!==0&&e1(i,qu,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var c=i.elementType,h=c._init;if(c=h(c._payload),i.type=c,typeof c=="function")Nf(c)?(r=ks(c,r),i.tag=1,i=_y(null,i,c,r,s)):(i.tag=0,i=fm(null,i,c,r,s));else{if(c!=null){if(h=c.$$typeof,h===X){i.tag=11,i=fy(null,i,c,r,s);break e}else if(h===O){i.tag=14,i=my(null,i,c,r,s);break e}}throw i=Le(c)||c,Error(a(306,i,""))}}return i;case 0:return fm(r,i,i.type,i.pendingProps,s);case 1:return c=i.type,h=ks(c,i.pendingProps),_y(r,i,c,h,s);case 3:e:{if(Ce(i,i.stateNode.containerInfo),r===null)throw Error(a(387));c=i.pendingProps;var m=i.memoizedState;h=m.element,Hf(r,i),Zl(i,c,null,s);var E=i.memoizedState;if(c=E.cache,li(i,Ht,c),c!==m.cache&&jf(i,[Ht],s,!0),Gl(),c=E.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=by(r,i,c,s);break e}else if(c!==h){h=ar(Error(a(424)),i),Ul(h),i=by(r,i,c,s);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Tt=br(r.firstChild),wn=i,nt=!0,Es=null,Br=!0,s=ny(i,null,c,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Pl(),c===h){i=Ia(r,i,s);break e}an(r,i,c,s)}i=i.child}return i;case 26:return ud(r,i),r===null?(s=kv(i.type,null,i.pendingProps,null))?i.memoizedState=s:nt||(s=i.type,r=i.pendingProps,c=Ad(he.current).createElement(s),c[Bt]=i,c[Dt]=r,on(c,s,r),kt(c),i.stateNode=c):i.memoizedState=kv(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Yt(i),r===null&&nt&&(c=i.stateNode=Av(i.type,i.pendingProps,he.current),wn=i,Br=!0,h=Tt,wi(i.type)?(e0=h,Tt=br(c.firstChild)):Tt=h),an(r,i,i.pendingProps.children,s),ud(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&nt&&((h=c=Tt)&&(c=l4(c,i.type,i.pendingProps,Br),c!==null?(i.stateNode=c,wn=i,Tt=br(c.firstChild),Br=!1,h=!0):h=!1),h||ws(i)),Yt(i),h=i.type,m=i.pendingProps,E=r!==null?r.memoizedProps:null,c=m.children,Qm(h,m)?c=null:E!==null&&Qm(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=Yf(r,i,ST,null,null,s),gc._currentValue=h),ud(r,i),an(r,i,c,s),i.child;case 6:return r===null&&nt&&((r=s=Tt)&&(s=c4(s,i.pendingProps,Br),s!==null?(i.stateNode=s,wn=i,Tt=null,r=!0):r=!1),r||ws(i)),null;case 13:return xy(r,i,s);case 4:return Ce(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=ko(i,null,c,s):an(r,i,c,s),i.child;case 11:return fy(r,i,i.type,i.pendingProps,s);case 7:return an(r,i,i.pendingProps,s),i.child;case 8:return an(r,i,i.pendingProps.children,s),i.child;case 12:return an(r,i,i.pendingProps.children,s),i.child;case 10:return c=i.pendingProps,li(i,i.type,c.value),an(r,i,c.children,s),i.child;case 9:return h=i.type._context,c=i.pendingProps.children,As(i),h=hn(h),c=c(h),i.flags|=1,an(r,i,c,s),i.child;case 14:return my(r,i,i.type,i.pendingProps,s);case 15:return gy(r,i,i.type,i.pendingProps,s);case 19:return wy(r,i,s);case 31:return c=i.pendingProps,s=i.mode,c={mode:c.mode,children:c.children},r===null?(s=dd(c,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=Ta(r.child,c),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return py(r,i,s);case 24:return As(i),c=hn(Ht),r===null?(h=Bf(),h===null&&(h=gt,m=Pf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=s),h=m),i.memoizedState={parent:c,cache:h},Ff(i),li(i,Ht,h)):((r.lanes&s)!==0&&(Hf(r,i),Zl(i,null,null,s),Gl()),h=r.memoizedState,m=i.memoizedState,h.parent!==c?(h={parent:c,cache:c},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),li(i,Ht,c)):(c=m.cache,li(i,Ht,c),c!==h.cache&&jf(i,[Ht],s,!0))),an(r,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Oa(r){r.flags|=4}function Ay(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Dv(i)){if(i=lr.current,i!==null&&((Je&4194048)===Je?zr!==null:(Je&62914560)!==Je&&(Je&536870912)===0||i!==zr))throw ql=zf,l1;r.flags|=8192}}function hd(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?yl():536870912,r.lanes|=i,Oo|=i)}function ec(r,i){if(!nt)switch(r.tailMode){case"hidden":i=r.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?r.tail=null:s.sibling=null;break;case"collapsed":s=r.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function bt(r){var i=r.alternate!==null&&r.alternate.child===r.child,s=0,c=0;if(i)for(var h=r.child;h!==null;)s|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)s|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=s,i}function MT(r,i,s){var c=i.pendingProps;switch(Df(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(i),null;case 1:return bt(i),null;case 3:return s=i.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),ka(Ht),ct(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(r===null||r.child===null)&&(jl(i)?Oa(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,r1())),bt(i),null;case 26:return s=i.memoizedState,r===null?(Oa(i),s!==null?(bt(i),Ay(i,s)):(bt(i),i.flags&=-16777217)):s?s!==r.memoizedState?(Oa(i),bt(i),Ay(i,s)):(bt(i),i.flags&=-16777217):(r.memoizedProps!==c&&Oa(i),bt(i),i.flags&=-16777217),null;case 27:kn(i),s=he.current;var h=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==c&&Oa(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return bt(i),null}r=be.current,jl(i)?t1(i):(r=Av(h,c,s),i.stateNode=r,Oa(i))}return bt(i),null;case 5:if(kn(i),s=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==c&&Oa(i);else{if(!c){if(i.stateNode===null)throw Error(a(166));return bt(i),null}if(r=be.current,jl(i))t1(i);else{switch(h=Ad(he.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?h.createElement(s,{is:c.is}):h.createElement(s)}}r[Bt]=i,r[Dt]=c;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=r;e:switch(on(r,s,c),s){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Oa(i)}}return bt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==c&&Oa(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(a(166));if(r=he.current,jl(i)){if(r=i.stateNode,s=i.memoizedProps,c=null,h=wn,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}r[Bt]=i,r=!!(r.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||vv(r.nodeValue,s)),r||ws(i)}else r=Ad(r).createTextNode(c),r[Bt]=i,i.stateNode=r}return bt(i),null;case 13:if(c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=jl(i),c!==null&&c.dehydrated!==null){if(r===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Bt]=i}else Pl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;bt(i),h=!1}else h=r1(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ca(i),i):(Ca(i),null)}if(Ca(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=c!==null,r=r!==null&&r.memoizedState!==null,s){c=i.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var m=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==h&&(c.flags|=2048)}return s!==r&&s&&(i.child.flags|=8192),hd(i,i.updateQueue),bt(i),null;case 4:return ct(),r===null&&$m(i.stateNode.containerInfo),bt(i),null;case 10:return ka(i.type),bt(i),null;case 19:if(de(qt),h=i.memoizedState,h===null)return bt(i),null;if(c=(i.flags&128)!==0,m=h.rendering,m===null)if(c)ec(h,!1);else{if(At!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(m=od(r),m!==null){for(i.flags|=128,ec(h,!1),r=m.updateQueue,i.updateQueue=r,hd(i,r),i.subtreeFlags=0,r=s,s=i.child;s!==null;)Jp(s,r),s=s.sibling;return ae(qt,qt.current&1|2),i.child}r=r.sibling}h.tail!==null&&Nn()>gd&&(i.flags|=128,c=!0,ec(h,!1),i.lanes=4194304)}else{if(!c)if(r=od(m),r!==null){if(i.flags|=128,c=!0,r=r.updateQueue,i.updateQueue=r,hd(i,r),ec(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!nt)return bt(i),null}else 2*Nn()-h.renderingStartTime>gd&&s!==536870912&&(i.flags|=128,c=!0,ec(h,!1),i.lanes=4194304);h.isBackwards?(m.sibling=i.child,i.child=m):(r=h.last,r!==null?r.sibling=m:i.child=m,h.last=m)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Nn(),i.sibling=null,r=qt.current,ae(qt,c?r&1|2:r&1),i):(bt(i),null);case 22:case 23:return Ca(i),Zf(),c=i.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(s&536870912)!==0&&(i.flags&128)===0&&(bt(i),i.subtreeFlags&6&&(i.flags|=8192)):bt(i),s=i.updateQueue,s!==null&&hd(i,s.retryQueue),s=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==s&&(i.flags|=2048),r!==null&&de(Ss),null;case 24:return s=null,r!==null&&(s=r.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),ka(Ht),bt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function LT(r,i){switch(Df(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return ka(Ht),ct(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return kn(i),null;case 13:if(Ca(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Pl()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return de(qt),null;case 4:return ct(),null;case 10:return ka(i.type),null;case 22:case 23:return Ca(i),Zf(),r!==null&&de(Ss),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return ka(Ht),null;case 25:return null;default:return null}}function Sy(r,i){switch(Df(i),i.tag){case 3:ka(Ht),ct();break;case 26:case 27:case 5:kn(i);break;case 4:ct();break;case 13:Ca(i);break;case 19:de(qt);break;case 10:ka(i.type);break;case 22:case 23:Ca(i),Zf(),r!==null&&de(Ss);break;case 24:ka(Ht)}}function tc(r,i){try{var s=i.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var h=c.next;s=h;do{if((s.tag&r)===r){c=void 0;var m=s.create,E=s.inst;c=m(),E.destroy=c}s=s.next}while(s!==h)}}catch(A){mt(i,i.return,A)}}function gi(r,i,s){try{var c=i.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&r)===r){var E=c.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,h=i;var I=s,Z=A;try{Z()}catch(te){mt(h,I,te)}}}c=c.next}while(c!==m)}}catch(te){mt(i,i.return,te)}}function Ry(r){var i=r.updateQueue;if(i!==null){var s=r.stateNode;try{m1(i,s)}catch(c){mt(r,r.return,c)}}}function ky(r,i,s){s.props=ks(r.type,r.memoizedProps),s.state=r.memoizedState;try{s.componentWillUnmount()}catch(c){mt(r,i,c)}}function nc(r,i){try{var s=r.ref;if(s!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof s=="function"?r.refCleanup=s(c):s.current=c}}catch(h){mt(r,i,h)}}function Fr(r,i){var s=r.ref,c=r.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(h){mt(r,i,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){mt(r,i,h)}else s.current=null}function Ny(r){var i=r.type,s=r.memoizedProps,c=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(h){mt(r,r.return,h)}}function xm(r,i,s){try{var c=r.stateNode;r4(c,r.type,s,i),c[Dt]=i}catch(h){mt(r,r.return,h)}}function Cy(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&wi(r.type)||r.tag===4}function Em(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Cy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&wi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function wm(r,i,s){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(r,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(r),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Td));else if(c!==4&&(c===27&&wi(r.type)&&(s=r.stateNode,i=null),r=r.child,r!==null))for(wm(r,i,s),r=r.sibling;r!==null;)wm(r,i,s),r=r.sibling}function fd(r,i,s){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?s.insertBefore(r,i):s.appendChild(r);else if(c!==4&&(c===27&&wi(r.type)&&(s=r.stateNode),r=r.child,r!==null))for(fd(r,i,s),r=r.sibling;r!==null;)fd(r,i,s),r=r.sibling}function Iy(r){var i=r.stateNode,s=r.memoizedProps;try{for(var c=r.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);on(i,c,s),i[Bt]=r,i[Dt]=s}catch(m){mt(r,r.return,m)}}var Da=!1,Ct=!1,Tm=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function jT(r,i){if(r=r.containerInfo,Km=Id,r=Hp(r),Ef(r)){if("selectionStart"in r)var s={start:r.selectionStart,end:r.selectionEnd};else e:{s=(s=r.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var E=0,A=-1,I=-1,Z=0,te=0,le=r,Y=null;t:for(;;){for(var Q;le!==s||h!==0&&le.nodeType!==3||(A=E+h),le!==m||c!==0&&le.nodeType!==3||(I=E+c),le.nodeType===3&&(E+=le.nodeValue.length),(Q=le.firstChild)!==null;)Y=le,le=Q;for(;;){if(le===r)break t;if(Y===s&&++Z===h&&(A=E),Y===m&&++te===c&&(I=E),(Q=le.nextSibling)!==null)break;le=Y,Y=le.parentNode}le=Q}s=A===-1||I===-1?null:{start:A,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ym={focusedElem:r,selectionRange:s},Id=!1,Jt=i;Jt!==null;)if(i=Jt,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,Jt=r;else for(;Jt!==null;){switch(i=Jt,m=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,s=i,h=m.memoizedProps,m=m.memoizedState,c=s.stateNode;try{var Me=ks(s.type,h,s.elementType===s.type);r=c.getSnapshotBeforeUpdate(Me,m),c.__reactInternalSnapshotBeforeUpdate=r}catch(Oe){mt(s,s.return,Oe)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,s=r.nodeType,s===9)Wm(r);else if(s===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Wm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=i.sibling,r!==null){r.return=i.return,Jt=r;break}Jt=i.return}}function Dy(r,i,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:pi(r,s),c&4&&tc(5,s);break;case 1:if(pi(r,s),c&4)if(r=s.stateNode,i===null)try{r.componentDidMount()}catch(E){mt(s,s.return,E)}else{var h=ks(s.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(h,i,r.__reactInternalSnapshotBeforeUpdate)}catch(E){mt(s,s.return,E)}}c&64&&Ry(s),c&512&&nc(s,s.return);break;case 3:if(pi(r,s),c&64&&(r=s.updateQueue,r!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{m1(r,i)}catch(E){mt(s,s.return,E)}}break;case 27:i===null&&c&4&&Iy(s);case 26:case 5:pi(r,s),i===null&&c&4&&Ny(s),c&512&&nc(s,s.return);break;case 12:pi(r,s);break;case 13:pi(r,s),c&4&&Ly(r,s),c&64&&(r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(s=GT.bind(null,s),u4(r,s))));break;case 22:if(c=s.memoizedState!==null||Da,!c){i=i!==null&&i.memoizedState!==null||Ct,h=Da;var m=Ct;Da=c,(Ct=i)&&!m?yi(r,s,(s.subtreeFlags&8772)!==0):pi(r,s),Da=h,Ct=m}break;case 30:break;default:pi(r,s)}}function Vy(r){var i=r.alternate;i!==null&&(r.alternate=null,Vy(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&ai(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var _t=null,In=!1;function Va(r,i,s){for(s=s.child;s!==null;)My(r,i,s),s=s.sibling}function My(r,i,s){if(Se&&typeof Se.onCommitFiberUnmount=="function")try{Se.onCommitFiberUnmount(ve,s)}catch{}switch(s.tag){case 26:Ct||Fr(s,i),Va(r,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ct||Fr(s,i);var c=_t,h=In;wi(s.type)&&(_t=s.stateNode,In=!1),Va(r,i,s),dc(s.stateNode),_t=c,In=h;break;case 5:Ct||Fr(s,i);case 6:if(c=_t,h=In,_t=null,Va(r,i,s),_t=c,In=h,_t!==null)if(In)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(s.stateNode)}catch(m){mt(s,i,m)}else try{_t.removeChild(s.stateNode)}catch(m){mt(s,i,m)}break;case 18:_t!==null&&(In?(r=_t,wv(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.stateNode),_c(r)):wv(_t,s.stateNode));break;case 4:c=_t,h=In,_t=s.stateNode.containerInfo,In=!0,Va(r,i,s),_t=c,In=h;break;case 0:case 11:case 14:case 15:Ct||gi(2,s,i),Ct||gi(4,s,i),Va(r,i,s);break;case 1:Ct||(Fr(s,i),c=s.stateNode,typeof c.componentWillUnmount=="function"&&ky(s,i,c)),Va(r,i,s);break;case 21:Va(r,i,s);break;case 22:Ct=(c=Ct)||s.memoizedState!==null,Va(r,i,s),Ct=c;break;default:Va(r,i,s)}}function Ly(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{_c(r)}catch(s){mt(i,i.return,s)}}function PT(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Oy),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Oy),i;default:throw Error(a(435,r.tag))}}function Am(r,i){var s=PT(r);i.forEach(function(c){var h=ZT.bind(null,r,c);s.has(c)||(s.add(c),c.then(h,h))})}function Fn(r,i){var s=i.deletions;if(s!==null)for(var c=0;c<s.length;c++){var h=s[c],m=r,E=i,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(wi(A.type)){_t=A.stateNode,In=!1;break e}break;case 5:_t=A.stateNode,In=!1;break e;case 3:case 4:_t=A.stateNode.containerInfo,In=!0;break e}A=A.return}if(_t===null)throw Error(a(160));My(m,E,h),_t=null,In=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)jy(i,r),i=i.sibling}var _r=null;function jy(r,i){var s=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Fn(i,r),Hn(r),c&4&&(gi(3,r,r.return),tc(3,r),gi(5,r,r.return));break;case 1:Fn(i,r),Hn(r),c&512&&(Ct||s===null||Fr(s,s.return)),c&64&&Da&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(s=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var h=_r;if(Fn(i,r),Hn(r),c&512&&(Ct||s===null||Fr(s,s.return)),c&4){var m=s!==null?s.memoizedState:null;if(c=r.memoizedState,s===null)if(c===null)if(r.stateNode===null){e:{c=r.type,s=r.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":m=h.getElementsByTagName("title")[0],(!m||m[rs]||m[Bt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(c),h.head.insertBefore(m,h.querySelector("head > title"))),on(m,c,s),m[Bt]=r,kt(m),c=m;break e;case"link":var E=Iv("link","href",h).get(c+(s.href||""));if(E){for(var A=0;A<E.length;A++)if(m=E[A],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(A,1);break t}}m=h.createElement(c),on(m,c,s),h.head.appendChild(m);break;case"meta":if(E=Iv("meta","content",h).get(c+(s.content||""))){for(A=0;A<E.length;A++)if(m=E[A],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(A,1);break t}}m=h.createElement(c),on(m,c,s),h.head.appendChild(m);break;default:throw Error(a(468,c))}m[Bt]=r,kt(m),c=m}r.stateNode=c}else Ov(h,r.type,r.stateNode);else r.stateNode=Cv(h,c,r.memoizedProps);else m!==c?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,c===null?Ov(h,r.type,r.stateNode):Cv(h,c,r.memoizedProps)):c===null&&r.stateNode!==null&&xm(r,r.memoizedProps,s.memoizedProps)}break;case 27:Fn(i,r),Hn(r),c&512&&(Ct||s===null||Fr(s,s.return)),s!==null&&c&4&&xm(r,r.memoizedProps,s.memoizedProps);break;case 5:if(Fn(i,r),Hn(r),c&512&&(Ct||s===null||Fr(s,s.return)),r.flags&32){h=r.stateNode;try{er(h,"")}catch(Q){mt(r,r.return,Q)}}c&4&&r.stateNode!=null&&(h=r.memoizedProps,xm(r,h,s!==null?s.memoizedProps:h)),c&1024&&(Tm=!0);break;case 6:if(Fn(i,r),Hn(r),c&4){if(r.stateNode===null)throw Error(a(162));c=r.memoizedProps,s=r.stateNode;try{s.nodeValue=c}catch(Q){mt(r,r.return,Q)}}break;case 3:if(kd=null,h=_r,_r=Sd(i.containerInfo),Fn(i,r),_r=h,Hn(r),c&4&&s!==null&&s.memoizedState.isDehydrated)try{_c(i.containerInfo)}catch(Q){mt(r,r.return,Q)}Tm&&(Tm=!1,Py(r));break;case 4:c=_r,_r=Sd(r.stateNode.containerInfo),Fn(i,r),Hn(r),_r=c;break;case 12:Fn(i,r),Hn(r);break;case 13:Fn(i,r),Hn(r),r.child.flags&8192&&r.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Im=Nn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Am(r,c)));break;case 22:h=r.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,Z=Da,te=Ct;if(Da=Z||h,Ct=te||I,Fn(i,r),Ct=te,Da=Z,Hn(r),c&8192)e:for(i=r.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||I||Da||Ct||Ns(r)),s=null,i=r;;){if(i.tag===5||i.tag===26){if(s===null){I=s=i;try{if(m=I.stateNode,h)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=I.stateNode;var le=I.memoizedProps.style,Y=le!=null&&le.hasOwnProperty("display")?le.display:null;A.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Q){mt(I,I.return,Q)}}}else if(i.tag===6){if(s===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(Q){mt(I,I.return,Q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=r.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,Am(r,s))));break;case 19:Fn(i,r),Hn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Am(r,c)));break;case 30:break;case 21:break;default:Fn(i,r),Hn(r)}}function Hn(r){var i=r.flags;if(i&2){try{for(var s,c=r.return;c!==null;){if(Cy(c)){s=c;break}c=c.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,m=Em(r);fd(r,m,h);break;case 5:var E=s.stateNode;s.flags&32&&(er(E,""),s.flags&=-33);var A=Em(r);fd(r,A,E);break;case 3:case 4:var I=s.stateNode.containerInfo,Z=Em(r);wm(r,Z,I);break;default:throw Error(a(161))}}catch(te){mt(r,r.return,te)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Py(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Py(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function pi(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Dy(r,i.alternate,i),i=i.sibling}function Ns(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:gi(4,i,i.return),Ns(i);break;case 1:Fr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&ky(i,i.return,s),Ns(i);break;case 27:dc(i.stateNode);case 26:case 5:Fr(i,i.return),Ns(i);break;case 22:i.memoizedState===null&&Ns(i);break;case 30:Ns(i);break;default:Ns(i)}r=r.sibling}}function yi(r,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,h=r,m=i,E=m.flags;switch(m.tag){case 0:case 11:case 15:yi(h,m,s),tc(4,m);break;case 1:if(yi(h,m,s),c=m,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Z){mt(c,c.return,Z)}if(c=m,h=c.updateQueue,h!==null){var A=c.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)f1(I[h],A)}catch(Z){mt(c,c.return,Z)}}s&&E&64&&Ry(m),nc(m,m.return);break;case 27:Iy(m);case 26:case 5:yi(h,m,s),s&&c===null&&E&4&&Ny(m),nc(m,m.return);break;case 12:yi(h,m,s);break;case 13:yi(h,m,s),s&&E&4&&Ly(h,m);break;case 22:m.memoizedState===null&&yi(h,m,s),nc(m,m.return);break;case 30:break;default:yi(h,m,s)}i=i.sibling}}function Sm(r,i){var s=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(r!=null&&r.refCount++,s!=null&&zl(s))}function Rm(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&zl(r))}function Hr(r,i,s,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Uy(r,i,s,c),i=i.sibling}function Uy(r,i,s,c){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Hr(r,i,s,c),h&2048&&tc(9,i);break;case 1:Hr(r,i,s,c);break;case 3:Hr(r,i,s,c),h&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&zl(r)));break;case 12:if(h&2048){Hr(r,i,s,c),r=i.stateNode;try{var m=i.memoizedProps,E=m.id,A=m.onPostCommit;typeof A=="function"&&A(E,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(I){mt(i,i.return,I)}}else Hr(r,i,s,c);break;case 13:Hr(r,i,s,c);break;case 23:break;case 22:m=i.stateNode,E=i.alternate,i.memoizedState!==null?m._visibility&2?Hr(r,i,s,c):rc(r,i):m._visibility&2?Hr(r,i,s,c):(m._visibility|=2,No(r,i,s,c,(i.subtreeFlags&10256)!==0)),h&2048&&Sm(E,i);break;case 24:Hr(r,i,s,c),h&2048&&Rm(i.alternate,i);break;default:Hr(r,i,s,c)}}function No(r,i,s,c,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=r,E=i,A=s,I=c,Z=E.flags;switch(E.tag){case 0:case 11:case 15:No(m,E,A,I,h),tc(8,E);break;case 23:break;case 22:var te=E.stateNode;E.memoizedState!==null?te._visibility&2?No(m,E,A,I,h):rc(m,E):(te._visibility|=2,No(m,E,A,I,h)),h&&Z&2048&&Sm(E.alternate,E);break;case 24:No(m,E,A,I,h),h&&Z&2048&&Rm(E.alternate,E);break;default:No(m,E,A,I,h)}i=i.sibling}}function rc(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=r,c=i,h=c.flags;switch(c.tag){case 22:rc(s,c),h&2048&&Sm(c.alternate,c);break;case 24:rc(s,c),h&2048&&Rm(c.alternate,c);break;default:rc(s,c)}i=i.sibling}}var ac=8192;function Co(r){if(r.subtreeFlags&ac)for(r=r.child;r!==null;)By(r),r=r.sibling}function By(r){switch(r.tag){case 26:Co(r),r.flags&ac&&r.memoizedState!==null&&w4(_r,r.memoizedState,r.memoizedProps);break;case 5:Co(r);break;case 3:case 4:var i=_r;_r=Sd(r.stateNode.containerInfo),Co(r),_r=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=ac,ac=16777216,Co(r),ac=i):Co(r));break;default:Co(r)}}function zy(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function ic(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];Jt=c,Hy(c,r)}zy(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Fy(r),r=r.sibling}function Fy(r){switch(r.tag){case 0:case 11:case 15:ic(r),r.flags&2048&&gi(9,r,r.return);break;case 3:ic(r);break;case 12:ic(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,md(r)):ic(r);break;default:ic(r)}}function md(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var c=i[s];Jt=c,Hy(c,r)}zy(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:gi(8,i,i.return),md(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,md(i));break;default:md(i)}r=r.sibling}}function Hy(r,i){for(;Jt!==null;){var s=Jt;switch(s.tag){case 0:case 11:case 15:gi(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:zl(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,Jt=c;else e:for(s=r;Jt!==null;){c=Jt;var h=c.sibling,m=c.return;if(Vy(c),c===s){Jt=null;break e}if(h!==null){h.return=m,Jt=h;break e}Jt=m}}}var UT={getCacheForType:function(r){var i=hn(Ht),s=i.data.get(r);return s===void 0&&(s=r(),i.data.set(r,s)),s}},BT=typeof WeakMap=="function"?WeakMap:Map,st=0,gt=null,Ge=null,Je=0,ot=0,qn=null,vi=!1,Io=!1,km=!1,Ma=0,At=0,_i=0,Cs=0,Nm=0,cr=0,Oo=0,sc=null,On=null,Cm=!1,Im=0,gd=1/0,pd=null,bi=null,sn=0,xi=null,Do=null,Vo=0,Om=0,Dm=null,qy=null,oc=0,Vm=null;function $n(){if((st&2)!==0&&Je!==0)return Je&-Je;if(W.T!==null){var r=xo;return r!==0?r:zm()}return ni()}function $y(){cr===0&&(cr=(Je&536870912)===0||nt?pl():536870912);var r=lr.current;return r!==null&&(r.flags|=32),cr}function Gn(r,i,s){(r===gt&&(ot===2||ot===9)||r.cancelPendingCommit!==null)&&(Mo(r,0),Ei(r,Je,cr,!1)),fa(r,s),((st&2)===0||r!==gt)&&(r===gt&&((st&2)===0&&(Cs|=s),At===4&&Ei(r,Je,cr,!1)),qr(r))}function Gy(r,i,s){if((st&6)!==0)throw Error(a(327));var c=!s&&(i&124)===0&&(i&r.expiredLanes)===0||da(r,i),h=c?HT(r,i):jm(r,i,!0),m=c;do{if(h===0){Io&&!c&&Ei(r,i,0,!1);break}else{if(s=r.current.alternate,m&&!zT(s)){h=jm(r,i,!1),m=!1;continue}if(h===2){if(m=i,r.errorRecoveryDisabledLanes&m)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var A=r;h=sc;var I=A.current.memoizedState.isDehydrated;if(I&&(Mo(A,E).flags|=256),E=jm(A,E,!1),E!==2){if(km&&!I){A.errorRecoveryDisabledLanes|=m,Cs|=m,h=4;break e}m=On,On=h,m!==null&&(On===null?On=m:On.push.apply(On,m))}h=E}if(m=!1,h!==2)continue}}if(h===1){Mo(r,0),Ei(r,i,0,!0);break}e:{switch(c=r,m=h,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ei(c,i,cr,!vi);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Im+300-Nn(),10<h)){if(Ei(c,i,cr,!vi),ua(c,0,!0)!==0)break e;c.timeoutHandle=xv(Zy.bind(null,c,s,On,pd,Cm,i,cr,Cs,Oo,vi,m,2,-0,0),h);break e}Zy(c,s,On,pd,Cm,i,cr,Cs,Oo,vi,m,0,-0,0)}}break}while(!0);qr(r)}function Zy(r,i,s,c,h,m,E,A,I,Z,te,le,Y,Q){if(r.timeoutHandle=-1,le=i.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(mc={stylesheets:null,count:0,unsuspend:E4},By(i),le=T4(),le!==null)){r.cancelPendingCommit=le(ev.bind(null,r,i,m,s,c,h,E,A,I,te,1,Y,Q)),Ei(r,m,E,!Z);return}ev(r,i,m,s,c,h,E,A,I)}function zT(r){for(var i=r;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var h=s[c],m=h.getSnapshot;h=h.value;try{if(!Bn(m(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ei(r,i,s,c){i&=~Nm,i&=~Cs,r.suspendedLanes|=i,r.pingedLanes&=~i,c&&(r.warmLanes|=i),c=r.expirationTimes;for(var h=i;0<h;){var m=31-it(h),E=1<<m;c[m]=-1,h&=~E}s!==0&&Nr(r,s,i)}function yd(){return(st&6)===0?(lc(0),!1):!0}function Mm(){if(Ge!==null){if(ot===0)var r=Ge.return;else r=Ge,Ra=Ts=null,Wf(r),Ro=null,Wl=0,r=Ge;for(;r!==null;)Sy(r.alternate,r),r=r.return;Ge=null}}function Mo(r,i){var s=r.timeoutHandle;s!==-1&&(r.timeoutHandle=-1,i4(s)),s=r.cancelPendingCommit,s!==null&&(r.cancelPendingCommit=null,s()),Mm(),gt=r,Ge=s=Ta(r.current,null),Je=i,ot=0,qn=null,vi=!1,Io=da(r,i),km=!1,Oo=cr=Nm=Cs=_i=At=0,On=sc=null,Cm=!1,(i&8)!==0&&(i|=i&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=i;0<c;){var h=31-it(c),m=1<<h;i|=r[h],c&=~m}return Ma=i,Uu(),s}function Ky(r,i){He=null,W.H=ad,i===Hl||i===Ku?(i=d1(),ot=3):i===l1?(i=d1(),ot=4):ot=i===hy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,qn=i,Ge===null&&(At=1,cd(r,ar(i,r.current)))}function Yy(){var r=W.H;return W.H=ad,r===null?ad:r}function Qy(){var r=W.A;return W.A=UT,r}function Lm(){At=4,vi||(Je&4194048)!==Je&&lr.current!==null||(Io=!0),(_i&134217727)===0&&(Cs&134217727)===0||gt===null||Ei(gt,Je,cr,!1)}function jm(r,i,s){var c=st;st|=2;var h=Yy(),m=Qy();(gt!==r||Je!==i)&&(pd=null,Mo(r,i)),i=!1;var E=At;e:do try{if(ot!==0&&Ge!==null){var A=Ge,I=qn;switch(ot){case 8:Mm(),E=6;break e;case 3:case 2:case 9:case 6:lr.current===null&&(i=!0);var Z=ot;if(ot=0,qn=null,Lo(r,A,I,Z),s&&Io){E=0;break e}break;default:Z=ot,ot=0,qn=null,Lo(r,A,I,Z)}}FT(),E=At;break}catch(te){Ky(r,te)}while(!0);return i&&r.shellSuspendCounter++,Ra=Ts=null,st=c,W.H=h,W.A=m,Ge===null&&(gt=null,Je=0,Uu()),E}function FT(){for(;Ge!==null;)Xy(Ge)}function HT(r,i){var s=st;st|=2;var c=Yy(),h=Qy();gt!==r||Je!==i?(pd=null,gd=Nn()+500,Mo(r,i)):Io=da(r,i);e:do try{if(ot!==0&&Ge!==null){i=Ge;var m=qn;t:switch(ot){case 1:ot=0,qn=null,Lo(r,i,m,1);break;case 2:case 9:if(c1(m)){ot=0,qn=null,Wy(i);break}i=function(){ot!==2&&ot!==9||gt!==r||(ot=7),qr(r)},m.then(i,i);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:c1(m)?(ot=0,qn=null,Wy(i)):(ot=0,qn=null,Lo(r,i,m,7));break;case 5:var E=null;switch(Ge.tag){case 26:E=Ge.memoizedState;case 5:case 27:var A=Ge;if(!E||Dv(E)){ot=0,qn=null;var I=A.sibling;if(I!==null)Ge=I;else{var Z=A.return;Z!==null?(Ge=Z,vd(Z)):Ge=null}break t}}ot=0,qn=null,Lo(r,i,m,5);break;case 6:ot=0,qn=null,Lo(r,i,m,6);break;case 8:Mm(),At=6;break e;default:throw Error(a(462))}}qT();break}catch(te){Ky(r,te)}while(!0);return Ra=Ts=null,W.H=c,W.A=h,st=s,Ge!==null?0:(gt=null,Je=0,Uu(),At)}function qT(){for(;Ge!==null&&!Wa();)Xy(Ge)}function Xy(r){var i=Ty(r.alternate,r,Ma);r.memoizedProps=r.pendingProps,i===null?vd(r):Ge=i}function Wy(r){var i=r,s=i.alternate;switch(i.tag){case 15:case 0:i=vy(s,i,i.pendingProps,i.type,void 0,Je);break;case 11:i=vy(s,i,i.pendingProps,i.type.render,i.ref,Je);break;case 5:Wf(i);default:Sy(s,i),i=Ge=Jp(i,Ma),i=Ty(s,i,Ma)}r.memoizedProps=r.pendingProps,i===null?vd(r):Ge=i}function Lo(r,i,s,c){Ra=Ts=null,Wf(i),Ro=null,Wl=0;var h=i.return;try{if(DT(r,h,i,s,Je)){At=1,cd(r,ar(s,r.current)),Ge=null;return}}catch(m){if(h!==null)throw Ge=h,m;At=1,cd(r,ar(s,r.current)),Ge=null;return}i.flags&32768?(nt||c===1?r=!0:Io||(Je&536870912)!==0?r=!1:(vi=r=!0,(c===2||c===9||c===3||c===6)&&(c=lr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Jy(i,r)):vd(i)}function vd(r){var i=r;do{if((i.flags&32768)!==0){Jy(i,vi);return}r=i.return;var s=MT(i.alternate,i,Ma);if(s!==null){Ge=s;return}if(i=i.sibling,i!==null){Ge=i;return}Ge=i=r}while(i!==null);At===0&&(At=5)}function Jy(r,i){do{var s=LT(r.alternate,r);if(s!==null){s.flags&=32767,Ge=s;return}if(s=r.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(r=r.sibling,r!==null)){Ge=r;return}Ge=r=s}while(r!==null);At=6,Ge=null}function ev(r,i,s,c,h,m,E,A,I){r.cancelPendingCommit=null;do _d();while(sn!==0);if((st&6)!==0)throw Error(a(327));if(i!==null){if(i===r.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=Rf,vl(r,s,m,E,A,I),r===gt&&(Ge=gt=null,Je=0),Do=i,xi=r,Vo=s,Om=m,Dm=h,qy=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,KT(K,function(){return iv(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,h=fe.p,fe.p=2,E=st,st|=4;try{jT(r,i,s)}finally{st=E,fe.p=h,W.T=c}}sn=1,tv(),nv(),rv()}}function tv(){if(sn===1){sn=0;var r=xi,i=Do,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=W.T,W.T=null;var c=fe.p;fe.p=2;var h=st;st|=4;try{jy(i,r);var m=Ym,E=Hp(r.containerInfo),A=m.focusedElem,I=m.selectionRange;if(E!==A&&A&&A.ownerDocument&&Fp(A.ownerDocument.documentElement,A)){if(I!==null&&Ef(A)){var Z=I.start,te=I.end;if(te===void 0&&(te=Z),"selectionStart"in A)A.selectionStart=Z,A.selectionEnd=Math.min(te,A.value.length);else{var le=A.ownerDocument||document,Y=le&&le.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),Me=A.textContent.length,Oe=Math.min(I.start,Me),ft=I.end===void 0?Oe:Math.min(I.end,Me);!Q.extend&&Oe>ft&&(E=ft,ft=Oe,Oe=E);var z=zp(A,Oe),U=zp(A,ft);if(z&&U&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==U.node||Q.focusOffset!==U.offset)){var q=le.createRange();q.setStart(z.node,z.offset),Q.removeAllRanges(),Oe>ft?(Q.addRange(q),Q.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),Q.addRange(q))}}}}for(le=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&le.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<le.length;A++){var ie=le[A];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Id=!!Km,Ym=Km=null}finally{st=h,fe.p=c,W.T=s}}r.current=i,sn=2}}function nv(){if(sn===2){sn=0;var r=xi,i=Do,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=W.T,W.T=null;var c=fe.p;fe.p=2;var h=st;st|=4;try{Dy(r,i.alternate,i)}finally{st=h,fe.p=c,W.T=s}}sn=3}}function rv(){if(sn===4||sn===3){sn=0,Xs();var r=xi,i=Do,s=Vo,c=qy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?sn=5:(sn=0,Do=xi=null,av(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(bi=null),Ws(s),i=i.stateNode,Se&&typeof Se.onCommitFiberRoot=="function")try{Se.onCommitFiberRoot(ve,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=W.T,h=fe.p,fe.p=2,W.T=null;try{for(var m=r.onRecoverableError,E=0;E<c.length;E++){var A=c[E];m(A.value,{componentStack:A.stack})}}finally{W.T=i,fe.p=h}}(Vo&3)!==0&&_d(),qr(r),h=r.pendingLanes,(s&4194090)!==0&&(h&42)!==0?r===Vm?oc++:(oc=0,Vm=r):oc=0,lc(0)}}function av(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,zl(i)))}function _d(r){return tv(),nv(),rv(),iv()}function iv(){if(sn!==5)return!1;var r=xi,i=Om;Om=0;var s=Ws(Vo),c=W.T,h=fe.p;try{fe.p=32>s?32:s,W.T=null,s=Dm,Dm=null;var m=xi,E=Vo;if(sn=0,Do=xi=null,Vo=0,(st&6)!==0)throw Error(a(331));var A=st;if(st|=4,Fy(m.current),Uy(m,m.current,E,s),st=A,lc(0,!1),Se&&typeof Se.onPostCommitFiberRoot=="function")try{Se.onPostCommitFiberRoot(ve,m)}catch{}return!0}finally{fe.p=h,W.T=c,av(r,i)}}function sv(r,i,s){i=ar(s,i),i=hm(r.stateNode,i,2),r=di(r,i,2),r!==null&&(fa(r,2),qr(r))}function mt(r,i,s){if(r.tag===3)sv(r,r,s);else for(;i!==null;){if(i.tag===3){sv(i,r,s);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(bi===null||!bi.has(c))){r=ar(s,r),s=uy(2),c=di(i,s,2),c!==null&&(dy(s,c,i,r),fa(c,2),qr(c));break}}i=i.return}}function Pm(r,i,s){var c=r.pingCache;if(c===null){c=r.pingCache=new BT;var h=new Set;c.set(i,h)}else h=c.get(i),h===void 0&&(h=new Set,c.set(i,h));h.has(s)||(km=!0,h.add(s),r=$T.bind(null,r,i,s),i.then(r,r))}function $T(r,i,s){var c=r.pingCache;c!==null&&c.delete(i),r.pingedLanes|=r.suspendedLanes&s,r.warmLanes&=~s,gt===r&&(Je&s)===s&&(At===4||At===3&&(Je&62914560)===Je&&300>Nn()-Im?(st&2)===0&&Mo(r,0):Nm|=s,Oo===Je&&(Oo=0)),qr(r)}function ov(r,i){i===0&&(i=yl()),r=yo(r,i),r!==null&&(fa(r,i),qr(r))}function GT(r){var i=r.memoizedState,s=0;i!==null&&(s=i.retryLane),ov(r,s)}function ZT(r,i){var s=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(s=h.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(i),ov(r,s)}function KT(r,i){return oa(r,i)}var bd=null,jo=null,Um=!1,xd=!1,Bm=!1,Is=0;function qr(r){r!==jo&&r.next===null&&(jo===null?bd=jo=r:jo=jo.next=r),xd=!0,Um||(Um=!0,QT())}function lc(r,i){if(!Bm&&xd){Bm=!0;do for(var s=!1,c=bd;c!==null;){if(r!==0){var h=c.pendingLanes;if(h===0)var m=0;else{var E=c.suspendedLanes,A=c.pingedLanes;m=(1<<31-it(42|r)+1)-1,m&=h&~(E&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,dv(c,m))}else m=Je,m=ua(c,c===gt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||da(c,m)||(s=!0,dv(c,m));c=c.next}while(s);Bm=!1}}function YT(){lv()}function lv(){xd=Um=!1;var r=0;Is!==0&&(a4()&&(r=Is),Is=0);for(var i=Nn(),s=null,c=bd;c!==null;){var h=c.next,m=cv(c,i);m===0?(c.next=null,s===null?bd=h:s.next=h,h===null&&(jo=s)):(s=c,(r!==0||(m&3)!==0)&&(xd=!0)),c=h}lc(r)}function cv(r,i){for(var s=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var E=31-it(m),A=1<<E,I=h[E];I===-1?((A&s)===0||(A&c)!==0)&&(h[E]=ei(A,i)):I<=i&&(r.expiredLanes|=A),m&=~A}if(i=gt,s=Je,s=ua(r,r===i?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,s===0||r===i&&(ot===2||ot===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&kr(c),r.callbackNode=null,r.callbackPriority=0;if((s&3)===0||da(r,s)){if(i=s&-s,i===r.callbackPriority)return i;switch(c!==null&&kr(c),Ws(s)){case 2:case 8:s=M;break;case 32:s=K;break;case 268435456:s=_e;break;default:s=K}return c=uv.bind(null,r),s=oa(s,c),r.callbackPriority=i,r.callbackNode=s,i}return c!==null&&c!==null&&kr(c),r.callbackPriority=2,r.callbackNode=null,2}function uv(r,i){if(sn!==0&&sn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var s=r.callbackNode;if(_d()&&r.callbackNode!==s)return null;var c=Je;return c=ua(r,r===gt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(Gy(r,c,i),cv(r,Nn()),r.callbackNode!=null&&r.callbackNode===s?uv.bind(null,r):null)}function dv(r,i){if(_d())return null;Gy(r,i,!0)}function QT(){s4(function(){(st&6)!==0?oa(Ja,YT):lv()})}function zm(){return Is===0&&(Is=pl()),Is}function hv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ao(""+r)}function fv(r,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,r.id&&s.setAttribute("form",r.id),i.parentNode.insertBefore(s,i),r=new FormData(r),s.parentNode.removeChild(s),r}function XT(r,i,s,c,h){if(i==="submit"&&s&&s.stateNode===h){var m=hv((h[Dt]||null).action),E=c.submitter;E&&(i=(i=E[Dt]||null)?hv(i.formAction):E.getAttribute("formAction"),i!==null&&(m=i,E=null));var A=new io("action","action",null,c,h);r.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Is!==0){var I=E?fv(h,E):new FormData(h);om(s,{pending:!0,data:I,method:h.method,action:m},null,I)}}else typeof m=="function"&&(A.preventDefault(),I=E?fv(h,E):new FormData(h),om(s,{pending:!0,data:I,method:h.method,action:m},m,I))},currentTarget:h}]})}}for(var Fm=0;Fm<Sf.length;Fm++){var Hm=Sf[Fm],WT=Hm.toLowerCase(),JT=Hm[0].toUpperCase()+Hm.slice(1);vr(WT,"on"+JT)}vr(Gp,"onAnimationEnd"),vr(Zp,"onAnimationIteration"),vr(Kp,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(pT,"onTransitionRun"),vr(yT,"onTransitionStart"),vr(vT,"onTransitionCancel"),vr(Yp,"onTransitionEnd"),ga("onMouseEnter",["mouseout","mouseover"]),ga("onMouseLeave",["mouseout","mouseover"]),ga("onPointerEnter",["pointerout","pointerover"]),ga("onPointerLeave",["pointerout","pointerover"]),pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pr("onBeforeInput",["compositionend","keypress","textInput","paste"]),pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cc));function mv(r,i){i=(i&4)!==0;for(var s=0;s<r.length;s++){var c=r[s],h=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var E=c.length-1;0<=E;E--){var A=c[E],I=A.instance,Z=A.currentTarget;if(A=A.listener,I!==m&&h.isPropagationStopped())break e;m=A,h.currentTarget=Z;try{m(h)}catch(te){ld(te)}h.currentTarget=null,m=I}else for(E=0;E<c.length;E++){if(A=c[E],I=A.instance,Z=A.currentTarget,A=A.listener,I!==m&&h.isPropagationStopped())break e;m=A,h.currentTarget=Z;try{m(h)}catch(te){ld(te)}h.currentTarget=null,m=I}}}}function Ze(r,i){var s=i[bl];s===void 0&&(s=i[bl]=new Set);var c=r+"__bubble";s.has(c)||(gv(i,r,2,!1),s.add(c))}function qm(r,i,s){var c=0;i&&(c|=4),gv(s,r,c,i)}var Ed="_reactListening"+Math.random().toString(36).slice(2);function $m(r){if(!r[Ed]){r[Ed]=!0,xl.forEach(function(s){s!=="selectionchange"&&(e4.has(s)||qm(s,!1,r),qm(s,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Ed]||(i[Ed]=!0,qm("selectionchange",!1,i))}}function gv(r,i,s,c){switch(Uv(i)){case 2:var h=R4;break;case 8:h=k4;break;default:h=i0}s=h.bind(null,i,s,r),h=void 0,!nr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(i,s,{capture:!0,passive:h}):r.addEventListener(i,s,!0):h!==void 0?r.addEventListener(i,s,{passive:h}):r.addEventListener(i,s,!1)}function Gm(r,i,s,c,h){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var A=c.stateNode.containerInfo;if(A===h)break;if(E===4)for(E=c.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;A!==null;){if(E=ma(A),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){c=m=E;continue e}A=A.parentNode}}c=c.return}Tu(function(){var Z=m,te=tr(s),le=[];e:{var Y=Qp.get(r);if(Y!==void 0){var Q=io,Me=r;switch(r){case"keypress":if(Mr(s)===0)break e;case"keydown":case"keyup":Q=ho;break;case"focusin":Me="focus",Q=lo;break;case"focusout":Me="blur",Q=lo;break;case"beforeblur":case"afterblur":Q=lo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Ou;break;case Gp:case Zp:case Kp:Q=co;break;case Yp:Q=Vu;break;case"scroll":case"scrollend":Q=Au;break;case"wheel":Q=fo;break;case"copy":case"cut":case"paste":Q=uo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Dl;break;case"toggle":case"beforetoggle":Q=Lu}var Oe=(i&4)!==0,ft=!Oe&&(r==="scroll"||r==="scrollend"),z=Oe?Y!==null?Y+"Capture":null:Y;Oe=[];for(var U=Z,q;U!==null;){var ie=U;if(q=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||q===null||z===null||(ie=us(U,z),ie!=null&&Oe.push(uc(U,ie,q))),ft)break;U=U.return}0<Oe.length&&(Y=new Q(Y,Me,null,s,te),le.push({event:Y,listeners:Oe}))}}if((i&7)===0){e:{if(Y=r==="mouseover"||r==="pointerover",Q=r==="mouseout"||r==="pointerout",Y&&s!==va&&(Me=s.relatedTarget||s.fromElement)&&(ma(Me)||Me[Jn]))break e;if((Q||Y)&&(Y=te.window===te?te:(Y=te.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(Me=s.relatedTarget||s.toElement,Q=Z,Me=Me?ma(Me):null,Me!==null&&(ft=l(Me),Oe=Me.tag,Me!==ft||Oe!==5&&Oe!==27&&Oe!==6)&&(Me=null)):(Q=null,Me=Z),Q!==Me)){if(Oe=rr,ie="onMouseLeave",z="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(Oe=Dl,ie="onPointerLeave",z="onPointerEnter",U="pointer"),ft=Q==null?Y:Ir(Q),q=Me==null?Y:Ir(Me),Y=new Oe(ie,U+"leave",Q,s,te),Y.target=ft,Y.relatedTarget=q,ie=null,ma(te)===Z&&(Oe=new Oe(z,U+"enter",Me,s,te),Oe.target=q,Oe.relatedTarget=ft,ie=Oe),ft=ie,Q&&Me)t:{for(Oe=Q,z=Me,U=0,q=Oe;q;q=Po(q))U++;for(q=0,ie=z;ie;ie=Po(ie))q++;for(;0<U-q;)Oe=Po(Oe),U--;for(;0<q-U;)z=Po(z),q--;for(;U--;){if(Oe===z||z!==null&&Oe===z.alternate)break t;Oe=Po(Oe),z=Po(z)}Oe=null}else Oe=null;Q!==null&&pv(le,Y,Q,Oe,!1),Me!==null&&ft!==null&&pv(le,ft,Me,Oe,!0)}}e:{if(Y=Z?Ir(Z):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var Te=Mp;else if(Ft(Y))if(Lp)Te=fT;else{Te=dT;var $e=uT}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?Z&&Sl(Z.elementType)&&(Te=Mp):Te=hT;if(Te&&(Te=Te(r,Z))){wa(le,Te,s,te);break e}$e&&$e(r,Y,Z),r==="focusout"&&Z&&Y.type==="number"&&Z.memoizedProps.value!=null&&si(Y,"number",Y.value)}switch($e=Z?Ir(Z):window,r){case"focusin":(Ft($e)||$e.contentEditable==="true")&&(mo=$e,wf=Z,Ll=null);break;case"focusout":Ll=wf=mo=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,qp(le,s,te);break;case"selectionchange":if(gT)break;case"keydown":case"keyup":qp(le,s,te)}var ke;if(Pr)e:{switch(r){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Xe?J(r,s)&&(De="onCompositionEnd"):r==="keydown"&&s.keyCode===229&&(De="onCompositionStart");De&&(x&&s.locale!=="ko"&&(Xe||De!=="onCompositionStart"?De==="onCompositionEnd"&&Xe&&(ke=kl()):(Vr=te,oi="value"in Vr?Vr.value:Vr.textContent,Xe=!0)),$e=wd(Z,De),0<$e.length&&(De=new Il(De,r,null,s,te),le.push({event:De,listeners:$e}),ke?De.data=ke:(ke=ge(s),ke!==null&&(De.data=ke)))),(ke=v?zt(r,s):We(r,s))&&(De=wd(Z,"onBeforeInput"),0<De.length&&($e=new Il("onBeforeInput","beforeinput",null,s,te),le.push({event:$e,listeners:De}),$e.data=ke)),XT(le,r,Z,s,te)}mv(le,i)})}function uc(r,i,s){return{instance:r,listener:i,currentTarget:s}}function wd(r,i){for(var s=i+"Capture",c=[];r!==null;){var h=r,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=us(r,s),h!=null&&c.unshift(uc(r,h,m)),h=us(r,i),h!=null&&c.push(uc(r,h,m))),r.tag===3)return c;r=r.return}return[]}function Po(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function pv(r,i,s,c,h){for(var m=i._reactName,E=[];s!==null&&s!==c;){var A=s,I=A.alternate,Z=A.stateNode;if(A=A.tag,I!==null&&I===c)break;A!==5&&A!==26&&A!==27||Z===null||(I=Z,h?(Z=us(s,m),Z!=null&&E.unshift(uc(s,Z,I))):h||(Z=us(s,m),Z!=null&&E.push(uc(s,Z,I)))),s=s.return}E.length!==0&&r.push({event:i,listeners:E})}var t4=/\r\n?/g,n4=/\u0000|\uFFFD/g;function yv(r){return(typeof r=="string"?r:""+r).replace(t4,`
`).replace(n4,"")}function vv(r,i){return i=yv(i),yv(r)===i}function Td(){}function ht(r,i,s,c,h,m){switch(s){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||er(r,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&er(r,""+c);break;case"className":Or(r,"class",c);break;case"tabIndex":Or(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Or(r,s,c);break;case"style":Al(r,c,m);break;case"data":if(i!=="object"){Or(r,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||s!=="href")){r.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(s);break}c=ao(""+c),r.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(i!=="input"&&ht(r,i,"name",h.name,h,null),ht(r,i,"formEncType",h.formEncType,h,null),ht(r,i,"formMethod",h.formMethod,h,null),ht(r,i,"formTarget",h.formTarget,h,null)):(ht(r,i,"encType",h.encType,h,null),ht(r,i,"method",h.method,h,null),ht(r,i,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(s);break}c=ao(""+c),r.setAttribute(s,c);break;case"onClick":c!=null&&(r.onclick=Td);break;case"onScroll":c!=null&&Ze("scroll",r);break;case"onScrollEnd":c!=null&&Ze("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(s=c.__html,s!=null){if(h.children!=null)throw Error(a(60));r.innerHTML=s}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}s=ao(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(s,""+c):r.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(s,""):r.removeAttribute(s);break;case"capture":case"download":c===!0?r.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(s,c):r.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(s,c):r.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(s):r.setAttribute(s,c);break;case"popover":Ze("beforetoggle",r),Ze("toggle",r),ii(r,"popover",c);break;case"xlinkActuate":nn(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":nn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":nn(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":nn(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":nn(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":nn(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":nn(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":nn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":nn(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ii(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=pf.get(s)||s,ii(r,s,c))}}function Zm(r,i,s,c,h,m){switch(s){case"style":Al(r,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(s=c.__html,s!=null){if(h.children!=null)throw Error(a(60));r.innerHTML=s}}break;case"children":typeof c=="string"?er(r,c):(typeof c=="number"||typeof c=="bigint")&&er(r,""+c);break;case"onScroll":c!=null&&Ze("scroll",r);break;case"onScrollEnd":c!=null&&Ze("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Td);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Js.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),m=r[Dt]||null,m=m!=null?m[s]:null,typeof m=="function"&&r.removeEventListener(i,m,h),typeof c=="function")){typeof m!="function"&&m!==null&&(s in r?r[s]=null:r.hasAttribute(s)&&r.removeAttribute(s)),r.addEventListener(i,c,h);break e}s in r?r[s]=c:c===!0?r.setAttribute(s,""):ii(r,s,c)}}}function on(r,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",r),Ze("load",r);var c=!1,h=!1,m;for(m in s)if(s.hasOwnProperty(m)){var E=s[m];if(E!=null)switch(m){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ht(r,i,m,E,s,null)}}h&&ht(r,i,"srcSet",s.srcSet,s,null),c&&ht(r,i,"src",s.src,s,null);return;case"input":Ze("invalid",r);var A=m=E=h=null,I=null,Z=null;for(c in s)if(s.hasOwnProperty(c)){var te=s[c];if(te!=null)switch(c){case"name":h=te;break;case"type":E=te;break;case"checked":I=te;break;case"defaultChecked":Z=te;break;case"value":m=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,i));break;default:ht(r,i,c,te,s,null)}}os(r,m,A,I,Z,E,h,!1),ro(r);return;case"select":Ze("invalid",r),c=E=m=null;for(h in s)if(s.hasOwnProperty(h)&&(A=s[h],A!=null))switch(h){case"value":m=A;break;case"defaultValue":E=A;break;case"multiple":c=A;default:ht(r,i,h,A,s,null)}i=m,s=E,r.multiple=!!c,i!=null?ya(r,!!c,i,!1):s!=null&&ya(r,!!c,s,!0);return;case"textarea":Ze("invalid",r),m=h=c=null;for(E in s)if(s.hasOwnProperty(E)&&(A=s[E],A!=null))switch(E){case"value":c=A;break;case"defaultValue":h=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:ht(r,i,E,A,s,null)}ls(r,c,h,m),ro(r);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(c=s[I],c!=null))switch(I){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ht(r,i,I,c,s,null)}return;case"dialog":Ze("beforetoggle",r),Ze("toggle",r),Ze("cancel",r),Ze("close",r);break;case"iframe":case"object":Ze("load",r);break;case"video":case"audio":for(c=0;c<cc.length;c++)Ze(cc[c],r);break;case"image":Ze("error",r),Ze("load",r);break;case"details":Ze("toggle",r);break;case"embed":case"source":case"link":Ze("error",r),Ze("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in s)if(s.hasOwnProperty(Z)&&(c=s[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ht(r,i,Z,c,s,null)}return;default:if(Sl(i)){for(te in s)s.hasOwnProperty(te)&&(c=s[te],c!==void 0&&Zm(r,i,te,c,s,void 0));return}}for(A in s)s.hasOwnProperty(A)&&(c=s[A],c!=null&&ht(r,i,A,c,s,null))}function r4(r,i,s,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,E=null,A=null,I=null,Z=null,te=null;for(Q in s){var le=s[Q];if(s.hasOwnProperty(Q)&&le!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=le;default:c.hasOwnProperty(Q)||ht(r,i,Q,null,c,le)}}for(var Y in c){var Q=c[Y];if(le=s[Y],c.hasOwnProperty(Y)&&(Q!=null||le!=null))switch(Y){case"type":m=Q;break;case"name":h=Q;break;case"checked":Z=Q;break;case"defaultChecked":te=Q;break;case"value":E=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:Q!==le&&ht(r,i,Y,Q,c,le)}}Un(r,E,A,I,Z,te,m,h);return;case"select":Q=E=A=Y=null;for(m in s)if(I=s[m],s.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":Q=I;default:c.hasOwnProperty(m)||ht(r,i,m,null,c,I)}for(h in c)if(m=c[h],I=s[h],c.hasOwnProperty(h)&&(m!=null||I!=null))switch(h){case"value":Y=m;break;case"defaultValue":A=m;break;case"multiple":E=m;default:m!==I&&ht(r,i,h,m,c,I)}i=A,s=E,c=Q,Y!=null?ya(r,!!s,Y,!1):!!c!=!!s&&(i!=null?ya(r,!!s,i,!0):ya(r,!!s,s?[]:"",!1));return;case"textarea":Q=Y=null;for(A in s)if(h=s[A],s.hasOwnProperty(A)&&h!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ht(r,i,A,null,c,h)}for(E in c)if(h=c[E],m=s[E],c.hasOwnProperty(E)&&(h!=null||m!=null))switch(E){case"value":Y=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==m&&ht(r,i,E,h,c,m)}ut(r,Y,Q);return;case"option":for(var Me in s)if(Y=s[Me],s.hasOwnProperty(Me)&&Y!=null&&!c.hasOwnProperty(Me))switch(Me){case"selected":r.selected=!1;break;default:ht(r,i,Me,null,c,Y)}for(I in c)if(Y=c[I],Q=s[I],c.hasOwnProperty(I)&&Y!==Q&&(Y!=null||Q!=null))switch(I){case"selected":r.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:ht(r,i,I,Y,c,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in s)Y=s[Oe],s.hasOwnProperty(Oe)&&Y!=null&&!c.hasOwnProperty(Oe)&&ht(r,i,Oe,null,c,Y);for(Z in c)if(Y=c[Z],Q=s[Z],c.hasOwnProperty(Z)&&Y!==Q&&(Y!=null||Q!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:ht(r,i,Z,Y,c,Q)}return;default:if(Sl(i)){for(var ft in s)Y=s[ft],s.hasOwnProperty(ft)&&Y!==void 0&&!c.hasOwnProperty(ft)&&Zm(r,i,ft,void 0,c,Y);for(te in c)Y=c[te],Q=s[te],!c.hasOwnProperty(te)||Y===Q||Y===void 0&&Q===void 0||Zm(r,i,te,Y,c,Q);return}}for(var z in s)Y=s[z],s.hasOwnProperty(z)&&Y!=null&&!c.hasOwnProperty(z)&&ht(r,i,z,null,c,Y);for(le in c)Y=c[le],Q=s[le],!c.hasOwnProperty(le)||Y===Q||Y==null&&Q==null||ht(r,i,le,Y,c,Q)}var Km=null,Ym=null;function Ad(r){return r.nodeType===9?r:r.ownerDocument}function _v(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bv(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Qm(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xm=null;function a4(){var r=window.event;return r&&r.type==="popstate"?r===Xm?!1:(Xm=r,!0):(Xm=null,!1)}var xv=typeof setTimeout=="function"?setTimeout:void 0,i4=typeof clearTimeout=="function"?clearTimeout:void 0,Ev=typeof Promise=="function"?Promise:void 0,s4=typeof queueMicrotask=="function"?queueMicrotask:typeof Ev<"u"?function(r){return Ev.resolve(null).then(r).catch(o4)}:xv;function o4(r){setTimeout(function(){throw r})}function wi(r){return r==="head"}function wv(r,i){var s=i,c=0,h=0;do{var m=s.nextSibling;if(r.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"){if(0<c&&8>c){s=c;var E=r.ownerDocument;if(s&1&&dc(E.documentElement),s&2&&dc(E.body),s&4)for(s=E.head,dc(s),E=s.firstChild;E;){var A=E.nextSibling,I=E.nodeName;E[rs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=A}}if(h===0){r.removeChild(m),_c(i);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:c=s.charCodeAt(0)-48;else c=0;s=m}while(s);_c(i)}function Wm(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Wm(s),ai(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}r.removeChild(s)}}function l4(r,i,s,c){for(;r.nodeType===1;){var h=s;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[rs])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=br(r.nextSibling),r===null)break}return null}function c4(r,i,s){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=br(r.nextSibling),r===null))return null;return r}function Jm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function u4(r,i){var s=r.ownerDocument;if(r.data!=="$?"||s.readyState==="complete")i();else{var c=function(){i(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function br(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var e0=null;function Tv(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var s=r.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return r;i--}else s==="/$"&&i++}r=r.previousSibling}return null}function Av(r,i,s){switch(i=Ad(s),r){case"html":if(r=i.documentElement,!r)throw Error(a(452));return r;case"head":if(r=i.head,!r)throw Error(a(453));return r;case"body":if(r=i.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function dc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);ai(r)}var ur=new Map,Sv=new Set;function Sd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var La=fe.d;fe.d={f:d4,r:h4,D:f4,C:m4,L:g4,m:p4,X:v4,S:y4,M:_4};function d4(){var r=La.f(),i=yd();return r||i}function h4(r){var i=Cr(r);i!==null&&i.tag===5&&i.type==="form"?G1(i):La.r(r)}var Uo=typeof document>"u"?null:document;function Rv(r,i,s){var c=Uo;if(c&&typeof i=="string"&&i){var h=Vt(i);h='link[rel="'+r+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Sv.has(h)||(Sv.add(h),r={rel:r,crossOrigin:s,href:i},c.querySelector(h)===null&&(i=c.createElement("link"),on(i,"link",r),kt(i),c.head.appendChild(i)))}}function f4(r){La.D(r),Rv("dns-prefetch",r,null)}function m4(r,i){La.C(r,i),Rv("preconnect",r,i)}function g4(r,i,s){La.L(r,i,s);var c=Uo;if(c&&r&&i){var h='link[rel="preload"][as="'+Vt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Vt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Vt(s.imageSizes)+'"]')):h+='[href="'+Vt(r)+'"]';var m=h;switch(i){case"style":m=Bo(r);break;case"script":m=zo(r)}ur.has(m)||(r=b({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:r,as:i},s),ur.set(m,r),c.querySelector(h)!==null||i==="style"&&c.querySelector(hc(m))||i==="script"&&c.querySelector(fc(m))||(i=c.createElement("link"),on(i,"link",r),kt(i),c.head.appendChild(i)))}}function p4(r,i){La.m(r,i);var s=Uo;if(s&&r){var c=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Vt(c)+'"][href="'+Vt(r)+'"]',m=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=zo(r)}if(!ur.has(m)&&(r=b({rel:"modulepreload",href:r},i),ur.set(m,r),s.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(fc(m)))return}c=s.createElement("link"),on(c,"link",r),kt(c),s.head.appendChild(c)}}}function y4(r,i,s){La.S(r,i,s);var c=Uo;if(c&&r){var h=bn(c).hoistableStyles,m=Bo(r);i=i||"default";var E=h.get(m);if(!E){var A={loading:0,preload:null};if(E=c.querySelector(hc(m)))A.loading=5;else{r=b({rel:"stylesheet",href:r,"data-precedence":i},s),(s=ur.get(m))&&t0(r,s);var I=E=c.createElement("link");kt(I),on(I,"link",r),I._p=new Promise(function(Z,te){I.onload=Z,I.onerror=te}),I.addEventListener("load",function(){A.loading|=1}),I.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Rd(E,i,c)}E={type:"stylesheet",instance:E,count:1,state:A},h.set(m,E)}}}function v4(r,i){La.X(r,i);var s=Uo;if(s&&r){var c=bn(s).hoistableScripts,h=zo(r),m=c.get(h);m||(m=s.querySelector(fc(h)),m||(r=b({src:r,async:!0},i),(i=ur.get(h))&&n0(r,i),m=s.createElement("script"),kt(m),on(m,"link",r),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function _4(r,i){La.M(r,i);var s=Uo;if(s&&r){var c=bn(s).hoistableScripts,h=zo(r),m=c.get(h);m||(m=s.querySelector(fc(h)),m||(r=b({src:r,async:!0,type:"module"},i),(i=ur.get(h))&&n0(r,i),m=s.createElement("script"),kt(m),on(m,"link",r),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function kv(r,i,s,c){var h=(h=he.current)?Sd(h):null;if(!h)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Bo(s.href),s=bn(h).hoistableStyles,c=s.get(i),c||(c={type:"style",instance:null,count:0,state:null},s.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){r=Bo(s.href);var m=bn(h).hoistableStyles,E=m.get(r);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,E),(m=h.querySelector(hc(r)))&&!m._p&&(E.instance=m,E.state.loading=5),ur.has(r)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ur.set(r,s),m||b4(h,r,s,E.state))),i&&c===null)throw Error(a(528,""));return E}if(i&&c!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=zo(s),s=bn(h).hoistableScripts,c=s.get(i),c||(c={type:"script",instance:null,count:0,state:null},s.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function Bo(r){return'href="'+Vt(r)+'"'}function hc(r){return'link[rel="stylesheet"]['+r+"]"}function Nv(r){return b({},r,{"data-precedence":r.precedence,precedence:null})}function b4(r,i,s,c){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=r.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),on(i,"link",s),kt(i),r.head.appendChild(i))}function zo(r){return'[src="'+Vt(r)+'"]'}function fc(r){return"script[async]"+r}function Cv(r,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var c=r.querySelector('style[data-href~="'+Vt(s.href)+'"]');if(c)return i.instance=c,kt(c),c;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),kt(c),on(c,"style",h),Rd(c,s.precedence,r),i.instance=c;case"stylesheet":h=Bo(s.href);var m=r.querySelector(hc(h));if(m)return i.state.loading|=4,i.instance=m,kt(m),m;c=Nv(s),(h=ur.get(h))&&t0(c,h),m=(r.ownerDocument||r).createElement("link"),kt(m);var E=m;return E._p=new Promise(function(A,I){E.onload=A,E.onerror=I}),on(m,"link",c),i.state.loading|=4,Rd(m,s.precedence,r),i.instance=m;case"script":return m=zo(s.src),(h=r.querySelector(fc(m)))?(i.instance=h,kt(h),h):(c=s,(h=ur.get(m))&&(c=b({},s),n0(c,h)),r=r.ownerDocument||r,h=r.createElement("script"),kt(h),on(h,"link",c),r.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Rd(c,s.precedence,r));return i.instance}function Rd(r,i,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,m=h,E=0;E<c.length;E++){var A=c[E];if(A.dataset.precedence===i)m=A;else if(m!==h)break}m?m.parentNode.insertBefore(r,m.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(r,i.firstChild))}function t0(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function n0(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var kd=null;function Iv(r,i,s){if(kd===null){var c=new Map,h=kd=new Map;h.set(s,c)}else h=kd,c=h.get(s),c||(c=new Map,h.set(s,c));if(c.has(r))return c;for(c.set(r,null),s=s.getElementsByTagName(r),h=0;h<s.length;h++){var m=s[h];if(!(m[rs]||m[Bt]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(i)||"";E=r+E;var A=c.get(E);A?A.push(m):c.set(E,[m])}}return c}function Ov(r,i,s){r=r.ownerDocument||r,r.head.insertBefore(s,i==="title"?r.querySelector("head > title"):null)}function x4(r,i,s){if(s===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Dv(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var mc=null;function E4(){}function w4(r,i,s){if(mc===null)throw Error(a(475));var c=mc;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Bo(s.href),m=r.querySelector(hc(h));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=Nd.bind(c),r.then(c,c)),i.state.loading|=4,i.instance=m,kt(m);return}m=r.ownerDocument||r,s=Nv(s),(h=ur.get(h))&&t0(s,h),m=m.createElement("link"),kt(m);var E=m;E._p=new Promise(function(A,I){E.onload=A,E.onerror=I}),on(m,"link",s),i.instance=m}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Nd.bind(c),r.addEventListener("load",i),r.addEventListener("error",i))}}function T4(){if(mc===null)throw Error(a(475));var r=mc;return r.stylesheets&&r.count===0&&r0(r,r.stylesheets),0<r.count?function(i){var s=setTimeout(function(){if(r.stylesheets&&r0(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(s)}}:null}function Nd(){if(this.count--,this.count===0){if(this.stylesheets)r0(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Cd=null;function r0(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Cd=new Map,i.forEach(A4,r),Cd=null,Nd.call(r))}function A4(r,i){if(!(i.state.loading&4)){var s=Cd.get(r);if(s)var c=s.get(null);else{s=new Map,Cd.set(r,s);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var E=h[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),c=E)}c&&s.set(null,c)}h=i.instance,E=h.getAttribute("data-precedence"),m=s.get(E)||c,m===c&&s.set(null,h),s.set(E,h),this.count++,c=Nd.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),m?m.parentNode.insertBefore(h,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),i.state.loading|=4}}var gc={$$typeof:G,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function S4(r,i,s,c,h,m,E,A){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ha(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ha(0),this.hiddenUpdates=ha(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Vv(r,i,s,c,h,m,E,A,I,Z,te,le){return r=new S4(r,i,s,E,A,I,Z,le),i=1,m===!0&&(i|=24),m=zn(3,null,null,i),r.current=m,m.stateNode=r,i=Pf(),i.refCount++,r.pooledCache=i,i.refCount++,m.memoizedState={element:c,isDehydrated:s,cache:i},Ff(m),r}function Mv(r){return r?(r=vo,r):vo}function Lv(r,i,s,c,h,m){h=Mv(h),c.context===null?c.context=h:c.pendingContext=h,c=ui(i),c.payload={element:s},m=m===void 0?null:m,m!==null&&(c.callback=m),s=di(r,c,i),s!==null&&(Gn(s,r,i),$l(s,r,i))}function jv(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var s=r.retryLane;r.retryLane=s!==0&&s<i?s:i}}function a0(r,i){jv(r,i),(r=r.alternate)&&jv(r,i)}function Pv(r){if(r.tag===13){var i=yo(r,67108864);i!==null&&Gn(i,r,67108864),a0(r,67108864)}}var Id=!0;function R4(r,i,s,c){var h=W.T;W.T=null;var m=fe.p;try{fe.p=2,i0(r,i,s,c)}finally{fe.p=m,W.T=h}}function k4(r,i,s,c){var h=W.T;W.T=null;var m=fe.p;try{fe.p=8,i0(r,i,s,c)}finally{fe.p=m,W.T=h}}function i0(r,i,s,c){if(Id){var h=s0(c);if(h===null)Gm(r,i,c,Od,s),Bv(r,c);else if(C4(h,r,i,s,c))c.stopPropagation();else if(Bv(r,c),i&4&&-1<N4.indexOf(r)){for(;h!==null;){var m=Cr(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Pn(m.pendingLanes);if(E!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var I=1<<31-it(E);A.entanglements[1]|=I,E&=~I}qr(m),(st&6)===0&&(gd=Nn()+500,lc(0))}}break;case 13:A=yo(m,2),A!==null&&Gn(A,m,2),yd(),a0(m,2)}if(m=s0(c),m===null&&Gm(r,i,c,Od,s),m===h)break;h=m}h!==null&&c.stopPropagation()}else Gm(r,i,c,null,s)}}function s0(r){return r=tr(r),o0(r)}var Od=null;function o0(r){if(Od=null,r=ma(r),r!==null){var i=l(r);if(i===null)r=null;else{var s=i.tag;if(s===13){if(r=u(i),r!==null)return r;r=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Od=r,null}function Uv(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pu()){case Ja:return 2;case M:return 8;case K:case ee:return 32;case _e:return 268435456;default:return 32}default:return 32}}var l0=!1,Ti=null,Ai=null,Si=null,pc=new Map,yc=new Map,Ri=[],N4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bv(r,i){switch(r){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":pc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(i.pointerId)}}function vc(r,i,s,c,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:s,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},i!==null&&(i=Cr(i),i!==null&&Pv(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),r)}function C4(r,i,s,c,h){switch(i){case"focusin":return Ti=vc(Ti,r,i,s,c,h),!0;case"dragenter":return Ai=vc(Ai,r,i,s,c,h),!0;case"mouseover":return Si=vc(Si,r,i,s,c,h),!0;case"pointerover":var m=h.pointerId;return pc.set(m,vc(pc.get(m)||null,r,i,s,c,h)),!0;case"gotpointercapture":return m=h.pointerId,yc.set(m,vc(yc.get(m)||null,r,i,s,c,h)),!0}return!1}function zv(r){var i=ma(r.target);if(i!==null){var s=l(i);if(s!==null){if(i=s.tag,i===13){if(i=u(s),i!==null){r.blockedOn=i,yu(r.priority,function(){if(s.tag===13){var c=$n();c=ti(c);var h=yo(s,c);h!==null&&Gn(h,s,c),a0(s,c)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){r.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Dd(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var s=s0(r.nativeEvent);if(s===null){s=r.nativeEvent;var c=new s.constructor(s.type,s);va=c,s.target.dispatchEvent(c),va=null}else return i=Cr(s),i!==null&&Pv(i),r.blockedOn=s,!1;i.shift()}return!0}function Fv(r,i,s){Dd(r)&&s.delete(i)}function I4(){l0=!1,Ti!==null&&Dd(Ti)&&(Ti=null),Ai!==null&&Dd(Ai)&&(Ai=null),Si!==null&&Dd(Si)&&(Si=null),pc.forEach(Fv),yc.forEach(Fv)}function Vd(r,i){r.blockedOn===i&&(r.blockedOn=null,l0||(l0=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,I4)))}var Md=null;function Hv(r){Md!==r&&(Md=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Md===r&&(Md=null);for(var i=0;i<r.length;i+=3){var s=r[i],c=r[i+1],h=r[i+2];if(typeof c!="function"){if(o0(c||s)===null)continue;break}var m=Cr(s);m!==null&&(r.splice(i,3),i-=3,om(m,{pending:!0,data:h,method:s.method,action:c},c,h))}}))}function _c(r){function i(I){return Vd(I,r)}Ti!==null&&Vd(Ti,r),Ai!==null&&Vd(Ai,r),Si!==null&&Vd(Si,r),pc.forEach(i),yc.forEach(i);for(var s=0;s<Ri.length;s++){var c=Ri[s];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Ri.length&&(s=Ri[0],s.blockedOn===null);)zv(s),s.blockedOn===null&&Ri.shift();if(s=(r.ownerDocument||r).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var h=s[c],m=s[c+1],E=h[Dt]||null;if(typeof m=="function")E||Hv(s);else if(E){var A=null;if(m&&m.hasAttribute("formAction")){if(h=m,E=m[Dt]||null)A=E.formAction;else if(o0(h)!==null)continue}else A=E.action;typeof A=="function"?s[c+1]=A:(s.splice(c,3),c-=3),Hv(s)}}}function c0(r){this._internalRoot=r}Ld.prototype.render=c0.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,c=$n();Lv(s,c,r,i,null,null)},Ld.prototype.unmount=c0.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Lv(r.current,2,null,r,null,null),yd(),i[Jn]=null}};function Ld(r){this._internalRoot=r}Ld.prototype.unstable_scheduleHydration=function(r){if(r){var i=ni();r={blockedOn:null,target:r,priority:i};for(var s=0;s<Ri.length&&i!==0&&i<Ri[s].priority;s++);Ri.splice(s,0,r),s===0&&zv(r)}};var qv=e.version;if(qv!=="19.1.0")throw Error(a(527,qv,"19.1.0"));fe.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=p(i),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var O4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jd.isDisabled&&jd.supportsFiber)try{ve=jd.inject(O4),Se=jd}catch{}}return xc.createRoot=function(r,i){if(!o(r))throw Error(a(299));var s=!1,c="",h=sy,m=oy,E=ly,A=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=Vv(r,1,!1,null,null,s,c,h,m,E,A,null),r[Jn]=i.current,$m(r),new c0(i)},xc.hydrateRoot=function(r,i,s){if(!o(r))throw Error(a(299));var c=!1,h="",m=sy,E=oy,A=ly,I=null,Z=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks),s.formState!==void 0&&(Z=s.formState)),i=Vv(r,1,!0,i,s??null,c,h,m,E,A,I,Z),i.context=Mv(null),s=i.current,c=$n(),c=ti(c),h=ui(c),h.callback=null,di(s,h,c),s=c,i.current.lanes=s,fa(i,s),qr(i),r[Jn]=i.current,$m(r),new Ld(i)},xc.version="19.1.0",xc}var e2;function H4(){if(e2)return h0.exports;e2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),h0.exports=F4(),h0.exports}var q4=H4();const $4=gb(q4);pb();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zc(){return zc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},zc.apply(this,arguments)}var ji;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ji||(ji={}));const t2="popstate";function G4(n){n===void 0&&(n={});function e(a,o){let{pathname:l,search:u,hash:f}=a.location;return O0("",{pathname:l,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){return typeof o=="string"?o:ih(o)}return K4(e,t,null,n)}function Et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function yb(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z4(){return Math.random().toString(36).substr(2,8)}function n2(n,e){return{usr:n.state,key:n.key,idx:e}}function O0(n,e,t,a){return t===void 0&&(t=null),zc({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ll(e):e,{state:t,key:e&&e.key||a||Z4()})}function ih(n){let{pathname:e="/",search:t="",hash:a=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function ll(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let a=n.indexOf("?");a>=0&&(e.search=n.substr(a),n=n.substr(0,a)),n&&(e.pathname=n)}return e}function K4(n,e,t,a){a===void 0&&(a={});let{window:o=document.defaultView,v5Compat:l=!1}=a,u=o.history,f=ji.Pop,p=null,y=b();y==null&&(y=0,u.replaceState(zc({},u.state,{idx:y}),""));function b(){return(u.state||{idx:null}).idx}function w(){f=ji.Pop;let P=b(),re=P==null?null:P-y;y=P,p&&p({action:f,location:$.location,delta:re})}function T(P,re){f=ji.Push;let F=O0($.location,P,re);y=b()+1;let G=n2(F,y),X=$.createHref(F);try{u.pushState(G,"",X)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;o.location.assign(X)}l&&p&&p({action:f,location:$.location,delta:1})}function C(P,re){f=ji.Replace;let F=O0($.location,P,re);y=b();let G=n2(F,y),X=$.createHref(F);u.replaceState(G,"",X),l&&p&&p({action:f,location:$.location,delta:0})}function B(P){let re=o.location.origin!=="null"?o.location.origin:o.location.href,F=typeof P=="string"?P:ih(P);return F=F.replace(/ $/,"%20"),Et(re,"No window.location.(origin|href) available to create URL for href: "+F),new URL(F,re)}let $={get action(){return f},get location(){return n(o,u)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(t2,w),p=P,()=>{o.removeEventListener(t2,w),p=null}},createHref(P){return e(o,P)},createURL:B,encodeLocation(P){let re=B(P);return{pathname:re.pathname,search:re.search,hash:re.hash}},push:T,replace:C,go(P){return u.go(P)}};return $}var r2;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(r2||(r2={}));function Y4(n,e,t){return t===void 0&&(t="/"),Q4(n,e,t)}function Q4(n,e,t,a){let o=typeof e=="string"?ll(e):e,l=Jo(o.pathname||"/",t);if(l==null)return null;let u=vb(n);X4(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let y=l6(l);f=s6(u[p],y)}return f}function vb(n,e,t,a){e===void 0&&(e=[]),t===void 0&&(t=[]),a===void 0&&(a="");let o=(l,u,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};p.relativePath.startsWith("/")&&(Et(p.relativePath.startsWith(a),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(a.length));let y=Ui([a,p.relativePath]),b=t.concat(p);l.children&&l.children.length>0&&(Et(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),vb(l.children,e,b,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:a6(y,l.index),routesMeta:b})};return n.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,u);else for(let p of _b(l.path))o(l,u,p)}),e}function _b(n){let e=n.split("/");if(e.length===0)return[];let[t,...a]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let u=_b(a.join("/")),f=[];return f.push(...u.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...u),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function X4(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:i6(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}const W4=/^:[\w-]+$/,J4=3,e6=2,t6=1,n6=10,r6=-2,a2=n=>n==="*";function a6(n,e){let t=n.split("/"),a=t.length;return t.some(a2)&&(a+=r6),e&&(a+=e6),t.filter(o=>!a2(o)).reduce((o,l)=>o+(W4.test(l)?J4:l===""?t6:n6),a)}function i6(n,e){return n.length===e.length&&n.slice(0,-1).every((a,o)=>a===e[o])?n[n.length-1]-e[e.length-1]:0}function s6(n,e,t){let{routesMeta:a}=n,o={},l="/",u=[];for(let f=0;f<a.length;++f){let p=a[f],y=f===a.length-1,b=l==="/"?e:e.slice(l.length)||"/",w=D0({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},b),T=p.route;if(!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:Ui([l,w.pathname]),pathnameBase:h6(Ui([l,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(l=Ui([l,w.pathnameBase]))}return u}function D0(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,a]=o6(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:a.reduce((y,b,w)=>{let{paramName:T,isOptional:C}=b;if(T==="*"){let $=f[w]||"";u=l.slice(0,l.length-$.length).replace(/(.)\/+$/,"$1")}const B=f[w];return C&&!B?y[T]=void 0:y[T]=(B||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:u,pattern:n}}function o6(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),yb(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let a=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(a.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(a.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function l6(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yb(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Jo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=n.charAt(t);return a&&a!=="/"?null:n.slice(t)||"/"}function c6(n,e){e===void 0&&(e="/");let{pathname:t,search:a="",hash:o=""}=typeof n=="string"?ll(n):n;return{pathname:t?t.startsWith("/")?t:u6(t,e):e,search:f6(a),hash:m6(o)}}function u6(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function p0(n,e,t,a){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d6(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function pg(n,e){let t=d6(n);return e?t.map((a,o)=>o===t.length-1?a.pathname:a.pathnameBase):t.map(a=>a.pathnameBase)}function yg(n,e,t,a){a===void 0&&(a=!1);let o;typeof n=="string"?o=ll(n):(o=zc({},n),Et(!o.pathname||!o.pathname.includes("?"),p0("?","pathname","search",o)),Et(!o.pathname||!o.pathname.includes("#"),p0("#","pathname","hash",o)),Et(!o.search||!o.search.includes("#"),p0("#","search","hash",o)));let l=n===""||o.pathname==="",u=l?"/":o.pathname,f;if(u==null)f=t;else{let w=e.length-1;if(!a&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),w-=1;o.pathname=T.join("/")}f=w>=0?e[w]:"/"}let p=c6(o,f),y=u&&u!=="/"&&u.endsWith("/"),b=(l||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||b)&&(p.pathname+="/"),p}const Ui=n=>n.join("/").replace(/\/\/+/g,"/"),h6=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),f6=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,m6=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function g6(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const bb=["post","put","patch","delete"];new Set(bb);const p6=["get",...bb];new Set(p6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fc(){return Fc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},Fc.apply(this,arguments)}const Oh=_.createContext(null),xb=_.createContext(null),Ya=_.createContext(null),Dh=_.createContext(null),ra=_.createContext({outlet:null,matches:[],isDataRoute:!1}),Eb=_.createContext(null);function y6(n,e){let{relative:t}=e===void 0?{}:e;cl()||Et(!1);let{basename:a,navigator:o}=_.useContext(Ya),{hash:l,pathname:u,search:f}=Vh(n,{relative:t}),p=u;return a!=="/"&&(p=u==="/"?a:Ui([a,u])),o.createHref({pathname:p,search:f,hash:l})}function cl(){return _.useContext(Dh)!=null}function Qa(){return cl()||Et(!1),_.useContext(Dh).location}function wb(n){_.useContext(Ya).static||_.useLayoutEffect(n)}function Rn(){let{isDataRoute:n}=_.useContext(ra);return n?O6():v6()}function v6(){cl()||Et(!1);let n=_.useContext(Oh),{basename:e,future:t,navigator:a}=_.useContext(Ya),{matches:o}=_.useContext(ra),{pathname:l}=Qa(),u=JSON.stringify(pg(o,t.v7_relativeSplatPath)),f=_.useRef(!1);return wb(()=>{f.current=!0}),_.useCallback(function(y,b){if(b===void 0&&(b={}),!f.current)return;if(typeof y=="number"){a.go(y);return}let w=yg(y,JSON.parse(u),l,b.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Ui([e,w.pathname])),(b.replace?a.replace:a.push)(w,b.state,b)},[e,a,u,l,n])}const _6=_.createContext(null);function b6(n){let e=_.useContext(ra).outlet;return e&&_.createElement(_6.Provider,{value:n},e)}function Tb(){let{matches:n}=_.useContext(ra),e=n[n.length-1];return e?e.params:{}}function Vh(n,e){let{relative:t}=e===void 0?{}:e,{future:a}=_.useContext(Ya),{matches:o}=_.useContext(ra),{pathname:l}=Qa(),u=JSON.stringify(pg(o,a.v7_relativeSplatPath));return _.useMemo(()=>yg(n,JSON.parse(u),l,t==="path"),[n,u,l,t])}function x6(n,e){return E6(n,e)}function E6(n,e,t,a){cl()||Et(!1);let{navigator:o}=_.useContext(Ya),{matches:l}=_.useContext(ra),u=l[l.length-1],f=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let y=Qa(),b;if(e){var w;let P=typeof e=="string"?ll(e):e;p==="/"||(w=P.pathname)!=null&&w.startsWith(p)||Et(!1),b=P}else b=y;let T=b.pathname||"/",C=T;if(p!=="/"){let P=p.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(P.length).join("/")}let B=Y4(n,{pathname:C}),$=R6(B&&B.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:Ui([p,o.encodeLocation?o.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:Ui([p,o.encodeLocation?o.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),l,t,a);return e&&$?_.createElement(Dh.Provider,{value:{location:Fc({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:ji.Pop}},$):$}function w6(){let n=I6(),e=g6(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),t?_.createElement("pre",{style:o},t):null,null)}const T6=_.createElement(w6,null);class A6 extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?_.createElement(ra.Provider,{value:this.props.routeContext},_.createElement(Eb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function S6(n){let{routeContext:e,match:t,children:a}=n,o=_.useContext(Oh);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(ra.Provider,{value:e},a)}function R6(n,e,t,a){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),a===void 0&&(a=null),n==null){var l;if(!t)return null;if(t.errors)n=t.matches;else if((l=a)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,f=(o=t)==null?void 0:o.errors;if(f!=null){let b=u.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);b>=0||Et(!1),u=u.slice(0,Math.min(u.length,b+1))}let p=!1,y=-1;if(t&&a&&a.v7_partialHydration)for(let b=0;b<u.length;b++){let w=u[b];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=b),w.route.id){let{loaderData:T,errors:C}=t,B=w.route.loader&&T[w.route.id]===void 0&&(!C||C[w.route.id]===void 0);if(w.route.lazy||B){p=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}return u.reduceRight((b,w,T)=>{let C,B=!1,$=null,P=null;t&&(C=f&&w.route.id?f[w.route.id]:void 0,$=w.route.errorElement||T6,p&&(y<0&&T===0?(D6("route-fallback"),B=!0,P=null):y===T&&(B=!0,P=w.route.hydrateFallbackElement||null)));let re=e.concat(u.slice(0,T+1)),F=()=>{let G;return C?G=$:B?G=P:w.route.Component?G=_.createElement(w.route.Component,null):w.route.element?G=w.route.element:G=b,_.createElement(S6,{match:w,routeContext:{outlet:b,matches:re,isDataRoute:t!=null},children:G})};return t&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?_.createElement(A6,{location:t.location,revalidation:t.revalidation,component:$,error:C,children:F(),routeContext:{outlet:null,matches:re,isDataRoute:!0}}):F()},null)}var Ab=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(Ab||{}),Sb=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Sb||{});function k6(n){let e=_.useContext(Oh);return e||Et(!1),e}function N6(n){let e=_.useContext(xb);return e||Et(!1),e}function C6(n){let e=_.useContext(ra);return e||Et(!1),e}function Rb(n){let e=C6(),t=e.matches[e.matches.length-1];return t.route.id||Et(!1),t.route.id}function I6(){var n;let e=_.useContext(Eb),t=N6(),a=Rb();return e!==void 0?e:(n=t.errors)==null?void 0:n[a]}function O6(){let{router:n}=k6(Ab.UseNavigateStable),e=Rb(Sb.UseNavigateStable),t=_.useRef(!1);return wb(()=>{t.current=!0}),_.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,Fc({fromRouteId:e},l)))},[n,e])}const i2={};function D6(n,e,t){i2[n]||(i2[n]=!0)}function V6(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function s2(n){let{to:e,replace:t,state:a,relative:o}=n;cl()||Et(!1);let{future:l,static:u}=_.useContext(Ya),{matches:f}=_.useContext(ra),{pathname:p}=Qa(),y=Rn(),b=yg(e,pg(f,l.v7_relativeSplatPath),p,o==="path"),w=JSON.stringify(b);return _.useEffect(()=>y(JSON.parse(w),{replace:t,state:a,relative:o}),[y,w,o,t,a]),null}function kb(n){return b6(n.context)}function $t(n){Et(!1)}function M6(n){let{basename:e="/",children:t=null,location:a,navigationType:o=ji.Pop,navigator:l,static:u=!1,future:f}=n;cl()&&Et(!1);let p=e.replace(/^\/*/,"/"),y=_.useMemo(()=>({basename:p,navigator:l,static:u,future:Fc({v7_relativeSplatPath:!1},f)}),[p,f,l,u]);typeof a=="string"&&(a=ll(a));let{pathname:b="/",search:w="",hash:T="",state:C=null,key:B="default"}=a,$=_.useMemo(()=>{let P=Jo(b,p);return P==null?null:{location:{pathname:P,search:w,hash:T,state:C,key:B},navigationType:o}},[p,b,w,T,C,B,o]);return $==null?null:_.createElement(Ya.Provider,{value:y},_.createElement(Dh.Provider,{children:t,value:$}))}function L6(n){let{children:e,location:t}=n;return x6(V0(e),t)}new Promise(()=>{});function V0(n,e){e===void 0&&(e=[]);let t=[];return _.Children.forEach(n,(a,o)=>{if(!_.isValidElement(a))return;let l=[...e,o];if(a.type===_.Fragment){t.push.apply(t,V0(a.props.children,l));return}a.type!==$t&&Et(!1),!a.props.index||!a.props.children||Et(!1);let u={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=V0(a.props.children,l)),t.push(u)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sh(){return sh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},sh.apply(this,arguments)}function Nb(n,e){if(n==null)return{};var t={},a=Object.keys(n),o,l;for(l=0;l<a.length;l++)o=a[l],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function j6(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function P6(n,e){return n.button===0&&(!e||e==="_self")&&!j6(n)}function M0(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let a=n[t];return e.concat(Array.isArray(a)?a.map(o=>[t,o]):[[t,a]])},[]))}function U6(n,e){let t=M0(n);return e&&e.forEach((a,o)=>{t.has(o)||e.getAll(o).forEach(l=>{t.append(o,l)})}),t}const B6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],z6=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],F6="6";try{window.__reactRouterVersion=F6}catch{}const H6=_.createContext({isTransitioning:!1}),q6="startTransition",o2=P4[q6];function $6(n){let{basename:e,children:t,future:a,window:o}=n,l=_.useRef();l.current==null&&(l.current=G4({window:o,v5Compat:!0}));let u=l.current,[f,p]=_.useState({action:u.action,location:u.location}),{v7_startTransition:y}=a||{},b=_.useCallback(w=>{y&&o2?o2(()=>p(w)):p(w)},[p,y]);return _.useLayoutEffect(()=>u.listen(b),[u,b]),_.useEffect(()=>V6(a),[a]),_.createElement(M6,{basename:e,children:t,location:f.location,navigationType:f.action,navigator:u,future:a})}const G6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Z6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ln=_.forwardRef(function(e,t){let{onClick:a,relative:o,reloadDocument:l,replace:u,state:f,target:p,to:y,preventScrollReset:b,viewTransition:w}=e,T=Nb(e,B6),{basename:C}=_.useContext(Ya),B,$=!1;if(typeof y=="string"&&Z6.test(y)&&(B=y,G6))try{let G=new URL(window.location.href),X=y.startsWith("//")?new URL(G.protocol+y):new URL(y),ne=Jo(X.pathname,C);X.origin===G.origin&&ne!=null?y=ne+X.search+X.hash:$=!0}catch{}let P=y6(y,{relative:o}),re=Y6(y,{replace:u,state:f,target:p,preventScrollReset:b,relative:o,viewTransition:w});function F(G){a&&a(G),G.defaultPrevented||re(G)}return _.createElement("a",sh({},T,{href:B||P,onClick:$||l?a:F,ref:t,target:p}))}),Fo=_.forwardRef(function(e,t){let{"aria-current":a="page",caseSensitive:o=!1,className:l="",end:u=!1,style:f,to:p,viewTransition:y,children:b}=e,w=Nb(e,z6),T=Vh(p,{relative:w.relative}),C=Qa(),B=_.useContext(xb),{navigator:$,basename:P}=_.useContext(Ya),re=B!=null&&X6(T)&&y===!0,F=$.encodeLocation?$.encodeLocation(T).pathname:T.pathname,G=C.pathname,X=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;o||(G=G.toLowerCase(),X=X?X.toLowerCase():null,F=F.toLowerCase()),X&&P&&(X=Jo(X,P)||X);const ne=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let pe=G===F||!u&&G.startsWith(F)&&G.charAt(ne)==="/",O=X!=null&&(X===F||!u&&X.startsWith(F)&&X.charAt(F.length)==="/"),R={isActive:pe,isPending:O,isTransitioning:re},N=pe?a:void 0,D;typeof l=="function"?D=l(R):D=[l,pe?"active":null,O?"pending":null,re?"transitioning":null].filter(Boolean).join(" ");let j=typeof f=="function"?f(R):f;return _.createElement(Ln,sh({},w,{"aria-current":N,className:D,ref:t,style:j,to:p,viewTransition:y}),typeof b=="function"?b(R):b)});var L0;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(L0||(L0={}));var l2;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(l2||(l2={}));function K6(n){let e=_.useContext(Oh);return e||Et(!1),e}function Y6(n,e){let{target:t,replace:a,state:o,preventScrollReset:l,relative:u,viewTransition:f}=e===void 0?{}:e,p=Rn(),y=Qa(),b=Vh(n,{relative:u});return _.useCallback(w=>{if(P6(w,t)){w.preventDefault();let T=a!==void 0?a:ih(y)===ih(b);p(n,{replace:T,state:o,preventScrollReset:l,relative:u,viewTransition:f})}},[y,p,b,a,o,t,n,l,u,f])}function Q6(n){let e=_.useRef(M0(n)),t=_.useRef(!1),a=Qa(),o=_.useMemo(()=>U6(a.search,t.current?null:e.current),[a.search]),l=Rn(),u=_.useCallback((f,p)=>{const y=M0(typeof f=="function"?f(o):f);t.current=!0,l("?"+y,p)},[l,o]);return[o,u]}function X6(n,e){e===void 0&&(e={});let t=_.useContext(H6);t==null&&Et(!1);let{basename:a}=K6(L0.useViewTransitionState),o=Vh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Jo(t.currentLocation.pathname,a)||t.currentLocation.pathname,u=Jo(t.nextLocation.pathname,a)||t.nextLocation.pathname;return D0(o.pathname,u)!=null||D0(o.pathname,l)!=null}let W6={data:""},J6=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||W6,eA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,tA=/\/\*[^]*?\*\/|  +/g,c2=/\n+/g,Ci=(n,e)=>{let t="",a="",o="";for(let l in n){let u=n[l];l[0]=="@"?l[1]=="i"?t=l+" "+u+";":a+=l[1]=="f"?Ci(u,l):l+"{"+Ci(u,l[1]=="k"?"":e)+"}":typeof u=="object"?a+=Ci(u,e?e.replace(/([^,])+/g,f=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,f):f?f+" "+p:p)):l):u!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Ci.p?Ci.p(l,u):l+":"+u+";")}return t+(e&&o?e+"{"+o+"}":o)+a},ja={},Cb=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+Cb(n[t]);return e}return n},nA=(n,e,t,a,o)=>{let l=Cb(n),u=ja[l]||(ja[l]=(p=>{let y=0,b=11;for(;y<p.length;)b=101*b+p.charCodeAt(y++)>>>0;return"go"+b})(l));if(!ja[u]){let p=l!==n?n:(y=>{let b,w,T=[{}];for(;b=eA.exec(y.replace(tA,""));)b[4]?T.shift():b[3]?(w=b[3].replace(c2," ").trim(),T.unshift(T[0][w]=T[0][w]||{})):T[0][b[1]]=b[2].replace(c2," ").trim();return T[0]})(n);ja[u]=Ci(o?{["@keyframes "+u]:p}:p,t?"":"."+u)}let f=t&&ja.g?ja.g:null;return t&&(ja.g=ja[u]),((p,y,b,w)=>{w?y.data=y.data.replace(w,p):y.data.indexOf(p)===-1&&(y.data=b?p+y.data:y.data+p)})(ja[u],e,a,f),u},rA=(n,e,t)=>n.reduce((a,o,l)=>{let u=e[l];if(u&&u.call){let f=u(t),p=f&&f.props&&f.props.className||/^go/.test(f)&&f;u=p?"."+p:f&&typeof f=="object"?f.props?"":Ci(f,""):f===!1?"":f}return a+o+(u??"")},"");function Mh(n){let e=this||{},t=n.call?n(e.p):n;return nA(t.unshift?t.raw?rA(t,[].slice.call(arguments,1),e.p):t.reduce((a,o)=>Object.assign(a,o&&o.call?o(e.p):o),{}):t,J6(e.target),e.g,e.o,e.k)}let Ib,j0,P0;Mh.bind({g:1});let Ha=Mh.bind({k:1});function aA(n,e,t,a){Ci.p=e,Ib=n,j0=t,P0=a}function Wi(n,e){let t=this||{};return function(){let a=arguments;function o(l,u){let f=Object.assign({},l),p=f.className||o.className;t.p=Object.assign({theme:j0&&j0()},f),t.o=/ *go\d+/.test(p),f.className=Mh.apply(t,a)+(p?" "+p:"");let y=n;return n[0]&&(y=f.as||n,delete f.as),P0&&y[0]&&P0(f),Ib(y,f)}return o}}var iA=n=>typeof n=="function",oh=(n,e)=>iA(n)?n(e):n,sA=(()=>{let n=0;return()=>(++n).toString()})(),Ob=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),oA=20,Db=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,oA)};case 1:return{...n,toasts:n.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:t}=e;return Db(n,{type:n.toasts.find(l=>l.id===t.id)?1:0,toast:t});case 3:let{toastId:a}=e;return{...n,toasts:n.toasts.map(l=>l.id===a||a===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let o=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+o}))}}},Zd=[],Vs={toasts:[],pausedAt:void 0},Gs=n=>{Vs=Db(Vs,n),Zd.forEach(e=>{e(Vs)})},lA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},cA=(n={})=>{let[e,t]=_.useState(Vs),a=_.useRef(Vs);_.useEffect(()=>(a.current!==Vs&&t(Vs),Zd.push(t),()=>{let l=Zd.indexOf(t);l>-1&&Zd.splice(l,1)}),[]);let o=e.toasts.map(l=>{var u,f,p;return{...n,...n[l.type],...l,removeDelay:l.removeDelay||((u=n[l.type])==null?void 0:u.removeDelay)||(n==null?void 0:n.removeDelay),duration:l.duration||((f=n[l.type])==null?void 0:f.duration)||(n==null?void 0:n.duration)||lA[l.type],style:{...n.style,...(p=n[l.type])==null?void 0:p.style,...l.style}}});return{...e,toasts:o}},uA=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||sA()}),nu=n=>(e,t)=>{let a=uA(e,n,t);return Gs({type:2,toast:a}),a.id},Sn=(n,e)=>nu("blank")(n,e);Sn.error=nu("error");Sn.success=nu("success");Sn.loading=nu("loading");Sn.custom=nu("custom");Sn.dismiss=n=>{Gs({type:3,toastId:n})};Sn.remove=n=>Gs({type:4,toastId:n});Sn.promise=(n,e,t)=>{let a=Sn.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(o=>{let l=e.success?oh(e.success,o):void 0;return l?Sn.success(l,{id:a,...t,...t==null?void 0:t.success}):Sn.dismiss(a),o}).catch(o=>{let l=e.error?oh(e.error,o):void 0;l?Sn.error(l,{id:a,...t,...t==null?void 0:t.error}):Sn.dismiss(a)}),n};var dA=(n,e)=>{Gs({type:1,toast:{id:n,height:e}})},hA=()=>{Gs({type:5,time:Date.now()})},Ic=new Map,fA=1e3,mA=(n,e=fA)=>{if(Ic.has(n))return;let t=setTimeout(()=>{Ic.delete(n),Gs({type:4,toastId:n})},e);Ic.set(n,t)},gA=n=>{let{toasts:e,pausedAt:t}=cA(n);_.useEffect(()=>{if(t)return;let l=Date.now(),u=e.map(f=>{if(f.duration===1/0)return;let p=(f.duration||0)+f.pauseDuration-(l-f.createdAt);if(p<0){f.visible&&Sn.dismiss(f.id);return}return setTimeout(()=>Sn.dismiss(f.id),p)});return()=>{u.forEach(f=>f&&clearTimeout(f))}},[e,t]);let a=_.useCallback(()=>{t&&Gs({type:6,time:Date.now()})},[t]),o=_.useCallback((l,u)=>{let{reverseOrder:f=!1,gutter:p=8,defaultPosition:y}=u||{},b=e.filter(C=>(C.position||y)===(l.position||y)&&C.height),w=b.findIndex(C=>C.id===l.id),T=b.filter((C,B)=>B<w&&C.visible).length;return b.filter(C=>C.visible).slice(...f?[T+1]:[0,T]).reduce((C,B)=>C+(B.height||0)+p,0)},[e]);return _.useEffect(()=>{e.forEach(l=>{if(l.dismissed)mA(l.id,l.removeDelay);else{let u=Ic.get(l.id);u&&(clearTimeout(u),Ic.delete(l.id))}})},[e]),{toasts:e,handlers:{updateHeight:dA,startPause:hA,endPause:a,calculateOffset:o}}},pA=Ha`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,yA=Ha`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vA=Ha`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_A=Wi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${yA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${vA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,bA=Ha`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,xA=Wi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${bA} 1s linear infinite;
`,EA=Ha`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,wA=Ha`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,TA=Wi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${EA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${wA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,AA=Wi("div")`
  position: absolute;
`,SA=Wi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,RA=Ha`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kA=Wi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${RA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,NA=({toast:n})=>{let{icon:e,type:t,iconTheme:a}=n;return e!==void 0?typeof e=="string"?_.createElement(kA,null,e):e:t==="blank"?null:_.createElement(SA,null,_.createElement(xA,{...a}),t!=="loading"&&_.createElement(AA,null,t==="error"?_.createElement(_A,{...a}):_.createElement(TA,{...a})))},CA=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,IA=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,OA="0%{opacity:0;} 100%{opacity:1;}",DA="0%{opacity:1;} 100%{opacity:0;}",VA=Wi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,MA=Wi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,LA=(n,e)=>{let t=n.includes("top")?1:-1,[a,o]=Ob()?[OA,DA]:[CA(t),IA(t)];return{animation:e?`${Ha(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ha(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},jA=_.memo(({toast:n,position:e,style:t,children:a})=>{let o=n.height?LA(n.position||e||"top-center",n.visible):{opacity:0},l=_.createElement(NA,{toast:n}),u=_.createElement(MA,{...n.ariaProps},oh(n.message,n));return _.createElement(VA,{className:n.className,style:{...o,...t,...n.style}},typeof a=="function"?a({icon:l,message:u}):_.createElement(_.Fragment,null,l,u))});aA(_.createElement);var PA=({id:n,className:e,style:t,onHeightUpdate:a,children:o})=>{let l=_.useCallback(u=>{if(u){let f=()=>{let p=u.getBoundingClientRect().height;a(n,p)};f(),new MutationObserver(f).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[n,a]);return _.createElement("div",{ref:l,className:e,style:t},o)},UA=(n,e)=>{let t=n.includes("top"),a=t?{top:0}:{bottom:0},o=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ob()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...a,...o}},BA=Mh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Pd=16,Zs=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:a,children:o,containerStyle:l,containerClassName:u})=>{let{toasts:f,handlers:p}=gA(t);return _.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Pd,left:Pd,right:Pd,bottom:Pd,pointerEvents:"none",...l},className:u,onMouseEnter:p.startPause,onMouseLeave:p.endPause},f.map(y=>{let b=y.position||e,w=p.calculateOffset(y,{reverseOrder:n,gutter:a,defaultPosition:e}),T=UA(b,w);return _.createElement(PA,{id:y.id,key:y.id,onHeightUpdate:p.updateHeight,className:y.visible?BA:"",style:T},y.type==="custom"?oh(y.message,y):o?o(y):_.createElement(jA,{toast:y,position:b}))}))},xt=Sn;const zA=()=>{};var u2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=function(n){const e=[];let t=0;for(let a=0;a<n.length;a++){let o=n.charCodeAt(a);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&a+1<n.length&&(n.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++a)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},FA=function(n){const e=[];let t=0,a=0;for(;t<n.length;){const o=n[t++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[a++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],u=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],u=n[t++];e[a++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Mb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<n.length;o+=3){const l=n[o],u=o+1<n.length,f=u?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,b=l>>2,w=(l&3)<<4|f>>4;let T=(f&15)<<2|y>>6,C=y&63;p||(C=64,u||(T=64)),a.push(t[b],t[w],t[T],t[C])}return a.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Vb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):FA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||y==null||w==null)throw new HA;const T=l<<2|f>>4;if(a.push(T),y!==64){const C=f<<4&240|y>>2;if(a.push(C),w!==64){const B=y<<6&192|w;a.push(B)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class HA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qA=function(n){const e=Vb(n);return Mb.encodeByteArray(e,!0)},lh=function(n){return qA(n).replace(/\./g,"")},Lb=function(n){try{return Mb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=()=>$A().__FIREBASE_DEFAULTS__,ZA=()=>{if(typeof process>"u"||typeof u2>"u")return;const n=u2.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},KA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Lb(n[1]);return e&&JSON.parse(e)},Lh=()=>{try{return zA()||GA()||ZA()||KA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},jb=n=>{var e,t;return(t=(e=Lh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Pb=n=>{const e=jb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},Ub=()=>{var n;return(n=Lh())===null||n===void 0?void 0:n.config},Bb=n=>{var e;return(e=Lh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(n){return n.endsWith(".cloudworkstations.dev")}async function vg(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[lh(JSON.stringify(t)),lh(JSON.stringify(u)),""].join(".")}const Oc={};function QA(){const n={prod:[],emulator:[]};for(const e of Object.keys(Oc))Oc[e]?n.emulator.push(e):n.prod.push(e);return n}function XA(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let d2=!1;function _g(n,e){if(typeof window>"u"||typeof document>"u"||!Ji(window.location.host)||Oc[n]===e||Oc[n]||d2)return;Oc[n]=e;function t(T){return`__firebase__banner__${T}`}const a="__firebase__banner",l=QA().prod.length>0;function u(){const T=document.getElementById(a);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{d2=!0,u()},T}function b(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=XA(a),C=t("text"),B=document.getElementById(C)||document.createElement("span"),$=t("learnmore"),P=document.getElementById($)||document.createElement("a"),re=t("preprendIcon"),F=document.getElementById(re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const G=T.element;f(G),b(P,$);const X=y();p(F,re),G.append(F,B,P,X),document.body.appendChild(G)}l?(B.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function JA(){var n;const e=(n=Lh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function t5(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function n5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r5(){const n=_n();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function a5(){return!JA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function i5(){try{return typeof indexedDB=="object"}catch{return!1}}function s5(){return new Promise((n,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(a),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="FirebaseError";class aa extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=o5,Object.setPrototypeOf(this,aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ru.prototype.create)}}class ru{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?l5(l,a):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new aa(o,f,a)}}function l5(n,e){return n.replace(c5,(t,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const c5=/\{\$([^}]+)}/g;function u5(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Us(n,e){if(n===e)return!0;const t=Object.keys(n),a=Object.keys(e);for(const o of t){if(!a.includes(o))return!1;const l=n[o],u=e[o];if(h2(l)&&h2(u)){if(!Us(l,u))return!1}else if(l!==u)return!1}for(const o of a)if(!t.includes(o))return!1;return!0}function h2(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(n){const e=[];for(const[t,a]of Object.entries(n))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Ac(n){const e={};return n.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,l]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Sc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function d5(n,e){const t=new h5(n,e);return t.subscribe.bind(t)}class h5{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let o;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");f5(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:a},o.next===void 0&&(o.next=y0),o.error===void 0&&(o.error=y0),o.complete===void 0&&(o.complete=y0);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f5(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function y0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(n){return n&&n._delegate?n._delegate:n}class qi{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new YA;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p5(e))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});a.resolve(l)}catch{}}}}clearInstance(e=Os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Os){return this.instances.has(e)}getOptions(e=Os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);a===f&&u.resolve(o)}return o}onInit(e,t){var a;const o=this.normalizeInstanceIdentifier(t),l=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;l.add(e),this.onInitCallbacks.set(o,l);const u=this.instances.get(o);return u&&e(u,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const o of a)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:g5(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Os){return this.component?this.component.multipleInstances?e:Os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g5(n){return n===Os?void 0:n}function p5(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new m5(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ke||(Ke={}));const v5={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},_5=Ke.INFO,b5={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},x5=(n,e,...t)=>{if(e<n.logLevel)return;const a=new Date().toISOString(),o=b5[e];if(o)console[o](`[${a}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bg{constructor(e){this.name=e,this._logLevel=_5,this._logHandler=x5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?v5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const E5=(n,e)=>e.some(t=>n instanceof t);let f2,m2;function w5(){return f2||(f2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T5(){return m2||(m2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fb=new WeakMap,U0=new WeakMap,Hb=new WeakMap,v0=new WeakMap,xg=new WeakMap;function A5(n){const e=new Promise((t,a)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(Bi(n.result)),o()},u=()=>{a(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Fb.set(t,n)}).catch(()=>{}),xg.set(e,n),e}function S5(n){if(U0.has(n))return;const e=new Promise((t,a)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{a(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});U0.set(n,e)}let B0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return U0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Hb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function R5(n){B0=n(B0)}function k5(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=n.call(_0(this),e,...t);return Hb.set(a,e.sort?e.sort():[e]),Bi(a)}:T5().includes(n)?function(...e){return n.apply(_0(this),e),Bi(Fb.get(this))}:function(...e){return Bi(n.apply(_0(this),e))}}function N5(n){return typeof n=="function"?k5(n):(n instanceof IDBTransaction&&S5(n),E5(n,w5())?new Proxy(n,B0):n)}function Bi(n){if(n instanceof IDBRequest)return A5(n);if(v0.has(n))return v0.get(n);const e=N5(n);return e!==n&&(v0.set(n,e),xg.set(e,n)),e}const _0=n=>xg.get(n);function C5(n,e,{blocked:t,upgrade:a,blocking:o,terminated:l}={}){const u=indexedDB.open(n,e),f=Bi(u);return a&&u.addEventListener("upgradeneeded",p=>{a(Bi(u.result),p.oldVersion,p.newVersion,Bi(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const I5=["get","getKey","getAll","getAllKeys","count"],O5=["put","add","delete","clear"],b0=new Map;function g2(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(b0.get(e))return b0.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,o=O5.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(o||I5.includes(t)))return;const l=async function(u,...f){const p=this.transaction(u,o?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return b0.set(e,l),l}R5(n=>({...n,get:(e,t,a)=>g2(e,t)||n.get(e,t,a),has:(e,t)=>!!g2(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(V5(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function V5(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const z0="@firebase/app",p2="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new bg("@firebase/app"),M5="@firebase/app-compat",L5="@firebase/analytics-compat",j5="@firebase/analytics",P5="@firebase/app-check-compat",U5="@firebase/app-check",B5="@firebase/auth",z5="@firebase/auth-compat",F5="@firebase/database",H5="@firebase/data-connect",q5="@firebase/database-compat",$5="@firebase/functions",G5="@firebase/functions-compat",Z5="@firebase/installations",K5="@firebase/installations-compat",Y5="@firebase/messaging",Q5="@firebase/messaging-compat",X5="@firebase/performance",W5="@firebase/performance-compat",J5="@firebase/remote-config",e3="@firebase/remote-config-compat",t3="@firebase/storage",n3="@firebase/storage-compat",r3="@firebase/firestore",a3="@firebase/ai",i3="@firebase/firestore-compat",s3="firebase",o3="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="[DEFAULT]",l3={[z0]:"fire-core",[M5]:"fire-core-compat",[j5]:"fire-analytics",[L5]:"fire-analytics-compat",[U5]:"fire-app-check",[P5]:"fire-app-check-compat",[B5]:"fire-auth",[z5]:"fire-auth-compat",[F5]:"fire-rtdb",[H5]:"fire-data-connect",[q5]:"fire-rtdb-compat",[$5]:"fire-fn",[G5]:"fire-fn-compat",[Z5]:"fire-iid",[K5]:"fire-iid-compat",[Y5]:"fire-fcm",[Q5]:"fire-fcm-compat",[X5]:"fire-perf",[W5]:"fire-perf-compat",[J5]:"fire-rc",[e3]:"fire-rc-compat",[t3]:"fire-gcs",[n3]:"fire-gcs-compat",[r3]:"fire-fst",[i3]:"fire-fst-compat",[a3]:"fire-vertex","fire-js":"fire-js",[s3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,c3=new Map,H0=new Map;function y2(n,e){try{n.container.addComponent(e)}catch(t){qa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Bs(n){const e=n.name;if(H0.has(e))return qa.debug(`There were multiple attempts to register component ${e}.`),!1;H0.set(e,n);for(const t of ch.values())y2(t,n);for(const t of c3.values())y2(t,n);return!0}function jh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Kn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zi=new ru("app","Firebase",u3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e,t,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=o3;function qb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const a=Object.assign({name:F0,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw zi.create("bad-app-name",{appName:String(o)});if(t||(t=Ub()),!t)throw zi.create("no-options");const l=ch.get(o);if(l){if(Us(t,l.options)&&Us(a,l.config))return l;throw zi.create("duplicate-app",{appName:o})}const u=new y5(o);for(const p of H0.values())u.addComponent(p);const f=new d3(t,a,u);return ch.set(o,f),f}function Eg(n=F0){const e=ch.get(n);if(!e&&n===F0&&Ub())return qb();if(!e)throw zi.create("no-app",{appName:n});return e}function Qr(n,e,t){var a;let o=(a=l3[n])!==null&&a!==void 0?a:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qa.warn(f.join(" "));return}Bs(new qi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3="firebase-heartbeat-database",f3=1,Hc="firebase-heartbeat-store";let x0=null;function $b(){return x0||(x0=C5(h3,f3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Hc)}catch(t){console.warn(t)}}}}).catch(n=>{throw zi.create("idb-open",{originalErrorMessage:n.message})})),x0}async function m3(n){try{const t=(await $b()).transaction(Hc),a=await t.objectStore(Hc).get(Gb(n));return await t.done,a}catch(e){if(e instanceof aa)qa.warn(e.message);else{const t=zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qa.warn(t.message)}}}async function v2(n,e){try{const a=(await $b()).transaction(Hc,"readwrite");await a.objectStore(Hc).put(e,Gb(n)),await a.done}catch(t){if(t instanceof aa)qa.warn(t.message);else{const a=zi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});qa.warn(a.message)}}}function Gb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=1024,p3=30;class y3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _3(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=_2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>p3){const u=b3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){qa.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_2(),{heartbeatsToSend:a,unsentEntries:o}=v3(this._heartbeatsCache.heartbeats),l=lh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return qa.warn(t),""}}}function _2(){return new Date().toISOString().substring(0,10)}function v3(n,e=g3){const t=[];let a=n.slice();for(const o of n){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),b2(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),b2(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class _3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i5()?s5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await m3(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return v2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return v2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function b2(n){return lh(JSON.stringify({version:2,heartbeats:n})).length}function b3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let a=1;a<n.length;a++)n[a].date<t&&(t=n[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(n){Bs(new qi("platform-logger",e=>new D5(e),"PRIVATE")),Bs(new qi("heartbeat",e=>new y3(e),"PRIVATE")),Qr(z0,p2,n),Qr(z0,p2,"esm2017"),Qr("fire-js","")}x3("");function wg(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(t[a[o]]=n[a[o]]);return t}function Zb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const E3=Zb,Kb=new ru("auth","Firebase",Zb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new bg("@firebase/auth");function w3(n,...e){uh.logLevel<=Ke.WARN&&uh.warn(`Auth (${Ks}): ${n}`,...e)}function Kd(n,...e){uh.logLevel<=Ke.ERROR&&uh.error(`Auth (${Ks}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(n,...e){throw Tg(n,...e)}function Xr(n,...e){return Tg(n,...e)}function Yb(n,e,t){const a=Object.assign(Object.assign({},E3()),{[e]:t});return new ru("auth","Firebase",a).create(e,{appName:n.name})}function za(n){return Yb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tg(n,...e){if(typeof n!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=n.name),n._errorFactory.create(t,...a)}return Kb.create(n,...e)}function Re(n,e,...t){if(!n)throw Tg(e,...t)}function Ua(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Kd(e),new Error(e)}function $a(n,e){n||Ua(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function T3(){return x2()==="http:"||x2()==="https:"}function x2(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T3()||t5()||"connection"in navigator)?navigator.onLine:!0}function S3(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,t){this.shortDelay=e,this.longDelay=t,$a(t>e,"Short delay should be less than long delay!"),this.isMobile=WA()||n5()}get(){return A3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(n,e){$a(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ua("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ua("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ua("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],N3=new iu(3e4,6e4);function Rr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function fr(n,e,t,a,o={}){return Xb(n,o,async()=>{let l={},u={};a&&(e==="GET"?u=a:l={body:JSON.stringify(a)});const f=au(Object.assign({key:n.config.apiKey},u)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return e5()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Ji(n.emulatorConfig.host)&&(y.credentials="include"),Qb.fetch()(await Wb(n,n.config.apiHost,t,f),y)})}async function Xb(n,e,t){n._canInitEmulator=!1;const a=Object.assign(Object.assign({},R3),e);try{const o=new I3(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Ud(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ud(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Ud(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw Ud(n,"user-disabled",u);const b=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Yb(n,b,y);hr(n,b)}}catch(o){if(o instanceof aa)throw o;hr(n,"network-request-failed",{message:String(o)})}}async function su(n,e,t,a,o={}){const l=await fr(n,e,t,a,o);return"mfaPendingCredential"in l&&hr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Wb(n,e,t,a){const o=`${e}${t}?${a}`,l=n,u=l.config.emulator?Ag(n.config,o):`${n.config.apiScheme}://${o}`;return k3.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function C3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class I3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(Xr(this.auth,"network-request-failed")),N3.get())})}}function Ud(n,e,t){const a={appName:n.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const o=Xr(n,e,a);return o.customData._tokenResponse=t,o}function E2(n){return n!==void 0&&n.enterprise!==void 0}class O3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return C3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function D3(n,e){return fr(n,"GET","/v2/recaptchaConfig",Rr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V3(n,e){return fr(n,"POST","/v1/accounts:delete",e)}async function dh(n,e){return fr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M3(n,e=!1){const t=lt(n),a=await t.getIdToken(e),o=Sg(a);Re(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:o,token:a,authTime:Dc(E0(o.auth_time)),issuedAtTime:Dc(E0(o.iat)),expirationTime:Dc(E0(o.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function E0(n){return Number(n)*1e3}function Sg(n){const[e,t,a]=n.split(".");if(e===void 0||t===void 0||a===void 0)return Kd("JWT malformed, contained fewer than 3 sections"),null;try{const o=Lb(t);return o?JSON.parse(o):(Kd("Failed to decode base64 JWT payload"),null)}catch(o){return Kd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function w2(n){const e=Sg(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(n,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof aa&&L3(a)&&n.auth.currentUser===n&&await n.auth.signOut(),a}}function L3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dc(this.lastLoginAt),this.creationTime=Dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(n){var e;const t=n.auth,a=await n.getIdToken(),o=await el(n,dh(t,{idToken:a}));Re(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Jb(l.providerUserInfo):[],f=U3(n.providerData,u),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),b=p?y:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new $0(l.createdAt,l.lastLoginAt),isAnonymous:b};Object.assign(n,w)}async function P3(n){const e=lt(n);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U3(n,e){return[...n.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Jb(n){return n.map(e=>{var{providerId:t}=e,a=wg(e,["providerId"]);return{providerId:t,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B3(n,e){const t=await Xb(n,{},async()=>{const a=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,u=await Wb(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:a};return n.emulatorConfig&&Ji(n.emulatorConfig.host)&&(p.credentials="include"),Qb.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function z3(n,e){return fr(n,"POST","/v2/accounts:revokeToken",Rr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):w2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=w2(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:o,expiresIn:l}=await B3(e,t);this.updateTokensAndExpiration(a,o,Number(l))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:o,expirationTime:l}=t,u=new Yo;return a&&(Re(typeof a=="string","internal-error",{appName:e}),u.refreshToken=a),o&&(Re(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(Re(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return Ua("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ar{constructor(e){var{uid:t,auth:a,stsTokenManager:o}=e,l=wg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new j3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new $0(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await el(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return M3(this,e)}reload(){return P3(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ar(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await hh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(za(this.auth));const e=await this.getIdToken();return await el(this,V3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var a,o,l,u,f,p,y,b;const w=(a=t.displayName)!==null&&a!==void 0?a:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,C=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,B=(u=t.photoURL)!==null&&u!==void 0?u:void 0,$=(f=t.tenantId)!==null&&f!==void 0?f:void 0,P=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,re=(y=t.createdAt)!==null&&y!==void 0?y:void 0,F=(b=t.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:G,emailVerified:X,isAnonymous:ne,providerData:pe,stsTokenManager:O}=t;Re(G&&O,e,"internal-error");const R=Yo.fromJSON(this.name,O);Re(typeof G=="string",e,"internal-error"),Ni(w,e.name),Ni(T,e.name),Re(typeof X=="boolean",e,"internal-error"),Re(typeof ne=="boolean",e,"internal-error"),Ni(C,e.name),Ni(B,e.name),Ni($,e.name),Ni(P,e.name),Ni(re,e.name),Ni(F,e.name);const N=new Ar({uid:G,auth:e,email:T,emailVerified:X,displayName:w,isAnonymous:ne,photoURL:B,phoneNumber:C,tenantId:$,stsTokenManager:R,createdAt:re,lastLoginAt:F});return pe&&Array.isArray(pe)&&(N.providerData=pe.map(D=>Object.assign({},D))),P&&(N._redirectEventId=P),N}static async _fromIdTokenResponse(e,t,a=!1){const o=new Yo;o.updateFromServerResponse(t);const l=new Ar({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await hh(l),l}static async _fromGetAccountInfoResponse(e,t,a){const o=t.users[0];Re(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Jb(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new Yo;f.updateFromIdToken(a);const p=new Ar({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new $0(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new Map;function Ba(n){$a(n instanceof Function,"Expected a class definition");let e=T2.get(n);return e?($a(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,T2.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ex.type="NONE";const A2=ex;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(n,e,t){return`firebase:${n}:${e}:${t}`}class Qo{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:o,name:l}=this.auth;this.fullUserKey=Yd(this.userKey,o.apiKey,l),this.fullPersistenceKey=Yd("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await dh(this.auth,{idToken:e}).catch(()=>{});return t?Ar._fromGetAccountInfoResponse(this.auth,t,e):null}return Ar._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Qo(Ba(A2),e,a);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||Ba(A2);const u=Yd(a,e.config.apiKey,e.name);let f=null;for(const y of t)try{const b=await y._get(u);if(b){let w;if(typeof b=="string"){const T=await dh(e,{idToken:b}).catch(()=>{});if(!T)break;w=await Ar._fromGetAccountInfoResponse(e,T,b)}else w=Ar._fromJSON(e,b);y!==l&&(f=w),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Qo(l,e,a):(l=p[0],f&&await l._set(u,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(u)}catch{}})),new Qo(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ax(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sx(e))return"Blackberry";if(ox(e))return"Webos";if(nx(e))return"Safari";if((e.includes("chrome/")||rx(e))&&!e.includes("edge/"))return"Chrome";if(ix(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=n.match(t);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function tx(n=_n()){return/firefox\//i.test(n)}function nx(n=_n()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rx(n=_n()){return/crios\//i.test(n)}function ax(n=_n()){return/iemobile/i.test(n)}function ix(n=_n()){return/android/i.test(n)}function sx(n=_n()){return/blackberry/i.test(n)}function ox(n=_n()){return/webos/i.test(n)}function Rg(n=_n()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function F3(n=_n()){var e;return Rg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function H3(){return r5()&&document.documentMode===10}function lx(n=_n()){return Rg(n)||ix(n)||ox(n)||sx(n)||/windows phone/i.test(n)||ax(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(n,e=[]){let t;switch(n){case"Browser":t=S2(_n());break;case"Worker":t=`${S2(_n())}-${n}`;break;default:t=n}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ks}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=l=>new Promise((u,f)=>{try{const p=e(l);u(p)}catch(p){f(p)}});a.onAbort=t,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $3(n,e={}){return fr(n,"GET","/v2/passwordPolicy",Rr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=6;class Z3{constructor(e){var t,a,o,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:G3,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,a,o,l,u,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsNumericCharacter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,t,a,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R2(this),this.idTokenSubscription=new R2(this),this.beforeStateQueue=new q3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ba(t)),this._initializationPromise=this.queue(async()=>{var a,o,l;if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await dh(this,{idToken:e}),a=await Ar._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Kn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=S3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(za(this));const t=e?lt(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ba(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $3(this),t=new Z3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ru("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await z3(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ba(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Ba(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,a;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,a,o);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(t["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&w3(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Xa(n){return lt(n)}class R2{constructor(e){this.auth=e,this.observer=null,this.addObserver=d5(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y3(n){Ph=n}function ux(n){return Ph.loadJS(n)}function Q3(){return Ph.recaptchaEnterpriseScript}function X3(){return Ph.gapiScript}function W3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class J3{constructor(){this.enterprise=new e8}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class e8{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const t8="recaptcha-enterprise",dx="NO_RECAPTCHA";class n8{constructor(e){this.type=t8,this.auth=Xa(e)}async verify(e="verify",t=!1){async function a(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{D3(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const y=new O3(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,u(y.siteKey)}}).catch(p=>{f(p)})})}function o(l,u,f){const p=window.grecaptcha;E2(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{u(y)}).catch(()=>{u(dx)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new J3().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{a(this.auth).then(f=>{if(!t&&E2(window.grecaptcha))o(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Q3();p.length!==0&&(p+=f),ux(p).then(()=>{o(f,l,u)}).catch(y=>{u(y)})}}).catch(f=>{u(f)})})}}async function k2(n,e,t,a=!1,o=!1){const l=new n8(n);let u;if(o)u=dx;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,y=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return a?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function fh(n,e,t,a,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await k2(n,e,t,t==="getOobCode");return a(n,u)}else return a(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await k2(n,e,t,t==="getOobCode");return a(n,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(n,e){const t=jh(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Us(l,e??{}))return o;hr(o,"already-initialized")}return t.initialize({options:e})}function a8(n,e){const t=(e==null?void 0:e.persistence)||[],a=(Array.isArray(t)?t:[t]).map(Ba);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function i8(n,e,t){const a=Xa(n);Re(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,l=hx(e),{host:u,port:f}=s8(e),p=f===null?"":`:${f}`,y={url:`${l}//${u}${p}/`},b=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Re(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Re(Us(y,a.config.emulator)&&Us(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,Ji(u)?(vg(`${l}//${u}${p}`),_g("Auth",!0)):o8()}function hx(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function s8(n){const e=hx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const l=o[1];return{host:l,port:N2(a.substr(l.length+1))}}else{const[l,u]=a.split(":");return{host:l,port:N2(u)}}}function N2(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function o8(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ua("not implemented")}_getIdTokenResponse(e){return Ua("not implemented")}_linkToIdToken(e,t){return Ua("not implemented")}_getReauthenticationResolver(e){return Ua("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fx(n,e){return fr(n,"POST","/v1/accounts:resetPassword",Rr(n,e))}async function l8(n,e){return fr(n,"POST","/v1/accounts:signUp",e)}async function c8(n,e){return fr(n,"POST","/v1/accounts:update",Rr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u8(n,e){return su(n,"POST","/v1/accounts:signInWithPassword",Rr(n,e))}async function mx(n,e){return fr(n,"POST","/v1/accounts:sendOobCode",Rr(n,e))}async function d8(n,e){return mx(n,e)}async function h8(n,e){return mx(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f8(n,e){return su(n,"POST","/v1/accounts:signInWithEmailLink",Rr(n,e))}async function m8(n,e){return su(n,"POST","/v1/accounts:signInWithEmailLink",Rr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends kg{constructor(e,t,a,o=null){super("password",a),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new qc(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new qc(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fh(e,t,"signInWithPassword",u8);case"emailLink":return f8(e,{email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fh(e,a,"signUpPassword",l8);case"emailLink":return m8(e,{idToken:t,email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(n,e){return su(n,"POST","/v1/accounts:signInWithIdp",Rr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8="http://localhost";class zs extends kg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=t,l=wg(t,["providerId","signInMethod"]);if(!a||!o)return null;const u=new zs(a,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Xo(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,Xo(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xo(e,t)}buildRequest(){const e={requestUri:g8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=au(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function y8(n){const e=Ac(Sc(n)).link,t=e?Ac(Sc(e)).deep_link_id:null,a=Ac(Sc(n)).deep_link_id;return(a?Ac(Sc(a)).link:null)||a||t||e||n}class Ng{constructor(e){var t,a,o,l,u,f;const p=Ac(Sc(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,b=(a=p.oobCode)!==null&&a!==void 0?a:null,w=p8((o=p.mode)!==null&&o!==void 0?o:null);Re(y&&b&&w,"argument-error"),this.apiKey=y,this.operation=w,this.code=b,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=p.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=y8(e);try{return new Ng(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.providerId=ul.PROVIDER_ID}static credential(e,t){return qc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=Ng.parseLink(t);return Re(a,"argument-error"),qc._fromEmailAndCode(e,a.code,a.tenantId)}}ul.PROVIDER_ID="password";ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends gx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends ou{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return Oi.credential(t,a)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends ou{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.GITHUB_SIGN_IN_METHOD="github.com";Di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends ou{constructor(){super("twitter.com")}static credential(e,t){return zs._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return Vi.credential(t,a)}catch{return null}}}Vi.TWITTER_SIGN_IN_METHOD="twitter.com";Vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v8(n,e){return su(n,"POST","/v1/accounts:signUp",Rr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,o=!1){const l=await Ar._fromIdTokenResponse(e,a,o),u=C2(a);return new Fs({user:l,providerId:u,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const o=C2(a);return new Fs({user:e,providerId:o,_tokenResponse:a,operationType:t})}}function C2(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends aa{constructor(e,t,a,o){var l;super(t.code,t.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,o){return new mh(e,t,a,o)}}function px(n,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(n,l,e,a):l})}async function _8(n,e,t=!1){const a=await el(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Fs._forOperation(n,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b8(n,e,t=!1){const{auth:a}=n;if(Kn(a.app))return Promise.reject(za(a));const o="reauthenticate";try{const l=await el(n,px(a,o,e,n),t);Re(l.idToken,a,"internal-error");const u=Sg(l.idToken);Re(u,a,"internal-error");const{sub:f}=u;return Re(n.uid===f,a,"user-mismatch"),Fs._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&hr(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yx(n,e,t=!1){if(Kn(n.app))return Promise.reject(za(n));const a="signIn",o=await px(n,a,e),l=await Fs._fromIdTokenResponse(n,a,o);return t||await n._updateCurrentUser(l.user),l}async function x8(n,e){return yx(Xa(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Ig._fromServerResponse(e,t):"totpInfo"in t?Og._fromServerResponse(e,t):hr(e,"internal-error")}}class Ig extends Cg{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Ig(t)}}class Og extends Cg{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Og(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(n,e,t){var a;Re(((a=t.url)===null||a===void 0?void 0:a.length)>0,n,"invalid-continue-uri"),Re(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),Re(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Re(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Re(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dg(n){const e=Xa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function E8(n,e,t){const a=Xa(n),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&vx(a,o,t),await fh(a,o,"getOobCode",h8)}async function w8(n,e,t){await fx(lt(n),{oobCode:e,newPassword:t}).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Dg(n),a})}async function T8(n,e){await c8(lt(n),{oobCode:e})}async function A8(n,e){const t=lt(n),a=await fx(t,{oobCode:e}),o=a.requestType;switch(Re(o,t,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Re(a.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Re(a.mfaInfo,t,"internal-error");default:Re(a.email,t,"internal-error")}let l=null;return a.mfaInfo&&(l=Cg._fromServerResponse(Xa(t),a.mfaInfo)),{data:{email:(a.requestType==="VERIFY_AND_CHANGE_EMAIL"?a.newEmail:a.email)||null,previousEmail:(a.requestType==="VERIFY_AND_CHANGE_EMAIL"?a.email:a.newEmail)||null,multiFactorInfo:l},operation:o}}async function S8(n,e){const{data:t}=await A8(lt(n),e);return t.email}async function R8(n,e,t){if(Kn(n.app))return Promise.reject(za(n));const a=Xa(n),u=await fh(a,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",v8).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Dg(n),p}),f=await Fs._fromIdTokenResponse(a,"signIn",u);return await a._updateCurrentUser(f.user),f}function k8(n,e,t){return Kn(n.app)?Promise.reject(za(n)):x8(lt(n),ul.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Dg(n),a})}async function _x(n,e){const t=lt(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&vx(t.auth,o,e);const{email:l}=await d8(t.auth,o);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N8(n,e){return fr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const a=lt(n),l={idToken:await a.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await el(a,N8(a.auth,l));a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null;const f=a.providerData.find(({providerId:p})=>p==="password");f&&(f.displayName=a.displayName,f.photoURL=a.photoURL),await a._updateTokensIfNecessary(u)}function C8(n,e,t,a){return lt(n).onIdTokenChanged(e,t,a)}function I8(n,e,t){return lt(n).beforeAuthStateChanged(e,t)}function bx(n,e,t,a){return lt(n).onAuthStateChanged(e,t,a)}function O8(n){return lt(n).signOut()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8=1e3,V8=10;class Ex extends xx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),o=this.localCache[t];a!==o&&e(t,o,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const a=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(a);!t&&this.localCache[a]===u||this.notifyListeners(a,u)},l=this.storage.getItem(a);H3()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,V8):o()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},D8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ex.type="LOCAL";const M8=Ex;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx extends xx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}wx.type="SESSION";const Tx=wx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const a=new Uh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:o,data:l}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const f=Array.from(u).map(async y=>y(t.origin,l)),p=await L8(f);t.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(n="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((f,p)=>{const y=Vg("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},a);u={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(b),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(T.data.response);break;default:clearTimeout(b),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function P8(n){Wr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function U8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B8(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function z8(){return Ax()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="firebaseLocalStorageDb",F8=1,ph="firebaseLocalStorage",Rx="fbase_key";class lu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bh(n,e){return n.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function H8(){const n=indexedDB.deleteDatabase(Sx);return new lu(n).toPromise()}function G0(){const n=indexedDB.open(Sx,F8);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const a=n.result;try{a.createObjectStore(ph,{keyPath:Rx})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const a=n.result;a.objectStoreNames.contains(ph)?e(a):(a.close(),await H8(),e(await G0()))})})}async function O2(n,e,t){const a=Bh(n,!0).put({[Rx]:e,value:t});return new lu(a).toPromise()}async function q8(n,e){const t=Bh(n,!1).get(e),a=await new lu(t).toPromise();return a===void 0?null:a.value}function D2(n,e){const t=Bh(n,!0).delete(e);return new lu(t).toPromise()}const $8=800,G8=3;class kx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await G0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>G8)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ax()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(z8()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await U8(),!this.activeServiceWorker)return;this.sender=new j8(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((t=a[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||B8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await G0();return await O2(e,gh,"1"),await D2(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>O2(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>q8(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>D2(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Bh(o,!1).getAll();return new lu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kx.type="LOCAL";const Z8=kx;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(n,e){return e?Ba(e):(Re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg extends kg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Y8(n){return yx(n.auth,new Mg(n),n.bypassAuthState)}function Q8(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),b8(t,new Mg(n),n.bypassAuthState)}async function X8(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),_8(t,new Mg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,t,a,o,l=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:o,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:a,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Y8;case"linkViaPopup":case"linkViaRedirect":return X8;case"reauthViaPopup":case"reauthViaRedirect":return Q8;default:hr(this.auth,"internal-error")}}resolve(e){$a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8=new iu(2e3,1e4);class Ko extends Nx{constructor(e,t,a,o,l){super(e,t,o,l),this.provider=a,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){$a(this.filter.length===1,"Popup operations only handle one event");const e=Vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,a;if(!((a=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W8.get())};e()}}Ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8="pendingRedirect",Qd=new Map;class eS extends Nx{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=Qd.get(this.auth._key());if(!e){try{const a=await tS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}Qd.set(this.auth._key(),e)}return this.bypassAuthState||Qd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tS(n,e){const t=aS(e),a=rS(n);if(!await a._isAvailable())return!1;const o=await a._get(t)==="true";return await a._remove(t),o}function nS(n,e){Qd.set(n._key(),e)}function rS(n){return Ba(n._redirectPersistence)}function aS(n){return Yd(J8,n.config.apiKey,n.name)}async function iS(n,e,t=!1){if(Kn(n.app))return Promise.reject(za(n));const a=Xa(n),o=K8(a,e),u=await new eS(a,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await a._persistUserIfCurrent(u.user),await a._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=10*60*1e3;class oS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lS(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var a;if(e.error&&!Cx(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";t.onError(Xr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sS&&this.cachedEventUids.clear(),this.cachedEventUids.has(V2(e))}saveEventToCache(e){this.cachedEventUids.add(V2(e)),this.lastProcessedEventTime=Date.now()}}function V2(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Cx({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lS(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cx(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cS(n,e={}){return fr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dS=/^https?/;async function hS(n){if(n.config.emulator)return;const{authorizedDomains:e}=await cS(n);for(const t of e)try{if(fS(t))return}catch{}hr(n,"unauthorized-domain")}function fS(n){const e=q0(),{protocol:t,hostname:a}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&a===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===a}if(!dS.test(t))return!1;if(uS.test(n))return a===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=new iu(3e4,6e4);function M2(){const n=Wr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function gS(n){return new Promise((e,t)=>{var a,o,l;function u(){M2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{M2(),t(Xr(n,"network-request-failed"))},timeout:mS.get()})}if(!((o=(a=Wr().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Wr().gapi)===null||l===void 0)&&l.load)u();else{const f=W3("iframefcb");return Wr()[f]=()=>{gapi.load?u():t(Xr(n,"network-request-failed"))},ux(`${X3()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Xd=null,e})}let Xd=null;function pS(n){return Xd=Xd||gS(n),Xd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=new iu(5e3,15e3),vS="__/auth/iframe",_S="emulator/auth/iframe",bS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ES(n){const e=n.config;Re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ag(e,_S):`https://${n.config.authDomain}/${vS}`,a={apiKey:e.apiKey,appName:n.name,v:Ks},o=xS.get(n.config.apiHost);o&&(a.eid=o);const l=n._getFrameworks();return l.length&&(a.fw=l.join(",")),`${t}?${au(a).slice(1)}`}async function wS(n){const e=await pS(n),t=Wr().gapi;return Re(t,n,"internal-error"),e.open({where:document.body,url:ES(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bS,dontclear:!0},a=>new Promise(async(o,l)=>{await a.restyle({setHideOnLeave:!1});const u=Xr(n,"network-request-failed"),f=Wr().setTimeout(()=>{l(u)},yS.get());function p(){Wr().clearTimeout(f),o(a)}a.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AS=500,SS=600,RS="_blank",kS="http://localhost";class L2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NS(n,e,t,a=AS,o=SS){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-a)/2,0).toString();let f="";const p=Object.assign(Object.assign({},TS),{width:a.toString(),height:o.toString(),top:l,left:u}),y=_n().toLowerCase();t&&(f=rx(y)?RS:t),tx(y)&&(e=e||kS,p.scrollbars="yes");const b=Object.entries(p).reduce((T,[C,B])=>`${T}${C}=${B},`,"");if(F3(y)&&f!=="_self")return CS(e||"",f),new L2(null);const w=window.open(e||"",f,b);Re(w,n,"popup-blocked");try{w.focus()}catch{}return new L2(w)}function CS(n,e){const t=document.createElement("a");t.href=n,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="__/auth/handler",OS="emulator/auth/handler",DS=encodeURIComponent("fac");async function j2(n,e,t,a,o,l){Re(n.config.authDomain,n,"auth-domain-config-required"),Re(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:a,v:Ks,eventId:o};if(e instanceof gx){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",u5(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,w]of Object.entries({}))u[b]=w}if(e instanceof ou){const b=e.getScopes().filter(w=>w!=="");b.length>0&&(u.scopes=b.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const b of Object.keys(f))f[b]===void 0&&delete f[b];const p=await n._getAppCheckToken(),y=p?`#${DS}=${encodeURIComponent(p)}`:"";return`${VS(n)}?${au(f).slice(1)}${y}`}function VS({config:n}){return n.emulator?Ag(n,OS):`https://${n.authDomain}/${IS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="webStorageSupport";class MS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tx,this._completeRedirectFn=iS,this._overrideRedirectResult=nS}async _openPopup(e,t,a,o){var l;$a((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await j2(e,t,a,q0(),o);return NS(e,u,Vg())}async _openRedirect(e,t,a,o){await this._originValidation(e);const l=await j2(e,t,a,q0(),o);return P8(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):($a(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await wS(e),a=new oS(e);return t.register("authEvent",o=>(Re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(w0,{type:w0},o=>{var l;const u=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[w0];u!==void 0&&t(!!u),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hS(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lx()||nx()||Rg()}}const LS=MS;var P2="@firebase/auth",U2="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function US(n){Bs(new qi("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=a.options;Re(u&&!u.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cx(n)},y=new K3(a,o,l,p);return a8(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),Bs(new qi("auth-internal",e=>{const t=Xa(e.getProvider("auth").getImmediate());return(a=>new jS(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(P2,U2,PS(n)),Qr(P2,U2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=5*60,zS=Bb("authIdTokenMaxAge")||BS;let B2=null;const FS=n=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>zS)return;const o=t==null?void 0:t.token;B2!==o&&(B2=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function HS(n=Eg()){const e=jh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=r8(n,{popupRedirectResolver:LS,persistence:[Z8,M8,Tx]}),a=Bb("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const u=FS(l.toString());I8(t,u,()=>u(t.currentUser)),C8(t,f=>u(f))}}const o=jb("auth");return o&&i8(t,`http://${o}`),t}function qS(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Y3({loadJS(n){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",n),a.onload=e,a.onerror=o=>{const l=Xr("internal-error");l.customData=o,t(l)},a.type="text/javascript",a.charset="UTF-8",qS().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});US("Browser");var $S="firebase",GS="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qr($S,GS,"app");var z2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fi,Ix;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function N(){}N.prototype=R.prototype,O.D=R.prototype,O.prototype=new N,O.prototype.constructor=O,O.C=function(D,j,L){for(var k=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)k[Le-2]=arguments[Le];return R.prototype[j].apply(D,k)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,N){N||(N=0);var D=Array(16);if(typeof R=="string")for(var j=0;16>j;++j)D[j]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(j=0;16>j;++j)D[j]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=O.g[0],N=O.g[1],j=O.g[2];var L=O.g[3],k=R+(L^N&(j^L))+D[0]+3614090360&4294967295;R=N+(k<<7&4294967295|k>>>25),k=L+(j^R&(N^j))+D[1]+3905402710&4294967295,L=R+(k<<12&4294967295|k>>>20),k=j+(N^L&(R^N))+D[2]+606105819&4294967295,j=L+(k<<17&4294967295|k>>>15),k=N+(R^j&(L^R))+D[3]+3250441966&4294967295,N=j+(k<<22&4294967295|k>>>10),k=R+(L^N&(j^L))+D[4]+4118548399&4294967295,R=N+(k<<7&4294967295|k>>>25),k=L+(j^R&(N^j))+D[5]+1200080426&4294967295,L=R+(k<<12&4294967295|k>>>20),k=j+(N^L&(R^N))+D[6]+2821735955&4294967295,j=L+(k<<17&4294967295|k>>>15),k=N+(R^j&(L^R))+D[7]+4249261313&4294967295,N=j+(k<<22&4294967295|k>>>10),k=R+(L^N&(j^L))+D[8]+1770035416&4294967295,R=N+(k<<7&4294967295|k>>>25),k=L+(j^R&(N^j))+D[9]+2336552879&4294967295,L=R+(k<<12&4294967295|k>>>20),k=j+(N^L&(R^N))+D[10]+4294925233&4294967295,j=L+(k<<17&4294967295|k>>>15),k=N+(R^j&(L^R))+D[11]+2304563134&4294967295,N=j+(k<<22&4294967295|k>>>10),k=R+(L^N&(j^L))+D[12]+1804603682&4294967295,R=N+(k<<7&4294967295|k>>>25),k=L+(j^R&(N^j))+D[13]+4254626195&4294967295,L=R+(k<<12&4294967295|k>>>20),k=j+(N^L&(R^N))+D[14]+2792965006&4294967295,j=L+(k<<17&4294967295|k>>>15),k=N+(R^j&(L^R))+D[15]+1236535329&4294967295,N=j+(k<<22&4294967295|k>>>10),k=R+(j^L&(N^j))+D[1]+4129170786&4294967295,R=N+(k<<5&4294967295|k>>>27),k=L+(N^j&(R^N))+D[6]+3225465664&4294967295,L=R+(k<<9&4294967295|k>>>23),k=j+(R^N&(L^R))+D[11]+643717713&4294967295,j=L+(k<<14&4294967295|k>>>18),k=N+(L^R&(j^L))+D[0]+3921069994&4294967295,N=j+(k<<20&4294967295|k>>>12),k=R+(j^L&(N^j))+D[5]+3593408605&4294967295,R=N+(k<<5&4294967295|k>>>27),k=L+(N^j&(R^N))+D[10]+38016083&4294967295,L=R+(k<<9&4294967295|k>>>23),k=j+(R^N&(L^R))+D[15]+3634488961&4294967295,j=L+(k<<14&4294967295|k>>>18),k=N+(L^R&(j^L))+D[4]+3889429448&4294967295,N=j+(k<<20&4294967295|k>>>12),k=R+(j^L&(N^j))+D[9]+568446438&4294967295,R=N+(k<<5&4294967295|k>>>27),k=L+(N^j&(R^N))+D[14]+3275163606&4294967295,L=R+(k<<9&4294967295|k>>>23),k=j+(R^N&(L^R))+D[3]+4107603335&4294967295,j=L+(k<<14&4294967295|k>>>18),k=N+(L^R&(j^L))+D[8]+1163531501&4294967295,N=j+(k<<20&4294967295|k>>>12),k=R+(j^L&(N^j))+D[13]+2850285829&4294967295,R=N+(k<<5&4294967295|k>>>27),k=L+(N^j&(R^N))+D[2]+4243563512&4294967295,L=R+(k<<9&4294967295|k>>>23),k=j+(R^N&(L^R))+D[7]+1735328473&4294967295,j=L+(k<<14&4294967295|k>>>18),k=N+(L^R&(j^L))+D[12]+2368359562&4294967295,N=j+(k<<20&4294967295|k>>>12),k=R+(N^j^L)+D[5]+4294588738&4294967295,R=N+(k<<4&4294967295|k>>>28),k=L+(R^N^j)+D[8]+2272392833&4294967295,L=R+(k<<11&4294967295|k>>>21),k=j+(L^R^N)+D[11]+1839030562&4294967295,j=L+(k<<16&4294967295|k>>>16),k=N+(j^L^R)+D[14]+4259657740&4294967295,N=j+(k<<23&4294967295|k>>>9),k=R+(N^j^L)+D[1]+2763975236&4294967295,R=N+(k<<4&4294967295|k>>>28),k=L+(R^N^j)+D[4]+1272893353&4294967295,L=R+(k<<11&4294967295|k>>>21),k=j+(L^R^N)+D[7]+4139469664&4294967295,j=L+(k<<16&4294967295|k>>>16),k=N+(j^L^R)+D[10]+3200236656&4294967295,N=j+(k<<23&4294967295|k>>>9),k=R+(N^j^L)+D[13]+681279174&4294967295,R=N+(k<<4&4294967295|k>>>28),k=L+(R^N^j)+D[0]+3936430074&4294967295,L=R+(k<<11&4294967295|k>>>21),k=j+(L^R^N)+D[3]+3572445317&4294967295,j=L+(k<<16&4294967295|k>>>16),k=N+(j^L^R)+D[6]+76029189&4294967295,N=j+(k<<23&4294967295|k>>>9),k=R+(N^j^L)+D[9]+3654602809&4294967295,R=N+(k<<4&4294967295|k>>>28),k=L+(R^N^j)+D[12]+3873151461&4294967295,L=R+(k<<11&4294967295|k>>>21),k=j+(L^R^N)+D[15]+530742520&4294967295,j=L+(k<<16&4294967295|k>>>16),k=N+(j^L^R)+D[2]+3299628645&4294967295,N=j+(k<<23&4294967295|k>>>9),k=R+(j^(N|~L))+D[0]+4096336452&4294967295,R=N+(k<<6&4294967295|k>>>26),k=L+(N^(R|~j))+D[7]+1126891415&4294967295,L=R+(k<<10&4294967295|k>>>22),k=j+(R^(L|~N))+D[14]+2878612391&4294967295,j=L+(k<<15&4294967295|k>>>17),k=N+(L^(j|~R))+D[5]+4237533241&4294967295,N=j+(k<<21&4294967295|k>>>11),k=R+(j^(N|~L))+D[12]+1700485571&4294967295,R=N+(k<<6&4294967295|k>>>26),k=L+(N^(R|~j))+D[3]+2399980690&4294967295,L=R+(k<<10&4294967295|k>>>22),k=j+(R^(L|~N))+D[10]+4293915773&4294967295,j=L+(k<<15&4294967295|k>>>17),k=N+(L^(j|~R))+D[1]+2240044497&4294967295,N=j+(k<<21&4294967295|k>>>11),k=R+(j^(N|~L))+D[8]+1873313359&4294967295,R=N+(k<<6&4294967295|k>>>26),k=L+(N^(R|~j))+D[15]+4264355552&4294967295,L=R+(k<<10&4294967295|k>>>22),k=j+(R^(L|~N))+D[6]+2734768916&4294967295,j=L+(k<<15&4294967295|k>>>17),k=N+(L^(j|~R))+D[13]+1309151649&4294967295,N=j+(k<<21&4294967295|k>>>11),k=R+(j^(N|~L))+D[4]+4149444226&4294967295,R=N+(k<<6&4294967295|k>>>26),k=L+(N^(R|~j))+D[11]+3174756917&4294967295,L=R+(k<<10&4294967295|k>>>22),k=j+(R^(L|~N))+D[2]+718787259&4294967295,j=L+(k<<15&4294967295|k>>>17),k=N+(L^(j|~R))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(j+(k<<21&4294967295|k>>>11))&4294967295,O.g[2]=O.g[2]+j&4294967295,O.g[3]=O.g[3]+L&4294967295}a.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var N=R-this.blockSize,D=this.B,j=this.h,L=0;L<R;){if(j==0)for(;L<=N;)o(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<R;)if(D[j++]=O.charCodeAt(L++),j==this.blockSize){o(this,D),j=0;break}}else for(;L<R;)if(D[j++]=O[L++],j==this.blockSize){o(this,D),j=0;break}}this.h=j,this.o+=R},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var N=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=N&255,N/=256;for(this.u(O),O=Array(16),R=N=0;4>R;++R)for(var D=0;32>D;D+=8)O[N++]=this.g[R]>>>D&255;return O};function l(O,R){var N=f;return Object.prototype.hasOwnProperty.call(N,O)?N[O]:N[O]=R(O)}function u(O,R){this.h=R;for(var N=[],D=!0,j=O.length-1;0<=j;j--){var L=O[j]|0;D&&L==R||(N[j]=L,D=!1)}this.g=N}var f={};function p(O){return-128<=O&&128>O?l(O,function(R){return new u([R|0],0>R?-1:0)}):new u([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return w;if(0>O)return P(y(-O));for(var R=[],N=1,D=0;O>=N;D++)R[D]=O/N|0,N*=4294967296;return new u(R,0)}function b(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return P(b(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=y(Math.pow(R,8)),D=w,j=0;j<O.length;j+=8){var L=Math.min(8,O.length-j),k=parseInt(O.substring(j,j+L),R);8>L?(L=y(Math.pow(R,L)),D=D.j(L).add(y(k))):(D=D.j(N),D=D.add(y(k)))}return D}var w=p(0),T=p(1),C=p(16777216);n=u.prototype,n.m=function(){if($(this))return-P(this).m();for(var O=0,R=1,N=0;N<this.g.length;N++){var D=this.i(N);O+=(0<=D?D:4294967296+D)*R,R*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(B(this))return"0";if($(this))return"-"+P(this).toString(O);for(var R=y(Math.pow(O,6)),N=this,D="";;){var j=X(N,R).g;N=re(N,j.j(R));var L=((0<N.g.length?N.g[0]:N.h)>>>0).toString(O);if(N=j,B(N))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function B(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function $(O){return O.h==-1}n.l=function(O){return O=re(this,O),$(O)?-1:B(O)?0:1};function P(O){for(var R=O.g.length,N=[],D=0;D<R;D++)N[D]=~O.g[D];return new u(N,~O.h).add(T)}n.abs=function(){return $(this)?P(this):this},n.add=function(O){for(var R=Math.max(this.g.length,O.g.length),N=[],D=0,j=0;j<=R;j++){var L=D+(this.i(j)&65535)+(O.i(j)&65535),k=(L>>>16)+(this.i(j)>>>16)+(O.i(j)>>>16);D=k>>>16,L&=65535,k&=65535,N[j]=k<<16|L}return new u(N,N[N.length-1]&-2147483648?-1:0)};function re(O,R){return O.add(P(R))}n.j=function(O){if(B(this)||B(O))return w;if($(this))return $(O)?P(this).j(P(O)):P(P(this).j(O));if($(O))return P(this.j(P(O)));if(0>this.l(C)&&0>O.l(C))return y(this.m()*O.m());for(var R=this.g.length+O.g.length,N=[],D=0;D<2*R;D++)N[D]=0;for(D=0;D<this.g.length;D++)for(var j=0;j<O.g.length;j++){var L=this.i(D)>>>16,k=this.i(D)&65535,Le=O.i(j)>>>16,Ue=O.i(j)&65535;N[2*D+2*j]+=k*Ue,F(N,2*D+2*j),N[2*D+2*j+1]+=L*Ue,F(N,2*D+2*j+1),N[2*D+2*j+1]+=k*Le,F(N,2*D+2*j+1),N[2*D+2*j+2]+=L*Le,F(N,2*D+2*j+2)}for(D=0;D<R;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=R;D<2*R;D++)N[D]=0;return new u(N,0)};function F(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function G(O,R){this.g=O,this.h=R}function X(O,R){if(B(R))throw Error("division by zero");if(B(O))return new G(w,w);if($(O))return R=X(P(O),R),new G(P(R.g),P(R.h));if($(R))return R=X(O,P(R)),new G(P(R.g),R.h);if(30<O.g.length){if($(O)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var N=T,D=R;0>=D.l(O);)N=ne(N),D=ne(D);var j=pe(N,1),L=pe(D,1);for(D=pe(D,2),N=pe(N,2);!B(D);){var k=L.add(D);0>=k.l(O)&&(j=j.add(N),L=k),D=pe(D,1),N=pe(N,1)}return R=re(O,j.j(R)),new G(j,R)}for(j=w;0<=O.l(R);){for(N=Math.max(1,Math.floor(O.m()/R.m())),D=Math.ceil(Math.log(N)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=y(N),k=L.j(R);$(k)||0<k.l(O);)N-=D,L=y(N),k=L.j(R);B(L)&&(L=T),j=j.add(L),O=re(O,k)}return new G(j,O)}n.A=function(O){return X(this,O).h},n.and=function(O){for(var R=Math.max(this.g.length,O.g.length),N=[],D=0;D<R;D++)N[D]=this.i(D)&O.i(D);return new u(N,this.h&O.h)},n.or=function(O){for(var R=Math.max(this.g.length,O.g.length),N=[],D=0;D<R;D++)N[D]=this.i(D)|O.i(D);return new u(N,this.h|O.h)},n.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),N=[],D=0;D<R;D++)N[D]=this.i(D)^O.i(D);return new u(N,this.h^O.h)};function ne(O){for(var R=O.g.length+1,N=[],D=0;D<R;D++)N[D]=O.i(D)<<1|O.i(D-1)>>>31;return new u(N,O.h)}function pe(O,R){var N=R>>5;R%=32;for(var D=O.g.length-N,j=[],L=0;L<D;L++)j[L]=0<R?O.i(L+N)>>>R|O.i(L+N+1)<<32-R:O.i(L+N);return new u(j,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Ix=a,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=b,Fi=u}).apply(typeof z2<"u"?z2:typeof self<"u"?self:typeof window<"u"?window:{});var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ox,Rc,Dx,Wd,Z0,Vx,Mx,Lx;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,x){return d==Array.prototype||d==Object.prototype||(d[v]=x.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bd=="object"&&Bd];for(var v=0;v<d.length;++v){var x=d[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var a=t(this);function o(d,v){if(v)e:{var x=a;d=d.split(".");for(var S=0;S<d.length-1;S++){var H=d[S];if(!(H in x))break e;x=x[H]}d=d[d.length-1],S=x[d],v=v(S),v!=S&&v!=null&&e(x,d,{configurable:!0,writable:!0,value:v})}}function l(d,v){d instanceof String&&(d+="");var x=0,S=!1,H={next:function(){if(!S&&x<d.length){var J=x++;return{value:v(J,d[J]),done:!1}}return S=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(d){return d||function(){return l(this,function(v,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function y(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function b(d,v,x){return d.call.apply(d.bind,arguments)}function w(d,v,x){if(!d)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,S),d.apply(v,H)}}return function(){return d.apply(v,arguments)}}function T(d,v,x){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:w,T.apply(null,arguments)}function C(d,v){var x=Array.prototype.slice.call(arguments,1);return function(){var S=x.slice();return S.push.apply(S,arguments),d.apply(this,S)}}function B(d,v){function x(){}x.prototype=v.prototype,d.aa=v.prototype,d.prototype=new x,d.prototype.constructor=d,d.Qb=function(S,H,J){for(var ge=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)ge[Xe-2]=arguments[Xe];return v.prototype[H].apply(S,ge)}}function $(d){const v=d.length;if(0<v){const x=Array(v);for(let S=0;S<v;S++)x[S]=d[S];return x}return[]}function P(d,v){for(let x=1;x<arguments.length;x++){const S=arguments[x];if(p(S)){const H=d.length||0,J=S.length||0;d.length=H+J;for(let ge=0;ge<J;ge++)d[H+ge]=S[ge]}else d.push(S)}}class re{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function F(d){return/^[\s\xa0]*$/.test(d)}function G(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function X(d){return X[" "](d),d}X[" "]=function(){};var ne=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function pe(d,v,x){for(const S in d)v.call(x,d[S],S,d)}function O(d,v){for(const x in d)v.call(void 0,d[x],x,d)}function R(d){const v={};for(const x in d)v[x]=d[x];return v}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(d,v){let x,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(x in S)d[x]=S[x];for(let J=0;J<N.length;J++)x=N[J],Object.prototype.hasOwnProperty.call(S,x)&&(d[x]=S[x])}}function j(d){var v=1;d=d.split(":");const x=[];for(;0<v&&d.length;)x.push(d.shift()),v--;return d.length&&x.push(d.join(":")),x}function L(d){f.setTimeout(()=>{throw d},0)}function k(){var d=Be;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Le{constructor(){this.h=this.g=null}add(v,x){const S=Ue.get();S.set(v,x),this.h?this.h.next=S:this.g=S,this.h=S}}var Ue=new re(()=>new W,d=>d.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,we=!1,Be=new Le,V=()=>{const d=f.Promise.resolve(void 0);fe=()=>{d.then(se)}};var se=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(x){L(x)}var v=Ue;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}we=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};f.addEventListener("test",x,v),f.removeEventListener("test",x,v)}catch{}return d}();function oe(d,v){if(ae.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var x=this.type=d.type,S=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(ne){e:{try{X(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else x=="mouseover"?v=d.fromElement:x=="mouseout"&&(v=d.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:he[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&oe.aa.h.call(this)}}B(oe,ae);var he={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function ct(d,v,x,S,H){this.listener=d,this.proxy=null,this.src=v,this.type=x,this.capture=!!S,this.ha=H,this.key=++Ce,this.da=this.fa=!1}function Yt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function kn(d){this.src=d,this.g={},this.h=0}kn.prototype.add=function(d,v,x,S,H){var J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);var ge=oa(d,v,S,H);return-1<ge?(v=d[ge],x||(v.fa=!1)):(v=new ct(v,this.src,J,!!S,H),v.fa=x,d.push(v)),v};function Xn(d,v){var x=v.type;if(x in d.g){var S=d.g[x],H=Array.prototype.indexOf.call(S,v,void 0),J;(J=0<=H)&&Array.prototype.splice.call(S,H,1),J&&(Yt(v),d.g[x].length==0&&(delete d.g[x],d.h--))}}function oa(d,v,x,S){for(var H=0;H<d.length;++H){var J=d[H];if(!J.da&&J.listener==v&&J.capture==!!x&&J.ha==S)return H}return-1}var kr="closure_lm_"+(1e6*Math.random()|0),Wa={};function Xs(d,v,x,S,H){if(Array.isArray(v)){for(var J=0;J<v.length;J++)Xs(d,v[J],x,S,H);return null}return x=me(x),d&&d[Ne]?d.K(v,x,y(S)?!!S.capture:!1,H):Nn(d,v,x,!1,S,H)}function Nn(d,v,x,S,H,J){if(!v)throw Error("Invalid event type");var ge=y(H)?!!H.capture:!!H,Xe=_e(d);if(Xe||(d[kr]=Xe=new kn(d)),x=Xe.add(v,x,S,ge,J),x.proxy)return x;if(S=pu(),x.proxy=S,S.src=d,S.listener=x,d.addEventListener)be||(H=ge),H===void 0&&(H=!1),d.addEventListener(v.toString(),S,H);else if(d.attachEvent)d.attachEvent(K(v.toString()),S);else if(d.addListener&&d.removeListener)d.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return x}function pu(){function d(x){return v.call(d.src,d.listener,x)}const v=ee;return d}function Ja(d,v,x,S,H){if(Array.isArray(v))for(var J=0;J<v.length;J++)Ja(d,v[J],x,S,H);else S=y(S)?!!S.capture:!!S,x=me(x),d&&d[Ne]?(d=d.i,v=String(v).toString(),v in d.g&&(J=d.g[v],x=oa(J,x,S,H),-1<x&&(Yt(J[x]),Array.prototype.splice.call(J,x,1),J.length==0&&(delete d.g[v],d.h--)))):d&&(d=_e(d))&&(v=d.g[v.toString()],d=-1,v&&(d=oa(v,x,S,H)),(x=-1<d?v[d]:null)&&M(x))}function M(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Ne])Xn(v.i,d);else{var x=d.type,S=d.proxy;v.removeEventListener?v.removeEventListener(x,S,d.capture):v.detachEvent?v.detachEvent(K(x),S):v.addListener&&v.removeListener&&v.removeListener(S),(x=_e(v))?(Xn(x,d),x.h==0&&(x.src=null,v[kr]=null)):Yt(d)}}}function K(d){return d in Wa?Wa[d]:Wa[d]="on"+d}function ee(d,v){if(d.da)d=!0;else{v=new oe(v,this);var x=d.listener,S=d.ha||d.src;d.fa&&M(d),d=x.call(S,v)}return d}function _e(d){return d=d[kr],d instanceof kn?d:null}var ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(d){return typeof d=="function"?d:(d[ye]||(d[ye]=function(v){return d.handleEvent(v)}),d[ye])}function ve(){de.call(this),this.i=new kn(this),this.M=this,this.F=null}B(ve,de),ve.prototype[Ne]=!0,ve.prototype.removeEventListener=function(d,v,x,S){Ja(this,d,v,x,S)};function Se(d,v){var x,S=d.F;if(S)for(x=[];S;S=S.F)x.push(S);if(d=d.M,S=v.type||v,typeof v=="string")v=new ae(v,d);else if(v instanceof ae)v.target=v.target||d;else{var H=v;v=new ae(S,d),D(v,H)}if(H=!0,x)for(var J=x.length-1;0<=J;J--){var ge=v.g=x[J];H=Fe(ge,S,!0,v)&&H}if(ge=v.g=d,H=Fe(ge,S,!0,v)&&H,H=Fe(ge,S,!1,v)&&H,x)for(J=0;J<x.length;J++)ge=v.g=x[J],H=Fe(ge,S,!1,v)&&H}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var x=d.g[v],S=0;S<x.length;S++)Yt(x[S]);delete d.g[v],d.h--}}this.F=null},ve.prototype.K=function(d,v,x,S){return this.i.add(String(d),v,!1,x,S)},ve.prototype.L=function(d,v,x,S){return this.i.add(String(d),v,!0,x,S)};function Fe(d,v,x,S){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,J=0;J<v.length;++J){var ge=v[J];if(ge&&!ge.da&&ge.capture==x){var Xe=ge.listener,zt=ge.ha||ge.src;ge.fa&&Xn(d.i,ge),H=Xe.call(zt,S)!==!1&&H}}return H&&!S.defaultPrevented}function it(d,v,x){if(typeof d=="function")x&&(d=T(d,x));else if(d&&typeof d.handleEvent=="function")d=T(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(d,v||0)}function la(d){d.g=it(()=>{d.g=null,d.i&&(d.i=!1,la(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Wn extends de{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:la(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(d){de.call(this),this.h=d,this.g={}}B(ca,de);var mr=[];function gr(d){pe(d.g,function(v,x){this.g.hasOwnProperty(x)&&M(v)},d),d.g={}}ca.prototype.N=function(){ca.aa.N.call(this),gr(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=f.JSON.stringify,ua=f.JSON.parse,da=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function ei(){}ei.prototype.h=null;function pl(d){return d.h||(d.h=d.i())}function yl(){}var ha={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fa(){ae.call(this,"d")}B(fa,ae);function vl(){ae.call(this,"c")}B(vl,ae);var Nr={},_l=null;function ti(){return _l=_l||new ve}Nr.La="serverreachability";function Ws(d){ae.call(this,Nr.La,d)}B(Ws,ae);function ni(d){const v=ti();Se(v,new Ws(v))}Nr.STAT_EVENT="statevent";function yu(d,v){ae.call(this,Nr.STAT_EVENT,d),this.stat=v}B(yu,ae);function vt(d){const v=ti();Se(v,new yu(v,d))}Nr.Ma="timingevent";function Bt(d,v){ae.call(this,Nr.Ma,d),this.size=v}B(Bt,ae);function Dt(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},v)}function Jn(){this.g=!0}Jn.prototype.xa=function(){this.g=!1};function bl(d,v,x,S,H,J){d.info(function(){if(d.g)if(J)for(var ge="",Xe=J.split("&"),zt=0;zt<Xe.length;zt++){var We=Xe[zt].split("=");if(1<We.length){var Xt=We[0];We=We[1];var Ft=Xt.split("_");ge=2<=Ft.length&&Ft[1]=="type"?ge+(Xt+"="+We+"&"):ge+(Xt+"=redacted&")}}else ge=null;else ge=J;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+v+`
`+x+`
`+ge})}function ff(d,v,x,S,H,J,ge){d.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+v+`
`+x+`
`+J+" "+ge})}function ri(d,v,x,S){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+rs(d,x)+(S?" "+S:"")})}function vu(d,v){d.info(function(){return"TIMEOUT: "+v})}Jn.prototype.info=function(){};function rs(d,v){if(!d.g)return v;if(!v)return null;try{var x=JSON.parse(v);if(x){for(d=0;d<x.length;d++)if(Array.isArray(x[d])){var S=x[d];if(!(2>S.length)){var H=S[1];if(Array.isArray(H)&&!(1>H.length)){var J=H[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ge=1;ge<H.length;ge++)H[ge]=""}}}}return Pn(x)}catch{return v}}var ai={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ma={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cr;function Ir(){}B(Ir,ei),Ir.prototype.g=function(){return new XMLHttpRequest},Ir.prototype.i=function(){return{}},Cr=new Ir;function bn(d,v,x,S){this.j=d,this.i=v,this.l=x,this.R=S||1,this.U=new ca(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kt}function kt(){this.i=null,this.g="",this.h=!1}var xl={},Js={};function pr(d,v,x){d.L=1,d.v=ls(Un(v)),d.m=x,d.P=!0,ga(d,null)}function ga(d,v){d.F=Date.now(),as(d),d.A=Un(d.v);var x=d.A,S=d.R;Array.isArray(S)||(S=[String(S)]),Rl(x.i,"t",S),d.C=0,x=d.j.J,d.h=new kt,d.g=Vu(d.j,x?v:null,!d.m),0<d.O&&(d.M=new Wn(T(d.Y,d,d.g),d.O)),v=d.U,x=d.g,S=d.ca;var H="readystatechange";Array.isArray(H)||(H&&(mr[0]=H.toString()),H=mr);for(var J=0;J<H.length;J++){var ge=Xs(x,H[J],S||v.handleEvent,!1,v.h||v);if(!ge)break;v.g[ge.key]=ge}v=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),ni(),bl(d.i,d.u,d.A,d.l,d.R,d.m)}bn.prototype.ca=function(d){d=d.target;const v=this.M;v&&rr(d)==3?v.j():this.Y(d)},bn.prototype.Y=function(d){try{if(d==this.g)e:{const Ft=rr(this.g);var v=this.g.Ba();const wa=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||Su(this.g)))){this.J||Ft!=4||v==7||(v==8||0>=wa?ni(3):ni(2)),ii(this);var x=this.g.Z();this.X=x;t:if(_u(this)){var S=Su(this.g);d="";var H=S.length,J=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),Or(this);var ge="";break t}this.h.i=new f.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,d+=this.h.i.decode(S[v],{stream:!(J&&v==H-1)});S.length=0,this.h.g+=d,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=x==200,ff(this.i,this.u,this.A,this.l,this.R,Ft,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,zt=this.g;if((Xe=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Xe)){var We=Xe;break t}}We=null}if(x=We)ri(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,is(this,x);else{this.o=!1,this.s=3,vt(12),nn(this),Or(this);break e}}if(this.P){x=!0;let rn;for(;!this.J&&this.C<ge.length;)if(rn=bu(this,ge),rn==Js){Ft==4&&(this.s=4,vt(14),x=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==xl){this.s=4,vt(15),ri(this.i,this.l,ge,"[Invalid Chunk]"),x=!1;break}else ri(this.i,this.l,rn,null),is(this,rn);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||ge.length!=0||this.h.h||(this.s=1,vt(16),x=!1),this.o=this.o&&x,!x)ri(this.i,this.l,ge,"[Invalid Chunked Response]"),nn(this),Or(this);else if(0<ge.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),ps(Xt),Xt.M=!0,vt(11))}}else ri(this.i,this.l,ge,null),is(this,ge);Ft==4&&nn(this),this.o&&!this.J&&(Ft==4?Iu(this.j,this):(this.o=!1,as(this)))}else vf(this.g),x==400&&0<ge.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),nn(this),Or(this)}}}catch{}finally{}};function _u(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function bu(d,v){var x=d.C,S=v.indexOf(`
`,x);return S==-1?Js:(x=Number(v.substring(x,S)),isNaN(x)?xl:(S+=1,S+x>v.length?Js:(v=v.slice(S,S+x),d.C=S+x,v)))}bn.prototype.cancel=function(){this.J=!0,nn(this)};function as(d){d.S=Date.now()+d.I,xu(d,d.I)}function xu(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Dt(T(d.ba,d),v)}function ii(d){d.B&&(f.clearTimeout(d.B),d.B=null)}bn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(vu(this.i,this.A),this.L!=2&&(ni(),vt(17)),nn(this),this.s=2,Or(this)):xu(this,this.S-d)};function Or(d){d.j.G==0||d.J||Iu(d.j,d)}function nn(d){ii(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,gr(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function is(d,v){try{var x=d.j;if(x.G!=0&&(x.g==d||El(x.h,d))){if(!d.K&&El(x.h,d)&&x.G==3){try{var S=x.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<d.F)ho(x),co(x);else break e;Ol(x),vt(18)}}else x.za=H[1],0<x.za-x.T&&37500>H[2]&&x.F&&x.v==0&&!x.C&&(x.C=Dt(T(x.Za,x),6e3));if(1>=to(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Ea(x,11)}else if((d.K||x.g==d)&&ho(x),!F(v))for(H=x.Da.g.parse(v),v=0;v<H.length;v++){let We=H[v];if(x.T=We[0],We=We[1],x.G==2)if(We[0]=="c"){x.K=We[1],x.ia=We[2];const Xt=We[3];Xt!=null&&(x.la=Xt,x.j.info("VER="+x.la));const Ft=We[4];Ft!=null&&(x.Aa=Ft,x.j.info("SVER="+x.Aa));const wa=We[5];wa!=null&&typeof wa=="number"&&0<wa&&(S=1.5*wa,x.L=S,x.j.info("backChannelRequestTimeoutMs_="+S)),S=x;const rn=d.g;if(rn){const Ur=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ur){var J=S.h;J.g||Ur.indexOf("spdy")==-1&&Ur.indexOf("quic")==-1&&Ur.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(no(J,J.h),J.h=null))}if(S.D){const Vl=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vl&&(S.ya=Vl,ut(S.I,S.D,Vl))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-d.F,x.j.info("Handshake RTT: "+x.R+"ms")),S=x;var ge=d;if(S.qa=Du(S,S.J?S.ia:null,S.W),ge.K){xn(S.h,ge);var Xe=ge,zt=S.L;zt&&(Xe.I=zt),Xe.B&&(ii(Xe),as(Xe)),S.g=ge}else Nu(S);0<x.i.length&&uo(x)}else We[0]!="stop"&&We[0]!="close"||Ea(x,7);else x.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Ea(x,7):Cl(x):We[0]!="noop"&&x.l&&x.l.ta(We),x.v=0)}}ni(4)}catch{}}var Eu=class{constructor(d,v){this.g=d,this.map=v}};function pa(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function to(d){return d.h?1:d.g?d.g.size:0}function El(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function no(d,v){d.g?d.g.add(v):d.h=v}function xn(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}pa.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function wl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const x of d.g.values())v=v.concat(x.D);return v}return $(d.i)}function mf(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var v=[],x=d.length,S=0;S<x;S++)v.push(d[S]);return v}v=[],x=0;for(S in d)v[x++]=d[S];return v}function ro(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(p(d)||typeof d=="string"){var v=[];d=d.length;for(var x=0;x<d;x++)v.push(x);return v}v=[],x=0;for(const S in d)v[x++]=S;return v}}}function Tl(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var x=ro(d),S=mf(d),H=S.length,J=0;J<H;J++)v.call(void 0,S[J],x&&x[J],d)}var ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gf(d,v){if(d){d=d.split("&");for(var x=0;x<d.length;x++){var S=d[x].indexOf("="),H=null;if(0<=S){var J=d[x].substring(0,S);H=d[x].substring(S+1)}else J=d[x];v(J,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Vt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Vt){this.h=d.h,os(this,d.j),this.o=d.o,this.g=d.g,si(this,d.s),this.l=d.l;var v=d.i,x=new va;x.i=v.i,v.g&&(x.g=new Map(v.g),x.h=v.h),ya(this,x),this.m=d.m}else d&&(v=String(d).match(ss))?(this.h=!1,os(this,v[1]||"",!0),this.o=er(v[2]||""),this.g=er(v[3]||"",!0),si(this,v[4]),this.l=er(v[5]||"",!0),ya(this,v[6]||"",!0),this.m=er(v[7]||"")):(this.h=!1,this.i=new va(null,this.h))}Vt.prototype.toString=function(){var d=[],v=this.j;v&&d.push(cs(v,Al,!0),":");var x=this.g;return(x||v=="file")&&(d.push("//"),(v=this.o)&&d.push(cs(v,Al,!0),"@"),d.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&d.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(cs(x,x.charAt(0)=="/"?pf:Sl,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",cs(x,ao)),d.join("")};function Un(d){return new Vt(d)}function os(d,v,x){d.j=x?er(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function si(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function ya(d,v,x){v instanceof va?(d.i=v,Tu(d.i,d.h)):(x||(v=cs(v,yf)),d.i=new va(v,d.h))}function ut(d,v,x){d.i.set(v,x)}function ls(d){return ut(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function er(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function cs(d,v,x){return typeof d=="string"?(d=encodeURI(d).replace(v,wu),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function wu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Al=/[#\/\?@]/g,Sl=/[#\?:]/g,pf=/[#\?]/g,yf=/[#\?@]/g,ao=/#/g;function va(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function tr(d){d.g||(d.g=new Map,d.h=0,d.i&&gf(d.i,function(v,x){d.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}n=va.prototype,n.add=function(d,v){tr(this),this.i=null,d=Dr(this,d);var x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(v),this.h+=1,this};function _a(d,v){tr(d),v=Dr(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function ba(d,v){return tr(d),v=Dr(d,v),d.g.has(v)}n.forEach=function(d,v){tr(this),this.g.forEach(function(x,S){x.forEach(function(H){d.call(v,H,S,this)},this)},this)},n.na=function(){tr(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),x=[];for(let S=0;S<v.length;S++){const H=d[S];for(let J=0;J<H.length;J++)x.push(v[S])}return x},n.V=function(d){tr(this);let v=[];if(typeof d=="string")ba(this,d)&&(v=v.concat(this.g.get(Dr(this,d))));else{d=Array.from(this.g.values());for(let x=0;x<d.length;x++)v=v.concat(d[x])}return v},n.set=function(d,v){return tr(this),this.i=null,d=Dr(this,d),ba(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function Rl(d,v,x){_a(d,v),0<x.length&&(d.i=null,d.g.set(Dr(d,v),$(x)),d.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var x=0;x<v.length;x++){var S=v[x];const J=encodeURIComponent(String(S)),ge=this.V(S);for(S=0;S<ge.length;S++){var H=J;ge[S]!==""&&(H+="="+encodeURIComponent(String(ge[S]))),d.push(H)}}return this.i=d.join("&")};function Dr(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Tu(d,v){v&&!d.j&&(tr(d),d.i=null,d.g.forEach(function(x,S){var H=S.toLowerCase();S!=H&&(_a(this,S),Rl(this,H,x))},d)),d.j=v}function us(d,v){const x=new Jn;if(f.Image){const S=new Image;S.onload=C(nr,x,"TestLoadImage: loaded",!0,v,S),S.onerror=C(nr,x,"TestLoadImage: error",!1,v,S),S.onabort=C(nr,x,"TestLoadImage: abort",!1,v,S),S.ontimeout=C(nr,x,"TestLoadImage: timeout",!1,v,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=d}else v(!1)}function yr(d,v){const x=new Jn,S=new AbortController,H=setTimeout(()=>{S.abort(),nr(x,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:S.signal}).then(J=>{clearTimeout(H),J.ok?nr(x,"TestPingServer: ok",!0,v):nr(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),nr(x,"TestPingServer: error",!1,v)})}function nr(d,v,x,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(x)}catch{}}function ds(){this.g=new da}function Vr(d,v,x){const S=x||"";try{Tl(d,function(H,J){let ge=H;y(H)&&(ge=Pn(H)),v.push(S+J+"="+encodeURIComponent(ge))})}catch(H){throw v.push(S+"type="+encodeURIComponent("_badmap")),H}}function oi(d){this.l=d.Ub||null,this.j=d.eb||!1}B(oi,ei),oi.prototype.g=function(){return new xa(this.l,this.j)},oi.prototype.i=function(d){return function(){return d}}({});function xa(d,v){ve.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(xa,ve),n=xa.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Lr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Lr(this)),this.g&&(this.readyState=3,Lr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function kl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Mr(this):Lr(this),this.readyState==3&&kl(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Mr(this))},n.Qa=function(d){this.g&&(this.response=d,Mr(this))},n.ga=function(){this.g&&Mr(this)};function Mr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Lr(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=v.next();return d.join(`\r
`)};function Lr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Nl(d){let v="";return pe(d,function(x,S){v+=S,v+=":",v+=x,v+=`\r
`}),v}function Qt(d,v,x){e:{for(S in x){var S=!1;break e}S=!0}S||(x=Nl(x),typeof d=="string"?x!=null&&encodeURIComponent(String(x)):ut(d,v,x))}function rt(d){ve.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(rt,ve);var io=/^https?$/i,hs=["POST","PUT"];n=rt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,x,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cr.g(),this.v=this.o?pl(this.o):pl(Cr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(J){Au(this,J);return}if(d=x||"",x=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)x.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const J of S.keys())x.set(J,S.get(J));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(x.keys()).find(J=>J.toLowerCase()=="content-type"),H=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(hs,v,void 0))||S||H||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ge]of x)this.g.setRequestHeader(J,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fs(this),this.u=!0,this.g.send(d),this.u=!1}catch(J){Au(this,J)}};function Au(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,so(d),jr(d)}function so(d){d.A||(d.A=!0,Se(d,"complete"),Se(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Se(this,"complete"),Se(this,"abort"),jr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jr(this,!0)),rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?oo(this):this.bb())},n.bb=function(){oo(this)};function oo(d){if(d.h&&typeof u<"u"&&(!d.v[1]||rr(d)!=4||d.Z()!=2)){if(d.u&&rr(d)==4)it(d.Ea,0,d);else if(Se(d,"readystatechange"),rr(d)==4){d.h=!1;try{const ge=d.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var S;if(S=ge===0){var H=String(d.D).match(ss)[1]||null;!H&&f.self&&f.self.location&&(H=f.self.location.protocol.slice(0,-1)),S=!io.test(H?H.toLowerCase():"")}x=S}if(x)Se(d,"complete"),Se(d,"success");else{d.m=6;try{var J=2<rr(d)?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.Z()+"]",so(d)}}finally{jr(d)}}}}function jr(d,v){if(d.g){fs(d);const x=d.g,S=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Se(d,"ready");try{x.onreadystatechange=S}catch{}}}function fs(d){d.I&&(f.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function rr(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),ua(v)}};function Su(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function vf(d){const v={};d=(d.g&&2<=rr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<d.length;S++){if(F(d[S]))continue;var x=j(d[S]);const H=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const J=v[H]||[];v[H]=J,J.push(x)}O(v,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(d,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||v}function lo(d){this.Aa=0,this.i=[],this.j=new Jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ms("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ms("baseRetryDelayMs",5e3,d),this.cb=ms("retryDelaySeedMs",1e4,d),this.Wa=ms("forwardChannelMaxRetries",2,d),this.wa=ms("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new pa(d&&d.concurrentRequestLimit),this.Da=new ds,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=lo.prototype,n.la=8,n.G=1,n.connect=function(d,v,x,S){vt(0),this.W=d,this.H=v||{},x&&S!==void 0&&(this.H.OSID=x,this.H.OAID=S),this.F=this.X,this.I=Du(this,null,this.W),uo(this)};function Cl(d){if(Ru(d),d.G==3){var v=d.U++,x=Un(d.I);if(ut(x,"SID",d.K),ut(x,"RID",v),ut(x,"TYPE","terminate"),gs(d,x),v=new bn(d,d.j,v),v.L=2,v.v=ls(Un(x)),x=!1,f.navigator&&f.navigator.sendBeacon)try{x=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!x&&f.Image&&(new Image().src=v.v,x=!0),x||(v.g=Vu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),as(v)}Ou(d)}function co(d){d.g&&(ps(d),d.g.cancel(),d.g=null)}function Ru(d){co(d),d.u&&(f.clearTimeout(d.u),d.u=null),ho(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function uo(d){if(!eo(d.h)&&!d.s){d.s=!0;var v=d.Ga;fe||V(),we||(fe(),we=!0),Be.add(v,d),d.B=0}}function _f(d,v){return to(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Dt(T(d.Ga,d,v),Dl(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const H=new bn(this,this.j,d);let J=this.o;if(this.S&&(J?(J=R(J),D(J,this.S)):J=this.S),this.m!==null||this.O||(H.H=J,J=null),this.P)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var S=this.i[x];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=ku(this,H,v),x=Un(this.I),ut(x,"RID",d),ut(x,"CVER",22),this.D&&ut(x,"X-HTTP-Session-Id",this.D),gs(this,x),J&&(this.O?v="headers="+encodeURIComponent(String(Nl(J)))+"&"+v:this.m&&Qt(x,this.m,J)),no(this.h,H),this.Ua&&ut(x,"TYPE","init"),this.P?(ut(x,"$req",v),ut(x,"SID","null"),H.T=!0,pr(H,x,null)):pr(H,x,v),this.G=2}}else this.G==3&&(d?Il(this,d):this.i.length==0||eo(this.h)||Il(this))};function Il(d,v){var x;v?x=v.l:x=d.U++;const S=Un(d.I);ut(S,"SID",d.K),ut(S,"RID",x),ut(S,"AID",d.T),gs(d,S),d.m&&d.o&&Qt(S,d.m,d.o),x=new bn(d,d.j,x,d.B+1),d.m===null&&(x.H=d.o),v&&(d.i=v.D.concat(d.i)),v=ku(d,x,1e3),x.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),no(d.h,x),pr(x,S,v)}function gs(d,v){d.H&&pe(d.H,function(x,S){ut(v,S,x)}),d.l&&Tl({},function(x,S){ut(v,S,x)})}function ku(d,v,x){x=Math.min(d.i.length,x);var S=d.l?T(d.l.Na,d.l,d):null;e:{var H=d.i;let J=-1;for(;;){const ge=["count="+x];J==-1?0<x?(J=H[0].g,ge.push("ofs="+J)):J=0:ge.push("ofs="+J);let Xe=!0;for(let zt=0;zt<x;zt++){let We=H[zt].g;const Xt=H[zt].map;if(We-=J,0>We)J=Math.max(0,H[zt].g-100),Xe=!1;else try{Vr(Xt,ge,"req"+We+"_")}catch{S&&S(Xt)}}if(Xe){S=ge.join("&");break e}}}return d=d.i.splice(0,x),v.D=d,S}function Nu(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;fe||V(),we||(fe(),we=!0),Be.add(v,d),d.v=0}}function Ol(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Dt(T(d.Fa,d),Dl(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Dt(T(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),co(this),Cu(this))};function ps(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function Cu(d){d.g=new bn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Un(d.qa);ut(v,"RID","rpc"),ut(v,"SID",d.K),ut(v,"AID",d.T),ut(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&ut(v,"TO",d.ja),ut(v,"TYPE","xmlhttp"),gs(d,v),d.m&&d.o&&Qt(v,d.m,d.o),d.L&&(d.g.I=d.L);var x=d.g;d=d.ia,x.L=1,x.v=ls(Un(v)),x.m=null,x.P=!0,ga(x,d)}n.Za=function(){this.C!=null&&(this.C=null,co(this),Ol(this),vt(19))};function ho(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Iu(d,v){var x=null;if(d.g==v){ho(d),ps(d),d.g=null;var S=2}else if(El(d.h,v))x=v.D,xn(d.h,v),S=1;else return;if(d.G!=0){if(v.o)if(S==1){x=v.m?v.m.length:0,v=Date.now()-v.F;var H=d.B;S=ti(),Se(S,new Bt(S,x)),uo(d)}else Nu(d);else if(H=v.s,H==3||H==0&&0<v.X||!(S==1&&_f(d,v)||S==2&&Ol(d)))switch(x&&0<x.length&&(v=d.h,v.i=v.i.concat(x)),H){case 1:Ea(d,5);break;case 4:Ea(d,10);break;case 3:Ea(d,6);break;default:Ea(d,2)}}}function Dl(d,v){let x=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(x*=2),x*v}function Ea(d,v){if(d.j.info("Error code "+v),v==2){var x=T(d.fb,d),S=d.Xa;const H=!S;S=new Vt(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||os(S,"https"),ls(S),H?us(S.toString(),x):yr(S.toString(),x)}else vt(2);d.G=0,d.l&&d.l.sa(v),Ou(d),Ru(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Ou(d){if(d.G=0,d.ka=[],d.l){const v=wl(d.h);(v.length!=0||d.i.length!=0)&&(P(d.ka,v),P(d.ka,d.i),d.h.i.length=0,$(d.i),d.i.length=0),d.l.ra()}}function Du(d,v,x){var S=x instanceof Vt?Un(x):new Vt(x);if(S.g!="")v&&(S.g=v+"."+S.g),si(S,S.s);else{var H=f.location;S=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var J=new Vt(null);S&&os(J,S),v&&(J.g=v),H&&si(J,H),x&&(J.l=x),S=J}return x=d.D,v=d.ya,x&&v&&ut(S,x,v),ut(S,"VER",d.la),gs(d,S),S}function Vu(d,v,x){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new rt(new oi({eb:x})):new rt(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}n=Mu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function fo(){}fo.prototype.g=function(d,v){return new En(d,v)};function En(d,v){ve.call(this),this.g=new lo(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!F(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!F(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Pr(this)}B(En,ve),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Cl(this.g)},En.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.u&&(x={},x.__data__=Pn(d),d=x);v.i.push(new Eu(v.Ya++,d)),v.G==3&&uo(v)},En.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,En.aa.N.call(this)};function Lu(d){fa.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const x in v){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}B(Lu,fa);function ju(){vl.call(this),this.status=1}B(ju,vl);function Pr(d){this.g=d}B(Pr,Mu),Pr.prototype.ua=function(){Se(this.g,"a")},Pr.prototype.ta=function(d){Se(this.g,new Lu(d))},Pr.prototype.sa=function(d){Se(this.g,new ju)},Pr.prototype.ra=function(){Se(this.g,"b")},fo.prototype.createWebChannel=fo.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,Lx=function(){return new fo},Mx=function(){return ti()},Vx=Nr,Z0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ai.NO_ERROR=0,ai.TIMEOUT=8,ai.HTTP_ERROR=6,Wd=ai,ma.COMPLETE="complete",Dx=ma,yl.EventType=ha,ha.OPEN="a",ha.CLOSE="b",ha.ERROR="c",ha.MESSAGE="d",ve.prototype.listen=ve.prototype.K,Rc=yl,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,Ox=rt}).apply(typeof Bd<"u"?Bd:typeof self<"u"?self:typeof window<"u"?window:{});const F2="@firebase/firestore",H2="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new bg("@firebase/firestore");function qo(){return Hs.logLevel}function xe(n,...e){if(Hs.logLevel<=Ke.DEBUG){const t=e.map(Lg);Hs.debug(`Firestore (${dl}): ${n}`,...t)}}function Ga(n,...e){if(Hs.logLevel<=Ke.ERROR){const t=e.map(Lg);Hs.error(`Firestore (${dl}): ${n}`,...t)}}function tl(n,...e){if(Hs.logLevel<=Ke.WARN){const t=e.map(Lg);Hs.warn(`Firestore (${dl}): ${n}`,...t)}}function Lg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(n,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,jx(n,a,t)}function jx(n,e,t){let a=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw Ga(a),new Error(a)}function at(n,e,t,a){let o="Unexpected state";typeof t=="string"?o=t:a=t,n||jx(e,o,a)}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends aa{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pn.UNAUTHENTICATED))}shutdown(){}}class KS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class YS{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){at(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,t(p)):Promise.resolve();let l=new Fa;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fa,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fa)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(at(typeof a.accessToken=="string",31837,{l:a}),new Px(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class QS{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XS{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new QS(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WS{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){at(this.o===void 0,3512);const a=l=>{l.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,xe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>a(l))};const o=l=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new q2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(at(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new q2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<n;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=JS(40);for(let l=0;l<o.length;++l)a.length<20&&o[l]<t&&(a+=e.charAt(o[l]%62))}return a}}function qe(n,e){return n<e?-1:n>e?1:0}function K0(n,e){let t=0;for(;t<n.length&&t<e.length;){const a=n.codePointAt(t),o=e.codePointAt(t);if(a!==o){if(a<128&&o<128)return qe(a,o);{const l=Ux(),u=eR(l.encode($2(n,t)),l.encode($2(e,t)));return u!==0?u:qe(a,o)}}t+=a>65535?2:1}return qe(n.length,e.length)}function $2(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function eR(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return qe(n[t],e[t]);return qe(n.length,e.length)}function nl(n,e,t){return n.length===e.length&&n.every((a,o)=>t(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=-62135596800,Z2=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*Z2);return new Zt(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<G2)throw new Ee(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z2}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-G2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new Zt(0,0))}static max(){return new je(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="__name__";class $r{constructor(e,t,a){t===void 0?t=0:t>e.length&&Ve(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&Ve(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return $r.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $r?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let o=0;o<a;o++){const l=$r.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return qe(e.length,t.length)}static compareSegments(e,t){const a=$r.isNumericId(e),o=$r.isNumericId(t);return a&&!o?-1:!a&&o?1:a&&o?$r.extractNumericId(e).compare($r.extractNumericId(t)):K0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fi.fromString(e.substring(4,e.length-2))}}class yt extends $r{construct(e,t,a){return new yt(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new Ee(ce.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(o=>o.length>0))}return new yt(t)}static emptyPath(){return new yt([])}}const tR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends $r{construct(e,t,a){return new un(e,t,a)}static isValidIdentifier(e){return tR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K2}static keyField(){return new un([K2])}static fromServerFormat(e){const t=[];let a="",o=0;const l=()=>{if(a.length===0)throw new Ee(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Ee(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ee(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(a+=f,o++):(l(),o++)}if(l(),u)throw new Ee(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(t)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(yt.fromString(e))}static fromName(e){return new Ie(yt.fromString(e).popFirst(5))}static empty(){return new Ie(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new yt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=-1;function nR(n,e){const t=n.toTimestamp().seconds,a=n.toTimestamp().nanoseconds+1,o=je.fromTimestamp(a===1e9?new Zt(t+1,0):new Zt(t,a));return new $i(o,Ie.empty(),e)}function rR(n){return new $i(n.readTime,n.key,$c)}class $i{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new $i(je.min(),Ie.empty(),$c)}static max(){return new $i(je.max(),Ie.empty(),$c)}}function aR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==iR)throw n;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((a,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(a,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,a)=>{t(e)})}static reject(e){return new ue((t,a)=>{a(e)})}static waitFor(e){return new ue((t,a)=>{let o=0,l=0,u=!1;e.forEach(f=>{++o,f.next(()=>{++l,u&&l===o&&t()},p=>a(p))}),u=!0,l===o&&t()})}static or(e){let t=ue.resolve(!1);for(const a of e)t=t.next(o=>o?ue.resolve(o):a());return t}static forEach(e,t){const a=[];return e.forEach((o,l)=>{a.push(t.call(this,o,l))}),this.waitFor(a)}static mapArray(e,t){return new ue((a,o)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(b=>{u[y]=b,++f,f===l&&a(u)},b=>o(b))}})}static doWhile(e,t){return new ue((a,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):a()};l()})}}function oR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>t.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}zh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=-1;function Fh(n){return n==null}function yh(n){return n===0&&1/n==-1/0}function lR(n){return typeof n=="number"&&Number.isInteger(n)&&!yh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="";function cR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Y2(e)),e=uR(n.get(t),e);return Y2(e)}function uR(n,e){let t=e;const a=n.length;for(let o=0;o<a;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case zx:t+="";break;default:t+=l}}return t}function Y2(n){return n+zx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function es(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Fx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,t){this.comparator=e,this.root=t||cn.EMPTY}insert(e,t){return new wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return t+a.left.size;o<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zd(this.root,e,this.comparator,!1)}getReverseIterator(){return new zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zd(this.root,e,this.comparator,!0)}}class zd{constructor(e,t,a,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?a(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,t,a,o,l){this.key=e,this.value=t,this.color=a??cn.RED,this.left=o??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,o,l){return new cn(e??this.key,t??this.value,a??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let o=this;const l=a(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,a),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return cn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,t,a,o,l){return this}insert(e,t,a){return new cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new X2(this.data.getIterator())}getIteratorFrom(e){return new X2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=a.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Kt(this.comparator);return t.data=e,t}}class X2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Yn([])}unionWith(e){let t=new Kt(un.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,(t,a)=>t.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Hx("Invalid base64 string: "+l):l}}(e);return new dn(t)}static fromUint8Array(e){const t=function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l}(e);return new dn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const dR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(n){if(at(!!n,39018),typeof n=="string"){let e=0;const t=dR.exec(n);if(at(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(n);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zi(n){return typeof n=="string"?dn.fromBase64String(n):dn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="server_timestamp",$x="__type__",Gx="__previous_value__",Zx="__local_write_time__";function Pg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[$x])===null||t===void 0?void 0:t.stringValue)===qx}function Hh(n){const e=n.mapValue.fields[Gx];return Pg(e)?Hh(e):e}function Gc(n){const e=Gi(n.mapValue.fields[Zx].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,t,a,o,l,u,f,p,y,b){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=b}}const vh="(default)";class Zc{constructor(e,t){this.projectId=e,this.database=t||vh}static empty(){return new Zc("","")}get isDefaultDatabase(){return this.database===vh}isEqual(e){return e instanceof Zc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="__type__",fR="__max__",Fd={mapValue:{}},Yx="__vector__",_h="value";function Ki(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Pg(n)?4:gR(n)?9007199254740991:mR(n)?10:11:Ve(28295,{value:n})}function na(n,e){if(n===e)return!0;const t=Ki(n);if(t!==Ki(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gc(n).isEqual(Gc(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=Gi(o.timestampValue),f=Gi(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Zi(o.bytesValue).isEqual(Zi(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return It(o.geoPointValue.latitude)===It(l.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return It(o.integerValue)===It(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=It(o.doubleValue),f=It(l.doubleValue);return u===f?yh(u)===yh(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return nl(n.arrayValue.values||[],e.arrayValue.values||[],na);case 10:case 11:return function(o,l){const u=o.mapValue.fields||{},f=l.mapValue.fields||{};if(Q2(u)!==Q2(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!na(u[p],f[p])))return!1;return!0}(n,e);default:return Ve(52216,{left:n})}}function Kc(n,e){return(n.values||[]).find(t=>na(t,e))!==void 0}function rl(n,e){if(n===e)return 0;const t=Ki(n),a=Ki(e);if(t!==a)return qe(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return function(l,u){const f=It(l.integerValue||l.doubleValue),p=It(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return W2(n.timestampValue,e.timestampValue);case 4:return W2(Gc(n),Gc(e));case 5:return K0(n.stringValue,e.stringValue);case 6:return function(l,u){const f=Zi(l),p=Zi(u);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,u){const f=l.split("/"),p=u.split("/");for(let y=0;y<f.length&&y<p.length;y++){const b=qe(f[y],p[y]);if(b!==0)return b}return qe(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,u){const f=qe(It(l.latitude),It(u.latitude));return f!==0?f:qe(It(l.longitude),It(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return J2(n.arrayValue,e.arrayValue);case 10:return function(l,u){var f,p,y,b;const w=l.fields||{},T=u.fields||{},C=(f=w[_h])===null||f===void 0?void 0:f.arrayValue,B=(p=T[_h])===null||p===void 0?void 0:p.arrayValue,$=qe(((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0,((b=B==null?void 0:B.values)===null||b===void 0?void 0:b.length)||0);return $!==0?$:J2(C,B)}(n.mapValue,e.mapValue);case 11:return function(l,u){if(l===Fd.mapValue&&u===Fd.mapValue)return 0;if(l===Fd.mapValue)return 1;if(u===Fd.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=u.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let w=0;w<p.length&&w<b.length;++w){const T=K0(p[w],b[w]);if(T!==0)return T;const C=rl(f[p[w]],y[b[w]]);if(C!==0)return C}return qe(p.length,b.length)}(n.mapValue,e.mapValue);default:throw Ve(23264,{Pe:t})}}function W2(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);const t=Gi(n),a=Gi(e),o=qe(t.seconds,a.seconds);return o!==0?o:qe(t.nanos,a.nanos)}function J2(n,e){const t=n.values||[],a=e.values||[];for(let o=0;o<t.length&&o<a.length;++o){const l=rl(t[o],a[o]);if(l)return l}return qe(t.length,a.length)}function al(n){return Y0(n)}function Y0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const a=Gi(t);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Zi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ie.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let a="[",o=!0;for(const l of t.values||[])o?o=!1:a+=",",a+=Y0(l);return a+"]"}(n.arrayValue):"mapValue"in n?function(t){const a=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const u of a)l?l=!1:o+=",",o+=`${u}:${Y0(t.fields[u])}`;return o+"}"}(n.mapValue):Ve(61005,{value:n})}function Jd(n){switch(Ki(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hh(n);return e?16+Jd(e):16;case 5:return 2*n.stringValue.length;case 6:return Zi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,l)=>o+Jd(l),0)}(n.arrayValue);case 10:case 11:return function(a){let o=0;return es(a.fields,(l,u)=>{o+=l.length+Jd(u)}),o}(n.mapValue);default:throw Ve(13486,{value:n})}}function e_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Q0(n){return!!n&&"integerValue"in n}function Ug(n){return!!n&&"arrayValue"in n}function t_(n){return!!n&&"nullValue"in n}function n_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function eh(n){return!!n&&"mapValue"in n}function mR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Kx])===null||t===void 0?void 0:t.stringValue)===Yx}function Vc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return es(n.mapValue.fields,(t,a)=>e.mapValue.fields[t]=Vc(a)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===fR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!eh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vc(t)}setAll(e){let t=un.emptyPath(),a={},o=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,a,o),a={},o=[],t=f.popLast()}u?a[f.lastSegment()]=Vc(u):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,a,o)}delete(e){const t=this.field(e.popLast());eh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return na(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=t.mapValue.fields[e.get(a)];eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,a){es(t,(o,l)=>e[o]=l);for(const o of a)delete e[o]}clone(){return new Mn(Vc(this.value))}}function Qx(n){const e=[];return es(n.fields,(t,a)=>{const o=new un([t]);if(eh(a)){const l=Qx(a.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)}),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,t,a,o,l,u,f){this.key=e,this.documentType=t,this.version=a,this.readTime=o,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new yn(e,0,je.min(),je.min(),je.min(),Mn.empty(),0)}static newFoundDocument(e,t,a,o){return new yn(e,1,t,je.min(),a,o,0)}static newNoDocument(e,t){return new yn(e,2,t,je.min(),je.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,je.min(),je.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t){this.position=e,this.inclusive=t}}function r_(n,e,t){let a=0;for(let o=0;o<n.position.length;o++){const l=e[o],u=n.position[o];if(l.field.isKeyField()?a=Ie.comparator(Ie.fromName(u.referenceValue),t.key):a=rl(u,t.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function a_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!na(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t="asc"){this.field=e,this.dir=t}}function pR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{}class Ut extends Xx{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new vR(e,t,a):t==="array-contains"?new xR(e,a):t==="in"?new ER(e,a):t==="not-in"?new wR(e,a):t==="array-contains-any"?new TR(e,a):new Ut(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new _R(e,a):new bR(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(rl(t,this.value)):t!==null&&Ki(this.value)===Ki(t)&&this.matchesComparison(rl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends Xx{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Sr(e,t)}matches(e){return Wx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Wx(n){return n.op==="and"}function Jx(n){return yR(n)&&Wx(n)}function yR(n){for(const e of n.filters)if(e instanceof Sr)return!1;return!0}function X0(n){if(n instanceof Ut)return n.field.canonicalString()+n.op.toString()+al(n.value);if(Jx(n))return n.filters.map(e=>X0(e)).join(",");{const e=n.filters.map(t=>X0(t)).join(",");return`${n.op}(${e})`}}function eE(n,e){return n instanceof Ut?function(a,o){return o instanceof Ut&&a.op===o.op&&a.field.isEqual(o.field)&&na(a.value,o.value)}(n,e):n instanceof Sr?function(a,o){return o instanceof Sr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((l,u,f)=>l&&eE(u,o.filters[f]),!0):!1}(n,e):void Ve(19439)}function tE(n){return n instanceof Ut?function(t){return`${t.field.canonicalString()} ${t.op} ${al(t.value)}`}(n):n instanceof Sr?function(t){return t.op.toString()+" {"+t.getFilters().map(tE).join(" ,")+"}"}(n):"Filter"}class vR extends Ut{constructor(e,t,a){super(e,t,a),this.key=Ie.fromName(a.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class _R extends Ut{constructor(e,t){super(e,"in",t),this.keys=nE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bR extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=nE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(a=>Ie.fromName(a.referenceValue))}class xR extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ug(t)&&Kc(t.arrayValue,this.value)}}class ER extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Kc(this.value.arrayValue,t)}}class wR extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(Kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Kc(this.value.arrayValue,t)}}class TR extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ug(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>Kc(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,t=null,a=[],o=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=o,this.limit=l,this.startAt=u,this.endAt=f,this.Ie=null}}function i_(n,e=null,t=[],a=[],o=null,l=null,u=null){return new AR(n,e,t,a,o,l,u)}function Bg(n){const e=Pe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>X0(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>function(l){return l.field.canonicalString()+l.dir}(a)).join(","),Fh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>al(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>al(a)).join(",")),e.Ie=t}return e.Ie}function zg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!pR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!eE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!a_(n.startAt,e.startAt)&&a_(n.endAt,e.endAt)}function W0(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,t=null,a=[],o=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=o,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function SR(n,e,t,a,o,l,u,f){return new ml(n,e,t,a,o,l,u,f)}function qh(n){return new ml(n)}function s_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function rE(n){return n.collectionGroup!==null}function Mc(n){const e=Pe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Kt(un.comparator);return u.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Yc(l,a))}),t.has(un.keyField().canonicalString())||e.Ee.push(new Yc(un.keyField(),a))}return e.Ee}function Jr(n){const e=Pe(n);return e.de||(e.de=RR(e,Mc(n))),e.de}function RR(n,e){if(n.limitType==="F")return i_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Yc(o.field,l)});const t=n.endAt?new bh(n.endAt.position,n.endAt.inclusive):null,a=n.startAt?new bh(n.startAt.position,n.startAt.inclusive):null;return i_(n.path,n.collectionGroup,e,n.filters,n.limit,t,a)}}function J0(n,e){const t=n.filters.concat([e]);return new ml(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function eg(n,e,t){return new ml(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $h(n,e){return zg(Jr(n),Jr(e))&&n.limitType===e.limitType}function aE(n){return`${Bg(Jr(n))}|lt:${n.limitType}`}function $o(n){return`Query(target=${function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map(o=>tE(o)).join(", ")}]`),Fh(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map(o=>al(o)).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map(o=>al(o)).join(",")),`Target(${a})`}(Jr(n))}; limitType=${n.limitType})`}function Gh(n,e){return e.isFoundDocument()&&function(a,o){const l=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):Ie.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)}(n,e)&&function(a,o){for(const l of Mc(a))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(a,o){for(const l of a.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(a,o){return!(a.startAt&&!function(u,f,p){const y=r_(u,f,p);return u.inclusive?y<=0:y<0}(a.startAt,Mc(a),o)||a.endAt&&!function(u,f,p){const y=r_(u,f,p);return u.inclusive?y>=0:y>0}(a.endAt,Mc(a),o))}(n,e)}function kR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iE(n){return(e,t)=>{let a=!1;for(const o of Mc(n)){const l=NR(o,e,t);if(l!==0)return l;a=a||o.field.isKeyField()}return 0}}function NR(n,e,t){const a=n.field.isKeyField()?Ie.comparator(e.key,t.key):function(l,u,f){const p=u.data.field(l),y=f.data.field(l);return p!==null&&y!==null?rl(p,y):Ve(42886)}(n.field,e,t);switch(n.dir){case"asc":return a;case"desc":return-1*a;default:return Ve(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[o,l]of a)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[t]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(t,a)=>{for(const[o,l]of a)e(o,l)})}isEmpty(){return Fx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=new wt(Ie.comparator);function Za(){return CR}const sE=new wt(Ie.comparator);function kc(...n){let e=sE;for(const t of n)e=e.insert(t.key,t);return e}function oE(n){let e=sE;return n.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function Ms(){return Lc()}function lE(){return Lc()}function Lc(){return new Ys(n=>n.toString(),(n,e)=>n.isEqual(e))}const IR=new wt(Ie.comparator),OR=new Kt(Ie.comparator);function Ye(...n){let e=OR;for(const t of n)e=e.add(t);return e}const DR=new Kt(qe);function VR(){return DR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function cE(n){return{integerValue:""+n}}function MR(n,e){return lR(e)?cE(e):Fg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this._=void 0}}function LR(n,e,t){return n instanceof Qc?function(o,l){const u={fields:{[$x]:{stringValue:qx},[Zx]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Pg(l)&&(l=Hh(l)),l&&(u.fields[Gx]=l),{mapValue:u}}(t,e):n instanceof Xc?dE(n,e):n instanceof Wc?hE(n,e):function(o,l){const u=uE(o,l),f=o_(u)+o_(o.Re);return Q0(u)&&Q0(o.Re)?cE(f):Fg(o.serializer,f)}(n,e)}function jR(n,e,t){return n instanceof Xc?dE(n,e):n instanceof Wc?hE(n,e):t}function uE(n,e){return n instanceof xh?function(a){return Q0(a)||function(l){return!!l&&"doubleValue"in l}(a)}(e)?e:{integerValue:0}:null}class Qc extends Zh{}class Xc extends Zh{constructor(e){super(),this.elements=e}}function dE(n,e){const t=fE(e);for(const a of n.elements)t.some(o=>na(o,a))||t.push(a);return{arrayValue:{values:t}}}class Wc extends Zh{constructor(e){super(),this.elements=e}}function hE(n,e){let t=fE(e);for(const a of n.elements)t=t.filter(o=>!na(o,a));return{arrayValue:{values:t}}}class xh extends Zh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function o_(n){return It(n.integerValue||n.doubleValue)}function fE(n){return Ug(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,t){this.field=e,this.transform=t}}function UR(n,e){return n.field.isEqual(e.field)&&function(a,o){return a instanceof Xc&&o instanceof Xc||a instanceof Wc&&o instanceof Wc?nl(a.elements,o.elements,na):a instanceof xh&&o instanceof xh?na(a.Re,o.Re):a instanceof Qc&&o instanceof Qc}(n.transform,e.transform)}class BR{constructor(e,t){this.version=e,this.transformResults=t}}class dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Kh{}function mE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Hg(n.key,dr.none()):new cu(n.key,n.data,dr.none());{const t=n.data,a=Mn.empty();let o=new Kt(un.comparator);for(let l of e.fields)if(!o.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?a.delete(l):a.set(l,u),o=o.add(l)}return new ts(n.key,a,new Yn(o.toArray()),dr.none())}}function zR(n,e,t){n instanceof cu?function(o,l,u){const f=o.value.clone(),p=c_(o.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof ts?function(o,l,u){if(!th(o.precondition,l))return void l.convertToUnknownDocument(u.version);const f=c_(o.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(gE(o)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function jc(n,e,t,a){return n instanceof cu?function(l,u,f,p){if(!th(l.precondition,u))return f;const y=l.value.clone(),b=u_(l.fieldTransforms,p,u);return y.setAll(b),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(n,e,t,a):n instanceof ts?function(l,u,f,p){if(!th(l.precondition,u))return f;const y=u_(l.fieldTransforms,p,u),b=u.data;return b.setAll(gE(l)),b.setAll(y),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(n,e,t,a):function(l,u,f){return th(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function FR(n,e){let t=null;for(const a of n.fieldTransforms){const o=e.data.field(a.field),l=uE(a.transform,o||null);l!=null&&(t===null&&(t=Mn.empty()),t.set(a.field,l))}return t||null}function l_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&nl(a,o,(l,u)=>UR(l,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class cu extends Kh{constructor(e,t,a,o=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ts extends Kh{constructor(e,t,a,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function gE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=n.data.field(t);e.set(t,a)}}),e}function c_(n,e,t){const a=new Map;at(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let o=0;o<t.length;o++){const l=n[o],u=l.transform,f=e.data.field(l.field);a.set(l.field,jR(u,f,t[o]))}return a}function u_(n,e,t){const a=new Map;for(const o of n){const l=o.transform,u=t.data.field(o.field);a.set(o.field,LR(l,u,e))}return a}class Hg extends Kh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HR extends Kh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,t,a,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&zR(l,e,a[o])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=jc(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=jc(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=lE();return this.mutations.forEach(o=>{const l=e.get(o.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=t.has(o.key)?null:f;const p=mE(u,f);p!==null&&a.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(je.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ye())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,(t,a)=>l_(t,a))&&nl(this.baseMutations,e.baseMutations,(t,a)=>l_(t,a))}}class qg{constructor(e,t,a,o){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=o}static from(e,t,a){at(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let o=function(){return IR}();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,a[u].version);return new qg(e,t,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,et;function ZR(n){switch(n){case ce.OK:return Ve(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return Ve(15467,{code:n})}}function pE(n){if(n===void 0)return Ga("GRPC error has no .code"),ce.UNKNOWN;switch(n){case jt.OK:return ce.OK;case jt.CANCELLED:return ce.CANCELLED;case jt.UNKNOWN:return ce.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ce.INTERNAL;case jt.UNAVAILABLE:return ce.UNAVAILABLE;case jt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case jt.NOT_FOUND:return ce.NOT_FOUND;case jt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case jt.ABORTED:return ce.ABORTED;case jt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case jt.DATA_LOSS:return ce.DATA_LOSS;default:return Ve(39323,{code:n})}}(et=jt||(jt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new Fi([4294967295,4294967295],0);function d_(n){const e=Ux().encode(n),t=new Ix;return t.update(e),new Uint8Array(t.digest())}function h_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Fi([t,a],0),new Fi([o,l],0)]}class $g{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new Nc(`Invalid padding: ${t}`);if(a<0)throw new Nc(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Nc(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new Nc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Fi.fromNumber(this.pe)}we(e,t,a){let o=e.add(t.multiply(Fi.fromNumber(a)));return o.compare(KR)===1&&(o=new Fi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=d_(e),[a,o]=h_(t);for(let l=0;l<this.hashCount;l++){const u=this.we(a,o,l);if(!this.be(u))return!1}return!0}static create(e,t,a){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new $g(l,o,t);return a.forEach(f=>u.insert(f)),u}insert(e){if(this.pe===0)return;const t=d_(e),[a,o]=h_(t);for(let l=0;l<this.hashCount;l++){const u=this.we(a,o,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class Nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t,a,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const o=new Map;return o.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Yh(je.min(),o,new wt(qe),Za(),Ye())}}class uu{constructor(e,t,a,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new uu(a,t,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t,a,o){this.De=e,this.removedTargetIds=t,this.key=a,this.ve=o}}class yE{constructor(e,t){this.targetId=e,this.Ce=t}}class vE{constructor(e,t,a=dn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=o}}class f_{constructor(){this.Fe=0,this.Me=m_(),this.xe=dn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ye(),t=Ye(),a=Ye();return this.Me.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:a=a.add(o);break;default:Ve(38017,{changeType:l})}}),new uu(this.xe,this.Oe,e,t,a)}Qe(){this.Ne=!1,this.Me=m_()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,at(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class YR{constructor(e){this.ze=e,this.je=new Map,this.He=Za(),this.Je=Hd(),this.Ye=Hd(),this.Ze=new wt(qe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const a=this.rt(t);switch(e.state){case 0:this.it(t)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(t);break;case 3:this.it(t)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),a.ke(e.resumeToken));break;default:Ve(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((a,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,a=e.Ce.count,o=this._t(t);if(o){const l=o.target;if(W0(l))if(a===0){const u=new Ie(l.path);this.tt(t,u,yn.newNoDocument(u,je.min()))}else at(a===1,20013,{expectedCount:a});else{const u=this.ut(t);if(u!==a){const f=this.ct(e),p=f?this.lt(f,e,u):1;if(p!==0){this.st(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,y)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:l=0}=t;let u,f;try{u=Zi(a).toUint8Array()}catch(p){if(p instanceof Hx)return tl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new $g(u,o,l)}catch(p){return tl(p instanceof Nc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.pe===0?null:f}lt(e,t,a){return t.Ce.count===a-this.Tt(e,t.targetId)?0:2}Tt(e,t){const a=this.ze.getRemoteKeysForTarget(t);let o=0;return a.forEach(l=>{const u=this.ze.Pt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,l,null),o++)}),o}It(e){const t=new Map;this.je.forEach((l,u)=>{const f=this._t(u);if(f){if(l.current&&W0(f.target)){const p=new Ie(f.target.path);this.Et(p).has(u)||this.dt(u,p)||this.tt(u,p,yn.newNoDocument(p,e))}l.Le&&(t.set(u,l.qe()),l.Qe())}});let a=Ye();this.Ye.forEach((l,u)=>{let f=!0;u.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(a=a.add(l))}),this.He.forEach((l,u)=>u.setReadTime(e));const o=new Yh(e,t,this.Ze,this.He,a);return this.He=Za(),this.Je=Hd(),this.Ye=Hd(),this.Ze=new wt(qe),o}et(e,t){if(!this.it(e))return;const a=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,a),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,a){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),a&&(this.He=this.He.insert(t,a))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new f_,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Kt(qe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Kt(qe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||xe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new f_),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Hd(){return new wt(Ie.comparator)}function m_(){return new wt(Ie.comparator)}const QR={asc:"ASCENDING",desc:"DESCENDING"},XR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WR={and:"AND",or:"OR"};class JR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tg(n,e){return n.useProto3Json||Fh(e)?e:{value:e}}function Eh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _E(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ek(n,e){return Eh(n,e.toTimestamp())}function ea(n){return at(!!n,49232),je.fromTimestamp(function(t){const a=Gi(t);return new Zt(a.seconds,a.nanos)}(n))}function Gg(n,e){return ng(n,e).canonicalString()}function ng(n,e){const t=function(o){return new yt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function bE(n){const e=yt.fromString(n);return at(AE(e),10190,{key:e.toString()}),e}function rg(n,e){return Gg(n.databaseId,e.path)}function T0(n,e){const t=bE(e);if(t.get(1)!==n.databaseId.projectId)throw new Ee(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ee(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(EE(t))}function xE(n,e){return Gg(n.databaseId,e)}function tk(n){const e=bE(n);return e.length===4?yt.emptyPath():EE(e)}function ag(n){return new yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function EE(n){return at(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function g_(n,e,t){return{name:rg(n,e),fields:t.value.mapValue.fields}}function nk(n,e){let t;if("targetChange"in e){e.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ve(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,b){return y.useProto3Json?(at(b===void 0||typeof b=="string",58123),dn.fromBase64String(b||"")):(at(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),dn.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(y){const b=y.code===void 0?ce.UNKNOWN:pE(y.code);return new Ee(b,y.message||"")}(u);t=new vE(a,o,l,f||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=T0(n,a.document.name),l=ea(a.document.updateTime),u=a.document.createTime?ea(a.document.createTime):je.min(),f=new Mn({mapValue:{fields:a.document.fields}}),p=yn.newFoundDocument(o,l,u,f),y=a.targetIds||[],b=a.removedTargetIds||[];t=new nh(y,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=T0(n,a.document),l=a.readTime?ea(a.readTime):je.min(),u=yn.newNoDocument(o,l),f=a.removedTargetIds||[];t=new nh([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=T0(n,a.document),l=a.removedTargetIds||[];t=new nh([],l,o,null)}else{if(!("filter"in e))return Ve(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:l}=a,u=new GR(o,l),f=a.targetId;t=new yE(f,u)}}return t}function rk(n,e){let t;if(e instanceof cu)t={update:g_(n,e.key,e.value)};else if(e instanceof Hg)t={delete:rg(n,e.key)};else if(e instanceof ts)t={update:g_(n,e.key,e.data),updateMask:hk(e.fieldMask)};else{if(!(e instanceof HR))return Ve(16599,{ft:e.type});t={verify:rg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(l,u){const f=u.transform;if(f instanceof Qc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Xc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Wc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof xh)return{fieldPath:u.field.canonicalString(),increment:f.Re};throw Ve(20930,{transform:u.transform})}(0,a))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:ek(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ve(27497)}(n,e.precondition)),t}function ak(n,e){return n&&n.length>0?(at(e!==void 0,14353),n.map(t=>function(o,l){let u=o.updateTime?ea(o.updateTime):ea(l);return u.isEqual(je.min())&&(u=ea(l)),new BR(u,o.transformResults||[])}(t,e))):[]}function ik(n,e){return{documents:[xE(n,e.path)]}}function sk(n,e){const t={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=xE(n,o);const l=function(y){if(y.length!==0)return TE(Sr.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(y){if(y.length!==0)return y.map(b=>function(T){return{field:Go(T.field),direction:ck(T.dir)}}(b))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=tg(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:t,parent:o}}function ok(n){let e=tk(n.parent);const t=n.structuredQuery,a=t.from?t.from.length:0;let o=null;if(a>0){at(a===1,65062);const b=t.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let l=[];t.where&&(l=function(w){const T=wE(w);return T instanceof Sr&&Jx(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(T=>function(B){return new Yc(Zo(B.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(T))}(t.orderBy));let f=null;t.limit&&(f=function(w){let T;return T=typeof w=="object"?w.value:w,Fh(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(w){const T=!!w.before,C=w.values||[];return new bh(C,T)}(t.startAt));let y=null;return t.endAt&&(y=function(w){const T=!w.before,C=w.values||[];return new bh(C,T)}(t.endAt)),SR(e,o,u,l,f,"F",p,y)}function lk(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=Zo(t.unaryFilter.field);return Ut.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Zo(t.unaryFilter.field);return Ut.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Zo(t.unaryFilter.field);return Ut.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Zo(t.unaryFilter.field);return Ut.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ut.create(Zo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Sr.create(t.compositeFilter.filters.map(a=>wE(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}}(t.compositeFilter.op))}(n):Ve(30097,{filter:n})}function ck(n){return QR[n]}function uk(n){return XR[n]}function dk(n){return WR[n]}function Go(n){return{fieldPath:n.canonicalString()}}function Zo(n){return un.fromServerFormat(n.fieldPath)}function TE(n){return n instanceof Ut?function(t){if(t.op==="=="){if(n_(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NAN"}};if(t_(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(n_(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NOT_NAN"}};if(t_(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Go(t.field),op:uk(t.op),value:t.value}}}(n):n instanceof Sr?function(t){const a=t.getFilters().map(o=>TE(o));return a.length===1?a[0]:{compositeFilter:{op:dk(t.op),filters:a}}}(n):Ve(54877,{filter:n})}function hk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function AE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,t,a,o,l=je.min(),u=je.min(),f=dn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.wt=e}}function mk(n){const e=ok({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?eg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.Cn=new pk}addToCollectionParentIndex(e,t){return this.Cn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve($i.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve($i.min())}updateCollectionGroup(e,t,a){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class pk{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t]||new Kt(yt.comparator),l=!o.has(a);return this.index[t]=o.add(a),l}has(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Kt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SE=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(SE,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new il(0)}static lr(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="LruGarbageCollector",yk=1048576;function v_([n,e],[t,a]){const o=qe(n,t);return o===0?qe(e,a):o}class vk{constructor(e){this.Er=e,this.buffer=new Kt(v_),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();v_(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _k{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){xe(y_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fl(t)?xe(y_,"Ignoring IndexedDB error during garbage collection: ",t):await hl(t)}await this.mr(3e5)})}}class bk{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(zh.le);const a=new vk(t);return this.gr.forEachTarget(e,o=>a.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>a.Rr(o))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.gr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(p_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p_):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let a,o,l,u,f,p,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(a=w,f=Date.now(),this.removeTargets(e,a,t))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(w=>(y=Date.now(),qo()<=Ke.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-b}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-b}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function xk(n,e){return new bk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.changes=new Ys(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?ue.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,t,a,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(a!==null&&jc(a.mutation,o,Yn.empty(),Zt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,Ye()).next(()=>a))}getLocalViewOfDocuments(e,t,a=Ye()){const o=Ms();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,a).next(l=>{let u=kc();return l.forEach((f,p)=>{u=u.insert(f,p.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const a=Ms();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,Ye()))}populateOverlays(e,t,a){const o=[];return a.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,a,o){let l=Za();const u=Lc(),f=function(){return Lc()}();return t.forEach((p,y)=>{const b=a.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof ts)?l=l.insert(y.key,y):b!==void 0?(u.set(y.key,b.mutation.getFieldMask()),jc(b.mutation,y,b.mutation.getFieldMask(),Zt.now())):u.set(y.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,b)=>u.set(y,b)),t.forEach((y,b)=>{var w;return f.set(y,new wk(b,(w=u.get(y))!==null&&w!==void 0?w:null))}),f))}recalculateAndSaveOverlays(e,t){const a=Lc();let o=new wt((u,f)=>u-f),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let b=a.get(p)||Yn.empty();b=f.applyToLocalView(y,b),a.set(p,b);const w=(o.get(f.batchId)||Ye()).add(p);o=o.insert(f.batchId,w)})}).next(()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,b=p.value,w=lE();b.forEach(T=>{if(!l.has(T)){const C=mE(t.get(T),a.get(T));C!==null&&w.set(T,C),l=l.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ue.waitFor(u)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a,o){return function(u){return Ie.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,o):this.getDocumentsMatchingCollectionQuery(e,t,a,o)}getNextDocuments(e,t,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,o).next(l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,o-l.size):ue.resolve(Ms());let f=$c,p=l;return u.next(y=>ue.forEach(y,(b,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),l.get(b)?ue.resolve():this.remoteDocumentCache.getEntry(e,b).next(T=>{p=p.insert(b,T)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,Ye())).next(b=>({batchId:f,changes:oE(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next(a=>{let o=kc();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,a,o){const l=t.collectionGroup;let u=kc();return this.indexManager.getCollectionParents(e,l).next(f=>ue.forEach(f,p=>{const y=function(w,T){return new ml(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next(b=>{b.forEach((w,T)=>{u=u.insert(w,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,a,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,l,o))).next(u=>{l.forEach((p,y)=>{const b=y.getKey();u.get(b)===null&&(u=u.insert(b,yn.newInvalidDocument(b)))});let f=kc();return u.forEach((p,y)=>{const b=l.get(p);b!==void 0&&jc(b.mutation,y,Yn.empty(),Zt.now()),Gh(t,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ue.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ea(o.createTime)}}(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(o){return{name:o.name,query:mk(o.bundledQuery),readTime:ea(o.readTime)}}(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.overlays=new wt(Ie.comparator),this.Qr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const a=Ms();return ue.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&a.set(o,l)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((o,l)=>{this.St(e,t,l)}),ue.resolve()}removeOverlaysForBatchId(e,t,a){const o=this.Qr.get(a);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(a)),ue.resolve()}getOverlaysForCollection(e,t,a){const o=Ms(),l=t.length+1,u=new Ie(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ue.resolve(o)}getOverlaysForCollectionGroup(e,t,a,o){let l=new wt((y,b)=>y-b);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>a){let b=l.get(y.largestBatchId);b===null&&(b=Ms(),l=l.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const f=Ms(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,b)=>f.set(y,b)),!(f.size()>=o)););return ue.resolve(f)}St(e,t,a){const o=this.overlays.get(a.key);if(o!==null){const u=this.Qr.get(o.largestBatchId).delete(a.key);this.Qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(a.key,new $R(t,a));let l=this.Qr.get(t);l===void 0&&(l=Ye(),this.Qr.set(t,l)),this.Qr.set(t,l.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(){this.$r=new Kt(tn.Ur),this.Kr=new Kt(tn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const a=new tn(e,t);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.zr(new tn(e,t))}jr(e,t){e.forEach(a=>this.removeReference(a,t))}Hr(e){const t=new Ie(new yt([])),a=new tn(t,e),o=new tn(t,e+1),l=[];return this.Kr.forEachInRange([a,o],u=>{this.zr(u),l.push(u.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ie(new yt([])),a=new tn(t,e),o=new tn(t,e+1);let l=Ye();return this.Kr.forEachInRange([a,o],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new tn(e,0),a=this.$r.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class tn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ie.comparator(e.key,t.key)||qe(e.Zr,t.Zr)}static Wr(e,t){return qe(e.Zr,t.Zr)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Kt(tn.Ur)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,o){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new qR(l,t,a,o);this.mutationQueue.push(u);for(const f of o)this.Xr=this.Xr.add(new tn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,t){return ue.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,o=this.ti(a),l=o<0?0:o;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?jg:this.nr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new tn(t,0),o=new tn(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([a,o],u=>{const f=this.ei(u.Zr);l.push(f)}),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Kt(qe);return t.forEach(o=>{const l=new tn(o,0),u=new tn(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,u],f=>{a=a.add(f.Zr)})}),ue.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,o=a.length+1;let l=a;Ie.isDocumentKey(l)||(l=l.child(""));const u=new tn(new Ie(l),0);let f=new Kt(qe);return this.Xr.forEachWhile(p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.Zr)),!0)},u),ue.resolve(this.ni(f))}ni(e){const t=[];return e.forEach(a=>{const o=this.ei(a);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){at(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return ue.forEach(t.mutations,o=>{const l=new tn(o.key,t.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,t){const a=new tn(t,0),o=this.Xr.firstAfterOrEqual(a);return ue.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.ii=e,this.docs=function(){return new wt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,o=this.docs.get(a),l=o?o.size:0,u=this.ii(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return ue.resolve(a?a.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let a=Za();return t.forEach(o=>{const l=this.docs.get(o);a=a.insert(o,l?l.document.mutableCopy():yn.newInvalidDocument(o))}),ue.resolve(a)}getDocumentsMatchingQuery(e,t,a,o){let l=Za();const u=t.path,f=new Ie(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:b}}=p.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||aR(rR(b),a)<=0||(o.has(b.key)||Gh(t,b))&&(l=l.insert(b.key,b.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,t,a,o){Ve(9500)}si(e,t){return ue.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new Ck(this)}getSize(e){return ue.resolve(this.size)}}class Ck extends Ek{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?t.push(this.Br.addEntry(e,o)):this.Br.removeEntry(a)}),ue.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.persistence=e,this.oi=new Ys(t=>Bg(t),zg),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this._i=0,this.ai=new Zg,this.targetCount=0,this.ui=il.cr()}forEachTarget(e,t){return this.oi.forEach((a,o)=>t(o)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this._i&&(this._i=t),ue.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new il(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Tr(t),ue.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,a){let o=0;const l=[];return this.oi.forEach((u,f)=>{f.sequenceNumber<=t&&a.get(f.targetId)===null&&(this.oi.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),ue.waitFor(l).next(()=>o)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const a=this.oi.get(t)||null;return ue.resolve(a)}addMatchingKeys(e,t,a){return this.ai.Gr(t,a),ue.resolve()}removeMatchingKeys(e,t,a){this.ai.jr(t,a);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(u=>{l.push(o.markPotentiallyOrphaned(e,u))}),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const a=this.ai.Yr(t);return ue.resolve(a)}containsKey(e,t){return ue.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,t){this.ci={},this.overlays={},this.li=new zh(0),this.hi=!1,this.hi=!0,this.Pi=new Rk,this.referenceDelegate=e(this),this.Ti=new Ik(this),this.indexManager=new gk,this.remoteDocumentCache=function(o){return new Nk(o)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new fk(t),this.Ei=new Ak(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Sk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.ci[e.toKey()];return a||(a=new kk(t,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,a){xe("MemoryPersistence","Starting transaction:",e);const o=new Ok(this.li.next());return this.referenceDelegate.di(),a(o).next(l=>this.referenceDelegate.Ai(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ri(e,t){return ue.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,t)))}}class Ok extends sR{constructor(e){super(),this.currentSequenceNumber=e}}class Kg{constructor(e){this.persistence=e,this.Vi=new Zg,this.mi=null}static fi(e){return new Kg(e)}get gi(){if(this.mi)return this.mi;throw Ve(60996)}addReference(e,t,a){return this.Vi.addReference(a,t),this.gi.delete(a.toString()),ue.resolve()}removeReference(e,t,a){return this.Vi.removeReference(a,t),this.gi.add(a.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(o=>this.gi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.gi.add(l.toString()))}).next(()=>a.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.gi,a=>{const o=Ie.fromPath(a);return this.pi(e,o).next(l=>{l||t.removeEntry(o,je.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(a=>{a?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ue.or([()=>ue.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class wh{constructor(e,t){this.persistence=e,this.yi=new Ys(a=>cR(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=xk(this,t)}static fi(e,t){return new wh(e,t)}di(){}Ai(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>t.next(o=>a+o))}br(e){let t=0;return this.yr(e,a=>{t++}).next(()=>t)}yr(e,t){return ue.forEach(this.yi,(a,o)=>this.Dr(e,a,o).next(l=>l?ue.resolve():t(o)))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.si(e,u=>this.Dr(e,u,t).next(f=>{f||(a++,l.removeEntry(u,je.min()))})).next(()=>l.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.yi.set(a,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,a){return this.yi.set(a,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ue.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Jd(e.data.value)),t}Dr(e,t,a){return ue.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.yi.get(t);return ue.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,t,a,o){this.targetId=e,this.fromCache=t,this.ds=a,this.As=o}static Rs(e,t){let a=Ye(),o=Ye();for(const l of t.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Yg(e,t.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return a5()?8:oR(_n())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,a,o){const l={result:null};return this.ws(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.bs(e,t,o,a).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new Dk;return this.Ss(e,t,u).next(f=>{if(l.result=f,this.fs)return this.Ds(e,t,u,f.size)})}).next(()=>l.result)}Ds(e,t,a,o){return a.documentReadCount<this.gs?(qo()<=Ke.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",$o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ue.resolve()):(qo()<=Ke.DEBUG&&xe("QueryEngine","Query:",$o(t),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ps*o?(qo()<=Ke.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",$o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(t))):ue.resolve())}ws(e,t){if(s_(t))return ue.resolve(null);let a=Jr(t);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=eg(t,null,"F"),a=Jr(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(l=>{const u=Ye(...l);return this.ys.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,a).next(p=>{const y=this.vs(t,f);return this.Cs(t,y,u,p.readTime)?this.ws(e,eg(t,null,"F")):this.Fs(e,y,t,p)}))})))}bs(e,t,a,o){return s_(t)||o.isEqual(je.min())?ue.resolve(null):this.ys.getDocuments(e,a).next(l=>{const u=this.vs(t,l);return this.Cs(t,u,a,o)?ue.resolve(null):(qo()<=Ke.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$o(t)),this.Fs(e,u,t,nR(o,$c)).next(f=>f))})}vs(e,t){let a=new Kt(iE(e));return t.forEach((o,l)=>{Gh(e,l)&&(a=a.add(l))}),a}Cs(e,t,a,o){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,a){return qo()<=Ke.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",$o(t)),this.ys.getDocumentsMatchingQuery(e,t,$i.min(),a)}Fs(e,t,a,o){return this.ys.getDocumentsMatchingQuery(e,a,o).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="LocalStore",Mk=3e8;class Lk{constructor(e,t,a,o){this.persistence=e,this.Ms=t,this.serializer=o,this.xs=new wt(qe),this.Os=new Ys(l=>Bg(l),zg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tk(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function jk(n,e,t,a){return new Lk(n,e,t,a)}async function kE(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",a=>{let o;return t.mutationQueue.getAllMutationBatches(a).next(l=>(o=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(a))).next(l=>{const u=[],f=[];let p=Ye();for(const y of o){u.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}for(const y of l){f.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}return t.localDocuments.getDocuments(a,p).next(y=>({ks:y,removedBatchIds:u,addedBatchIds:f}))})})}function Pk(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(f,p,y,b){const w=y.batch,T=w.keys();let C=ue.resolve();return T.forEach(B=>{C=C.next(()=>b.getEntry(p,B)).next($=>{const P=y.docVersions.get(B);at(P!==null,48541),$.version.compareTo(P)<0&&(w.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),b.addEntry($)))})}),C.next(()=>f.mutationQueue.removeMutationBatch(p,w))}(t,a,e,l).next(()=>l.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(f){let p=Ye();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(a,o))})}function NE(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function Uk(n,e){const t=Pe(n),a=e.snapshotVersion;let o=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});o=t.xs;const f=[];e.targetChanges.forEach((b,w)=>{const T=o.get(w);if(!T)return;f.push(t.Ti.removeMatchingKeys(l,b.removedDocuments,w).next(()=>t.Ti.addMatchingKeys(l,b.addedDocuments,w)));let C=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(dn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):b.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(b.resumeToken,a)),o=o.insert(w,C),function($,P,re){return $.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=Mk?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0}(T,C,b)&&f.push(t.Ti.updateTargetData(l,C))});let p=Za(),y=Ye();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,b))}),f.push(Bk(l,u,e.documentUpdates).next(b=>{p=b.qs,y=b.Qs})),!a.isEqual(je.min())){const b=t.Ti.getLastRemoteSnapshotVersion(l).next(w=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,a));f.push(b)}return ue.waitFor(f).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.xs=o,l))}function Bk(n,e,t){let a=Ye(),o=Ye();return t.forEach(l=>a=a.add(l)),e.getEntries(n,a).next(l=>{let u=Za();return t.forEach((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(je.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):xe(Qg,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{qs:u,Qs:o}})}function zk(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=jg),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function Fk(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return t.Ti.getTargetData(a,e).next(l=>l?(o=l,ue.resolve(o)):t.Ti.allocateTargetId(a).next(u=>(o=new Pi(e,u,"TargetPurposeListen",a.currentSequenceNumber),t.Ti.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=t.xs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.xs=t.xs.insert(a.targetId,a),t.Os.set(e,a.targetId)),a})}async function ig(n,e,t){const a=Pe(n),o=a.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",l,u=>a.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!fl(u))throw u;xe(Qg,`Failed to update sequence numbers for target ${e}: ${u}`)}a.xs=a.xs.remove(e),a.Os.delete(o.target)}function __(n,e,t){const a=Pe(n);let o=je.min(),l=Ye();return a.persistence.runTransaction("Execute query","readwrite",u=>function(p,y,b){const w=Pe(p),T=w.Os.get(b);return T!==void 0?ue.resolve(w.xs.get(T)):w.Ti.getTargetData(y,b)}(a,u,Jr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(u,f.targetId).next(p=>{l=p})}).next(()=>a.Ms.getDocumentsMatchingQuery(u,e,t?o:je.min(),t?l:Ye())).next(f=>(Hk(a,kR(e),f),{documents:f,$s:l})))}function Hk(n,e,t){let a=n.Ns.get(e)||je.min();t.forEach((o,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)}),n.Ns.set(e,a)}class b_{constructor(){this.activeTargetIds=VR()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qk{constructor(){this.xo=new b_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,a){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new b_,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="ConnectivityMonitor";class E_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){xe(x_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){xe(x_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qd=null;function sg(){return qd===null?qd=function(){return 268435456+Math.round(2147483648*Math.random())}():qd++,"0x"+qd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="RestConnection",Gk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zk{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${a}/databases/${o}`,this.Go=this.databaseId.database===vh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}zo(e,t,a,o,l){const u=sg(),f=this.jo(e,t.toUriEncodedString());xe(A0,`Sending RPC '${e}' ${u}:`,f,a);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,l);const{host:y}=new URL(f),b=Ji(y);return this.Jo(e,f,p,a,b).then(w=>(xe(A0,`Received RPC '${e}' ${u}: `,w),w),w=>{throw tl(A0,`RPC '${e}' ${u} failed with error: `,w,"url: ",f,"request:",a),w})}Yo(e,t,a,o,l,u){return this.zo(e,t,a,o,l)}Ho(e,t,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+dl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),a&&a.headers.forEach((o,l)=>e[l]=o)}jo(e,t){const a=Gk[e];return`${this.Ko}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class Yk extends Zk{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,a,o,l){const u=sg();return new Promise((f,p)=>{const y=new Ox;y.setWithCredentials(!0),y.listenOnce(Dx.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Wd.NO_ERROR:const w=y.getResponseJson();xe(mn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),f(w);break;case Wd.TIMEOUT:xe(mn,`RPC '${e}' ${u} timed out`),p(new Ee(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Wd.HTTP_ERROR:const T=y.getStatus();if(xe(mn,`RPC '${e}' ${u} failed with status:`,T,"response text:",y.getResponseText()),T>0){let C=y.getResponseJson();Array.isArray(C)&&(C=C[0]);const B=C==null?void 0:C.error;if(B&&B.status&&B.message){const $=function(re){const F=re.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(F)>=0?F:ce.UNKNOWN}(B.status);p(new Ee($,B.message))}else p(new Ee(ce.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new Ee(ce.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{h_:e,streamId:u,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{xe(mn,`RPC '${e}' ${u} completed.`)}});const b=JSON.stringify(o);xe(mn,`RPC '${e}' ${u} sending request:`,o),y.send(t,"POST",b,a,15)})}I_(e,t,a){const o=sg(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Lx(),f=Mx(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,t,a),p.encodeInitMessageHeaders=!0;const b=l.join("");xe(mn,`Creating RPC '${e}' stream ${o}: ${b}`,p);const w=u.createWebChannel(b,p);this.E_(w);let T=!1,C=!1;const B=new Kk({Zo:P=>{C?xe(mn,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(T||(xe(mn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),xe(mn,`RPC '${e}' stream ${o} sending:`,P),w.send(P))},Xo:()=>w.close()}),$=(P,re,F)=>{P.listen(re,G=>{try{F(G)}catch(X){setTimeout(()=>{throw X},0)}})};return $(w,Rc.EventType.OPEN,()=>{C||(xe(mn,`RPC '${e}' stream ${o} transport opened.`),B.__())}),$(w,Rc.EventType.CLOSE,()=>{C||(C=!0,xe(mn,`RPC '${e}' stream ${o} transport closed`),B.u_(),this.d_(w))}),$(w,Rc.EventType.ERROR,P=>{C||(C=!0,tl(mn,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),B.u_(new Ee(ce.UNAVAILABLE,"The operation could not be completed")))}),$(w,Rc.EventType.MESSAGE,P=>{var re;if(!C){const F=P.data[0];at(!!F,16349);const G=F,X=(G==null?void 0:G.error)||((re=G[0])===null||re===void 0?void 0:re.error);if(X){xe(mn,`RPC '${e}' stream ${o} received error:`,X);const ne=X.status;let pe=function(N){const D=jt[N];if(D!==void 0)return pE(D)}(ne),O=X.message;pe===void 0&&(pe=ce.INTERNAL,O="Unknown error status: "+ne+" with message "+X.message),C=!0,B.u_(new Ee(pe,O)),w.close()}else xe(mn,`RPC '${e}' stream ${o} received:`,F),B.c_(F)}}),$(f,Vx.STAT_EVENT,P=>{P.stat===Z0.PROXY?xe(mn,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Z0.NOPROXY&&xe(mn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{B.a_()},0),B}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function S0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(n){return new JR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,t,a=1e3,o=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=a,this.R_=o,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),a=Math.max(0,Date.now()-this.g_),o=Math.max(0,t-a);o>0&&xe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="PersistentStream";class IE{constructor(e,t,a,o,l,u,f,p){this.xi=e,this.S_=a,this.D_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new CE(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Ga(t.toString()),Ga("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.v_===t&&this.z_(a,o)},a=>{e(()=>{const o=new Ee(ce.UNKNOWN,"Fetching auth token failed: "+a.message);return this.j_(o)})})}z_(e,t){const a=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{a(()=>this.j_(o))}),this.stream.onMessage(o=>{a(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return xe(w_,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(xe(w_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qk extends IE{constructor(e,t,a,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,o,u),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=nk(this.serializer,e),a=function(l){if(!("targetChange"in l))return je.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?je.min():u.readTime?ea(u.readTime):je.min()}(e);return this.listener.Y_(t,a)}Z_(e){const t={};t.database=ag(this.serializer),t.addTarget=function(l,u){let f;const p=u.target;if(f=W0(p)?{documents:ik(l,p)}:{query:sk(l,p).gt},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=_E(l,u.resumeToken);const y=tg(l,u.expectedCount);y!==null&&(f.expectedCount=y)}else if(u.snapshotVersion.compareTo(je.min())>0){f.readTime=Eh(l,u.snapshotVersion.toTimestamp());const y=tg(l,u.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const a=lk(this.serializer,e);a&&(t.labels=a),this.Q_(t)}X_(e){const t={};t.database=ag(this.serializer),t.removeTarget=e,this.Q_(t)}}class Xk extends IE{constructor(e,t,a,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,o,u),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=ak(e.writeResults,e.commitTime),a=ea(e.commitTime);return this.listener.ra(a,t)}ia(){const e={};e.database=ag(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>rk(this.serializer,a))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{}class Jk extends Wk{constructor(e,t,a,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new Ee(ce.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,a,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.zo(e,ng(t,a),o,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(ce.UNKNOWN,l.toString())})}Yo(e,t,a,o,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Yo(e,ng(t,a),o,u,f,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ee(ce.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class eN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ga(t),this.ua=!1):xe("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="RemoteStore";class tN{constructor(e,t,a,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(u=>{a.enqueueAndForget(async()=>{Qs(this)&&(xe(qs,"Restarting streams for network reachability change."),await async function(p){const y=Pe(p);y.da.add(4),await du(y),y.Va.set("Unknown"),y.da.delete(4),await Xh(y)}(this))})}),this.Va=new eN(a,o)}}async function Xh(n){if(Qs(n))for(const e of n.Aa)await e(!0)}async function du(n){for(const e of n.Aa)await e(!1)}function OE(n,e){const t=Pe(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),ep(t)?Jg(t):gl(t).N_()&&Wg(t,e))}function Xg(n,e){const t=Pe(n),a=gl(t);t.Ea.delete(e),a.N_()&&DE(t,e),t.Ea.size===0&&(a.N_()?a.k_():Qs(t)&&t.Va.set("Unknown"))}function Wg(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}gl(n).Z_(e)}function DE(n,e){n.ma.Ke(e),gl(n).X_(e)}function Jg(n){n.ma=new YR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),gl(n).start(),n.Va.ca()}function ep(n){return Qs(n)&&!gl(n).O_()&&n.Ea.size>0}function Qs(n){return Pe(n).da.size===0}function VE(n){n.ma=void 0}async function nN(n){n.Va.set("Online")}async function rN(n){n.Ea.forEach((e,t)=>{Wg(n,e)})}async function aN(n,e){VE(n),ep(n)?(n.Va.Pa(e),Jg(n)):n.Va.set("Unknown")}async function iN(n,e,t){if(n.Va.set("Online"),e instanceof vE&&e.state===2&&e.cause)try{await async function(o,l){const u=l.cause;for(const f of l.targetIds)o.Ea.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.Ea.delete(f),o.ma.removeTarget(f))}(n,e)}catch(a){xe(qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Th(n,a)}else if(e instanceof nh?n.ma.Xe(e):e instanceof yE?n.ma.ot(e):n.ma.nt(e),!t.isEqual(je.min()))try{const a=await NE(n.localStore);t.compareTo(a)>=0&&await function(l,u){const f=l.ma.It(u);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=l.Ea.get(y);b&&l.Ea.set(y,b.withResumeToken(p.resumeToken,u))}}),f.targetMismatches.forEach((p,y)=>{const b=l.Ea.get(p);if(!b)return;l.Ea.set(p,b.withResumeToken(dn.EMPTY_BYTE_STRING,b.snapshotVersion)),DE(l,p);const w=new Pi(b.target,p,y,b.sequenceNumber);Wg(l,w)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(a){xe(qs,"Failed to raise snapshot:",a),await Th(n,a)}}async function Th(n,e,t){if(!fl(e))throw e;n.da.add(1),await du(n),n.Va.set("Offline"),t||(t=()=>NE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{xe(qs,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Xh(n)})}function ME(n,e){return e().catch(t=>Th(n,t,e))}async function Wh(n){const e=Pe(n),t=Yi(e);let a=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:jg;for(;sN(e);)try{const o=await zk(e.localStore,a);if(o===null){e.Ia.length===0&&t.k_();break}a=o.batchId,oN(e,o)}catch(o){await Th(e,o)}LE(e)&&jE(e)}function sN(n){return Qs(n)&&n.Ia.length<10}function oN(n,e){n.Ia.push(e);const t=Yi(n);t.N_()&&t.ea&&t.ta(e.mutations)}function LE(n){return Qs(n)&&!Yi(n).O_()&&n.Ia.length>0}function jE(n){Yi(n).start()}async function lN(n){Yi(n).ia()}async function cN(n){const e=Yi(n);for(const t of n.Ia)e.ta(t.mutations)}async function uN(n,e,t){const a=n.Ia.shift(),o=qg.from(a,e,t);await ME(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Wh(n)}async function dN(n,e){e&&Yi(n).ea&&await async function(a,o){if(function(u){return ZR(u)&&u!==ce.ABORTED}(o.code)){const l=a.Ia.shift();Yi(a).L_(),await ME(a,()=>a.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Wh(a)}}(n,e),LE(n)&&jE(n)}async function T_(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),xe(qs,"RemoteStore received new credentials");const a=Qs(t);t.da.add(3),await du(t),a&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Xh(t)}async function hN(n,e){const t=Pe(n);e?(t.da.delete(2),await Xh(t)):e||(t.da.add(2),await du(t),t.Va.set("Unknown"))}function gl(n){return n.fa||(n.fa=function(t,a,o){const l=Pe(t);return l.oa(),new Qk(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{e_:nN.bind(null,n),n_:rN.bind(null,n),i_:aN.bind(null,n),Y_:iN.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),ep(n)?Jg(n):n.Va.set("Unknown")):(await n.fa.stop(),VE(n))})),n.fa}function Yi(n){return n.ga||(n.ga=function(t,a,o){const l=Pe(t);return l.oa(),new Xk(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:lN.bind(null,n),i_:dN.bind(null,n),na:cN.bind(null,n),ra:uN.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Wh(n)):(await n.ga.stop(),n.Ia.length>0&&(xe(qs,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,t,a,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=o,this.removalCallback=l,this.deferred=new Fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,o,l){const u=Date.now()+a,f=new tp(e,t,u,o,l);return f.start(a),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(n,e){if(Ga("AsyncQueue",`${e}: ${n}`),fl(n))return new Ee(ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{static emptySet(e){return new Wo(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||Ie.comparator(t.key,a.key):(t,a)=>Ie.comparator(t.key,a.key),this.keyedMap=kc(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=a.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new Wo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.pa=new wt(Ie.comparator)}track(e){const t=e.doc.key,a=this.pa.get(t);a?e.type!==0&&a.type===3?this.pa=this.pa.insert(t,e):e.type===3&&a.type!==1?this.pa=this.pa.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.pa=this.pa.remove(t):e.type===1&&a.type===2?this.pa=this.pa.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Ve(63341,{Vt:e,ya:a}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,a)=>{e.push(a)}),e}}class sl{constructor(e,t,a,o,l,u,f,p,y){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,a,o,l){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new sl(e,t,Wo.emptySet(t),u,a,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==a[o].type||!t[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class mN{constructor(){this.queries=S_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,a){const o=Pe(t),l=o.queries;o.queries=S_(),l.forEach((u,f)=>{for(const p of f.Sa)p.onError(a)})})(this,new Ee(ce.ABORTED,"Firestore shutting down"))}}function S_(){return new Ys(n=>aE(n),$h)}async function rp(n,e){const t=Pe(n);let a=3;const o=e.query;let l=t.queries.get(o);l?!l.Da()&&e.va()&&(a=2):(l=new fN,a=e.va()?0:1);try{switch(a){case 0:l.ba=await t.onListen(o,!0);break;case 1:l.ba=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=np(u,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&ip(t)}async function ap(n,e){const t=Pe(n),a=e.query;let o=3;const l=t.queries.get(a);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.va()?0:1:!l.Da()&&e.va()&&(o=2))}switch(o){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function gN(n,e){const t=Pe(n);let a=!1;for(const o of e){const l=o.query,u=t.queries.get(l);if(u){for(const f of u.Sa)f.Ma(o)&&(a=!0);u.ba=o}}a&&ip(t)}function pN(n,e,t){const a=Pe(n),o=a.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);a.queries.delete(e)}function ip(n){n.Ca.forEach(e=>{e.next()})}var og,R_;(R_=og||(og={})).xa="default",R_.Cache="cache";class sp{constructor(e,t,a){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=a||{}}Ma(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new sl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const a=t!=="Offline";return(!this.options.Qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==og.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e){this.key=e}}class UE{constructor(e){this.key=e}}class yN{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ye(),this.mutatedKeys=Ye(),this.Za=iE(e),this.Xa=new Wo(this.Za)}get eu(){return this.Ha}tu(e,t){const a=t?t.nu:new A_,o=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,w)=>{const T=o.get(b),C=Gh(this.query,w)?w:null,B=!!T&&this.mutatedKeys.has(T.key),$=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let P=!1;T&&C?T.data.isEqual(C.data)?B!==$&&(a.track({type:3,doc:C}),P=!0):this.ru(T,C)||(a.track({type:2,doc:C}),P=!0,(p&&this.Za(C,p)>0||y&&this.Za(C,y)<0)&&(f=!0)):!T&&C?(a.track({type:0,doc:C}),P=!0):T&&!C&&(a.track({type:1,doc:T}),P=!0,(p||y)&&(f=!0)),P&&(C?(u=u.add(C),l=$?l.add(b):l.delete(b)):(u=u.delete(b),l=l.delete(b)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const b=this.query.limitType==="F"?u.last():u.first();u=u.delete(b.key),l=l.delete(b.key),a.track({type:1,doc:b})}return{Xa:u,nu:a,Cs:f,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,o){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((b,w)=>function(C,B){const $=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Vt:P})}};return $(C)-$(B)}(b.type,w.type)||this.Za(b.doc,w.doc)),this.iu(a),o=o!=null&&o;const f=t&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Ja;return this.Ja=p,u.length!==0||y?{snapshot:new sl(this.query,e.Xa,l,u,e.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new A_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ye(),this.Xa.forEach(a=>{this._u(a.key)&&(this.Ya=this.Ya.add(a.key))});const t=[];return e.forEach(a=>{this.Ya.has(a)||t.push(new UE(a))}),this.Ya.forEach(a=>{e.has(a)||t.push(new PE(a))}),t}au(e){this.Ha=e.$s,this.Ya=Ye();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return sl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const op="SyncEngine";class vN{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class _N{constructor(e){this.key=e,this.cu=!1}}class bN{constructor(e,t,a,o,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new Ys(f=>aE(f),$h),this.Pu=new Map,this.Tu=new Set,this.Iu=new wt(Ie.comparator),this.Eu=new Map,this.du=new Zg,this.Au={},this.Ru=new Map,this.Vu=il.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function xN(n,e,t=!0){const a=$E(n);let o;const l=a.hu.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.uu()):o=await BE(a,e,t,!0),o}async function EN(n,e){const t=$E(n);await BE(t,e,!0,!1)}async function BE(n,e,t,a){const o=await Fk(n.localStore,Jr(e)),l=o.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let f;return a&&(f=await wN(n,e,l,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&OE(n.remoteStore,o),f}async function wN(n,e,t,a,o){n.fu=(w,T,C)=>async function($,P,re,F){let G=P.view.tu(re);G.Cs&&(G=await __($.localStore,P.query,!1).then(({documents:O})=>P.view.tu(O,G)));const X=F&&F.targetChanges.get(P.targetId),ne=F&&F.targetMismatches.get(P.targetId)!=null,pe=P.view.applyChanges(G,$.isPrimaryClient,X,ne);return N_($,P.targetId,pe.ou),pe.snapshot}(n,w,T,C);const l=await __(n.localStore,e,!0),u=new yN(e,l.$s),f=u.tu(l.documents),p=uu.createSynthesizedTargetChangeForCurrentChange(t,a&&n.onlineState!=="Offline",o),y=u.applyChanges(f,n.isPrimaryClient,p);N_(n,t,y.ou);const b=new vN(e,t,u);return n.hu.set(e,b),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),y.snapshot}async function TN(n,e,t){const a=Pe(n),o=a.hu.get(e),l=a.Pu.get(o.targetId);if(l.length>1)return a.Pu.set(o.targetId,l.filter(u=>!$h(u,e))),void a.hu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await ig(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),t&&Xg(a.remoteStore,o.targetId),lg(a,o.targetId)}).catch(hl)):(lg(a,o.targetId),await ig(a.localStore,o.targetId,!0))}async function AN(n,e){const t=Pe(n),a=t.hu.get(e),o=t.Pu.get(a.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),Xg(t.remoteStore,a.targetId))}async function SN(n,e,t){const a=DN(n);try{const o=await function(u,f){const p=Pe(u),y=Zt.now(),b=f.reduce((C,B)=>C.add(B.key),Ye());let w,T;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let B=Za(),$=Ye();return p.Bs.getEntries(C,b).next(P=>{B=P,B.forEach((re,F)=>{F.isValidDocument()||($=$.add(re))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,B)).next(P=>{w=P;const re=[];for(const F of f){const G=FR(F,w.get(F.key).overlayedDocument);G!=null&&re.push(new ts(F.key,G,Qx(G.value.mapValue),dr.exists(!0)))}return p.mutationQueue.addMutationBatch(C,y,re,f)}).next(P=>{T=P;const re=P.applyToLocalDocumentSet(w,$);return p.documentOverlayCache.saveOverlays(C,P.batchId,re)})}).then(()=>({batchId:T.batchId,changes:oE(w)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(u,f,p){let y=u.Au[u.currentUser.toKey()];y||(y=new wt(qe)),y=y.insert(f,p),u.Au[u.currentUser.toKey()]=y}(a,o.batchId,t),await hu(a,o.changes),await Wh(a.remoteStore)}catch(o){const l=np(o,"Failed to persist write");t.reject(l)}}async function zE(n,e){const t=Pe(n);try{const a=await Uk(t.localStore,e);e.targetChanges.forEach((o,l)=>{const u=t.Eu.get(l);u&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.cu=!0:o.modifiedDocuments.size>0?at(u.cu,14607):o.removedDocuments.size>0&&(at(u.cu,42227),u.cu=!1))}),await hu(t,a,e)}catch(a){await hl(a)}}function k_(n,e,t){const a=Pe(n);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const o=[];a.hu.forEach((l,u)=>{const f=u.view.Fa(e);f.snapshot&&o.push(f.snapshot)}),function(u,f){const p=Pe(u);p.onlineState=f;let y=!1;p.queries.forEach((b,w)=>{for(const T of w.Sa)T.Fa(f)&&(y=!0)}),y&&ip(p)}(a.eventManager,e),o.length&&a.lu.Y_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function RN(n,e,t){const a=Pe(n);a.sharedClientState.updateQueryState(e,"rejected",t);const o=a.Eu.get(e),l=o&&o.key;if(l){let u=new wt(Ie.comparator);u=u.insert(l,yn.newNoDocument(l,je.min()));const f=Ye().add(l),p=new Yh(je.min(),new Map,new wt(qe),u,f);await zE(a,p),a.Iu=a.Iu.remove(l),a.Eu.delete(e),lp(a)}else await ig(a.localStore,e,!1).then(()=>lg(a,e,t)).catch(hl)}async function kN(n,e){const t=Pe(n),a=e.batch.batchId;try{const o=await Pk(t.localStore,e);HE(t,a,null),FE(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await hu(t,o)}catch(o){await hl(o)}}async function NN(n,e,t){const a=Pe(n);try{const o=await function(u,f){const p=Pe(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return p.mutationQueue.lookupMutationBatch(y,f).next(w=>(at(w!==null,37113),b=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,b,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b)).next(()=>p.localDocuments.getDocuments(y,b))})}(a.localStore,e);HE(a,e,t),FE(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await hu(a,o)}catch(o){await hl(o)}}function FE(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function HE(n,e,t){const a=Pe(n);let o=a.Au[a.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),a.Au[a.currentUser.toKey()]=o}}function lg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const a of n.Pu.get(e))n.hu.delete(a),t&&n.lu.gu(a,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(a=>{n.du.containsKey(a)||qE(n,a)})}function qE(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(Xg(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),lp(n))}function N_(n,e,t){for(const a of t)a instanceof PE?(n.du.addReference(a.key,e),CN(n,a)):a instanceof UE?(xe(op,"Document no longer in limbo: "+a.key),n.du.removeReference(a.key,e),n.du.containsKey(a.key)||qE(n,a.key)):Ve(19791,{pu:a})}function CN(n,e){const t=e.key,a=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(a)||(xe(op,"New document in limbo: "+t),n.Tu.add(a),lp(n))}function lp(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Ie(yt.fromString(e)),a=n.Vu.next();n.Eu.set(a,new _N(t)),n.Iu=n.Iu.insert(t,a),OE(n.remoteStore,new Pi(Jr(qh(t.path)),a,"TargetPurposeLimboResolution",zh.le))}}async function hu(n,e,t){const a=Pe(n),o=[],l=[],u=[];a.hu.isEmpty()||(a.hu.forEach((f,p)=>{u.push(a.fu(p,e,t).then(y=>{var b;if((y||t)&&a.isPrimaryClient){const w=y?!y.fromCache:(b=t==null?void 0:t.targetChanges.get(p.targetId))===null||b===void 0?void 0:b.current;a.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=Yg.Rs(p.targetId,y);l.push(w)}}))}),await Promise.all(u),a.lu.Y_(o),await async function(p,y){const b=Pe(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ue.forEach(y,T=>ue.forEach(T.ds,C=>b.persistence.referenceDelegate.addReference(w,T.targetId,C)).next(()=>ue.forEach(T.As,C=>b.persistence.referenceDelegate.removeReference(w,T.targetId,C)))))}catch(w){if(!fl(w))throw w;xe(Qg,"Failed to update sequence numbers: "+w)}for(const w of y){const T=w.targetId;if(!w.fromCache){const C=b.xs.get(T),B=C.snapshotVersion,$=C.withLastLimboFreeSnapshotVersion(B);b.xs=b.xs.insert(T,$)}}}(a.localStore,l))}async function IN(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){xe(op,"User change. New user:",e.toKey());const a=await kE(t.localStore,e);t.currentUser=e,function(l,u){l.Ru.forEach(f=>{f.forEach(p=>{p.reject(new Ee(ce.CANCELLED,u))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await hu(t,a.ks)}}function ON(n,e){const t=Pe(n),a=t.Eu.get(e);if(a&&a.cu)return Ye().add(a.key);{let o=Ye();const l=t.Pu.get(e);if(!l)return o;for(const u of l){const f=t.hu.get(u);o=o.unionWith(f.view.eu)}return o}}function $E(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ON.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RN.bind(null,e),e.lu.Y_=gN.bind(null,e.eventManager),e.lu.gu=pN.bind(null,e.eventManager),e}function DN(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NN.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return jk(this.persistence,new Vk,e.initialUser,this.serializer)}Su(e){return new RE(Kg.fi,this.serializer)}bu(e){return new qk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class VN extends Ah{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){at(this.persistence.referenceDelegate instanceof wh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new _k(a,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new RE(a=>wh.fi(a,t),this.serializer)}}class cg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>k_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=IN.bind(null,this.syncEngine),await hN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mN}()}createDatastore(e){const t=Qh(e.databaseInfo.databaseId),a=function(l){return new Yk(l)}(e.databaseInfo);return function(l,u,f,p){return new Jk(l,u,f,p)}(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return function(a,o,l,u,f){return new tN(a,o,l,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>k_(this.syncEngine,t,0),function(){return E_.C()?new E_:new $k}())}createSyncEngine(e,t){return function(o,l,u,f,p,y,b){const w=new bN(o,l,u,f,p,y);return b&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Pe(o);xe(qs,"RemoteStore shutting down."),l.da.add(5),await du(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}cg.provider={build:()=>new cg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ga("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="FirestoreClient";class MN{constructor(e,t,a,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=Bx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,async u=>{xe(Qi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(a,u=>(xe(Qi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=np(t,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function R0(n,e){n.asyncQueue.verifyOperationInProgress(),xe(Qi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let a=t.initialUser;n.setCredentialChangeListener(async o=>{a.isEqual(o)||(await kE(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function C_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await LN(n);xe(Qi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(a=>T_(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,o)=>T_(e.remoteStore,o)),n._onlineComponents=e}async function LN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){xe(Qi,"Using user provided OfflineComponentProvider");try{await R0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ce.FAILED_PRECONDITION||o.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;tl("Error using user provided cache. Falling back to memory cache: "+t),await R0(n,new Ah)}}else xe(Qi,"Using default OfflineComponentProvider"),await R0(n,new VN(void 0));return n._offlineComponents}async function GE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(xe(Qi,"Using user provided OnlineComponentProvider"),await C_(n,n._uninitializedComponentsProvider._online)):(xe(Qi,"Using default OnlineComponentProvider"),await C_(n,new cg))),n._onlineComponents}function jN(n){return GE(n).then(e=>e.syncEngine)}async function Sh(n){const e=await GE(n),t=e.eventManager;return t.onListen=xN.bind(null,e.syncEngine),t.onUnlisten=TN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=EN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=AN.bind(null,e.syncEngine),t}function PN(n,e,t={}){const a=new Fa;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,f,p,y){const b=new cp({next:T=>{b.xu(),u.enqueueAndForget(()=>ap(l,w));const C=T.docs.has(f);!C&&T.fromCache?y.reject(new Ee(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&p&&p.source==="server"?y.reject(new Ee(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),w=new sp(qh(f.path),b,{includeMetadataChanges:!0,Qa:!0});return rp(l,w)}(await Sh(n),n.asyncQueue,e,t,a)),a.promise}function UN(n,e,t={}){const a=new Fa;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,f,p,y){const b=new cp({next:T=>{b.xu(),u.enqueueAndForget(()=>ap(l,w)),T.fromCache&&p.source==="server"?y.reject(new Ee(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),w=new sp(f,b,{includeMetadataChanges:!0,Qa:!0});return rp(l,w)}(await Sh(n),n.asyncQueue,e,t,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(n,e,t){if(!t)throw new Ee(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function BN(n,e,t,a){if(e===!0&&a===!0)throw new Ee(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function O_(n){if(!Ie.isDocumentKey(n))throw new Ee(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function D_(n){if(Ie.isDocumentKey(n))throw new Ee(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Jh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ve(12329,{type:typeof n})}function jn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ee(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jh(n);throw new Ee(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="firestore.googleapis.com",V_=!0;class M_{constructor(e){var t,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YE,this.ssl=V_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:V_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yk)throw new Ee(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZE((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ee(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ee(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ee(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ef{constructor(e,t,a,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new ZS;switch(a.type){case"firstParty":return new XS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ee(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const a=I_.get(t);a&&(xe("ComponentProvider","Removing Datastore"),I_.delete(t),a.terminate())}(this),Promise.resolve()}}function zN(n,e,t,a={}){var o;n=jn(n,ef);const l=Ji(e),u=n._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;l&&(vg(`https://${p}`),_g("Firestore",!0)),u.host!==YE&&u.host!==p&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},u),{host:p,ssl:l,emulatorOptions:a});if(!Us(y,f)&&(n._setSettings(y),a.mockUserToken)){let b,w;if(typeof a.mockUserToken=="string")b=a.mockUserToken,w=pn.MOCK_USER;else{b=zb(a.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new Ee(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new pn(T)}n._authCredentials=new KS(new Px(b,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ns(this.firestore,e,this._query)}}class vn{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class Hi extends ns{constructor(e,t,a){super(e,t,qh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new Ie(e))}withConverter(e){return new Hi(this.firestore,e,this._path)}}function tf(n,e,...t){if(n=lt(n),KE("collection","path",e),n instanceof ef){const a=yt.fromString(e,...t);return D_(a),new Hi(n,null,a)}{if(!(n instanceof vn||n instanceof Hi))throw new Ee(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(yt.fromString(e,...t));return D_(a),new Hi(n.firestore,null,a)}}function Ls(n,e,...t){if(n=lt(n),arguments.length===1&&(e=Bx.newId()),KE("doc","path",e),n instanceof ef){const a=yt.fromString(e,...t);return O_(a),new vn(n,null,new Ie(a))}{if(!(n instanceof vn||n instanceof Hi))throw new Ee(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(yt.fromString(e,...t));return O_(a),new vn(n.firestore,n instanceof Hi?n.converter:null,new Ie(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="AsyncQueue";class j_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new CE(this,"async_queue_retry"),this.rc=()=>{const a=S0();a&&xe(L_,"Visibility state changed to "+a.visibilityState),this.x_.b_()},this.sc=e;const t=S0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=S0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Fa;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!fl(e))throw e;xe(L_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(a=>{throw this.Xu=a,this.ec=!1,Ga("INTERNAL UNHANDLED ERROR: ",P_(a)),a}).then(a=>(this.ec=!1,a))));return this.sc=t,t}enqueueAfterDelay(e,t,a){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const o=tp.createAndSchedule(this,e,t,a,l=>this.uc(l));return this.Zu.push(o),o}oc(){this.Xu&&Ve(47125,{cc:P_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function P_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(n){return function(t,a){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of a)if(l in o&&typeof o[l]=="function")return!0;return!1}(n,["next","error","complete"])}class Ka extends ef{constructor(e,t,a,o){super(e,t,a,o),this.type="firestore",this._queue=new j_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new j_(e),this._firestoreClient=void 0,await e}}}function FN(n,e){const t=typeof n=="object"?n:Eg(),a=typeof n=="string"?n:vh,o=jh(t,"firestore").getImmediate({identifier:a});if(!o._initialized){const l=Pb("firestore");l&&zN(o,...l)}return o}function nf(n){if(n._terminated)throw new Ee(ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||HN(n),n._firestoreClient}function HN(n){var e,t,a;const o=n._freezeSettings(),l=function(f,p,y,b){return new hR(f,p,y,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,ZE(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new MN(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ol(dn.fromBase64String(e))}catch(t){throw new Ee(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ol(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=/^__.*__$/;class $N{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new cu(e,this.data,t,this.fieldTransforms)}}class QE{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new ts(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function XE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ic:n})}}class hp{constructor(e,t,a,o,l,u){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=o,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:a,Rc:!1});return o.Vc(e),o}mc(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.dc({path:a,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Rh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(XE(this.Ic)&&qN.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class GN{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Qh(e)}bc(e,t,a,o=!1){return new hp({Ic:e,methodName:t,wc:a,path:un.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sf(n){const e=n._freezeSettings(),t=Qh(n._databaseId);return new GN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function WE(n,e,t,a,o,l={}){const u=n.bc(l.merge||l.mergeFields?2:0,e,t,o);mp("Data must be an object, but it was:",u,a);const f=JE(a,u);let p,y;if(l.merge)p=new Yn(u.fieldMask),y=u.fieldTransforms;else if(l.mergeFields){const b=[];for(const w of l.mergeFields){const T=ug(e,w,t);if(!u.contains(T))throw new Ee(ce.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);tw(b,T)||b.push(T)}p=new Yn(b),y=u.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,y=u.fieldTransforms;return new $N(new Mn(f),p,y)}class of extends af{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof of}}class fp extends af{_toFieldTransform(e){return new PR(e.path,new Qc)}isEqual(e){return e instanceof fp}}function ZN(n,e,t,a){const o=n.bc(1,e,t);mp("Data must be an object, but it was:",o,a);const l=[],u=Mn.empty();es(a,(p,y)=>{const b=gp(e,p,t);y=lt(y);const w=o.mc(b);if(y instanceof of)l.push(b);else{const T=fu(y,w);T!=null&&(l.push(b),u.set(b,T))}});const f=new Yn(l);return new QE(u,f,o.fieldTransforms)}function KN(n,e,t,a,o,l){const u=n.bc(1,e,t),f=[ug(e,a,t)],p=[o];if(l.length%2!=0)throw new Ee(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(ug(e,l[T])),p.push(l[T+1]);const y=[],b=Mn.empty();for(let T=f.length-1;T>=0;--T)if(!tw(y,f[T])){const C=f[T];let B=p[T];B=lt(B);const $=u.mc(C);if(B instanceof of)y.push(C);else{const P=fu(B,$);P!=null&&(y.push(C),b.set(C,P))}}const w=new Yn(y);return new QE(b,w,u.fieldTransforms)}function YN(n,e,t,a=!1){return fu(t,n.bc(a?4:3,e))}function fu(n,e){if(ew(n=lt(n)))return mp("Unsupported field value:",e,n),JE(n,e);if(n instanceof af)return function(a,o){if(!XE(o.Ic))throw o.gc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(a,o){const l=[];let u=0;for(const f of a){let p=fu(f,o.fc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}}(n,e)}return function(a,o){if((a=lt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return MR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=Zt.fromDate(a);return{timestampValue:Eh(o.serializer,l)}}if(a instanceof Zt){const l=new Zt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Eh(o.serializer,l)}}if(a instanceof up)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ol)return{bytesValue:_E(o.serializer,a._byteString)};if(a instanceof vn){const l=o.databaseId,u=a.firestore._databaseId;if(!u.isEqual(l))throw o.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Gg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof dp)return function(u,f){return{mapValue:{fields:{[Kx]:{stringValue:Yx},[_h]:{arrayValue:{values:u.toArray().map(y=>{if(typeof y!="number")throw f.gc("VectorValues must only contain numeric values.");return Fg(f.serializer,y)})}}}}}}(a,o);throw o.gc(`Unsupported field value: ${Jh(a)}`)}(n,e)}function JE(n,e){const t={};return Fx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(n,(a,o)=>{const l=fu(o,e.Ac(a));l!=null&&(t[a]=l)}),{mapValue:{fields:t}}}function ew(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Zt||n instanceof up||n instanceof ol||n instanceof vn||n instanceof af||n instanceof dp)}function mp(n,e,t){if(!ew(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const a=Jh(t);throw a==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+a)}}function ug(n,e,t){if((e=lt(e))instanceof rf)return e._internalPath;if(typeof e=="string")return gp(n,e);throw Rh("Field path arguments must be of type string or ",n,!1,void 0,t)}const QN=new RegExp("[~\\*/\\[\\]]");function gp(n,e,t){if(e.search(QN)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new rf(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rh(n,e,t,a,o){const l=a&&!a.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${a}`),u&&(p+=` in document ${o}`),p+=")"),new Ee(ce.INVALID_ARGUMENT,f+n+p)}function tw(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,t,a,o,l){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class XN extends nw{data(){return super.data()}}function pp(n,e){return typeof e=="string"?gp(n,e):e instanceof rf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ee(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yp{}class aw extends yp{}function iw(n,e,...t){let a=[];e instanceof yp&&a.push(e),a=a.concat(t),function(l){const u=l.filter(p=>p instanceof _p).length,f=l.filter(p=>p instanceof vp).length;if(u>1||u>0&&f>0)throw new Ee(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)n=o._apply(n);return n}class vp extends aw{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new vp(e,t,a)}_apply(e){const t=this._parse(e);return ow(e._query,t),new ns(e.firestore,e.converter,J0(e._query,t))}_parse(e){const t=sf(e.firestore);return function(l,u,f,p,y,b,w){let T;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new Ee(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){z_(w,b);const B=[];for(const $ of w)B.push(B_(p,l,$));T={arrayValue:{values:B}}}else T=B_(p,l,w)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||z_(w,b),T=YN(f,u,w,b==="in"||b==="not-in");return Ut.create(y,b,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class _p extends yp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _p(e,t)}_parse(e){const t=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return t.length===1?t[0]:Sr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let u=o;const f=l.getFlattenedFilters();for(const p of f)ow(u,p),u=J0(u,p)}(e._query,t),new ns(e.firestore,e.converter,J0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bp extends aw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bp(e,t)}_apply(e){const t=function(o,l,u){if(o.startAt!==null)throw new Ee(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Ee(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yc(l,u)}(e._query,this._field,this._direction);return new ns(e.firestore,e.converter,function(o,l){const u=o.explicitOrderBy.concat([l]);return new ml(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function sw(n,e="asc"){const t=e,a=pp("orderBy",n);return bp._create(a,t)}function B_(n,e,t){if(typeof(t=lt(t))=="string"){if(t==="")throw new Ee(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rE(e)&&t.indexOf("/")!==-1)throw new Ee(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(yt.fromString(t));if(!Ie.isDocumentKey(a))throw new Ee(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return e_(n,new Ie(a))}if(t instanceof vn)return e_(n,t._key);throw new Ee(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(t)}.`)}function z_(n,e){if(!Array.isArray(n)||n.length===0)throw new Ee(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ow(n,e){const t=function(o,l){for(const u of o)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ee(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class WN{convertValue(e,t="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return es(e,(o,l)=>{a[o]=this.convertValue(l,t)}),a}convertVectorValue(e){var t,a,o;const l=(o=(a=(t=e.fields)===null||t===void 0?void 0:t[_h].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(u=>It(u.doubleValue));return new dp(l)}convertGeoPoint(e){return new up(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=Hh(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(Gc(e));default:return null}}convertTimestamp(e){const t=Gi(e);return new Zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=yt.fromString(e);at(AE(a),9688,{name:e});const o=new Zc(a.get(1),a.get(3)),l=new Ie(a.popFirst(5));return o.isEqual(t)||Ga(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(n,e,t){let a;return a=n?n.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cw extends nw{constructor(e,t,a,o,l,u){super(e,t,a,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(pp("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class rh extends cw{data(e={}){return super.data(e)}}class uw{constructor(e,t,a,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Cc(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new rh(this._firestore,this._userDataWriter,a.key,a,new Cc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>{const p=new rh(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Cc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new rh(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Cc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return f.type!==0&&(y=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),b=u.indexOf(f.doc.key)),{type:JN(f.type),doc:p,oldIndex:y,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function JN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(n){n=jn(n,vn);const e=jn(n.firestore,Ka);return PN(nf(e),n._key).then(t=>fw(e,n,t))}class xp extends WN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ol(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,t)}}function e9(n){n=jn(n,ns);const e=jn(n.firestore,Ka),t=nf(e),a=new xp(e);return rw(n._query),UN(t,n._query).then(o=>new uw(e,a,n,o))}function F_(n,e,t){n=jn(n,vn);const a=jn(n.firestore,Ka),o=lw(n.converter,e);return lf(a,[WE(sf(a),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,dr.none())])}function H_(n,e,t,...a){n=jn(n,vn);const o=jn(n.firestore,Ka),l=sf(o);let u;return u=typeof(e=lt(e))=="string"||e instanceof rf?KN(l,"updateDoc",n._key,e,t,a):ZN(l,"updateDoc",n._key,e),lf(o,[u.toMutation(n._key,dr.exists(!0))])}function t9(n){return lf(jn(n.firestore,Ka),[new Hg(n._key,dr.none())])}function hw(n,e){const t=jn(n.firestore,Ka),a=Ls(n),o=lw(n.converter,e);return lf(t,[WE(sf(n.firestore),"addDoc",a._key,o,n.converter!==null,{}).toMutation(a._key,dr.exists(!1))]).then(()=>a)}function n9(n,...e){var t,a,o;n=lt(n);let l={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||U_(e[u])||(l=e[u],u++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(U_(e[u])){const w=e[u];e[u]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[u+1]=(a=w.error)===null||a===void 0?void 0:a.bind(w),e[u+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,y,b;if(n instanceof vn)y=jn(n.firestore,Ka),b=qh(n._key.path),p={next:w=>{e[u]&&e[u](fw(y,n,w))},error:e[u+1],complete:e[u+2]};else{const w=jn(n,ns);y=jn(w.firestore,Ka),b=w._query;const T=new xp(y);p={next:C=>{e[u]&&e[u](new uw(y,T,w,C))},error:e[u+1],complete:e[u+2]},rw(n._query)}return function(T,C,B,$){const P=new cp($),re=new sp(C,P,B);return T.asyncQueue.enqueueAndForget(async()=>rp(await Sh(T),re)),()=>{P.xu(),T.asyncQueue.enqueueAndForget(async()=>ap(await Sh(T),re))}}(nf(y),b,f,p)}function lf(n,e){return function(a,o){const l=new Fa;return a.asyncQueue.enqueueAndForget(async()=>SN(await jN(a),o,l)),l.promise}(nf(n),e)}function fw(n,e,t){const a=t.docs.get(e._key),o=new xp(n);return new cw(n,o,e._key,a,new Cc(t.hasPendingWrites,t.fromCache),e.converter)}function Ds(){return new fp("serverTimestamp")}(function(e,t=!0){(function(o){dl=o})(Ks),Bs(new qi("firestore",(a,{instanceIdentifier:o,options:l})=>{const u=a.getProvider("app").getImmediate(),f=new Ka(new YS(a.getProvider("auth-internal")),new WS(u,a.getProvider("app-check-internal")),function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ee(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(y.options.projectId,b)}(u,o),u);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Qr(F2,H2,e),Qr(F2,H2,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="firebasestorage.googleapis.com",gw="storageBucket",r9=2*60*1e3,a9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt extends aa{constructor(e,t,a=0){super(k0(e),`Firebase Storage: ${t} (${k0(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return k0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var St;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(St||(St={}));function k0(n){return"storage/"+n}function Ep(){const n="An unknown error occurred, please check the error payload for server response.";return new Rt(St.UNKNOWN,n)}function i9(n){return new Rt(St.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function s9(n){return new Rt(St.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function o9(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Rt(St.UNAUTHENTICATED,n)}function l9(){return new Rt(St.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function c9(n){return new Rt(St.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function u9(){return new Rt(St.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function d9(){return new Rt(St.CANCELED,"User canceled the upload/download.")}function h9(n){return new Rt(St.INVALID_URL,"Invalid URL '"+n+"'.")}function f9(n){return new Rt(St.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function m9(){return new Rt(St.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+gw+"' property when initializing the app?")}function g9(){return new Rt(St.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function p9(){return new Rt(St.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function y9(n){return new Rt(St.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function dg(n){return new Rt(St.INVALID_ARGUMENT,n)}function pw(){return new Rt(St.APP_DELETED,"The Firebase app was deleted.")}function v9(n){return new Rt(St.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pc(n,e){return new Rt(St.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Ec(n){throw new Rt(St.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let a;try{a=Qn.makeFromUrl(e,t)}catch{return new Qn(e,"")}if(a.path==="")return a;throw f9(e)}static makeFromUrl(e,t){let a=null;const o="([A-Za-z0-9.\\-_]+)";function l(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+o+u,"i"),p={bucket:1,path:3};function y(X){X.path_=decodeURIComponent(X.path)}const b="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",C=new RegExp(`^https?://${w}/${b}/b/${o}/o${T}`,"i"),B={bucket:1,path:3},$=t===mw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",re=new RegExp(`^https?://${$}/${o}/${P}`,"i"),G=[{regex:f,indices:p,postModify:l},{regex:C,indices:B,postModify:y},{regex:re,indices:{bucket:1,path:2},postModify:y}];for(let X=0;X<G.length;X++){const ne=G[X],pe=ne.regex.exec(e);if(pe){const O=pe[ne.indices.bucket];let R=pe[ne.indices.path];R||(R=""),a=new Qn(O,R),ne.postModify(a);break}}if(a==null)throw h9(e);return a}}class _9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(n,e,t){let a=1,o=null,l=null,u=!1,f=0;function p(){return f===2}let y=!1;function b(...P){y||(y=!0,e.apply(null,P))}function w(P){o=setTimeout(()=>{o=null,n(C,p())},P)}function T(){l&&clearTimeout(l)}function C(P,...re){if(y){T();return}if(P){T(),b.call(null,P,...re);return}if(p()||u){T(),b.call(null,P,...re);return}a<64&&(a*=2);let G;f===1?(f=2,G=0):G=(a+Math.random())*1e3,w(G)}let B=!1;function $(P){B||(B=!0,T(),!y&&(o!==null?(P||(f=2),clearTimeout(o),w(0)):P||(f=1)))}return w(0),l=setTimeout(()=>{u=!0,$(!0)},t),$}function x9(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(n){return n!==void 0}function w9(n){return typeof n=="object"&&!Array.isArray(n)}function wp(n){return typeof n=="string"||n instanceof String}function q_(n){return Tp()&&n instanceof Blob}function Tp(){return typeof Blob<"u"}function $_(n,e,t,a){if(a<e)throw dg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(a>t)throw dg(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(n,e,t){let a=e;return t==null&&(a=`https://${e}`),`${t}://${a}/v0${n}`}function yw(n){const e=encodeURIComponent;let t="?";for(const a in n)if(n.hasOwnProperty(a)){const o=e(a)+"="+e(n[a]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ps;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ps||(Ps={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,t,a,o,l,u,f,p,y,b,w,T=!0,C=!1){this.url_=e,this.method_=t,this.headers_=a,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=b,this.connectionFactory_=w,this.retry=T,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,$)=>{this.resolve_=B,this.reject_=$,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new $d(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const p=f.loaded,y=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===Ps.NO_ERROR,p=l.getStatus();if(!f||T9(p,this.additionalRetryCodes_)&&this.retry){const b=l.getErrorCode()===Ps.ABORT;a(!1,new $d(!1,null,b));return}const y=this.successCodes_.indexOf(p)!==-1;a(!0,new $d(y,l))})},t=(a,o)=>{const l=this.resolve_,u=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());E9(p)?l(p):l()}catch(p){u(p)}else if(f!==null){const p=Ep();p.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,p)):u(p)}else if(o.canceled){const p=this.appDelete_?pw():d9();u(p)}else{const p=u9();u(p)}};this.canceled_?t(!1,new $d(!1,null,!0)):this.backoffId_=b9(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&x9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $d{constructor(e,t,a){this.wasSuccessCode=e,this.connection=t,this.canceled=!!a}}function S9(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function R9(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function k9(n,e){e&&(n["X-Firebase-GMPID"]=e)}function N9(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function C9(n,e,t,a,o,l,u=!0,f=!1){const p=yw(n.urlParams),y=n.url+p,b=Object.assign({},n.headers);return k9(b,e),S9(b,t),R9(b,l),N9(b,a),new A9(y,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function O9(...n){const e=I9();if(e!==void 0){const t=new e;for(let a=0;a<n.length;a++)t.append(n[a]);return t.getBlob()}else{if(Tp())return new Blob(n);throw new Rt(St.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function D9(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(n){if(typeof atob>"u")throw y9("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class N0{constructor(e,t){this.data=e,this.contentType=t||null}}function M9(n,e){switch(n){case Zr.RAW:return new N0(vw(e));case Zr.BASE64:case Zr.BASE64URL:return new N0(_w(n,e));case Zr.DATA_URL:return new N0(j9(e),P9(e))}throw Ep()}function vw(n){const e=[];for(let t=0;t<n.length;t++){let a=n.charCodeAt(t);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=a,u=n.charCodeAt(++t);a=65536|(l&1023)<<10|u&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function L9(n){let e;try{e=decodeURIComponent(n)}catch{throw Pc(Zr.DATA_URL,"Malformed data URL.")}return vw(e)}function _w(n,e){switch(n){case Zr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Pc(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Zr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Pc(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=V9(e)}catch(o){throw o.message.includes("polyfill")?o:Pc(n,"Invalid character found")}const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a}class bw{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Pc(Zr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=t[1]||null;a!=null&&(this.base64=U9(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function j9(n){const e=new bw(n);return e.base64?_w(Zr.BASE64,e.rest):L9(e.rest)}function P9(n){return new bw(n).contentType}function U9(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,t){let a=0,o="";q_(e)?(this.data_=e,a=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(q_(this.data_)){const a=this.data_,o=D9(a,e,t);return o===null?null:new Mi(o)}else{const a=new Uint8Array(this.data_.buffer,e,t-e);return new Mi(a,!0)}}static getBlob(...e){if(Tp()){const t=e.map(a=>a instanceof Mi?a.data_:a);return new Mi(O9.apply(null,t))}else{const t=e.map(u=>wp(u)?M9(Zr.RAW,u).data:u.data_);let a=0;t.forEach(u=>{a+=u.byteLength});const o=new Uint8Array(a);let l=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)o[l++]=u[f]}),new Mi(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(n){let e;try{e=JSON.parse(n)}catch{return null}return w9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function z9(n,e){const t=e.split("/").filter(a=>a.length>0).join("/");return n.length===0?t:n+"/"+t}function Ew(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(n,e){return e}class Tn{constructor(e,t,a,o){this.server=e,this.local=t||e,this.writable=!!a,this.xform=o||F9}}let Gd=null;function H9(n){return!wp(n)||n.length<2?n:Ew(n)}function ww(){if(Gd)return Gd;const n=[];n.push(new Tn("bucket")),n.push(new Tn("generation")),n.push(new Tn("metageneration")),n.push(new Tn("name","fullPath",!0));function e(l,u){return H9(u)}const t=new Tn("name");t.xform=e,n.push(t);function a(l,u){return u!==void 0?Number(u):u}const o=new Tn("size");return o.xform=a,n.push(o),n.push(new Tn("timeCreated")),n.push(new Tn("updated")),n.push(new Tn("md5Hash",null,!0)),n.push(new Tn("cacheControl",null,!0)),n.push(new Tn("contentDisposition",null,!0)),n.push(new Tn("contentEncoding",null,!0)),n.push(new Tn("contentLanguage",null,!0)),n.push(new Tn("contentType",null,!0)),n.push(new Tn("metadata","customMetadata",!0)),Gd=n,Gd}function q9(n,e){function t(){const a=n.bucket,o=n.fullPath,l=new Qn(a,o);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function $9(n,e,t){const a={};a.type="file";const o=t.length;for(let l=0;l<o;l++){const u=t[l];a[u.local]=u.xform(a,e[u.server])}return q9(a,n),a}function Tw(n,e,t){const a=xw(e);return a===null?null:$9(n,a,t)}function G9(n,e,t,a){const o=xw(e);if(o===null||!wp(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(y=>{const b=n.bucket,w=n.fullPath,T="/b/"+u(b)+"/o/"+u(w),C=Ap(T,t,a),B=yw({alt:"media",token:y});return C+B})[0]}function Z9(n,e){const t={},a=e.length;for(let o=0;o<a;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class Aw{constructor(e,t,a,o){this.url=e,this.method=t,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(n){if(!n)throw Ep()}function K9(n,e){function t(a,o){const l=Tw(n,o,e);return Sw(l!==null),l}return t}function Y9(n,e){function t(a,o){const l=Tw(n,o,e);return Sw(l!==null),G9(l,o,n.host,n._protocol)}return t}function Rw(n){function e(t,a){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=l9():o=o9():t.getStatus()===402?o=s9(n.bucket):t.getStatus()===403?o=c9(n.path):o=a,o.status=t.getStatus(),o.serverResponse=a.serverResponse,o}return e}function Q9(n){const e=Rw(n);function t(a,o){let l=e(a,o);return a.getStatus()===404&&(l=i9(n.path)),l.serverResponse=o.serverResponse,l}return t}function X9(n,e,t){const a=e.fullServerUrl(),o=Ap(a,n.host,n._protocol),l="GET",u=n.maxOperationRetryTime,f=new Aw(o,l,Y9(n,t),u);return f.errorHandler=Q9(e),f}function W9(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function J9(n,e,t){const a=Object.assign({},t);return a.fullPath=n.path,a.size=e.size(),a.contentType||(a.contentType=W9(null,e)),a}function eC(n,e,t,a,o){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let G="";for(let X=0;X<2;X++)G=G+Math.random().toString().slice(2);return G}const p=f();u["Content-Type"]="multipart/related; boundary="+p;const y=J9(e,a,o),b=Z9(y,t),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,T=`\r
--`+p+"--",C=Mi.getBlob(w,a,T);if(C===null)throw g9();const B={name:y.fullPath},$=Ap(l,n.host,n._protocol),P="POST",re=n.maxUploadRetryTime,F=new Aw($,P,K9(n,t),re);return F.urlParams=B,F.headers=u,F.body=C.uploadData(),F.errorHandler=Rw(e),F}class tC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ps.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ps.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ps.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,a,o,l){if(this.sent_)throw Ec("cannot .send() more than once");if(Ji(e)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ec("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ec("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ec("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ec("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class nC extends tC{initXhr(){this.xhr_.responseType="text"}}function kw(){return new nC}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,t){this._service=e,t instanceof Qn?this._location=t:this._location=Qn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new $s(e,t)}get root(){const e=new Qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ew(this._location.path)}get storage(){return this._service}get parent(){const e=B9(this._location.path);if(e===null)return null;const t=new Qn(this._location.bucket,e);return new $s(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw v9(e)}}function rC(n,e,t){n._throwIfRoot("uploadBytes");const a=eC(n.storage,n._location,ww(),new Mi(e,!0),t);return n.storage.makeRequestWithTokens(a,kw).then(o=>({metadata:o,ref:n}))}function aC(n){n._throwIfRoot("getDownloadURL");const e=X9(n.storage,n._location,ww());return n.storage.makeRequestWithTokens(e,kw).then(t=>{if(t===null)throw p9();return t})}function iC(n,e){const t=z9(n._location.path,e),a=new Qn(n._location.bucket,t);return new $s(n.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(n){return/^[A-Za-z]+:\/\//.test(n)}function oC(n,e){return new $s(n,e)}function Nw(n,e){if(n instanceof Sp){const t=n;if(t._bucket==null)throw m9();const a=new $s(t,t._bucket);return e!=null?Nw(a,e):a}else return e!==void 0?iC(n,e):n}function lC(n,e){if(e&&sC(e)){if(n instanceof Sp)return oC(n,e);throw dg("To use ref(service, url), the first argument must be a Storage instance.")}else return Nw(n,e)}function G_(n,e){const t=e==null?void 0:e[gw];return t==null?null:Qn.makeFromBucketSpec(t,n)}function cC(n,e,t,a={}){n.host=`${e}:${t}`;const o=Ji(e);o&&(vg(`https://${n.host}/b`),_g("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:l}=a;l&&(n._overrideAuthToken=typeof l=="string"?l:zb(l,n.app.options.projectId))}class Sp{constructor(e,t,a,o,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=a,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=mw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=r9,this._maxUploadRetryTime=a9,this._requests=new Set,o!=null?this._bucket=Qn.makeFromBucketSpec(o,this._host):this._bucket=G_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qn.makeFromBucketSpec(this._url,e):this._bucket=G_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $s(this,e)}_makeRequest(e,t,a,o,l=!0){if(this._deleted)return new _9(pw());{const u=C9(e,this._appId,a,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,a,o).getPromise()}}const Z_="@firebase/storage",K_="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="storage";function Iw(n,e,t){return n=lt(n),rC(n,e,t)}function Ow(n){return n=lt(n),aC(n)}function Dw(n,e){return n=lt(n),lC(n,e)}function uC(n=Eg(),e){n=lt(n);const a=jh(n,Cw).getImmediate({identifier:e}),o=Pb("storage");return o&&dC(a,...o),a}function dC(n,e,t,a={}){cC(n,e,t,a)}function hC(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),a=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Sp(t,a,o,e,Ks)}function fC(){Bs(new qi(Cw,hC,"PUBLIC").setMultipleInstances(!0)),Qr(Z_,K_,""),Qr(Z_,K_,"esm2017")}fC();const mC={apiKey:"AIzaSyA2LBsiciRmvrPYOcIxUOt1UEgw2R5cUe4",authDomain:"ollo-app-e5224.firebaseapp.com",projectId:"ollo-app-e5224",storageBucket:"ollo-app-e5224.firebasestorage.app",messagingSenderId:"194732965696",appId:"1:194763296569:web:4c8db85f88b235a11322e8"},Rp=qb(mC),Er=HS(Rp),Kr=FN(Rp),Vw=uC(Rp);function gC(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}gC(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var kp=n=>typeof n=="number"&&!isNaN(n),Jc=n=>typeof n=="string",Mw=n=>typeof n=="function",pC=n=>Jc(n)||kp(n),yC=n=>_.isValidElement(n)||Jc(n)||Mw(n)||kp(n),vC=1,Lw=()=>`${vC++}`,ta=new Map,hg=[],Y_=new Set,jw=()=>ta.size>0,_C=(n,{containerId:e})=>{var t;return(t=ta.get(e||1))==null?void 0:t.toasts.get(n)};function bC(n,e){var t;if(e)return!!((t=ta.get(e))!=null&&t.isToastActive(n));let a=!1;return ta.forEach(o=>{o.isToastActive(n)&&(a=!0)}),a}function xC(n){if(!jw()){hg=hg.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||pC(n))ta.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=ta.get(n.containerId);e?e.removeToast(n.id):ta.forEach(t=>{t.removeToast(n.id)})}}var EC=(n={})=>{ta.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function wC(n,e){yC(n)&&(jw()||hg.push({content:n,options:e}),ta.forEach(t=>{t.buildToast(n,e)}))}function Pw(n,e){ta.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(n,e==null?void 0:e.id)})}function TC(n){return Y_.add(n),()=>{Y_.delete(n)}}function AC(n){return n&&(Jc(n.toastId)||kp(n.toastId))?n.toastId:Lw()}function mu(n,e){return wC(n,e),e.toastId}function cf(n,e){return{...e,type:e&&e.type||n,toastId:AC(e)}}function uf(n){return(e,t)=>mu(e,cf(n,t))}function Qe(n,e){return mu(n,cf("default",e))}Qe.loading=(n,e)=>mu(n,cf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function SC(n,{pending:e,error:t,success:a},o){let l;e&&(l=Jc(e)?Qe.loading(e,o):Qe.loading(e.render,{...o,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},f=(y,b,w)=>{if(b==null){Qe.dismiss(l);return}let T={type:y,...u,...o,data:w},C=Jc(b)?{render:b}:b;return l?Qe.update(l,{...T,...C}):Qe(C.render,{...T,...C}),w},p=Mw(n)?n():n;return p.then(y=>f("success",a,y)).catch(y=>f("error",t,y)),p}Qe.promise=SC;Qe.success=uf("success");Qe.info=uf("info");Qe.error=uf("error");Qe.warning=uf("warning");Qe.warn=Qe.warning;Qe.dark=(n,e)=>mu(n,cf("default",{theme:"dark",...e}));function RC(n){xC(n)}Qe.dismiss=RC;Qe.clearWaitingQueue=EC;Qe.isActive=bC;Qe.update=(n,e={})=>{let t=_C(n,e);if(t){let{props:a,content:o}=t,l={delay:100,...a,...e,toastId:e.toastId||n,updateId:Lw()};l.toastId!==n&&(l.staleId=n);let u=l.render||o;delete l.render,mu(u,l)}};Qe.done=n=>{Qe.update(n,{progress:1})};Qe.onChange=TC;Qe.play=n=>Pw(!0,n);Qe.pause=n=>Pw(!1,n);const Uw=_.createContext(null),kC=({children:n})=>{const[e,t]=_.useState(null),[a,o]=_.useState(!0),[l,u]=_.useState(!1),f=Rn(),p=_.useRef(!1),y=()=>window.location.origin,b=F=>F?typeof F.name=="string"&&F.name.trim().length>1&&typeof F.location=="string"&&F.location.trim().length>1:!1,w=F=>{const G=b(F);u(!G),!G&&!window.location.pathname.includes("/profile")&&!p.current&&(p.current=!0,Qe.info("Complete seu perfil para acessar o OLLO."),f("/profile",{replace:!0}),setTimeout(()=>{p.current=!1},1e3))};_.useEffect(()=>{const F=bx(Er,async G=>{if(G)try{const X=Ls(Kr,"users",G.uid),ne=await dw(X);let pe;ne.exists()?pe=ne.data():(pe={uid:G.uid,email:G.email,name:G.displayName||"Usuário OLLO",username:G.email.split("@")[0],bio:"Novo membro da comunidade OLLO!",avatarUrl:G.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(G.email.split("@")[0])}&background=4f46e5&color=fff&bold=true`,createdAt:Ds(),lastLogin:Ds(),location:""},await F_(X,pe));const O={uid:G.uid,email:G.email,emailVerified:G.emailVerified,...pe};t(O),w(O)}catch(X){console.error("Erro ao buscar dados do usuário:",X),Qe.error("Erro ao carregar dados do usuário"),t(null),u(!0)}else t(null),u(!1),p.current=!1;o(!1)});return()=>F()},[]);const re={currentUser:e,loading:a,profileIncomplete:l,registerWithEmail:async(F,G,X)=>{try{const pe=(await R8(Er,F,G)).user;await I2(pe,{displayName:X.name});const O=Ls(Kr,"users",pe.uid);return await F_(O,{uid:pe.uid,email:pe.email,name:X.name,username:X.username.toLowerCase(),bio:X.bio||"Novo membro da comunidade OLLO!",avatarUrl:X.avatarUrl||`https://ui-avatars.com/api/?name=${encodeURIComponent(X.name)}&background=4f46e5&color=fff&bold=true`,createdAt:Ds(),lastLogin:Ds(),location:""}),await _x(pe,{url:`${y()}/login?email_verified=true`,handleCodeInApp:!1}),Qe.success("Conta criada! Verifique seu email."),{success:!0,user:pe}}catch(ne){return console.error("Erro no registro:",ne),Qe.error(ne.message),{success:!1,error:ne}}},loginWithEmail:async(F,G)=>{try{const ne=(await k8(Er,F,G)).user,pe=Ls(Kr,"users",ne.uid);return await H_(pe,{lastLogin:Ds()}),Qe.success(`Bem-vindo de volta, ${ne.displayName||"usuário"}!`),{success:!0,user:ne}}catch(X){return console.error("Erro no login:",X),Qe.error(X.message),{success:!1,error:X}}},logout:async()=>{try{await O8(Er),Qe.success("Você saiu da sua conta com sucesso"),f("/login")}catch(F){console.error("Erro ao fazer logout:",F),Qe.error(F.message)}},forgotPassword:async F=>{try{return await E8(Er,F,{url:`${y()}/login`,handleCodeInApp:!0}),Qe.success("Email de redefinição enviado! Verifique sua caixa de entrada."),{success:!0}}catch(G){return console.error("Erro ao enviar email de redefinição:",G),Qe.error(G.message),{success:!1,error:G}}},updateUserProfile:async F=>{try{if(!e)throw new Error("Nenhum usuário logado");(F.name||F.avatarUrl)&&await I2(Er.currentUser,{displayName:F.name||e.name,photoURL:F.avatarUrl||e.avatarUrl});const G=Ls(Kr,"users",e.uid);await H_(G,F);const X={...e,...F};t(X);const ne=b(X);return u(!ne),Qe.success("Perfil atualizado com sucesso!"),{success:!0}}catch(G){return console.error("Erro ao atualizar perfil:",G),Qe.error(G.message),{success:!1,error:G}}},setCurrentUser:t};return g.jsx(Uw.Provider,{value:re,children:n})},ia=()=>{const n=_.useContext(Uw);if(!n)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return n};function NC({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"}))}const CC=_.forwardRef(NC);function IC({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Xi=_.forwardRef(IC);function OC({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const DC=_.forwardRef(OC);function VC({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const MC=_.forwardRef(VC);function LC({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))}const jC=_.forwardRef(LC);function PC({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const UC=_.forwardRef(PC);function BC({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Np=_.forwardRef(BC);function zC({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const FC=_.forwardRef(zC);function HC({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const qC=_.forwardRef(HC);function $C({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const GC=_.forwardRef($C);function ZC({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const eu=_.forwardRef(ZC);function KC({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const tu=_.forwardRef(KC);function YC({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.498 15.25H4.372c-1.026 0-1.945-.694-2.054-1.715a12.137 12.137 0 0 1-.068-1.285c0-2.848.992-5.464 2.649-7.521C5.287 4.247 5.886 4 6.504 4h4.016a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23h1.294M7.498 15.25c.618 0 .991.724.725 1.282A7.471 7.471 0 0 0 7.5 19.75 2.25 2.25 0 0 0 9.75 22a.75.75 0 0 0 .75-.75v-.633c0-.573.11-1.14.322-1.672.304-.76.93-1.33 1.653-1.715a9.04 9.04 0 0 0 2.86-2.4c.498-.634 1.226-1.08 2.032-1.08h.384m-10.253 1.5H9.7m8.075-9.75c.01.05.027.1.05.148.593 1.2.925 2.55.925 3.977 0 1.487-.36 2.89-.999 4.125m.023-8.25c-.076-.365.183-.75.575-.75h.908c.889 0 1.713.518 1.972 1.368.339 1.11.521 2.287.521 3.507 0 1.553-.295 3.036-.831 4.398-.306.774-1.086 1.227-1.918 1.227h-1.053c-.472 0-.745-.556-.5-.96a8.95 8.95 0 0 0 .303-.54"}))}const QC=_.forwardRef(YC);function XC({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"}))}const WC=_.forwardRef(XC);function JC({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const eI=_.forwardRef(JC);function tI({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const nI=_.forwardRef(tI);function rI({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Q_=_.forwardRef(rI);function aI({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const iI=_.forwardRef(aI);function sI({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const kh=_.forwardRef(sI);function oI({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const lI=_.forwardRef(oI);function cI({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const uI=_.forwardRef(cI);function dI({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const hI=_.forwardRef(dI);function fI({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Bw=_.forwardRef(fI);function mI({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const zw=_.forwardRef(mI);function gI({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const pI=_.forwardRef(gI);function yI({openCreatePostModal:n,darkMode:e,toggleTheme:t}){const{currentUser:a,logout:o}=ia(),l=Rn(),u=async()=>{try{await o(),l("/")}catch(b){console.error("Erro ao fazer logout:",b)}},f=({isActive:b})=>{const w="flex items-center px-3 lg:px-4 py-3 text-sm font-medium rounded-lg transition-colors duration-150 ease-in-out group justify-center lg:justify-start";return b?`${w} bg-ollo-accent text-white shadow-sm dark:bg-ollo-accent-light dark:text-ollo-deep`:`${w} text-gray-600 hover:bg-gray-200/70 hover:text-ollo-deep dark:text-gray-300 dark:hover:bg-gray-700/50 dark:hover:text-white`};return g.jsxs("div",{className:"h-screen bg-ollo-light w-20 lg:w-64 flex flex-col p-3 lg:p-4 border-r border-gray-200/80 dark:border-gray-700/50 shadow-sm transition-all duration-300 ease-in-out dark:bg-ollo-deep",children:[g.jsx("div",{className:"mb-8 lg:mb-10 flex-shrink-0 pt-2 flex items-center justify-center",children:g.jsx(Ln,{to:"/",className:"focus:outline-none focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:ring-offset-2 focus:ring-offset-ollo-light dark:focus:ring-offset-ollo-deep rounded-md",title:"Página Inicial OLLO",children:g.jsx("img",{src:"/images/logo_ollo.jpeg",alt:"Logo OLLO",className:"h-16 w-auto"})})}),g.jsxs("nav",{className:"flex-grow space-y-2",children:[g.jsxs(Fo,{to:"/",title:"Início",className:f,end:!0,children:[g.jsx(nI,{className:"h-6 w-6 flex-shrink-0 lg:mr-3"}),g.jsx("span",{className:"hidden lg:inline",children:"Início"})]}),g.jsxs(Fo,{to:"/explore",title:"Explorar",className:f,children:[g.jsx(iI,{className:"h-6 w-6 flex-shrink-0 lg:mr-3"}),g.jsx("span",{className:"hidden lg:inline",children:"Explorar"})]}),g.jsxs(Fo,{to:"/marketplace",title:"Mercado",className:f,children:[g.jsx(jC,{className:"h-6 w-6 flex-shrink-0 lg:mr-3"}),g.jsx("span",{className:"hidden lg:inline",children:"Mercado"})]}),a&&g.jsxs(g.Fragment,{children:[g.jsxs(Fo,{to:"/notifications",title:"Notificações",className:f,children:[g.jsx(MC,{className:"h-6 w-6 flex-shrink-0 lg:mr-3"}),g.jsx("span",{className:"hidden lg:inline",children:"Notificações"})]}),g.jsxs(Fo,{to:"/profile",title:"Meu Perfil",className:f,children:[g.jsx(zw,{className:"h-6 w-6 flex-shrink-0 lg:mr-3"}),g.jsx("span",{className:"hidden lg:inline",children:"Meu Perfil"})]})]})]}),g.jsxs("div",{className:"mt-auto flex-shrink-0 pb-2 space-y-2",children:[a?g.jsxs(g.Fragment,{children:[g.jsxs("button",{title:"Criar Post",onClick:n,className:"w-full flex items-center justify-center mt-4 px-3 lg:px-4 py-2.5 rounded-lg text-sm font-semibold transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 bg-ollo-accent text-white hover:bg-opacity-90 dark:bg-ollo-accent-light dark:text-ollo-deep dark:hover:bg-opacity-90 focus:ring-ollo-accent dark:focus:ring-ollo-accent-light focus:ring-offset-ollo-light dark:focus:ring-offset-ollo-deep",children:[g.jsx(kh,{className:"h-5 w-5 lg:mr-2"}),g.jsx("span",{className:"hidden lg:inline",children:"Criar Post"})]}),g.jsxs("button",{title:"Sair",onClick:u,className:"w-full flex items-center px-3 lg:px-4 py-3 text-sm font-medium rounded-lg transition-colors duration-150 ease-in-out group justify-center lg:justify-start text-gray-600 hover:bg-red-100 hover:text-red-700 dark:text-gray-300 dark:hover:bg-red-500/20 dark:hover:text-red-400",children:[g.jsx(CC,{className:"h-6 w-6 flex-shrink-0 lg:mr-3"}),g.jsx("span",{className:"hidden lg:inline",children:"Sair"})]})]}):g.jsxs(Fo,{to:"/login",title:"Entrar",className:f,children:[g.jsx(DC,{className:"h-6 w-6 flex-shrink-0 lg:mr-3"}),g.jsx("span",{className:"hidden lg:inline",children:"Entrar"})]}),g.jsx("button",{type:"button",onClick:t,className:"w-full flex items-center justify-center mt-2 px-3 lg:px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 bg-gray-200 hover:bg-gray-300 dark:bg-gray-800 dark:hover:bg-gray-700 border border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-ollo-accent dark:focus:ring-ollo-accent-light focus:ring-offset-2",title:"Alternar tema",children:e?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"mr-2",children:"🌙"}),g.jsx("span",{className:"hidden lg:inline",children:"Modo Escuro"})]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"mr-2",children:"☀️"}),g.jsx("span",{className:"hidden lg:inline",children:"Modo Claro"})]})})]})]})}function X_({openCreatePostModal:n,darkMode:e,toggleTheme:t}){return g.jsxs("div",{className:"flex h-screen",children:[g.jsx(yI,{openCreatePostModal:n,darkMode:e,toggleTheme:t}),g.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:g.jsx("main",{className:`flex-1 overflow-x-hidden overflow-y-auto 
                     p-4 sm:p-6 md:p-8 
                     transition-colors duration-300 ease-in-out
                     ${e?"bg-gradient-to-br from-ollo-deep to-gray-900":"bg-gradient-to-b from-ollo-crystal-green to-ollo-sky-blue"}`,children:g.jsx(kb,{})})})]})}const vI=()=>{const{currentUser:n,loading:e}=ia(),t=Qa();return e?g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Carregando..."}):n?n.emailVerified?g.jsx(kb,{}):g.jsx(s2,{to:"/verify-email",replace:!0}):g.jsx(s2,{to:"/login",state:{from:t},replace:!0})};function _I({darkMode:n}){const e=new Date().getFullYear();return g.jsx("footer",{className:`w-full p-6 md:py-8 mt-auto
                  ${n?"bg-gray-950 text-gray-400 border-t border-gray-700/50":"bg-gray-100 text-gray-600 border-t border-gray-200"}`,children:g.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-center md:text-left",children:[g.jsxs("div",{className:"mb-4 md:mb-0",children:[g.jsx("h3",{className:`text-xl font-bold mb-1 ${n?"text-ollo-accent-light":"text-ollo-deep"}`,children:"OLLO"}),g.jsxs("p",{className:"text-xs",children:["© ",e," OLLO. Todos os direitos reservados."]})]}),g.jsxs("div",{className:"flex flex-col space-y-2 sm:space-y-0 sm:flex-row sm:space-x-4 md:space-x-6",children:[g.jsx(Ln,{to:"/terms",className:`text-xs sm:text-sm hover:underline ${n?"hover:text-ollo-bg-light":"hover:text-ollo-deep"}`,children:"Termos de Serviço"}),g.jsx(Ln,{to:"/privacy",className:`text-xs sm:text-sm hover:underline ${n?"hover:text-ollo-bg-light":"hover:text-ollo-deep"}`,children:"Política de Privacidade"}),g.jsx(Ln,{to:"/help",className:`text-xs sm:text-sm hover:underline ${n?"hover:text-ollo-bg-light":"hover:text-ollo-deep"}`,children:"Ajuda"})]})]})})})}function bI({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{fillRule:"evenodd",d:"M11.03 3.97a.75.75 0 0 1 0 1.06l-6.22 6.22H21a.75.75 0 0 1 0 1.5H4.81l6.22 6.22a.75.75 0 1 1-1.06 1.06l-7.5-7.5a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const xI=_.forwardRef(bI);function EI({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const wI=_.forwardRef(EI);function TI({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const Fw=_.forwardRef(TI);function AI({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-2.429 0-4.817.178-7.152.521C2.87 3.061 1.5 4.795 1.5 6.741v6.018c0 1.946 1.37 3.68 3.348 3.97.877.129 1.761.234 2.652.316V21a.75.75 0 0 0 1.28.53l4.184-4.183a.39.39 0 0 1 .266-.112c2.006-.05 3.982-.22 5.922-.506 1.978-.29 3.348-2.023 3.348-3.97V6.741c0-1.947-1.37-3.68-3.348-3.97A49.145 49.145 0 0 0 12 2.25ZM8.25 8.625a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25Zm2.625 1.125a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Zm4.875-1.125a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25Z",clipRule:"evenodd"}))}const SI=_.forwardRef(AI);function RI({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const kI=_.forwardRef(RI);function NI({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{d:"M15.73 5.5h1.035A7.465 7.465 0 0 1 18 9.625a7.465 7.465 0 0 1-1.235 4.125h-.148c-.806 0-1.534.446-2.031 1.08a9.04 9.04 0 0 1-2.861 2.4c-.723.384-1.35.956-1.653 1.715a4.499 4.499 0 0 0-.322 1.672v.633A.75.75 0 0 1 9 22a2.25 2.25 0 0 1-2.25-2.25c0-1.152.26-2.243.723-3.218.266-.558-.107-1.282-.725-1.282H3.622c-1.026 0-1.945-.694-2.054-1.715A12.137 12.137 0 0 1 1.5 12.25c0-2.848.992-5.464 2.649-7.521C4.537 4.247 5.136 4 5.754 4H9.77a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23ZM21.669 14.023c.536-1.362.831-2.845.831-4.398 0-1.22-.182-2.398-.52-3.507-.26-.85-1.084-1.368-1.973-1.368H19.1c-.445 0-.72.498-.523.898.591 1.2.924 2.55.924 3.977a8.958 8.958 0 0 1-1.302 4.666c-.245.403.028.959.5.959h1.053c.832 0 1.612-.453 1.918-1.227Z"}))}const CI=_.forwardRef(NI);function II({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{d:"M7.493 18.5c-.425 0-.82-.236-.975-.632A7.48 7.48 0 0 1 6 15.125c0-1.75.599-3.358 1.602-4.634.151-.192.373-.309.6-.397.473-.183.89-.514 1.212-.924a9.042 9.042 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75A.75.75 0 0 1 15 2a2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H14.23c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23h-.777ZM2.331 10.727a11.969 11.969 0 0 0-.831 4.398 12 12 0 0 0 .52 3.507C2.28 19.482 3.105 20 3.994 20H4.9c.445 0 .72-.498.523-.898a8.963 8.963 0 0 1-.924-3.977c0-1.708.476-3.305 1.302-4.666.245-.403-.028-.959-.5-.959H4.25c-.832 0-1.612.453-1.918 1.227Z"}))}const OI=_.forwardRef(II);function DI({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const Hw=_.forwardRef(DI);function VI({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const MI=_.forwardRef(VI);function LI({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const jI=_.forwardRef(LI);function PI({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{d:"M5.25 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM2.25 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM18.75 7.5a.75.75 0 0 0-1.5 0v2.25H15a.75.75 0 0 0 0 1.5h2.25v2.25a.75.75 0 0 0 1.5 0v-2.25H21a.75.75 0 0 0 0-1.5h-2.25V7.5Z"}))}const UI=_.forwardRef(PI);function BI({title:n,titleId:e,...t},a){return _.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},t),n?_.createElement("title",{id:e},n):null,_.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const zI=_.forwardRef(BI),FI=new Map([["bold",_.createElement(_.Fragment,null,_.createElement("path",{d:"M244,56v48a12,12,0,0,1-12,12H184a12,12,0,1,1,0-24H201.1l-19-17.38c-.13-.12-.26-.24-.38-.37A76,76,0,1,0,127,204h1a75.53,75.53,0,0,0,52.15-20.72,12,12,0,0,1,16.49,17.45A99.45,99.45,0,0,1,128,228h-1.37A100,100,0,1,1,198.51,57.06L220,76.72V56a12,12,0,0,1,24,0Z"}))],["duotone",_.createElement(_.Fragment,null,_.createElement("path",{d:"M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z",opacity:"0.2"}),_.createElement("path",{d:"M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"}))],["fill",_.createElement(_.Fragment,null,_.createElement("path",{d:"M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1-5.66-13.66l17-17-10.55-9.65-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,1,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60l10.93,10L226.34,50.3A8,8,0,0,1,240,56Z"}))],["light",_.createElement(_.Fragment,null,_.createElement("path",{d:"M238,56v48a6,6,0,0,1-6,6H184a6,6,0,0,1,0-12h32.55l-30.38-27.8c-.06-.06-.12-.13-.19-.19a82,82,0,1,0-1.7,117.65,6,6,0,0,1,8.24,8.73A93.46,93.46,0,0,1,128,222h-1.28A94,94,0,1,1,194.37,61.4L226,90.35V56a6,6,0,1,1,12,0Z"}))],["regular",_.createElement(_.Fragment,null,_.createElement("path",{d:"M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"}))],["thin",_.createElement(_.Fragment,null,_.createElement("path",{d:"M236,56v48a4,4,0,0,1-4,4H184a4,4,0,0,1,0-8h37.7L187.53,68.69l-.13-.12a84,84,0,1,0-1.75,120.51,4,4,0,0,1,5.5,5.82A91.43,91.43,0,0,1,128,220h-1.26A92,92,0,1,1,193,62.84l35,32.05V56a4,4,0,1,1,8,0Z"}))]]),HI=new Map([["bold",_.createElement(_.Fragment,null,_.createElement("path",{d:"M144,96a16,16,0,1,1,16,16A16,16,0,0,1,144,96Zm92-40V200a20,20,0,0,1-20,20H40a20,20,0,0,1-20-20V56A20,20,0,0,1,40,36H216A20,20,0,0,1,236,56ZM44,60v79.72l33.86-33.86a20,20,0,0,1,28.28,0L147.31,147l17.18-17.17a20,20,0,0,1,28.28,0L212,149.09V60Zm0,136H162.34L92,125.66l-48,48Zm168,0V183l-33.37-33.37L164.28,164l32,32Z"}))],["duotone",_.createElement(_.Fragment,null,_.createElement("path",{d:"M224,56V178.06l-39.72-39.72a8,8,0,0,0-11.31,0L147.31,164,97.66,114.34a8,8,0,0,0-11.32,0L32,168.69V56a8,8,0,0,1,8-8H216A8,8,0,0,1,224,56Z",opacity:"0.2"}),_.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"}))],["fill",_.createElement(_.Fragment,null,_.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM156,88a12,12,0,1,1-12,12A12,12,0,0,1,156,88Zm60,112H40V160.69l46.34-46.35a8,8,0,0,1,11.32,0h0L165,181.66a8,8,0,0,0,11.32-11.32l-17.66-17.65L173,138.34a8,8,0,0,1,11.31,0L216,170.07V200Z"}))],["light",_.createElement(_.Fragment,null,_.createElement("path",{d:"M216,42H40A14,14,0,0,0,26,56V200a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42ZM40,54H216a2,2,0,0,1,2,2V163.57L188.53,134.1a14,14,0,0,0-19.8,0l-21.42,21.42L101.9,110.1a14,14,0,0,0-19.8,0L38,154.2V56A2,2,0,0,1,40,54ZM38,200V171.17l52.58-52.58a2,2,0,0,1,2.84,0L176.83,202H40A2,2,0,0,1,38,200Zm178,2H193.8l-38-38,21.41-21.42a2,2,0,0,1,2.83,0l38,38V200A2,2,0,0,1,216,202ZM146,100a10,10,0,1,1,10,10A10,10,0,0,1,146,100Z"}))],["regular",_.createElement(_.Fragment,null,_.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"}))],["thin",_.createElement(_.Fragment,null,_.createElement("path",{d:"M216,44H40A12,12,0,0,0,28,56V200a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44ZM40,52H216a4,4,0,0,1,4,4V168.4l-32.89-32.89a12,12,0,0,0-17,0l-22.83,22.83-46.82-46.83a12,12,0,0,0-17,0L36,159V56A4,4,0,0,1,40,52ZM36,200V170.34l53.17-53.17a4,4,0,0,1,5.66,0L181.66,204H40A4,4,0,0,1,36,200Zm180,4H193l-40-40,22.83-22.83a4,4,0,0,1,5.66,0L220,179.71V200A4,4,0,0,1,216,204ZM148,100a8,8,0,1,1,8,8A8,8,0,0,1,148,100Z"}))]]),qI=new Map([["bold",_.createElement(_.Fragment,null,_.createElement("path",{d:"M233.86,110.48,65.8,14.58A20,20,0,0,0,37.15,38.64L67.33,128,37.15,217.36A20,20,0,0,0,56,244a20.1,20.1,0,0,0,9.81-2.58l.09-.06,168-96.07a20,20,0,0,0,0-34.81ZM63.19,215.26,88.61,140H144a12,12,0,0,0,0-24H88.61L63.18,40.72l152.76,87.17Z"}))],["duotone",_.createElement(_.Fragment,null,_.createElement("path",{d:"M227.91,134.86,59.93,231a8,8,0,0,1-11.44-9.67L80,128,48.49,34.72a8,8,0,0,1,11.44-9.67l168,95.85A8,8,0,0,1,227.91,134.86Z",opacity:"0.2"}),_.createElement("path",{d:"M231.87,114l-168-95.89A16,16,0,0,0,40.92,37.34L71.55,128,40.92,218.67A16,16,0,0,0,56,240a16.15,16.15,0,0,0,7.93-2.1l167.92-96.05a16,16,0,0,0,.05-27.89ZM56,224a.56.56,0,0,0,0-.12L85.74,136H144a8,8,0,0,0,0-16H85.74L56.06,32.16A.46.46,0,0,0,56,32l168,95.83Z"}))],["fill",_.createElement(_.Fragment,null,_.createElement("path",{d:"M240,127.89a16,16,0,0,1-8.18,14L63.9,237.9A16.15,16.15,0,0,1,56,240a16,16,0,0,1-15-21.33l27-79.95A4,4,0,0,1,71.72,136H144a8,8,0,0,0,8-8.53,8.19,8.19,0,0,0-8.26-7.47h-72a4,4,0,0,1-3.79-2.72l-27-79.94A16,16,0,0,1,63.84,18.07l168,95.89A16,16,0,0,1,240,127.89Z"}))],["light",_.createElement(_.Fragment,null,_.createElement("path",{d:"M230.88,115.69l-168-95.88a14,14,0,0,0-20,16.87L73.66,128,42.81,219.33A14,14,0,0,0,56,238a14.15,14.15,0,0,0,6.93-1.83L230.84,140.1a14,14,0,0,0,0-24.41Zm-5.95,14L57,225.73a2,2,0,0,1-2.86-2.42.42.42,0,0,0,0-.1L84.3,134H144a6,6,0,0,0,0-12H84.3L54.17,32.8a.3.3,0,0,0,0-.1,1.87,1.87,0,0,1,.6-2.2A1.85,1.85,0,0,1,57,30.25l168,95.89a1.93,1.93,0,0,1,1,1.74A2,2,0,0,1,224.93,129.66Z"}))],["regular",_.createElement(_.Fragment,null,_.createElement("path",{d:"M231.87,114l-168-95.89A16,16,0,0,0,40.92,37.34L71.55,128,40.92,218.67A16,16,0,0,0,56,240a16.15,16.15,0,0,0,7.93-2.1l167.92-96.05a16,16,0,0,0,.05-27.89ZM56,224a.56.56,0,0,0,0-.12L85.74,136H144a8,8,0,0,0,0-16H85.74L56.06,32.16A.46.46,0,0,0,56,32l168,95.83Z"}))],["thin",_.createElement(_.Fragment,null,_.createElement("path",{d:"M229.89,117.43l-168-95.88A12,12,0,0,0,44.7,36l31.08,92L44.71,220A12,12,0,0,0,56,236a12.13,12.13,0,0,0,5.93-1.57l167.94-96.08a12,12,0,0,0,0-20.92Zm-4,14L58,227.47a4,4,0,0,1-5.72-4.83l0-.07L82.87,132H144a4,4,0,0,0,0-8H82.87L52.26,33.37A3.89,3.89,0,0,1,53.44,29,4.13,4.13,0,0,1,56,28a3.88,3.88,0,0,1,1.93.54l168,95.87a4,4,0,0,1,0,7Z"}))]]),$I=new Map([["bold",_.createElement(_.Fragment,null,_.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm52-84a12,12,0,0,1-12,12H140v28a12,12,0,0,1-24,0V140H88a12,12,0,0,1,0-24h28V88a12,12,0,0,1,24,0v28h28A12,12,0,0,1,180,128Z"}))],["duotone",_.createElement(_.Fragment,null,_.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),_.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm48-88a8,8,0,0,1-8,8H136v32a8,8,0,0,1-16,0V136H88a8,8,0,0,1,0-16h32V88a8,8,0,0,1,16,0v32h32A8,8,0,0,1,176,128Z"}))],["fill",_.createElement(_.Fragment,null,_.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.13,104.13,0,0,0,128,24Zm40,112H136v32a8,8,0,0,1-16,0V136H88a8,8,0,0,1,0-16h32V88a8,8,0,0,1,16,0v32h32a8,8,0,0,1,0,16Z"}))],["light",_.createElement(_.Fragment,null,_.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm46-90a6,6,0,0,1-6,6H134v34a6,6,0,0,1-12,0V134H88a6,6,0,0,1,0-12h34V88a6,6,0,0,1,12,0v34h34A6,6,0,0,1,174,128Z"}))],["regular",_.createElement(_.Fragment,null,_.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm48-88a8,8,0,0,1-8,8H136v32a8,8,0,0,1-16,0V136H88a8,8,0,0,1,0-16h32V88a8,8,0,0,1,16,0v32h32A8,8,0,0,1,176,128Z"}))],["thin",_.createElement(_.Fragment,null,_.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm44-92a4,4,0,0,1-4,4H132v36a4,4,0,0,1-8,0V132H88a4,4,0,0,1,0-8h36V88a4,4,0,0,1,8,0v36h36A4,4,0,0,1,172,128Z"}))]]),GI=new Map([["bold",_.createElement(_.Fragment,null,_.createElement("path",{d:"M178.39,158c-11,19.06-29.39,30-50.39,30s-39.36-10.93-50.39-30a12,12,0,0,1,20.78-12c3.89,6.73,12.91,18,29.61,18s25.72-11.28,29.61-18a12,12,0,1,1,20.78,12ZM236,128A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128ZM92,124a16,16,0,1,0-16-16A16,16,0,0,0,92,124Zm72-32a16,16,0,1,0,16,16A16,16,0,0,0,164,92Z"}))],["duotone",_.createElement(_.Fragment,null,_.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),_.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM80,108a12,12,0,1,1,12,12A12,12,0,0,1,80,108Zm96,0a12,12,0,1,1-12-12A12,12,0,0,1,176,108Zm-1.08,48c-10.29,17.79-27.39,28-46.92,28s-36.63-10.2-46.92-28a8,8,0,1,1,13.84-8c7.47,12.91,19.21,20,33.08,20s25.61-7.1,33.08-20a8,8,0,1,1,13.84,8Z"}))],["fill",_.createElement(_.Fragment,null,_.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM92,96a12,12,0,1,1-12,12A12,12,0,0,1,92,96Zm82.92,60c-10.29,17.79-27.39,28-46.92,28s-36.63-10.2-46.92-28a8,8,0,1,1,13.84-8c7.47,12.91,19.21,20,33.08,20s25.61-7.1,33.08-20a8,8,0,1,1,13.84,8ZM164,120a12,12,0,1,1,12-12A12,12,0,0,1,164,120Z"}))],["light",_.createElement(_.Fragment,null,_.createElement("path",{d:"M173.19,155c-9.92,17.16-26.39,27-45.19,27s-35.27-9.84-45.19-27a6,6,0,0,1,10.38-6c7.84,13.54,20.2,21,34.81,21s27-7.46,34.81-21a6,6,0,1,1,10.38,6ZM230,128A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128ZM92,118a10,10,0,1,0-10-10A10,10,0,0,0,92,118Zm72-20a10,10,0,1,0,10,10A10,10,0,0,0,164,98Z"}))],["regular",_.createElement(_.Fragment,null,_.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM80,108a12,12,0,1,1,12,12A12,12,0,0,1,80,108Zm96,0a12,12,0,1,1-12-12A12,12,0,0,1,176,108Zm-1.07,48c-10.29,17.79-27.4,28-46.93,28s-36.63-10.2-46.92-28a8,8,0,1,1,13.84-8c7.47,12.91,19.21,20,33.08,20s25.61-7.1,33.07-20a8,8,0,0,1,13.86,8Z"}))],["thin",_.createElement(_.Fragment,null,_.createElement("path",{d:"M171.46,154c-9.55,16.52-25.39,26-43.46,26s-33.91-9.48-43.46-26a4,4,0,0,1,6.92-4c8.21,14.19,21.19,22,36.54,22s28.33-7.81,36.54-22a4,4,0,1,1,6.92,4ZM228,128A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128ZM92,116a8,8,0,1,0-8-8A8,8,0,0,0,92,116Zm72-16a8,8,0,1,0,8,8A8,8,0,0,0,164,100Z"}))]]),ZI=new Map([["bold",_.createElement(_.Fragment,null,_.createElement("path",{d:"M199,125.31l-49.88-18.39L130.69,57a19.92,19.92,0,0,0-37.38,0L74.92,106.92,25,125.31a19.92,19.92,0,0,0,0,37.38l49.88,18.39L93.31,231a19.92,19.92,0,0,0,37.38,0l18.39-49.88L199,162.69a19.92,19.92,0,0,0,0-37.38Zm-63.38,35.16a12,12,0,0,0-7.11,7.11L112,212.28l-16.47-44.7a12,12,0,0,0-7.11-7.11L43.72,144l44.7-16.47a12,12,0,0,0,7.11-7.11L112,75.72l16.47,44.7a12,12,0,0,0,7.11,7.11L180.28,144ZM140,40a12,12,0,0,1,12-12h12V16a12,12,0,0,1,24,0V28h12a12,12,0,0,1,0,24H188V64a12,12,0,0,1-24,0V52H152A12,12,0,0,1,140,40ZM252,88a12,12,0,0,1-12,12h-4v4a12,12,0,0,1-24,0v-4h-4a12,12,0,0,1,0-24h4V72a12,12,0,0,1,24,0v4h4A12,12,0,0,1,252,88Z"}))],["duotone",_.createElement(_.Fragment,null,_.createElement("path",{d:"M194.82,151.43l-55.09,20.3-20.3,55.09a7.92,7.92,0,0,1-14.86,0l-20.3-55.09-55.09-20.3a7.92,7.92,0,0,1,0-14.86l55.09-20.3,20.3-55.09a7.92,7.92,0,0,1,14.86,0l20.3,55.09,55.09,20.3A7.92,7.92,0,0,1,194.82,151.43Z",opacity:"0.2"}),_.createElement("path",{d:"M197.58,129.06,146,110l-19-51.62a15.92,15.92,0,0,0-29.88,0L78,110l-51.62,19a15.92,15.92,0,0,0,0,29.88L78,178l19,51.62a15.92,15.92,0,0,0,29.88,0L146,178l51.62-19a15.92,15.92,0,0,0,0-29.88ZM137,164.22a8,8,0,0,0-4.74,4.74L112,223.85,91.78,169A8,8,0,0,0,87,164.22L32.15,144,87,123.78A8,8,0,0,0,91.78,119L112,64.15,132.22,119a8,8,0,0,0,4.74,4.74L191.85,144ZM144,40a8,8,0,0,1,8-8h16V16a8,8,0,0,1,16,0V32h16a8,8,0,0,1,0,16H184V64a8,8,0,0,1-16,0V48H152A8,8,0,0,1,144,40ZM248,88a8,8,0,0,1-8,8h-8v8a8,8,0,0,1-16,0V96h-8a8,8,0,0,1,0-16h8V72a8,8,0,0,1,16,0v8h8A8,8,0,0,1,248,88Z"}))],["fill",_.createElement(_.Fragment,null,_.createElement("path",{d:"M208,144a15.78,15.78,0,0,1-10.42,14.94L146,178l-19,51.62a15.92,15.92,0,0,1-29.88,0L78,178l-51.62-19a15.92,15.92,0,0,1,0-29.88L78,110l19-51.62a15.92,15.92,0,0,1,29.88,0L146,110l51.62,19A15.78,15.78,0,0,1,208,144ZM152,48h16V64a8,8,0,0,0,16,0V48h16a8,8,0,0,0,0-16H184V16a8,8,0,0,0-16,0V32H152a8,8,0,0,0,0,16Zm88,32h-8V72a8,8,0,0,0-16,0v8h-8a8,8,0,0,0,0,16h8v8a8,8,0,0,0,16,0V96h8a8,8,0,0,0,0-16Z"}))],["light",_.createElement(_.Fragment,null,_.createElement("path",{d:"M196.89,130.94,144.4,111.6,125.06,59.11a13.92,13.92,0,0,0-26.12,0L79.6,111.6,27.11,130.94a13.92,13.92,0,0,0,0,26.12L79.6,176.4l19.34,52.49a13.92,13.92,0,0,0,26.12,0L144.4,176.4l52.49-19.34a13.92,13.92,0,0,0,0-26.12Zm-4.15,14.86-55.08,20.3a6,6,0,0,0-3.56,3.56l-20.3,55.08a1.92,1.92,0,0,1-3.6,0L89.9,169.66a6,6,0,0,0-3.56-3.56L31.26,145.8a1.92,1.92,0,0,1,0-3.6l55.08-20.3a6,6,0,0,0,3.56-3.56l20.3-55.08a1.92,1.92,0,0,1,3.6,0l20.3,55.08a6,6,0,0,0,3.56,3.56l55.08,20.3a1.92,1.92,0,0,1,0,3.6ZM146,40a6,6,0,0,1,6-6h18V16a6,6,0,0,1,12,0V34h18a6,6,0,0,1,0,12H182V64a6,6,0,0,1-12,0V46H152A6,6,0,0,1,146,40ZM246,88a6,6,0,0,1-6,6H230v10a6,6,0,0,1-12,0V94H208a6,6,0,0,1,0-12h10V72a6,6,0,0,1,12,0V82h10A6,6,0,0,1,246,88Z"}))],["regular",_.createElement(_.Fragment,null,_.createElement("path",{d:"M197.58,129.06,146,110l-19-51.62a15.92,15.92,0,0,0-29.88,0L78,110l-51.62,19a15.92,15.92,0,0,0,0,29.88L78,178l19,51.62a15.92,15.92,0,0,0,29.88,0L146,178l51.62-19a15.92,15.92,0,0,0,0-29.88ZM137,164.22a8,8,0,0,0-4.74,4.74L112,223.85,91.78,169A8,8,0,0,0,87,164.22L32.15,144,87,123.78A8,8,0,0,0,91.78,119L112,64.15,132.22,119a8,8,0,0,0,4.74,4.74L191.85,144ZM144,40a8,8,0,0,1,8-8h16V16a8,8,0,0,1,16,0V32h16a8,8,0,0,1,0,16H184V64a8,8,0,0,1-16,0V48H152A8,8,0,0,1,144,40ZM248,88a8,8,0,0,1-8,8h-8v8a8,8,0,0,1-16,0V96h-8a8,8,0,0,1,0-16h8V72a8,8,0,0,1,16,0v8h8A8,8,0,0,1,248,88Z"}))],["thin",_.createElement(_.Fragment,null,_.createElement("path",{d:"M196.2,132.81l-53.36-19.65L123.19,59.8a11.93,11.93,0,0,0-22.38,0L81.16,113.16,27.8,132.81a11.93,11.93,0,0,0,0,22.38l53.36,19.65,19.65,53.36a11.93,11.93,0,0,0,22.38,0l19.65-53.36,53.36-19.65a11.93,11.93,0,0,0,0-22.38Zm-2.77,14.87L138.35,168a4,4,0,0,0-2.37,2.37l-20.3,55.08a3.92,3.92,0,0,1-7.36,0L88,170.35A4,4,0,0,0,85.65,168l-55.08-20.3a3.92,3.92,0,0,1,0-7.36L85.65,120A4,4,0,0,0,88,117.65l20.3-55.08a3.92,3.92,0,0,1,7.36,0L136,117.65a4,4,0,0,0,2.37,2.37l55.08,20.3a3.92,3.92,0,0,1,0,7.36ZM148,40a4,4,0,0,1,4-4h20V16a4,4,0,0,1,8,0V36h20a4,4,0,0,1,0,8H180V64a4,4,0,0,1-8,0V44H152A4,4,0,0,1,148,40Zm96,48a4,4,0,0,1-4,4H228v12a4,4,0,0,1-8,0V92H208a4,4,0,0,1,0-8h12V72a4,4,0,0,1,8,0V84h12A4,4,0,0,1,244,88Z"}))]]),KI=new Map([["bold",_.createElement(_.Fragment,null,_.createElement("path",{d:"M140,32V64a12,12,0,0,1-24,0V32a12,12,0,0,1,24,0Zm84,84H192a12,12,0,0,0,0,24h32a12,12,0,0,0,0-24Zm-42.26,48.77a12,12,0,1,0-17,17l22.63,22.63a12,12,0,0,0,17-17ZM128,180a12,12,0,0,0-12,12v32a12,12,0,0,0,24,0V192A12,12,0,0,0,128,180ZM74.26,164.77,51.63,187.4a12,12,0,0,0,17,17l22.63-22.63a12,12,0,1,0-17-17ZM76,128a12,12,0,0,0-12-12H32a12,12,0,0,0,0,24H64A12,12,0,0,0,76,128ZM68.6,51.63a12,12,0,1,0-17,17L74.26,91.23a12,12,0,0,0,17-17Z"}))],["duotone",_.createElement(_.Fragment,null,_.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),_.createElement("path",{d:"M136,32V64a8,8,0,0,1-16,0V32a8,8,0,0,1,16,0Zm88,88H192a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-45.09,47.6a8,8,0,0,0-11.31,11.31l22.62,22.63a8,8,0,0,0,11.32-11.32ZM128,184a8,8,0,0,0-8,8v32a8,8,0,0,0,16,0V192A8,8,0,0,0,128,184ZM77.09,167.6,54.46,190.22a8,8,0,0,0,11.32,11.32L88.4,178.91A8,8,0,0,0,77.09,167.6ZM72,128a8,8,0,0,0-8-8H32a8,8,0,0,0,0,16H64A8,8,0,0,0,72,128ZM65.78,54.46A8,8,0,0,0,54.46,65.78L77.09,88.4A8,8,0,0,0,88.4,77.09Z"}))],["fill",_.createElement(_.Fragment,null,_.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM48,136a8,8,0,0,1,0-16H72a8,8,0,0,1,0,16Zm46.06,37.25-17,17a8,8,0,0,1-11.32-11.32l17-17a8,8,0,0,1,11.31,11.31Zm0-79.19a8,8,0,0,1-11.31,0l-17-17A8,8,0,0,1,77.09,65.77l17,17A8,8,0,0,1,94.06,94.06ZM136,208a8,8,0,0,1-16,0V184a8,8,0,0,1,16,0Zm0-136a8,8,0,0,1-16,0V48a8,8,0,0,1,16,0Zm54.23,118.23a8,8,0,0,1-11.32,0l-17-17a8,8,0,0,1,11.31-11.31l17,17A8,8,0,0,1,190.23,190.23ZM208,136H184a8,8,0,0,1,0-16h24a8,8,0,0,1,0,16Z"}))],["light",_.createElement(_.Fragment,null,_.createElement("path",{d:"M134,32V64a6,6,0,0,1-12,0V32a6,6,0,0,1,12,0Zm90,90H192a6,6,0,0,0,0,12h32a6,6,0,0,0,0-12Zm-46.5,47A6,6,0,0,0,169,177.5l22.63,22.62a6,6,0,0,0,8.48-8.48ZM128,186a6,6,0,0,0-6,6v32a6,6,0,0,0,12,0V192A6,6,0,0,0,128,186ZM78.5,169,55.88,191.64a6,6,0,1,0,8.48,8.48L87,177.5A6,6,0,1,0,78.5,169ZM70,128a6,6,0,0,0-6-6H32a6,6,0,0,0,0,12H64A6,6,0,0,0,70,128ZM64.36,55.88a6,6,0,0,0-8.48,8.48L78.5,87A6,6,0,1,0,87,78.5Z"}))],["regular",_.createElement(_.Fragment,null,_.createElement("path",{d:"M136,32V64a8,8,0,0,1-16,0V32a8,8,0,0,1,16,0Zm88,88H192a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-45.09,47.6a8,8,0,0,0-11.31,11.31l22.62,22.63a8,8,0,0,0,11.32-11.32ZM128,184a8,8,0,0,0-8,8v32a8,8,0,0,0,16,0V192A8,8,0,0,0,128,184ZM77.09,167.6,54.46,190.22a8,8,0,0,0,11.32,11.32L88.4,178.91A8,8,0,0,0,77.09,167.6ZM72,128a8,8,0,0,0-8-8H32a8,8,0,0,0,0,16H64A8,8,0,0,0,72,128ZM65.78,54.46A8,8,0,0,0,54.46,65.78L77.09,88.4A8,8,0,0,0,88.4,77.09Z"}))],["thin",_.createElement(_.Fragment,null,_.createElement("path",{d:"M132,32V64a4,4,0,0,1-8,0V32a4,4,0,0,1,8,0Zm92,92H192a4,4,0,0,0,0,8h32a4,4,0,0,0,0-8Zm-47.92,46.43a4,4,0,1,0-5.65,5.65l22.62,22.63a4,4,0,0,0,5.66-5.66ZM128,188a4,4,0,0,0-4,4v32a4,4,0,0,0,8,0V192A4,4,0,0,0,128,188ZM79.92,170.43,57.29,193.05A4,4,0,0,0,63,198.71l22.62-22.63a4,4,0,1,0-5.65-5.65ZM68,128a4,4,0,0,0-4-4H32a4,4,0,0,0,0,8H64A4,4,0,0,0,68,128ZM63,57.29A4,4,0,0,0,57.29,63L79.92,85.57a4,4,0,1,0,5.65-5.65Z"}))]]),YI=new Map([["bold",_.createElement(_.Fragment,null,_.createElement("path",{d:"M249.45,69.31a12,12,0,0,0-12.51,1L212,88.43V72a20,20,0,0,0-20-20H32A20,20,0,0,0,12,72V184a20,20,0,0,0,20,20H192a20,20,0,0,0,20-20V167.57l24.94,18.14A12,12,0,0,0,256,176V80A12,12,0,0,0,249.45,69.31ZM188,180H36V76H188Zm44-27.57-20-14.54V118.11l20-14.54Z"}))],["duotone",_.createElement(_.Fragment,null,_.createElement("path",{d:"M200,72V184a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V72a8,8,0,0,1,8-8H192A8,8,0,0,1,200,72Z",opacity:"0.2"}),_.createElement("path",{d:"M251.77,73a8,8,0,0,0-8.21.39L208,97.05V72a16,16,0,0,0-16-16H32A16,16,0,0,0,16,72V184a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V159l35.56,23.71A8,8,0,0,0,248,184a8,8,0,0,0,8-8V80A8,8,0,0,0,251.77,73ZM192,184H32V72H192V184Zm48-22.95-32-21.33V116.28L240,95Z"}))],["fill",_.createElement(_.Fragment,null,_.createElement("path",{d:"M192,72V184a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V72A16,16,0,0,1,32,56H176A16,16,0,0,1,192,72Zm58,.25a8.23,8.23,0,0,0-6.63,1.22L209.78,95.86A4,4,0,0,0,208,99.19v57.62a4,4,0,0,0,1.78,3.33l33.78,22.52a8,8,0,0,0,8.58.19,8.33,8.33,0,0,0,3.86-7.17V80A8,8,0,0,0,250,72.25Z"}))],["light",_.createElement(_.Fragment,null,_.createElement("path",{d:"M250.83,74.71a6,6,0,0,0-6.16.3L206,100.79V72a14,14,0,0,0-14-14H32A14,14,0,0,0,18,72V184a14,14,0,0,0,14,14H192a14,14,0,0,0,14-14V155.21L244.67,181a6,6,0,0,0,9.33-5V80A6,6,0,0,0,250.83,74.71ZM194,184a2,2,0,0,1-2,2H32a2,2,0,0,1-2-2V72a2,2,0,0,1,2-2H192a2,2,0,0,1,2,2Zm48-19.21-36-24V115.21l36-24Z"}))],["regular",_.createElement(_.Fragment,null,_.createElement("path",{d:"M251.77,73a8,8,0,0,0-8.21.39L208,97.05V72a16,16,0,0,0-16-16H32A16,16,0,0,0,16,72V184a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V159l35.56,23.71A8,8,0,0,0,248,184a8,8,0,0,0,8-8V80A8,8,0,0,0,251.77,73ZM192,184H32V72H192V184Zm48-22.95-32-21.33V116.28L240,95Z"}))],["thin",_.createElement(_.Fragment,null,_.createElement("path",{d:"M249.89,76.47a4,4,0,0,0-4.11.2L204,104.53V72a12,12,0,0,0-12-12H32A12,12,0,0,0,20,72V184a12,12,0,0,0,12,12H192a12,12,0,0,0,12-12V151.47l41.78,27.86A4,4,0,0,0,252,176V80A4,4,0,0,0,249.89,76.47ZM196,184a4,4,0,0,1-4,4H32a4,4,0,0,1-4-4V72a4,4,0,0,1,4-4H192a4,4,0,0,1,4,4Zm48-15.47-40-26.67V114.14l40-26.67Z"}))]]),QI=new Map([["bold",_.createElement(_.Fragment,null,_.createElement("path",{d:"M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"}))],["duotone",_.createElement(_.Fragment,null,_.createElement("path",{d:"M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z",opacity:"0.2"}),_.createElement("path",{d:"M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["fill",_.createElement(_.Fragment,null,_.createElement("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM181.66,170.34a8,8,0,0,1-11.32,11.32L128,139.31,85.66,181.66a8,8,0,0,1-11.32-11.32L116.69,128,74.34,85.66A8,8,0,0,1,85.66,74.34L128,116.69l42.34-42.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["light",_.createElement(_.Fragment,null,_.createElement("path",{d:"M204.24,195.76a6,6,0,1,1-8.48,8.48L128,136.49,60.24,204.24a6,6,0,0,1-8.48-8.48L119.51,128,51.76,60.24a6,6,0,0,1,8.48-8.48L128,119.51l67.76-67.75a6,6,0,0,1,8.48,8.48L136.49,128Z"}))],["regular",_.createElement(_.Fragment,null,_.createElement("path",{d:"M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["thin",_.createElement(_.Fragment,null,_.createElement("path",{d:"M202.83,197.17a4,4,0,0,1-5.66,5.66L128,133.66,58.83,202.83a4,4,0,0,1-5.66-5.66L122.34,128,53.17,58.83a4,4,0,0,1,5.66-5.66L128,122.34l69.17-69.17a4,4,0,1,1,5.66,5.66L133.66,128Z"}))]]),XI=_.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),sa=_.forwardRef((n,e)=>{const{alt:t,color:a,size:o,weight:l,mirrored:u,children:f,weights:p,...y}=n,{color:b="currentColor",size:w,weight:T="regular",mirrored:C=!1,...B}=_.useContext(XI);return _.createElement("svg",{ref:e,xmlns:"http://www.w3.org/2000/svg",width:o??w,height:o??w,fill:a??b,viewBox:"0 0 256 256",transform:u||C?"scale(-1, 1)":void 0,...B,...y},!!t&&_.createElement("title",null,t),f,p.get(l??T))});sa.displayName="IconBase";const qw=_.forwardRef((n,e)=>_.createElement(sa,{ref:e,...n,weights:FI}));qw.displayName="ArrowClockwiseIcon";const WI=qw,$w=_.forwardRef((n,e)=>_.createElement(sa,{ref:e,...n,weights:HI}));$w.displayName="ImageIcon";const Gw=$w,Zw=_.forwardRef((n,e)=>_.createElement(sa,{ref:e,...n,weights:qI}));Zw.displayName="PaperPlaneRightIcon";const JI=Zw,Kw=_.forwardRef((n,e)=>_.createElement(sa,{ref:e,...n,weights:$I}));Kw.displayName="PlusCircleIcon";const e7=Kw,Yw=_.forwardRef((n,e)=>_.createElement(sa,{ref:e,...n,weights:GI}));Yw.displayName="SmileyIcon";const t7=Yw,Qw=_.forwardRef((n,e)=>_.createElement(sa,{ref:e,...n,weights:ZI}));Qw.displayName="SparkleIcon";const n7=Qw,Xw=_.forwardRef((n,e)=>_.createElement(sa,{ref:e,...n,weights:KI}));Xw.displayName="SpinnerGapIcon";const r7=Xw,Ww=_.forwardRef((n,e)=>_.createElement(sa,{ref:e,...n,weights:YI}));Ww.displayName="VideoCameraIcon";const a7=Ww,Jw=_.forwardRef((n,e)=>_.createElement(sa,{ref:e,...n,weights:QI}));Jw.displayName="XIcon";const i7=Jw;function s7(n){return n.match(/#\w+/g)||[]}function o7(n){return n.match(/@\w+/g)||[]}function l7({onPost:n,currentUser:e}){const[t,a]=_.useState(""),[o,l]=_.useState([]),[u,f]=_.useState(!1),[p,y]=_.useState(!1),b=_.useRef(null),w=_.useRef(null),T=_.useRef(null);_.useEffect(()=>()=>{o.forEach(X=>URL.revokeObjectURL(X.url))},[o]),_.useEffect(()=>{if(T.current){const X=new ResizeObserver(()=>{T.current.style.maxHeight="80vh",T.current.style.overflowY="auto"});return X.observe(T.current),()=>X.disconnect()}},[]);const C=async()=>{if(!o.length)return[];const X=o.map(async ne=>{const pe=ne.file,O=pe.name.split(".").pop(),R=`posts/${(e==null?void 0:e.uid)||"anon"}/${Date.now()}-${Math.random().toString(36).substring(2,8)}.${O}`,N=Dw(Vw,R);return await Iw(N,pe),{url:await Ow(N),type:ne.type}});return Promise.all(X)},B=async X=>{if(X.preventDefault(),!(!t.trim()&&!o.length)){f(!0);try{const ne=await C(),pe={userId:(e==null?void 0:e.uid)??"anon",userName:(e==null?void 0:e.name)??"Usuário OLLO",userAvatar:(e==null?void 0:e.avatarUrl)||`https://ui-avatars.com/api/?name=${encodeURIComponent((e==null?void 0:e.name)||"Usuário OLLO")}&background=21b66f&color=fff&bold=true`,content:t.trim(),media:ne??[],timestamp:Ds(),likes:[],comments:[],privacy:"public",edited:!1,editedAt:null,hashtags:s7(t),mentions:o7(t)};await hw(tf(Kr,"posts"),pe),a(""),l([]),n&&n(pe),xt.success("Seu post foi publicado com sucesso! 🚀")}catch(ne){console.error("Erro ao criar post:",ne),xt.error("Erro ao publicar post.")}finally{f(!1)}}},$=X=>{const ne=Array.from(X.target.files);if(!ne.length)return;if(ne.filter(R=>R.size>5*1024*1024).length){xt.error("Alguns arquivos são muito grandes (máximo 5MB)");return}const O=ne.map(R=>({id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,url:URL.createObjectURL(R),type:R.type.startsWith("video")?"video":"image",file:R}));l(R=>[...R,...O])},P=X=>{const ne=o.find(pe=>pe.id===X);ne&&(URL.revokeObjectURL(ne.url),l(pe=>pe.filter(O=>O.id!==X)))},re=X=>{b.current.accept=X==="image"?"image/*":"video/*",b.current.click()},F=()=>y(!0),G=p?"/images/default-avatar.png":(e==null?void 0:e.avatarUrl)||`https://ui-avatars.com/api/?name=${encodeURIComponent((e==null?void 0:e.name)||"Usuário OLLO")}&background=21b66f&color=fff&bold=true`;return g.jsxs("div",{className:"relative w-full max-w-2xl mx-auto",children:[g.jsx("form",{onSubmit:B,children:g.jsxs("div",{ref:T,className:"relative z-10 bg-white/80 dark:bg-ollo-dark-800/80 backdrop-blur-sm p-6 rounded-2xl shadow-lg border-2 border-green-300 dark:border-green-500/50 max-h-[80vh] overflow-y-auto",children:[g.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[g.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-full overflow-hidden border-2 border-ollo-primary-400",children:g.jsx("img",{src:G,alt:"Avatar",className:"h-full w-full object-cover",onError:F})}),g.jsxs("div",{className:"flex-grow",children:[g.jsx("h2",{className:"text-xl font-bold text-ollo-dark-900 dark:text-ollo-light-100 mb-1",children:"Criar publicação"}),g.jsx("p",{className:"text-sm text-ollo-dark-500 dark:text-ollo-light-400",children:"Compartilhe algo incrível com a comunidade"})]})]}),g.jsx("textarea",{ref:w,placeholder:"No que você está pensando?",className:"w-full min-h-[120px] p-4 rounded-xl bg-ollo-light-50 dark:bg-ollo-dark-700 border border-ollo-light-300/50 dark:border-ollo-dark-600/50 text-ollo-dark-800 dark:text-ollo-light-200 placeholder-ollo-dark-400/70 dark:placeholder-ollo-dark-400/70 resize-none focus:outline-none focus:ring-2 focus:ring-ollo-primary-400/50 focus:border-transparent transition-all",value:t,onChange:X=>a(X.target.value)}),o.length>0&&g.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:o.map(X=>g.jsxs("div",{className:"relative group rounded-lg overflow-hidden border border-ollo-primary-100/50 dark:border-ollo-dark-600/50 bg-ollo-light-100/30 dark:bg-ollo-dark-700/30",children:[g.jsx("div",{className:"flex items-center justify-center max-h-[300px] overflow-hidden",children:X.type==="video"?g.jsx("video",{src:X.url,controls:!0,className:"w-full max-h-[300px] object-contain"}):g.jsx("img",{src:X.url,alt:"Preview",className:"w-full max-h-[300px] object-contain"})}),g.jsx("button",{type:"button",onClick:()=>P(X.id),className:"absolute top-2 right-2 p-1.5 bg-black/60 hover:bg-black/80 rounded-full backdrop-blur-sm transition-colors","aria-label":"Remover mídia",children:g.jsx(i7,{size:16,weight:"bold",className:"text-white"})})]},X.id))}),g.jsxs("div",{className:"mt-4 flex items-center justify-between p-3 rounded-xl bg-ollo-light-100/50 dark:bg-ollo-dark-700/50 border border-ollo-light-200/50 dark:border-ollo-dark-600/50",children:[g.jsx("span",{className:"text-sm font-medium text-ollo-dark-600 dark:text-ollo-light-300",children:"Adicionar à publicação"}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("button",{type:"button",onClick:()=>re("image"),className:"p-2 rounded-lg hover:bg-ollo-primary-50 dark:hover:bg-ollo-dark-600 transition-colors group",title:"Foto",children:g.jsx(Gw,{size:22,weight:"duotone",className:"text-ollo-primary-500 group-hover:text-ollo-primary-600 dark:text-ollo-primary-400 dark:group-hover:text-ollo-primary-300"})}),g.jsx("button",{type:"button",onClick:()=>re("video"),className:"p-2 rounded-lg hover:bg-ollo-accent-50 dark:hover:bg-ollo-dark-600 transition-colors group",title:"Vídeo",children:g.jsx(a7,{size:22,weight:"duotone",className:"text-ollo-accent-500 group-hover:text-ollo-accent-600 dark:text-ollo-accent-400 dark:group-hover:text-ollo-accent-300"})}),g.jsx("button",{type:"button",className:"p-2 rounded-lg hover:bg-ollo-yellow-50 dark:hover:bg-ollo-dark-600 transition-colors group",title:"Emoji (em breve)",disabled:!0,children:g.jsx(t7,{size:22,weight:"duotone",className:"text-ollo-yellow-500 group-hover:text-ollo-yellow-600 dark:text-ollo-yellow-400 dark:group-hover:text-ollo-yellow-300 opacity-50"})}),g.jsx("input",{type:"file",ref:b,className:"hidden",onChange:$,multiple:!0})]})]}),g.jsx("div",{className:"mt-6 flex justify-end",children:g.jsx("button",{type:"submit",disabled:u||!t.trim()&&!o.length,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all ${!t.trim()&&o.length===0||u?"bg-ollo-light-300 dark:bg-ollo-dark-600 text-ollo-dark-400 dark:text-ollo-dark-300 cursor-not-allowed opacity-60":"bg-gradient-to-r from-ollo-primary-500 to-ollo-primary-600 hover:from-ollo-primary-600 hover:to-ollo-primary-700 text-white shadow-md hover:shadow-lg"}`,children:u?g.jsxs(g.Fragment,{children:[g.jsx(r7,{size:20,className:"animate-spin"}),"Publicando..."]}):g.jsxs(g.Fragment,{children:[g.jsx(JI,{size:20,weight:"bold"}),"Publicar"]})})})]})}),g.jsx("div",{className:"absolute -inset-0.5 rounded-2xl bg-gradient-to-r from-green-300/40 to-green-400/40 dark:from-green-500/30 dark:to-green-400/30 blur-sm -z-10"})]})}function eT({onClose:n,onAddPost:e,currentUser:t}){const a=_.useRef();return _.useEffect(()=>{const o=l=>{a.current&&!a.current.contains(l.target)&&n()};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[n]),_.useEffect(()=>{const o=l=>{l.key==="Escape"&&n()};return window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)}},[n]),g.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-opacity duration-300 ease-in-out",role:"dialog","aria-modal":"true","aria-labelledby":"create-post-modal-title",children:g.jsxs("div",{ref:a,className:`w-full max-w-lg relative rounded-xl shadow-2xl p-6\r
                   bg-white dark:bg-ollo-dark-900\r
                   border border-gray-300 dark:border-gray-700\r
                   text-ollo-deep dark:text-gray-200`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{id:"create-post-modal-title",className:"text-2xl font-bold text-ollo-deep dark:text-ollo-accent-light",children:"Criar Nova Postagem"}),g.jsx("button",{onClick:n,className:`p-1.5 rounded-full transition-colors duration-150\r
                       text-gray-500 hover:text-ollo-deep hover:bg-gray-200/50\r
                       dark:text-gray-400 dark:hover:text-ollo-accent-light dark:hover:bg-gray-700/50\r
                       focus:outline-none focus-visible:ring-2 focus-visible:ring-ollo-deep dark:focus-visible:ring-ollo-accent-light`,"aria-label":"Fechar modal",children:g.jsx(zI,{className:"h-6 w-6"})})]}),g.jsx(l7,{onPost:e,currentUser:t})]})})}function c7(){return g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-ollo-accent-light"})}function u7(n){return n?typeof n=="object"&&n.seconds?new Date(n.seconds*1e3).toLocaleString("pt-BR",{dateStyle:"short",timeStyle:"short"}):typeof n=="string"?new Date(n).toLocaleString("pt-BR",{dateStyle:"short",timeStyle:"short"}):"":""}function tT({postData:n,onCommentSubmit:e,onDeletePost:t,variant:a}){if(!n)return null;const{postId:o,userName:l,userAvatar:u,timestamp:f,content:p,media:y=[],comments:b=[],likes:w=[]}=n,T=b,[C,B]=_.useState(!1),[$,P]=_.useState(Array.isArray(w)?w.length:0),[re,F]=_.useState(!1),[G,X]=_.useState(""),[ne,pe]=_.useState(!1),[O,R]=_.useState({}),[N,D]=_.useState(""),j=_.useRef(null),L=4,k=p&&(p.length>200||p.split(`
`).length>L);_.useEffect(()=>{const de={};T.length>0&&T.forEach(ae=>{const be=ae.commentId||`c-${Math.random()}`;de[be]={likes:ae.likes||Math.floor(Math.random()*20),dislikes:ae.dislikes||Math.floor(Math.random()*5),userReaction:ae.userReaction||null}}),R(de)},[T]);const Le=()=>pe(!ne),Ue=()=>{B(!C),P(C?$-1:$+1)},W=()=>F(!re),fe=()=>{G.trim()&&(e&&e(o,G),X(""))},we=()=>{alert("Compartilhar: Funcionalidade em desenvolvimento!")},Be=()=>{t&&t(o)},V=(de,ae)=>{R(be=>{const oe=be[de];if(!oe)return be;let he=oe.likes,Ne=oe.dislikes,Ce=oe.userReaction;return ae==="like"?Ce==="liked"?(he--,Ce=null):(he++,Ce==="disliked"&&Ne--,Ce="liked"):ae==="dislike"&&(Ce==="disliked"?(Ne--,Ce=null):(Ne++,Ce==="liked"&&he--,Ce="disliked")),{...be,[de]:{likes:Math.max(0,he),dislikes:Math.max(0,Ne),userReaction:Ce}}})},se=()=>{if(u&&u!=="/images/default-avatar.png")return u;const de=document.documentElement.classList.contains("dark"),ae=de?"00A896":"0D1B2A",be=de?"0D1B2A":"E0E1DD";return`https://ui-avatars.com/api/?name=${encodeURIComponent(l||"OLLO")}&background=${ae}&color=${be}&bold=true&size=128`};return g.jsxs("div",{className:`
        bg-white/90 dark:bg-ollo-slate/90 
        backdrop-blur-md rounded-xl shadow-lg mb-8 
        border border-gray-200/70 dark:border-gray-700/50 
        text-sm sm:text-base
        ${a==="explore"?"min-h-[400px] flex flex-col":""}
      `,children:[g.jsxs("div",{className:`p-4 sm:p-5 md:p-6 flex flex-col h-full ${a==="explore"?"flex-grow":""}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center min-w-0",children:[g.jsx("img",{className:"h-10 w-10 sm:h-11 sm:w-11 rounded-full mr-3 sm:mr-3.5 object-cover ring-2 ring-offset-2 ring-ollo-accent-light/80 dark:ring-ollo-accent-light ring-offset-white dark:ring-offset-ollo-slate",src:se(),alt:`Avatar de ${l}`}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("p",{className:"font-semibold text-sm sm:text-base text-ollo-deep dark:text-ollo-light leading-tight truncate",children:l}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 cursor-pointer transition-colors",children:u7(f)})]})]}),l==="Usuário OLLO"&&t&&g.jsx("button",{onClick:Be,title:"Excluir este post",className:"p-1.5 rounded-full text-gray-400 dark:text-gray-500 hover:text-red-500 dark:hover:text-red-400 hover:bg-red-100/50 dark:hover:bg-red-500/10 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 transition-colors duration-150 ease-in-out ml-2",children:g.jsx(Bw,{className:"h-5 w-5"})})]}),g.jsxs("div",{className:"mb-2",children:[g.jsx("p",{ref:j,className:`text-gray-700 dark:text-gray-300 whitespace-pre-wrap leading-relaxed ${!ne&&k?`line-clamp-${L}`:""}`,children:p}),k&&g.jsx("button",{onClick:Le,className:"text-ollo-deep dark:text-ollo-accent-light hover:underline font-semibold text-xs mt-1.5 transition-colors focus:outline-none focus:ring-2 focus:ring-ollo-deep/50 dark:focus:ring-ollo-accent-light/50 rounded",children:ne?"Ler menos":"Continuar lendo..."})]}),y.length>0&&g.jsx("div",{className:"mb-3 grid grid-cols-1 sm:grid-cols-2 gap-3",children:y.map((de,ae)=>de.type==="video"?g.jsx("video",{src:de.url,controls:!0,className:"w-full max-h-[320px] rounded-lg object-contain"},ae):g.jsx("img",{src:de.url,alt:"Mídia do post",className:"w-full max-h-[320px] rounded-lg object-contain"},ae))}),($>0||T.length>0)&&g.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 text-xs text-gray-500 dark:text-gray-400 mt-2 mb-4",children:[$>0&&g.jsxs("span",{className:"hover:text-gray-700 dark:hover:text-gray-200 cursor-default",children:[$," ",$===1?"Gosto":"Gostos"]}),T.length>0&&g.jsxs("button",{onClick:W,className:"hover:text-gray-700 dark:hover:text-gray-200",children:[T.length," ",T.length===1?"Comentário":"Comentários"]})]}),g.jsxs("div",{className:`flex justify-around items-center border-t border-gray-200/90 dark:border-gray-700/50 pt-3 ${a==="explore"&&!re?"mt-auto":"mt-3"}`,children:[g.jsxs("button",{onClick:Ue,className:`group flex items-center space-x-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700/50 px-2 sm:px-3 py-1.5 transition-colors duration-150 ${C?"text-red-600 dark:text-red-500":"text-gray-500 dark:text-gray-400 hover:text-ollo-deep dark:hover:text-gray-200"}`,title:"Gostar",children:[C?g.jsx(Hw,{className:"w-5 h-5"}):g.jsx(eI,{className:"w-5 h-5"}),g.jsx("span",{className:"font-medium text-xs hidden md:group-hover:inline ml-1",children:"Gostar"})]}),g.jsxs("button",{onClick:W,className:"group flex items-center space-x-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700/50 px-2 sm:px-3 py-1.5 transition-colors duration-150 text-gray-500 dark:text-gray-400 hover:text-ollo-deep dark:hover:text-gray-200",title:re?"Ocultar comentários":"Comentar",children:[g.jsx(UC,{className:"w-5 h-5"}),g.jsx("span",{className:"font-medium text-xs hidden md:inline ml-1",children:re?"Ocultar":"Comentar"})]}),g.jsxs("button",{onClick:we,className:"group flex items-center space-x-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700/50 px-2 sm:px-3 py-1.5 transition-colors duration-150 text-gray-500 dark:text-gray-400 hover:text-ollo-deep dark:hover:text-gray-200",title:"Partilhar",children:[g.jsx(uI,{className:"w-5 h-5"}),g.jsx("span",{className:"font-medium text-xs hidden md:group-hover:inline ml-1",children:"Partilhar"})]})]})]}),re&&g.jsxs("div",{className:"px-4 sm:px-5 md:px-6 pb-5 pt-4 border-t border-gray-200/90 dark:border-gray-700/50",children:[g.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 mb-4",children:[g.jsx("img",{className:"h-8 w-8 sm:h-9 sm:w-9 rounded-full object-cover flex-shrink-0 ring-1 ring-offset-1 ring-gray-300 dark:ring-gray-600 ring-offset-white dark:ring-offset-ollo-slate",src:se(),alt:"Seu avatar"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("textarea",{rows:"2",className:"w-full p-2 sm:p-2.5 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-1 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent text-xs sm:text-sm shadow-sm transition-colors",placeholder:"Escreva um comentário...",value:G,onChange:de=>X(de.target.value)}),g.jsx("div",{className:"flex justify-end mt-2",children:g.jsx("button",{onClick:fe,className:"px-4 py-1.5 sm:px-5 sm:py-2 bg-ollo-deep text-ollo-light dark:bg-ollo-accent-light dark:text-ollo-deep rounded-lg text-xs font-semibold hover:bg-opacity-90 active:scale-95 transition-all duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 shadow-md disabled:opacity-60 disabled:cursor-not-allowed focus:ring-ollo-deep/70 dark:focus:ring-ollo-accent-light/70 focus:ring-offset-white dark:focus:ring-offset-ollo-slate",disabled:!G.trim(),children:"Enviar Comentário"})})]})]}),g.jsx("div",{className:"space-y-3 sm:space-y-4",children:T.length>0?T.map(de=>{const ae=de.commentId||`c-${Math.random()}`,be=O[ae]||{likes:0,dislikes:0,userReaction:null},oe=be.userReaction==="liked",he=be.userReaction==="disliked";return g.jsxs("div",{className:"text-xs sm:text-sm flex items-start space-x-2 sm:space-2.5",children:[g.jsx("img",{className:"h-6 w-6 sm:h-7 sm:w-7 rounded-full object-cover flex-shrink-0 mt-0.5 ring-1 ring-offset-1 ring-gray-300 dark:ring-gray-600 ring-offset-white dark:ring-offset-ollo-slate",src:se(),alt:`Avatar de ${de.user}`}),g.jsxs("div",{className:"bg-gray-100/90 dark:bg-gray-800/70 backdrop-blur-sm rounded-lg px-3 py-2 sm:px-3.5 sm:py-2.5 flex-1 shadow-sm border border-gray-200/70 dark:border-gray-700/50",children:[g.jsxs("p",{className:"text-gray-700 dark:text-gray-300 leading-snug",children:[g.jsxs("span",{className:"font-semibold text-ollo-deep dark:text-ollo-light mr-1.5",children:[de.user,":"]}),de.text]}),g.jsxs("div",{className:"mt-1.5 flex items-center space-x-3 sm:space-4",children:[g.jsxs("div",{className:"relative",children:[g.jsxs("button",{onClick:()=>V(ae,"like"),onMouseEnter:()=>D(`like-${ae}`),onMouseLeave:()=>D(""),className:`flex items-center text-xs group ${oe?"text-ollo-deep dark:text-ollo-accent-light":"text-gray-500 dark:text-gray-400 hover:text-ollo-deep dark:hover:text-ollo-accent-light/80"}`,children:[oe?g.jsx(OI,{className:"h-4 w-4 mr-1"}):g.jsx(WC,{className:"h-4 w-4 mr-1"}),g.jsx("span",{className:`${oe?"font-semibold":""}`,children:be.likes})]}),N===`like-${ae}`&&g.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 bg-black text-white text-xs font-medium rounded-md shadow-xl z-30",children:[" ","Gostei"," "]})]}),g.jsxs("div",{className:"relative",children:[g.jsxs("button",{onClick:()=>V(ae,"dislike"),onMouseEnter:()=>D(`dislike-${ae}`),onMouseLeave:()=>D(""),className:`flex items-center text-xs group ${he?"text-red-600 dark:text-red-500":"text-gray-500 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-500"}`,children:[he?g.jsx(CI,{className:"h-4 w-4 mr-1"}):g.jsx(QC,{className:"h-4 w-4 mr-1"}),g.jsx("span",{className:`${he?"font-semibold":""}`,children:be.dislikes})]}),N===`dislike-${ae}`&&g.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 bg-black text-white text-xs font-medium rounded-md shadow-xl z-30",children:[" ","Não gostei"," "]})]})]})]})]},ae)}):g.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 italic text-center py-2",children:"Nenhum comentário ainda. Seja o primeiro!"})})]})]})}const d7=[{id:1,userName:"Seu Story",avatarText:"+",isOwn:!0,imageUrl:"https://images.unsplash.com/photo-1579546929518-9e396f3cc809?q=80&w=2070"},{id:2,userName:"Gemini",avatarText:"GA",imageUrl:"https://images.unsplash.com/photo-1554034483-2610ac3443a5?q=80&w=1887"},{id:3,userName:"Dev Ent.",avatarText:"DE",imageUrl:"https://images.unsplash.com/photo-1558591710-4b4a1ae0f04d?q=80&w=1887"},{id:4,userName:"Usuário C",avatarText:"UC",imageUrl:"https://images.unsplash.com/photo-1557682224-5b8590cd9ec5?q=80&w=2029"},{id:5,userName:"Usuário D",avatarText:"UD",imageUrl:"https://images.unsplash.com/photo-1604079628040-94301bb21b91?q=80&w=1887"},{id:6,userName:"Usuário E",avatarText:"UE",imageUrl:"https://images.unsplash.com/photo-1579546929662-7221826a7f8c?q=80&w=2070"}],h7=({story:n})=>g.jsxs("div",{className:`relative flex-shrink-0 w-28 h-48 sm:w-32 sm:h-56 rounded-xl overflow-hidden cursor-pointer \r
                       shadow-lg transform transition-all duration-300 ease-in-out hover:scale-105 \r
                       focus:outline-none focus:ring-2 ring-offset-2 dark:ring-offset-ollo-deep \r
                       focus:ring-ollo-deep dark:focus:ring-ollo-accent-light`,title:n.userName,onClick:()=>console.log(`Story de ${n.userName} clicada.`),children:[g.jsx("img",{src:n.imageUrl,alt:`Story de ${n.userName}`,className:"w-full h-full object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent"}),g.jsx("div",{className:`absolute top-3 left-3 h-10 w-10 rounded-full flex items-center justify-center font-bold border-2
                           ${n.isOwn?"bg-white text-ollo-deep border-gray-300 dark:bg-gray-200":"bg-ollo-deep text-white border-ollo-accent-light dark:bg-ollo-slate"}`,children:g.jsx("span",{className:n.isOwn?"text-2xl":"text-sm",children:n.avatarText})}),g.jsx("p",{className:"absolute bottom-2 left-2 right-2 text-white text-xs sm:text-sm font-semibold truncate",children:n.isOwn?"Criar Story":n.userName})]}),f7=()=>g.jsx("section",{"aria-labelledby":"stories-heading",className:"py-4 md:py-1 rounded-lg bg-white/50 dark:bg-gray-800/30",children:g.jsxs("div",{className:"max-w-full mx-auto px-1 sm:px-0",children:[g.jsx("h2",{id:"stories-heading",className:"sr-only",children:"Stories"}),g.jsx("div",{className:"flex space-x-3 sm:space-x-4 overflow-x-auto pb-3 pt-1 scrollbar-hide",children:d7.map(n=>g.jsx(h7,{story:n},n.id))})]})}),m7=({onCommentSubmit:n,onDeletePost:e})=>{var T;const{currentUser:t}=ia(),a=Rn(),[o,l]=_.useState([]),[u,f]=_.useState(!1),[p,y]=_.useState(!0);_.useEffect(()=>{y(!0);const C=iw(tf(Kr,"posts"),sw("timestamp","desc")),B=n9(C,$=>{const P=$.docs.map(re=>({id:re.id,...re.data()}));l(P),y(!1)});return()=>B()},[]);const b=()=>{f(!1)},w=()=>{if(!t){a("/login");return}f(!0)};return g.jsxs("div",{className:"flex flex-col lg:flex-row lg:gap-x-6 xl:gap-x-8 pt-1 px-4 sm:px-6 lg:px-8",children:[g.jsx("main",{className:"w-full flex-grow lg:max-w-2xl xl:max-w-3xl mx-auto lg:mx-0",children:g.jsxs("div",{className:"space-y-6 md:space-y-8",children:[g.jsx(f7,{}),g.jsxs("section",{className:"p-5 rounded-2xl bg-white dark:bg-ollo-dark-800 shadow-lg border border-ollo-light-200/50 dark:border-ollo-dark-600/50 transition-all hover:shadow-xl",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-full overflow-hidden border-2 border-ollo-primary-400",children:g.jsx("img",{src:(t==null?void 0:t.avatarUrl)||"/images/default-avatar.png",alt:"avatar",className:"h-full w-full object-cover",onError:C=>{C.target.onerror=null,C.target.src="/images/default-avatar.png"}})}),g.jsx("button",{onClick:w,className:"flex-grow px-5 py-3 rounded-xl text-left bg-ollo-light-100 hover:bg-ollo-light-200 dark:bg-ollo-dark-700 dark:hover:bg-ollo-dark-600 text-ollo-dark-600 dark:text-ollo-light-300 transition-colors",children:g.jsx("span",{className:"font-medium",children:t?`No que você está pensando, ${((T=t.name)==null?void 0:T.split(" ")[0])||"Usuário"}?`:"Faça login para compartilhar"})})]}),g.jsxs("div",{className:"mt-4 flex justify-between",children:[g.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 text-ollo-primary-600 dark:text-ollo-primary-400 hover:bg-ollo-primary-50 dark:hover:bg-ollo-dark-700 rounded-lg transition-colors",children:[g.jsx(Gw,{size:20,weight:"duotone"}),g.jsx("span",{children:"Foto/Vídeo"})]}),g.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 text-ollo-accent-600 dark:text-ollo-accent-400 hover:bg-ollo-accent-50 dark:hover:bg-ollo-dark-700 rounded-lg transition-colors",children:[g.jsx(n7,{size:20,weight:"duotone"}),g.jsx("span",{children:"Momento"})]})]})]}),g.jsxs("section",{"aria-labelledby":"feed-heading",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h2",{className:"text-2xl font-bold text-ollo-dark-900 dark:text-ollo-light-100",children:"Atualizações Recentes"}),g.jsx("button",{className:"text-ollo-primary-500 hover:text-ollo-primary-600 dark:text-ollo-primary-400 dark:hover:text-ollo-primary-300 transition-colors",onClick:()=>window.location.reload(),title:"Recarregar Feed",children:g.jsx(WI,{size:20})})]}),p?g.jsx("div",{className:"space-y-6",children:[...Array(3)].map((C,B)=>g.jsx(g7,{},B))}):o.length>0?g.jsx("div",{className:"space-y-6 md:space-y-8",children:o.map(C=>g.jsx(tT,{postData:C,currentUserId:t==null?void 0:t.uid,onCommentSubmit:n,onDeletePost:e},C.id))}):g.jsxs("div",{className:"text-center py-12 px-6 rounded-2xl bg-white/80 dark:bg-ollo-dark-800/80 shadow-md border border-ollo-light-200/50 dark:border-ollo-dark-600/50",children:[g.jsx("div",{className:"mx-auto w-24 h-24 bg-ollo-primary-100 dark:bg-ollo-dark-700 rounded-full flex items-center justify-center mb-4",children:g.jsx(e7,{size:48,className:"text-ollo-primary-500 dark:text-ollo-primary-400"})}),g.jsx("h3",{className:"text-xl font-bold mb-2 text-ollo-dark-800 dark:text-ollo-light-100",children:"Bem-vindo ao OLLO!"}),g.jsx("p",{className:"text-ollo-dark-600 dark:text-ollo-light-300 mb-6",children:"Seu feed está vazio. Comece compartilhando algo incrível!"}),g.jsx("button",{onClick:w,className:"px-6 py-3 rounded-xl font-semibold bg-gradient-to-r from-ollo-primary-500 to-ollo-primary-600 hover:from-ollo-primary-600 hover:to-ollo-primary-700 text-white shadow-md hover:shadow-lg transition-all",children:"Criar Primeiro Post"})]})]})]})}),g.jsx("aside",{className:"hidden lg:block lg:w-80 xl:w-96 flex-shrink-0 pl-6",children:g.jsx("div",{className:"sticky top-4 space-y-6",children:g.jsx("div",{className:"p-5 rounded-2xl bg-white/80 dark:bg-ollo-dark-800/80 border border-ollo-light-200/50 dark:border-ollo-dark-600/50",children:g.jsx("h3",{className:"font-bold text-lg mb-4 text-ollo-dark-800 dark:text-ollo-light-100",children:"Novidades no OLLO"})})})}),u&&g.jsx(eT,{onClose:()=>f(!1),onAddPost:b,currentUser:t})]})},g7=()=>g.jsxs("div",{className:"p-5 rounded-2xl bg-white/80 dark:bg-ollo-dark-800/80 border border-ollo-light-200/50 dark:border-ollo-dark-600/50",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-ollo-light-300 dark:bg-ollo-dark-700 animate-pulse"}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"w-32 h-4 rounded bg-ollo-light-300 dark:bg-ollo-dark-700 animate-pulse"}),g.jsx("div",{className:"w-24 h-3 rounded bg-ollo-light-200 dark:bg-ollo-dark-600 animate-pulse"})]})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("div",{className:"w-full h-4 rounded bg-ollo-light-200 dark:bg-ollo-dark-600 animate-pulse"}),g.jsx("div",{className:"w-5/6 h-4 rounded bg-ollo-light-200 dark:bg-ollo-dark-600 animate-pulse"}),g.jsx("div",{className:"w-2/3 h-4 rounded bg-ollo-light-200 dark:bg-ollo-dark-600 animate-pulse"})]}),g.jsxs("div",{className:"mt-4 pt-4 border-t border-ollo-light-200 dark:border-ollo-dark-600 flex justify-between",children:[g.jsx("div",{className:"w-20 h-8 rounded bg-ollo-light-200 dark:bg-ollo-dark-600 animate-pulse"}),g.jsx("div",{className:"w-20 h-8 rounded bg-ollo-light-200 dark:bg-ollo-dark-600 animate-pulse"})]})]}),xr="#06b6a3",p7=10*1024*1024,fg=["image/jpeg","image/jpg","image/png","image/webp"],nT=["video/mp4","video/webm","video/ogg"],W_=32,J_=40,eb=150,y7=()=>Math.random().toString(36).substr(2,8),tb=n=>{const e=[];n.size>p7&&e.push("Arquivo muito grande. Máximo 10MB.");const t=fg.includes(n.type),a=nT.includes(n.type);return!t&&!a&&e.push("Tipo de arquivo não suportado."),{isValid:e.length===0,errors:e,type:t?"image":"video"}};function v7(){const{currentUser:n,updateUserProfile:e,loading:t}=ia(),[a,o]=_.useState(null),[l,u]=_.useState(!1),[f,p]=_.useState(null),[y,b]=_.useState(""),[w,T]=_.useState(""),[C,B]=_.useState(""),[$,P]=_.useState(!1),[re,F]=_.useState(null),G=_.useRef(null),X=_.useRef(null),[ne,pe]=_.useState(new Set);_.useEffect(()=>{n&&(o({avatar:n.avatarUrl||"/default-avatar.png",name:n.name||"Seu Nome",location:n.location||"Sua cidade, país",bio:n.bio||"Fale sobre você...",showBio:typeof n.showBio=="boolean"?n.showBio:!0,gallery:n.gallery||[],showGallery:typeof n.showGallery=="boolean"?n.showGallery:!0}),b(n.avatarUrl||"/default-avatar.png"),u(!1),p(null),T(""),B(""))},[n]),_.useEffect(()=>()=>{ne.forEach(oe=>URL.revokeObjectURL(oe))},[ne]);const O=_.useCallback((oe,he,Ne)=>{const Ce=tb(oe);if(!Ce.isValid){Ne(Ce.errors.join(" "));return}const ct=new FileReader;ct.onload=Yt=>he(Yt.target.result,Ce.type),ct.onerror=()=>Ne("Erro ao processar arquivo."),ct.readAsDataURL(oe)},[]),R=_.useCallback(oe=>{oe&&O(oe,he=>{b(he),p(Ne=>({...Ne,avatar:he})),B("")},he=>{B(he),setTimeout(()=>B(""),3e3)})},[O]),N=_.useCallback(oe=>{var Ne;const he=(Ne=oe.target.files)==null?void 0:Ne[0];R(he)},[R]),D=_.useCallback(oe=>{var Ne;oe.preventDefault();const he=(Ne=oe.dataTransfer.files)==null?void 0:Ne[0];R(he)},[R]),j=_.useCallback(oe=>{const he=Array.from(oe.target.files||[]),Ne=[],Ce=[];he.forEach(ct=>{const Yt=tb(ct);if(Yt.isValid){const kn=URL.createObjectURL(ct);pe(Xn=>new Set(Xn).add(kn)),Ne.push({id:y7(),url:kn,type:Yt.type,public:!0})}else Ce.push(`${ct.name}: ${Yt.errors.join(" ")}`)}),Ne.length>0&&p(ct=>({...ct,gallery:[...ct.gallery,...Ne]})),Ce.length>0&&(B(Ce.join(`
`)),setTimeout(()=>B(""),5e3)),oe.target.value=""},[]),L=_.useCallback(oe=>{p(he=>{const Ne=he.gallery.find(Ce=>Ce.id===oe);return Ne!=null&&Ne.url.startsWith("blob:")&&(URL.revokeObjectURL(Ne.url),pe(Ce=>{const ct=new Set(Ce);return ct.delete(Ne.url),ct})),{...he,gallery:he.gallery.filter(Ce=>Ce.id!==oe)}})},[]),k=_.useCallback(oe=>{p(he=>({...he,gallery:he.gallery.map(Ne=>Ne.id===oe?{...Ne,public:!Ne.public}:Ne)}))},[]),Le=_.useCallback(oe=>{const{name:he,value:Ne}=oe.target;p(Ce=>({...Ce,[he]:Ne})),B("")},[]),Ue=_.useCallback(oe=>{p(he=>({...he,[oe]:!he[oe]}))},[]),W=_.useCallback(()=>{p(a),b(a.avatar),u(!0),T(""),B("")},[a]),fe=_.useCallback(()=>{u(!1),T(""),B(""),f&&f.gallery.forEach(oe=>{oe.url.startsWith("blob:")&&!a.gallery.some(he=>he.url===oe.url)&&URL.revokeObjectURL(oe.url)}),p(a),b(a.avatar)},[f,a]),we=_.useCallback(async()=>{if(!f.name.trim()||!f.location.trim()){B("Nome e Localização são obrigatórios.");return}P(!0),B("");try{await e({avatarUrl:y,name:f.name,location:f.location,bio:f.bio,showBio:f.showBio,gallery:f.gallery,showGallery:f.showGallery}),u(!1),T("Perfil atualizado com sucesso!"),setTimeout(()=>T(""),3e3)}catch{B("Erro ao salvar perfil.")}finally{P(!1)}},[f,y,e]),Be=_.useCallback(async()=>{try{await navigator.clipboard.writeText(window.location.href),T("Link copiado para a área de transferência!"),setTimeout(()=>T(""),3e3)}catch{B("Erro ao copiar link.")}},[]),V=_.useMemo(()=>l&&f&&a&&(JSON.stringify(f)!==JSON.stringify(a)||y!==a.avatar),[f,a,y,l]),se=_.useMemo(()=>l&&f?f.gallery:a&&a.showGallery?a.gallery.filter(oe=>oe.public):[],[l,f,a]),de=_.useMemo(()=>({visible:oe=!0,className:he=""})=>oe?g.jsxs("svg",{width:"22",height:"22",fill:"none",stroke:xr,strokeWidth:"2",viewBox:"0 0 24 24",className:he,"aria-hidden":"true",children:[g.jsx("ellipse",{cx:"12",cy:"12",rx:"9",ry:"5"}),g.jsx("circle",{cx:"12",cy:"12",r:"2.5"})]}):g.jsxs("svg",{width:"22",height:"22",fill:"none",stroke:xr,strokeWidth:"2",viewBox:"0 0 24 24",className:he,"aria-hidden":"true",children:[g.jsx("ellipse",{cx:"12",cy:"12",rx:"9",ry:"5"}),g.jsx("circle",{cx:"12",cy:"12",r:"2.5"}),g.jsx("line",{x1:"4",y1:"20",x2:"20",y2:"4"})]}),[]),ae=_.useCallback(()=>F(null),[]),be=_.useCallback(oe=>{l&&oe.preventDefault()},[l]);return t||!a?g.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:g.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Carregando perfil..."})}):g.jsx("section",{className:"max-w-2xl mx-auto bg-white dark:bg-gray-900 shadow-lg rounded-lg overflow-hidden my-4 sm:my-8",children:g.jsx("div",{className:"w-full",children:g.jsxs("div",{className:"px-4 sm:px-6 md:px-8 pt-12 pb-6 relative",children:[g.jsx("div",{className:"flex justify-center mb-4",children:g.jsxs("div",{className:"relative group",onDrop:D,onDragOver:be,tabIndex:l?0:-1,role:"button","aria-label":l?"Área para upload de avatar - clique ou arraste uma imagem":void 0,children:[g.jsx("div",{className:"w-32 h-32 sm:w-40 sm:h-40 rounded-full border-8 bg-white",style:{borderColor:xr},children:g.jsx("img",{src:l?y:a.avatar,alt:"Avatar do usuário",className:"w-full h-full object-cover rounded-full",draggable:!1,loading:"lazy"})}),l&&g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"absolute bottom-0 right-0 bg-white border-2 border-green-500 text-green-500 p-2 rounded-full shadow-lg hover:bg-green-50 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",onClick:()=>{var oe;return(oe=G.current)==null?void 0:oe.click()},"aria-label":"Alterar foto do perfil",type:"button",children:g.jsxs("svg",{width:"16",height:"16",fill:"none",stroke:xr,strokeWidth:"2",viewBox:"0 0 24 24","aria-hidden":"true",children:[g.jsx("rect",{x:"3",y:"7",width:"18",height:"13",rx:"2"}),g.jsx("circle",{cx:"12",cy:"13.5",r:"4"}),g.jsx("path",{d:"M16 7V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2"})]})}),g.jsx("input",{ref:G,type:"file",className:"sr-only",accept:fg.join(","),onChange:N,"aria-label":"Selecionar foto do perfil"})]})]})}),g.jsx("div",{className:"text-center mb-4 space-y-2",children:l?g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{children:[g.jsx("input",{type:"text",name:"name",value:f.name,onChange:Le,maxLength:W_,required:!0,className:"w-full text-xl sm:text-2xl font-bold text-center bg-transparent border-b-2 border-gray-300 focus:border-green-500 focus:outline-none transition-colors px-2 py-1",placeholder:"Seu Nome","aria-label":"Nome",autoFocus:!0}),g.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[f.name.length,"/",W_]})]}),g.jsxs("div",{children:[g.jsx("input",{type:"text",name:"location",value:f.location,onChange:Le,maxLength:J_,required:!0,className:"w-full text-base sm:text-lg text-gray-600 dark:text-gray-300 text-center bg-transparent border-b border-gray-300 focus:border-green-500 focus:outline-none transition-colors px-2 py-1",placeholder:"Localização","aria-label":"Localização"}),g.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[f.location.length,"/",J_]})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-800 dark:text-white break-words",children:a.name}),g.jsx("p",{className:"text-base sm:text-lg text-gray-600 dark:text-gray-300 break-words",children:a.location})]})}),g.jsx("div",{className:"mb-6",children:l?g.jsxs("div",{className:"relative",children:[g.jsx("textarea",{name:"bio",value:f.bio,onChange:Le,rows:3,maxLength:eb,className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-transparent resize-none text-sm sm:text-base",placeholder:"Conte um pouco sobre você...","aria-label":"Biografia"}),g.jsxs("div",{className:"flex justify-between items-center mt-2",children:[g.jsxs("span",{className:"text-xs text-gray-500",children:[f.bio.length,"/",eb]}),g.jsx("button",{type:"button",onClick:()=>Ue("showBio"),className:"text-gray-500 hover:text-green-600 transition-colors p-1 rounded focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":f.showBio?"Ocultar bio do público":"Mostrar bio ao público",title:f.showBio?"Ocultar do público":"Mostrar ao público",children:g.jsx(de,{visible:f.showBio})})]})]}):a.showBio&&g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 text-center relative",children:[g.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm sm:text-base break-words",children:a.bio}),g.jsx("span",{className:"absolute bottom-2 right-2 text-green-600",title:"Visível ao público","aria-label":"Biografia visível ao público",children:g.jsx(de,{visible:!0})})]})}),g.jsxs("div",{className:"mb-6",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-3 gap-2",children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Galeria"}),l&&g.jsxs("div",{className:"flex items-center space-x-2 justify-center sm:justify-end",children:[g.jsx("button",{type:"button",onClick:()=>Ue("showGallery"),className:"text-gray-500 hover:text-green-600 transition-colors p-1 rounded focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":f.showGallery?"Ocultar galeria do público":"Mostrar galeria ao público",title:f.showGallery?"Ocultar do público":"Mostrar ao público",children:g.jsx(de,{visible:f.showGallery})}),g.jsxs("button",{type:"button",onClick:()=>{var oe;return(oe=X.current)==null?void 0:oe.click()},className:"flex items-center text-sm px-3 py-2 rounded-lg font-medium transition-colors hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",style:{background:xr,color:"#fff"},children:[g.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"#fff",viewBox:"0 0 24 24","aria-hidden":"true",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Adicionar"]}),g.jsx("input",{ref:X,type:"file",className:"sr-only",accept:[...fg,...nT].join(","),multiple:!0,onChange:j,"aria-label":"Selecionar arquivos para galeria"})]})]}),se.length===0?g.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6 sm:p-8 text-center",children:[g.jsx("svg",{className:"w-12 h-12 mx-auto text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),g.jsx("p",{className:"text-gray-500 mb-4 text-sm sm:text-base",children:"Nenhuma mídia adicionada ainda"}),l&&g.jsx("button",{type:"button",onClick:()=>{var oe;return(oe=X.current)==null?void 0:oe.click()},className:"px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-medium transition-colors hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 text-sm sm:text-base",style:{background:xr,color:"#fff"},children:"Adicionar Fotos/Vídeos"})]}):g.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-3",children:se.map(oe=>g.jsxs("div",{className:"relative rounded-lg overflow-hidden aspect-square bg-gray-100 dark:bg-gray-700 cursor-pointer group",onClick:()=>F(oe),role:"button",tabIndex:0,"aria-label":`Ver ${oe.type==="image"?"imagem":"vídeo"} em tela cheia`,onKeyDown:he=>{(he.key==="Enter"||he.key===" ")&&(he.preventDefault(),F(oe))},children:[oe.type==="image"?g.jsx("img",{src:oe.url,alt:"Mídia da galeria",className:"w-full h-full object-cover transition-transform group-hover:scale-105",loading:"lazy"}):g.jsx("video",{src:oe.url,className:"w-full h-full object-cover",controls:l,muted:!0,playsInline:!0}),l&&g.jsxs("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center space-x-2",children:[g.jsx("button",{onClick:he=>{he.stopPropagation(),L(oe.id)},className:"bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500","aria-label":"Remover mídia",title:"Remover",children:g.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),g.jsx("button",{onClick:he=>{he.stopPropagation(),k(oe.id)},className:"bg-white text-gray-800 p-2 rounded-full hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500","aria-label":oe.public?"Tornar privado":"Tornar público",title:oe.public?"Tornar privado":"Tornar público",children:g.jsx(de,{visible:oe.public})})]}),!l&&oe.public&&g.jsx("span",{className:"absolute bottom-1 right-1 bg-white/80 dark:bg-gray-800/80 rounded-full p-1",style:{color:xr},title:"Visível ao público","aria-label":"Mídia visível ao público",children:g.jsx(de,{visible:!0})})]},oe.id))}),re&&g.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:ae,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:g.jsxs("div",{className:"relative max-w-4xl w-full max-h-[90vh] flex flex-col items-center",onClick:oe=>oe.stopPropagation(),children:[g.jsx("button",{onClick:ae,className:"absolute -top-10 right-0 sm:top-0 sm:-right-12 bg-gray-200/50 dark:bg-gray-700/50 rounded-full p-2 text-white hover:bg-gray-300/70 dark:hover:bg-gray-600/70 transition-colors focus:outline-none focus:ring-2 focus:ring-white z-10","aria-label":"Fechar modal",children:g.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24","aria-hidden":"true",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),g.jsxs("h2",{id:"modal-title",className:"sr-only",children:["Visualização de"," ",re.type==="image"?"imagem":"vídeo"]}),re.type==="image"?g.jsx("img",{src:re.url,alt:"Preview em tela cheia",className:"max-h-[85vh] max-w-full rounded-lg object-contain shadow-lg"}):g.jsx("video",{src:re.url,controls:!0,autoPlay:!0,className:"max-h-[85vh] max-w-full rounded-lg object-contain shadow-lg"})]})})]}),(C||w)&&g.jsxs("div",{className:"mb-4",children:[C&&g.jsxs("div",{className:"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg shadow text-sm flex items-start gap-2",role:"alert",children:[g.jsx("svg",{className:"w-5 h-5 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),g.jsx("span",{className:"whitespace-pre-line",children:C})]}),w&&g.jsxs("div",{className:"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 px-4 py-3 rounded-lg shadow text-sm flex items-center gap-2",role:"alert",children:[g.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),w]})]}),g.jsx("div",{className:"flex flex-col sm:flex-row justify-center gap-3 sm:gap-4",children:l?g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:fe,disabled:$,className:"px-6 sm:px-8 py-3 rounded-lg transition-colors hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base",style:{background:"#eee",color:"#333"},children:"Cancelar"}),g.jsx("button",{onClick:we,disabled:!V||$||!f.name.trim()||!f.location.trim(),className:"px-6 sm:px-8 py-3 rounded-lg font-bold transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:cursor-not-allowed text-sm sm:text-base",style:{background:!V||$||!f.name.trim()||!f.location.trim()?"#A0E1D6":xr,color:"#fff"},children:$?"Salvando...":"Salvar"})]}):g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:W,className:"px-6 sm:px-8 py-3 rounded-lg font-bold transition-colors hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 text-sm sm:text-base",style:{background:xr,color:"#fff"},children:"Editar Perfil"}),g.jsx("button",{onClick:Be,className:"px-6 sm:px-8 py-3 rounded-lg font-bold transition-colors hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 text-sm sm:text-base",style:{background:"#fff",color:xr,border:`1.5px solid ${xr}`},children:"Compartilhar"})]})}),g.jsxs("div",{className:"mt-8 w-full flex flex-col items-center gap-2 text-xs text-gray-400 text-center border-t border-green-100 dark:border-gray-700 pt-4",children:[g.jsxs("div",{className:"flex gap-4 justify-center",children:[g.jsx("a",{href:"/privacidade",className:"hover:underline focus:outline-none focus:underline",tabIndex:0,children:"Privacidade"}),g.jsx("a",{href:"/regulamento",className:"hover:underline focus:outline-none focus:underline",tabIndex:0,children:"Regulamento"})]}),g.jsx("div",{className:"max-w-md",children:"Perfil OLLO — Todos os campos são editáveis, privacidade sob controle do usuário."})]})]})})})}const _7=n=>{const e="h-5 w-5 text-ollo-deep dark:text-ollo-accent-light";switch(n){case"like":return g.jsx(Hw,{className:e});case"comment":return g.jsx(SI,{className:e});case"follow":return g.jsx(UI,{className:e});case"system":return g.jsx(MI,{className:e});default:return g.jsx(Fw,{className:e})}};function b7(){const n=Rn(),e=[{id:1,type:"like",user:"Usuário OLLO",target:'seu post "Explorando OLLO"',timestamp:"5m atrás",postId:"ollo-exploration",unread:!0},{id:2,type:"comment",user:"Dev Entusiasta",target:'seu post "Minhas Ideias"',text:"Excelente ponto de vista! Concordo totalmente.",timestamp:"1h atrás",postId:"my-ideas-post",unread:!1},{id:3,type:"follow",user:"Gemini Auxiliar",timestamp:"3h atrás",profileId:"gemini-aux",unread:!0},{id:4,type:"like",user:"Designer Criativo",target:"sua foto de perfil",timestamp:"ontem",profileId:"meu-perfil",unread:!1},{id:5,type:"comment",user:"Marketing Digital",target:'seu post "Explorando OLLO"',text:"Adorei a plataforma! Como posso colaborar?",timestamp:"ontem",postId:"ollo-exploration",unread:!0},{id:6,type:"system",user:"Plataforma OLLO",target:"Novos Termos de Serviço",text:"Atualizamos nossos termos, confira as novidades.",timestamp:"2 dias atrás",link:"/terms",unread:!1}],[t,a]=_.useState(e),o=l=>{let u=null;l.postId?u=`/posts/${l.postId}`:l.profileId?u=`/profile/${l.profileId}`:l.link&&(u=l.link),u&&n(u),l.unread&&a(f=>f.map(p=>p.id===l.id?{...p,unread:!1}:p))};return g.jsx("div",{className:"min-h-full py-8 sm:py-12",children:g.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-8 sm:mb-10 tracking-tight text-center text-ollo-deep dark:text-ollo-accent-light",children:"Notificações"}),g.jsx("div",{className:"space-y-3 sm:space-y-4",children:t.length>0?t.map(l=>g.jsxs("div",{onClick:()=>o(l),className:`
                  rounded-xl shadow-lg transition-all duration-200 ease-in-out cursor-pointer 
                  border-l-4 flex items-start space-x-3 sm:space-x-4 p-4
                  ${l.unread?"bg-white hover:bg-gray-50/80 border-ollo-accent-light dark:bg-gray-800 dark:hover:bg-gray-700/80":"bg-white/70 hover:bg-gray-50/70 border-gray-300 dark:bg-gray-800/50 dark:hover:bg-gray-700/70 dark:border-gray-700"}
                `,children:[g.jsx("div",{className:`flex-shrink-0 mt-0.5 p-2 rounded-full 
                              ${l.unread?"bg-ollo-accent-light/20 dark:bg-ollo-accent-light/10":"bg-gray-200/70 dark:bg-gray-700/60"}`,children:_7(l.type)}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-100 leading-relaxed",children:[g.jsx("span",{className:"font-semibold text-ollo-deep dark:text-white hover:underline",children:l.user}),l.type==="like"&&` curtiu ${l.target}.`,l.type==="comment"&&g.jsxs(g.Fragment,{children:[" ","comentou em ",l.target,":"," ",g.jsxs("span",{className:"italic text-gray-600 dark:text-gray-300",children:['"',l.text,'"']})]}),l.type==="follow"&&" começou a seguir você.",l.type==="system"&&g.jsxs(g.Fragment,{children:[" ",g.jsx("span",{className:"font-semibold",children:l.target})," ",g.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:l.text})]})]}),g.jsx("p",{className:`text-xs mt-1 
                                ${l.unread?"font-medium text-ollo-deep dark:text-ollo-accent-light":"text-gray-500 dark:text-gray-400"}`,children:l.timestamp})]})]},l.id)):g.jsxs("div",{className:"text-center py-16 px-6 text-gray-400 dark:text-gray-500",children:[g.jsx(Fw,{className:"mx-auto h-16 w-16 mb-4 text-gray-400 dark:text-gray-600"}),g.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-700 dark:text-gray-300",children:"Tudo Limpo por Aqui!"}),g.jsx("p",{children:"Você não tem nenhuma notificação nova no momento."})]})})]})})}const x7=({darkMode:n,allPosts:e=[]})=>{const{postId:t}=Tb(),a=Rn();console.log("--- Iniciando busca pelo post ---"),console.log(`Procurando pelo postId: |${t}|`),console.log(`Total de posts para pesquisar: ${e.length}`);const o=e.find(f=>{const p=f.postId===t;return console.log(`Comparando: |${f.postId}| com |${t}|. Resultado: ${p}`),p});console.log("--- Fim da busca ---");const l=e.findIndex(f=>f.postId===t),u=l>-1&&l<e.length-1?e[l+1]:null;return o?g.jsxs("div",{className:`p-4 sm:p-6 lg:p-8 rounded-lg shadow-md ${n?"bg-gray-800 text-ollo-bg-light":"bg-white text-ollo-deep"}`,children:[g.jsxs("button",{onClick:()=>a(-1),className:`flex items-center gap-2 mb-6 text-sm font-semibold ${n?"text-ollo-accent-light hover:text-white":"text-ollo-deep hover:text-black"}`,children:[g.jsx(xI,{className:"h-5 w-5"}),"Voltar"]}),g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx(jI,{className:`h-10 w-10 ${n?"text-gray-400":"text-gray-500"}`}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold",children:o.userName}),g.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[g.jsx(kI,{className:"h-3 w-3"}),g.jsx("span",{children:o.timestamp})]})]})]}),g.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none",children:g.jsx("p",{children:o.content})}),g.jsx("div",{className:"mt-8 pt-4 border-t border-gray-300 dark:border-gray-700 flex justify-end",children:u?g.jsxs("button",{onClick:()=>a(`/posts/${u.postId}`),className:`flex items-center gap-2 text-sm font-semibold ${n?"text-ollo-accent-light hover:text-white":"text-ollo-deep hover:text-black"}`,children:["Próximo Post",g.jsx(wI,{className:"h-5 w-5"})]}):g.jsx("p",{className:"text-sm text-gray-500",children:"Você está no último post."})})]}):g.jsxs("div",{className:`p-4 sm:p-6 lg:p-8 rounded-lg shadow-md text-center ${n?"bg-gray-800 text-ollo-bg-light":"bg-white text-ollo-deep"}`,children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Post Não Encontrado"}),g.jsx("p",{children:"O post que você está procurando não existe ou foi removido. (Verifique o console para detalhes da busca)."}),g.jsx("button",{onClick:()=>a("/"),className:`mt-6 inline-block px-4 py-2 rounded-lg font-semibold ${n?"bg-ollo-accent-light text-ollo-deep":"bg-ollo-deep text-ollo-bg-light"}`,children:"Voltar para a Página Inicial"})]})},E7=({darkMode:n})=>g.jsxs("div",{className:`p-4 sm:p-6 lg:p-8 rounded-lg shadow-md ${n?"bg-gray-800 text-ollo-bg-light":"bg-white text-ollo-deep"}`,children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Termos de Serviço"}),g.jsx("p",{children:"Esta é a página de Termos de Serviço da OLLO."}),g.jsx("p",{className:"mt-4",children:"O conteúdo completo será adicionado aqui futuramente."})]}),w7=()=>{const[n,e]=_.useState(""),[t,a]=_.useState(""),[o,l]=_.useState(!1),[u,f]=_.useState(!1),{loginWithEmail:p}=ia(),y=Rn(),b=T=>{switch(T){case"auth/invalid-email":return"E-mail inválido. Verifique o formato.";case"auth/user-disabled":return"Esta conta está desativada.";case"auth/user-not-found":return"Nenhuma conta encontrada com este e-mail.";case"auth/wrong-password":return"Senha incorreta. Tente novamente.";case"auth/too-many-requests":return"Muitas tentativas. Tente mais tarde.";default:return"Erro ao fazer login. Tente novamente."}},w=async T=>{if(T.preventDefault(),!n||!t){xt.error("Preencha todos os campos");return}f(!0);try{if(!(await p(n,t)).user.emailVerified){xt("Verifique seu e-mail para ativar sua conta",{icon:"✉️",duration:5e3}),y("/verify-email");return}xt.success("Bem-vindo de volta!"),y("/",{replace:!0})}catch(C){console.error("Erro no login:",C);const B=b(C.code);xt.error(B,{position:"top-center"})}finally{f(!1)}};return g.jsxs(g.Fragment,{children:[g.jsx(Zs,{position:"top-center"}),g.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-gray-50 dark:bg-gray-900",children:[g.jsxs("div",{className:"w-full max-w-md p-8 rounded-xl bg-white dark:bg-gray-800 shadow-lg border border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("img",{src:"/images/logo_ollo.jpeg",alt:"Logo OLLO",className:"h-16 mx-auto rounded-full mb-4"}),g.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Acesse sua conta"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Entre para continuar no OLLO"})]}),g.jsxs("form",{onSubmit:w,className:"space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"E-mail"}),g.jsx("input",{type:"email",id:"email",value:n,onChange:T=>e(T.target.value),placeholder:"seu@email.com",required:!0,autoComplete:"email",inputMode:"email",className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none transition-colors"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Senha"}),g.jsx("input",{type:o?"text":"password",id:"password",value:t,onChange:T=>a(T.target.value),placeholder:"••••••••",required:!0,autoComplete:"current-password",className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none transition-colors pr-10"}),g.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute top-10 right-3 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300","aria-label":o?"Ocultar senha":"Mostrar senha",children:o?g.jsx(eu,{className:"h-5 w-5"}):g.jsx(tu,{className:"h-5 w-5"})})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-ollo-deep dark:text-ollo-accent-light focus:ring-ollo-deep dark:focus:ring-ollo-accent-light"}),g.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Lembrar-me"})]}),g.jsx(Ln,{to:"/forgot-password",className:"text-sm text-ollo-deep dark:text-ollo-accent-light hover:underline",children:"Esqueceu a senha?"})]}),g.jsx("div",{children:g.jsx("button",{type:"submit",disabled:u,className:"w-full py-3 px-4 rounded-lg bg-ollo-deep dark:bg-ollo-accent-light text-white dark:text-gray-900 font-semibold hover:bg-opacity-90 dark:hover:bg-opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center",children:u?g.jsxs(g.Fragment,{children:[g.jsx(Xi,{className:"animate-spin h-5 w-5 mr-2"}),"Entrando..."]}):"Entrar"})})]}),g.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:g.jsxs("p",{className:"text-sm text-center text-gray-600 dark:text-gray-400",children:["Novo no OLLO?"," ",g.jsx(Ln,{to:"/register",className:"font-medium text-ollo-deep dark:text-ollo-accent-light hover:underline",children:"Criar uma conta"})]})})]}),g.jsxs("footer",{className:"mt-8 text-xs text-gray-500 dark:text-gray-400",children:["© ",new Date().getFullYear()," OLLO. Todos os direitos reservados."]})]})]})};var gu=n=>n.type==="checkbox",js=n=>n instanceof Date,An=n=>n==null;const rT=n=>typeof n=="object";var Ot=n=>!An(n)&&!Array.isArray(n)&&rT(n)&&!js(n),T7=n=>Ot(n)&&n.target?gu(n.target)?n.target.checked:n.target.value:n,A7=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,S7=(n,e)=>n.has(A7(e)),R7=n=>{const e=n.constructor&&n.constructor.prototype;return Ot(e)&&e.hasOwnProperty("isPrototypeOf")},Cp=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function gn(n){let e;const t=Array.isArray(n),a=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(Cp&&(n instanceof Blob||a))&&(t||Ot(n)))if(e=t?[]:{},!t&&!R7(n))e=n;else for(const o in n)n.hasOwnProperty(o)&&(e[o]=gn(n[o]));else return n;return e}var df=n=>/^\w*$/.test(n),Pt=n=>n===void 0,Ip=n=>Array.isArray(n)?n.filter(Boolean):[],Op=n=>Ip(n.replace(/["|']|\]/g,"").split(/\.|\[/)),Ae=(n,e,t)=>{if(!e||!Ot(n))return t;const a=(df(e)?[e]:Op(e)).reduce((o,l)=>An(o)?o:o[l],n);return Pt(a)||a===n?Pt(n[e])?t:n[e]:a},Gr=n=>typeof n=="boolean",pt=(n,e,t)=>{let a=-1;const o=df(e)?[e]:Op(e),l=o.length,u=l-1;for(;++a<l;){const f=o[a];let p=t;if(a!==u){const y=n[f];p=Ot(y)||Array.isArray(y)?y:isNaN(+o[a+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;n[f]=p,n=n[f]}};const nb={BLUR:"blur",FOCUS_OUT:"focusout"},wr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Pa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},k7=Zn.createContext(null);k7.displayName="HookFormContext";var N7=(n,e,t,a=!0)=>{const o={defaultValues:e._defaultValues};for(const l in n)Object.defineProperty(o,l,{get:()=>{const u=l;return e._proxyFormState[u]!==wr.all&&(e._proxyFormState[u]=!a||wr.all),n[u]}});return o};const C7=typeof window<"u"?_.useLayoutEffect:_.useEffect;var Yr=n=>typeof n=="string",I7=(n,e,t,a,o)=>Yr(n)?(a&&e.watch.add(n),Ae(t,n,o)):Array.isArray(n)?n.map(l=>(a&&e.watch.add(l),Ae(t,l))):(a&&(e.watchAll=!0),t),O7=(n,e,t,a,o)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[a]:o||!0}}:{},Uc=n=>Array.isArray(n)?n:[n],rb=()=>{let n=[];return{get observers(){return n},next:o=>{for(const l of n)l.next&&l.next(o)},subscribe:o=>(n.push(o),{unsubscribe:()=>{n=n.filter(l=>l!==o)}}),unsubscribe:()=>{n=[]}}},mg=n=>An(n)||!rT(n);function Li(n,e){if(mg(n)||mg(e))return n===e;if(js(n)&&js(e))return n.getTime()===e.getTime();const t=Object.keys(n),a=Object.keys(e);if(t.length!==a.length)return!1;for(const o of t){const l=n[o];if(!a.includes(o))return!1;if(o!=="ref"){const u=e[o];if(js(l)&&js(u)||Ot(l)&&Ot(u)||Array.isArray(l)&&Array.isArray(u)?!Li(l,u):l!==u)return!1}}return!0}var Dn=n=>Ot(n)&&!Object.keys(n).length,Dp=n=>n.type==="file",Tr=n=>typeof n=="function",Nh=n=>{if(!Cp)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},aT=n=>n.type==="select-multiple",Vp=n=>n.type==="radio",D7=n=>Vp(n)||gu(n),C0=n=>Nh(n)&&n.isConnected;function V7(n,e){const t=e.slice(0,-1).length;let a=0;for(;a<t;)n=Pt(n)?a++:n[e[a++]];return n}function M7(n){for(const e in n)if(n.hasOwnProperty(e)&&!Pt(n[e]))return!1;return!0}function Gt(n,e){const t=Array.isArray(e)?e:df(e)?[e]:Op(e),a=t.length===1?n:V7(n,t),o=t.length-1,l=t[o];return a&&delete a[l],o!==0&&(Ot(a)&&Dn(a)||Array.isArray(a)&&M7(a))&&Gt(n,t.slice(0,-1)),n}var iT=n=>{for(const e in n)if(Tr(n[e]))return!0;return!1};function Ch(n,e={}){const t=Array.isArray(n);if(Ot(n)||t)for(const a in n)Array.isArray(n[a])||Ot(n[a])&&!iT(n[a])?(e[a]=Array.isArray(n[a])?[]:{},Ch(n[a],e[a])):An(n[a])||(e[a]=!0);return e}function sT(n,e,t){const a=Array.isArray(n);if(Ot(n)||a)for(const o in n)Array.isArray(n[o])||Ot(n[o])&&!iT(n[o])?Pt(e)||mg(t[o])?t[o]=Array.isArray(n[o])?Ch(n[o],[]):{...Ch(n[o])}:sT(n[o],An(e)?{}:e[o],t[o]):t[o]=!Li(n[o],e[o]);return t}var wc=(n,e)=>sT(n,e,Ch(e));const ab={value:!1,isValid:!1},ib={value:!0,isValid:!0};var oT=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Pt(n[0].attributes.value)?Pt(n[0].value)||n[0].value===""?ib:{value:n[0].value,isValid:!0}:ib:ab}return ab},lT=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:a})=>Pt(n)?n:e?n===""?NaN:n&&+n:t&&Yr(n)?new Date(n):a?a(n):n;const sb={isValid:!1,value:null};var cT=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,sb):sb;function ob(n){const e=n.ref;return Dp(e)?e.files:Vp(e)?cT(n.refs).value:aT(e)?[...e.selectedOptions].map(({value:t})=>t):gu(e)?oT(n.refs).value:lT(Pt(e.value)?n.ref.value:e.value,n)}var L7=(n,e,t,a)=>{const o={};for(const l of n){const u=Ae(e,l);u&&pt(o,l,u._f)}return{criteriaMode:t,names:[...n],fields:o,shouldUseNativeValidation:a}},Ih=n=>n instanceof RegExp,Tc=n=>Pt(n)?n:Ih(n)?n.source:Ot(n)?Ih(n.value)?n.value.source:n.value:n,lb=n=>({isOnSubmit:!n||n===wr.onSubmit,isOnBlur:n===wr.onBlur,isOnChange:n===wr.onChange,isOnAll:n===wr.all,isOnTouch:n===wr.onTouched});const cb="AsyncFunction";var j7=n=>!!n&&!!n.validate&&!!(Tr(n.validate)&&n.validate.constructor.name===cb||Ot(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===cb)),P7=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),ub=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(a=>n.startsWith(a)&&/^\.\w+/.test(n.slice(a.length))));const Bc=(n,e,t,a)=>{for(const o of t||Object.keys(n)){const l=Ae(n,o);if(l){const{_f:u,...f}=l;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],o)&&!a)return!0;if(u.ref&&e(u.ref,u.name)&&!a)return!0;if(Bc(f,e))break}else if(Ot(f)&&Bc(f,e))break}}};function db(n,e,t){const a=Ae(n,t);if(a||df(t))return{error:a,name:t};const o=t.split(".");for(;o.length;){const l=o.join("."),u=Ae(e,l),f=Ae(n,l);if(u&&!Array.isArray(u)&&t!==l)return{name:t};if(f&&f.type)return{name:l,error:f};if(f&&f.root&&f.root.type)return{name:`${l}.root`,error:f.root};o.pop()}return{name:t}}var U7=(n,e,t,a)=>{t(n);const{name:o,...l}=n;return Dn(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(u=>e[u]===(!a||wr.all))},B7=(n,e,t)=>!n||!e||n===e||Uc(n).some(a=>a&&(t?a===e:a.startsWith(e)||e.startsWith(a))),z7=(n,e,t,a,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(e||n):(t?a.isOnBlur:o.isOnBlur)?!n:(t?a.isOnChange:o.isOnChange)?n:!0,F7=(n,e)=>!Ip(Ae(n,e)).length&&Gt(n,e),H7=(n,e,t)=>{const a=Uc(Ae(n,t));return pt(a,"root",e[t]),pt(n,t,a),n},ah=n=>Yr(n);function hb(n,e,t="validate"){if(ah(n)||Array.isArray(n)&&n.every(ah)||Gr(n)&&!n)return{type:t,message:ah(n)?n:"",ref:e}}var Ho=n=>Ot(n)&&!Ih(n)?n:{value:n,message:""},fb=async(n,e,t,a,o,l)=>{const{ref:u,refs:f,required:p,maxLength:y,minLength:b,min:w,max:T,pattern:C,validate:B,name:$,valueAsNumber:P,mount:re}=n._f,F=Ae(t,$);if(!re||e.has($))return{};const G=f?f[0]:u,X=L=>{o&&G.reportValidity&&(G.setCustomValidity(Gr(L)?"":L||""),G.reportValidity())},ne={},pe=Vp(u),O=gu(u),R=pe||O,N=(P||Dp(u))&&Pt(u.value)&&Pt(F)||Nh(u)&&u.value===""||F===""||Array.isArray(F)&&!F.length,D=O7.bind(null,$,a,ne),j=(L,k,Le,Ue=Pa.maxLength,W=Pa.minLength)=>{const fe=L?k:Le;ne[$]={type:L?Ue:W,message:fe,ref:u,...D(L?Ue:W,fe)}};if(l?!Array.isArray(F)||!F.length:p&&(!R&&(N||An(F))||Gr(F)&&!F||O&&!oT(f).isValid||pe&&!cT(f).isValid)){const{value:L,message:k}=ah(p)?{value:!!p,message:p}:Ho(p);if(L&&(ne[$]={type:Pa.required,message:k,ref:G,...D(Pa.required,k)},!a))return X(k),ne}if(!N&&(!An(w)||!An(T))){let L,k;const Le=Ho(T),Ue=Ho(w);if(!An(F)&&!isNaN(F)){const W=u.valueAsNumber||F&&+F;An(Le.value)||(L=W>Le.value),An(Ue.value)||(k=W<Ue.value)}else{const W=u.valueAsDate||new Date(F),fe=V=>new Date(new Date().toDateString()+" "+V),we=u.type=="time",Be=u.type=="week";Yr(Le.value)&&F&&(L=we?fe(F)>fe(Le.value):Be?F>Le.value:W>new Date(Le.value)),Yr(Ue.value)&&F&&(k=we?fe(F)<fe(Ue.value):Be?F<Ue.value:W<new Date(Ue.value))}if((L||k)&&(j(!!L,Le.message,Ue.message,Pa.max,Pa.min),!a))return X(ne[$].message),ne}if((y||b)&&!N&&(Yr(F)||l&&Array.isArray(F))){const L=Ho(y),k=Ho(b),Le=!An(L.value)&&F.length>+L.value,Ue=!An(k.value)&&F.length<+k.value;if((Le||Ue)&&(j(Le,L.message,k.message),!a))return X(ne[$].message),ne}if(C&&!N&&Yr(F)){const{value:L,message:k}=Ho(C);if(Ih(L)&&!F.match(L)&&(ne[$]={type:Pa.pattern,message:k,ref:u,...D(Pa.pattern,k)},!a))return X(k),ne}if(B){if(Tr(B)){const L=await B(F,t),k=hb(L,G);if(k&&(ne[$]={...k,...D(Pa.validate,k.message)},!a))return X(k.message),ne}else if(Ot(B)){let L={};for(const k in B){if(!Dn(L)&&!a)break;const Le=hb(await B[k](F,t),G,k);Le&&(L={...Le,...D(k,Le.message)},X(Le.message),a&&(ne[$]=L))}if(!Dn(L)&&(ne[$]={ref:G,...L},!a))return ne}}return X(!0),ne};const q7={mode:wr.onSubmit,reValidateMode:wr.onChange,shouldFocusError:!0};function $7(n={}){let e={...q7,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Tr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const a={};let o=Ot(e.defaultValues)||Ot(e.values)?gn(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:gn(o),u={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,y=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let w={...b};const T={array:rb(),state:rb()},C=e.criteriaMode===wr.all,B=M=>K=>{clearTimeout(y),y=setTimeout(M,K)},$=async M=>{if(!e.disabled&&(b.isValid||w.isValid||M)){const K=e.resolver?Dn((await O()).errors):await N(a,!0);K!==t.isValid&&T.state.next({isValid:K})}},P=(M,K)=>{!e.disabled&&(b.isValidating||b.validatingFields||w.isValidating||w.validatingFields)&&((M||Array.from(f.mount)).forEach(ee=>{ee&&(K?pt(t.validatingFields,ee,K):Gt(t.validatingFields,ee))}),T.state.next({validatingFields:t.validatingFields,isValidating:!Dn(t.validatingFields)}))},re=(M,K=[],ee,_e,ye=!0,me=!0)=>{if(_e&&ee&&!e.disabled){if(u.action=!0,me&&Array.isArray(Ae(a,M))){const ve=ee(Ae(a,M),_e.argA,_e.argB);ye&&pt(a,M,ve)}if(me&&Array.isArray(Ae(t.errors,M))){const ve=ee(Ae(t.errors,M),_e.argA,_e.argB);ye&&pt(t.errors,M,ve),F7(t.errors,M)}if((b.touchedFields||w.touchedFields)&&me&&Array.isArray(Ae(t.touchedFields,M))){const ve=ee(Ae(t.touchedFields,M),_e.argA,_e.argB);ye&&pt(t.touchedFields,M,ve)}(b.dirtyFields||w.dirtyFields)&&(t.dirtyFields=wc(o,l)),T.state.next({name:M,isDirty:j(M,K),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else pt(l,M,K)},F=(M,K)=>{pt(t.errors,M,K),T.state.next({errors:t.errors})},G=M=>{t.errors=M,T.state.next({errors:t.errors,isValid:!1})},X=(M,K,ee,_e)=>{const ye=Ae(a,M);if(ye){const me=Ae(l,M,Pt(ee)?Ae(o,M):ee);Pt(me)||_e&&_e.defaultChecked||K?pt(l,M,K?me:ob(ye._f)):Le(M,me),u.mount&&$()}},ne=(M,K,ee,_e,ye)=>{let me=!1,ve=!1;const Se={name:M};if(!e.disabled){if(!ee||_e){(b.isDirty||w.isDirty)&&(ve=t.isDirty,t.isDirty=Se.isDirty=j(),me=ve!==Se.isDirty);const Fe=Li(Ae(o,M),K);ve=!!Ae(t.dirtyFields,M),Fe?Gt(t.dirtyFields,M):pt(t.dirtyFields,M,!0),Se.dirtyFields=t.dirtyFields,me=me||(b.dirtyFields||w.dirtyFields)&&ve!==!Fe}if(ee){const Fe=Ae(t.touchedFields,M);Fe||(pt(t.touchedFields,M,ee),Se.touchedFields=t.touchedFields,me=me||(b.touchedFields||w.touchedFields)&&Fe!==ee)}me&&ye&&T.state.next(Se)}return me?Se:{}},pe=(M,K,ee,_e)=>{const ye=Ae(t.errors,M),me=(b.isValid||w.isValid)&&Gr(K)&&t.isValid!==K;if(e.delayError&&ee?(p=B(()=>F(M,ee)),p(e.delayError)):(clearTimeout(y),p=null,ee?pt(t.errors,M,ee):Gt(t.errors,M)),(ee?!Li(ye,ee):ye)||!Dn(_e)||me){const ve={..._e,...me&&Gr(K)?{isValid:K}:{},errors:t.errors,name:M};t={...t,...ve},T.state.next(ve)}},O=async M=>{P(M,!0);const K=await e.resolver(l,e.context,L7(M||f.mount,a,e.criteriaMode,e.shouldUseNativeValidation));return P(M),K},R=async M=>{const{errors:K}=await O(M);if(M)for(const ee of M){const _e=Ae(K,ee);_e?pt(t.errors,ee,_e):Gt(t.errors,ee)}else t.errors=K;return K},N=async(M,K,ee={valid:!0})=>{for(const _e in M){const ye=M[_e];if(ye){const{_f:me,...ve}=ye;if(me){const Se=f.array.has(me.name),Fe=ye._f&&j7(ye._f);Fe&&b.validatingFields&&P([_e],!0);const it=await fb(ye,f.disabled,l,C,e.shouldUseNativeValidation&&!K,Se);if(Fe&&b.validatingFields&&P([_e]),it[me.name]&&(ee.valid=!1,K))break;!K&&(Ae(it,me.name)?Se?H7(t.errors,it,me.name):pt(t.errors,me.name,it[me.name]):Gt(t.errors,me.name))}!Dn(ve)&&await N(ve,K,ee)}}return ee.valid},D=()=>{for(const M of f.unMount){const K=Ae(a,M);K&&(K._f.refs?K._f.refs.every(ee=>!C0(ee)):!C0(K._f.ref))&&Ne(M)}f.unMount=new Set},j=(M,K)=>!e.disabled&&(M&&K&&pt(l,M,K),!Li(V(),o)),L=(M,K,ee)=>I7(M,f,{...u.mount?l:Pt(K)?o:Yr(M)?{[M]:K}:K},ee,K),k=M=>Ip(Ae(u.mount?l:o,M,e.shouldUnregister?Ae(o,M,[]):[])),Le=(M,K,ee={})=>{const _e=Ae(a,M);let ye=K;if(_e){const me=_e._f;me&&(!me.disabled&&pt(l,M,lT(K,me)),ye=Nh(me.ref)&&An(K)?"":K,aT(me.ref)?[...me.ref.options].forEach(ve=>ve.selected=ye.includes(ve.value)):me.refs?gu(me.ref)?me.refs.forEach(ve=>{(!ve.defaultChecked||!ve.disabled)&&(Array.isArray(ye)?ve.checked=!!ye.find(Se=>Se===ve.value):ve.checked=ye===ve.value||!!ye)}):me.refs.forEach(ve=>ve.checked=ve.value===ye):Dp(me.ref)?me.ref.value="":(me.ref.value=ye,me.ref.type||T.state.next({name:M,values:gn(l)})))}(ee.shouldDirty||ee.shouldTouch)&&ne(M,ye,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&Be(M)},Ue=(M,K,ee)=>{for(const _e in K){if(!K.hasOwnProperty(_e))return;const ye=K[_e],me=M+"."+_e,ve=Ae(a,me);(f.array.has(M)||Ot(ye)||ve&&!ve._f)&&!js(ye)?Ue(me,ye,ee):Le(me,ye,ee)}},W=(M,K,ee={})=>{const _e=Ae(a,M),ye=f.array.has(M),me=gn(K);pt(l,M,me),ye?(T.array.next({name:M,values:gn(l)}),(b.isDirty||b.dirtyFields||w.isDirty||w.dirtyFields)&&ee.shouldDirty&&T.state.next({name:M,dirtyFields:wc(o,l),isDirty:j(M,me)})):_e&&!_e._f&&!An(me)?Ue(M,me,ee):Le(M,me,ee),ub(M,f)&&T.state.next({...t}),T.state.next({name:u.mount?M:void 0,values:gn(l)})},fe=async M=>{u.mount=!0;const K=M.target;let ee=K.name,_e=!0;const ye=Ae(a,ee),me=Fe=>{_e=Number.isNaN(Fe)||js(Fe)&&isNaN(Fe.getTime())||Li(Fe,Ae(l,ee,Fe))},ve=lb(e.mode),Se=lb(e.reValidateMode);if(ye){let Fe,it;const la=K.type?ob(ye._f):T7(M),Wn=M.type===nb.BLUR||M.type===nb.FOCUS_OUT,ca=!P7(ye._f)&&!e.resolver&&!Ae(t.errors,ee)&&!ye._f.deps||z7(Wn,Ae(t.touchedFields,ee),t.isSubmitted,Se,ve),mr=ub(ee,f,Wn);pt(l,ee,la),Wn?(ye._f.onBlur&&ye._f.onBlur(M),p&&p(0)):ye._f.onChange&&ye._f.onChange(M);const gr=ne(ee,la,Wn),Pn=!Dn(gr)||mr;if(!Wn&&T.state.next({name:ee,type:M.type,values:gn(l)}),ca)return(b.isValid||w.isValid)&&(e.mode==="onBlur"?Wn&&$():Wn||$()),Pn&&T.state.next({name:ee,...mr?{}:gr});if(!Wn&&mr&&T.state.next({...t}),e.resolver){const{errors:ua}=await O([ee]);if(me(la),_e){const da=db(t.errors,a,ee),ei=db(ua,a,da.name||ee);Fe=ei.error,ee=ei.name,it=Dn(ua)}}else P([ee],!0),Fe=(await fb(ye,f.disabled,l,C,e.shouldUseNativeValidation))[ee],P([ee]),me(la),_e&&(Fe?it=!1:(b.isValid||w.isValid)&&(it=await N(a,!0)));_e&&(ye._f.deps&&Be(ye._f.deps),pe(ee,it,Fe,gr))}},we=(M,K)=>{if(Ae(t.errors,K)&&M.focus)return M.focus(),1},Be=async(M,K={})=>{let ee,_e;const ye=Uc(M);if(e.resolver){const me=await R(Pt(M)?M:ye);ee=Dn(me),_e=M?!ye.some(ve=>Ae(me,ve)):ee}else M?(_e=(await Promise.all(ye.map(async me=>{const ve=Ae(a,me);return await N(ve&&ve._f?{[me]:ve}:ve)}))).every(Boolean),!(!_e&&!t.isValid)&&$()):_e=ee=await N(a);return T.state.next({...!Yr(M)||(b.isValid||w.isValid)&&ee!==t.isValid?{}:{name:M},...e.resolver||!M?{isValid:ee}:{},errors:t.errors}),K.shouldFocus&&!_e&&Bc(a,we,M?ye:f.mount),_e},V=M=>{const K={...u.mount?l:o};return Pt(M)?K:Yr(M)?Ae(K,M):M.map(ee=>Ae(K,ee))},se=(M,K)=>({invalid:!!Ae((K||t).errors,M),isDirty:!!Ae((K||t).dirtyFields,M),error:Ae((K||t).errors,M),isValidating:!!Ae(t.validatingFields,M),isTouched:!!Ae((K||t).touchedFields,M)}),de=M=>{M&&Uc(M).forEach(K=>Gt(t.errors,K)),T.state.next({errors:M?t.errors:{}})},ae=(M,K,ee)=>{const _e=(Ae(a,M,{_f:{}})._f||{}).ref,ye=Ae(t.errors,M)||{},{ref:me,message:ve,type:Se,...Fe}=ye;pt(t.errors,M,{...Fe,...K,ref:_e}),T.state.next({name:M,errors:t.errors,isValid:!1}),ee&&ee.shouldFocus&&_e&&_e.focus&&_e.focus()},be=(M,K)=>Tr(M)?T.state.subscribe({next:ee=>M(L(void 0,K),ee)}):L(M,K,!0),oe=M=>T.state.subscribe({next:K=>{B7(M.name,K.name,M.exact)&&U7(K,M.formState||b,Nn,M.reRenderRoot)&&M.callback({values:{...l},...t,...K})}}).unsubscribe,he=M=>(u.mount=!0,w={...w,...M.formState},oe({...M,formState:w})),Ne=(M,K={})=>{for(const ee of M?Uc(M):f.mount)f.mount.delete(ee),f.array.delete(ee),K.keepValue||(Gt(a,ee),Gt(l,ee)),!K.keepError&&Gt(t.errors,ee),!K.keepDirty&&Gt(t.dirtyFields,ee),!K.keepTouched&&Gt(t.touchedFields,ee),!K.keepIsValidating&&Gt(t.validatingFields,ee),!e.shouldUnregister&&!K.keepDefaultValue&&Gt(o,ee);T.state.next({values:gn(l)}),T.state.next({...t,...K.keepDirty?{isDirty:j()}:{}}),!K.keepIsValid&&$()},Ce=({disabled:M,name:K})=>{(Gr(M)&&u.mount||M||f.disabled.has(K))&&(M?f.disabled.add(K):f.disabled.delete(K))},ct=(M,K={})=>{let ee=Ae(a,M);const _e=Gr(K.disabled)||Gr(e.disabled);return pt(a,M,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:M}},name:M,mount:!0,...K}}),f.mount.add(M),ee?Ce({disabled:Gr(K.disabled)?K.disabled:e.disabled,name:M}):X(M,!0,K.value),{..._e?{disabled:K.disabled||e.disabled}:{},...e.progressive?{required:!!K.required,min:Tc(K.min),max:Tc(K.max),minLength:Tc(K.minLength),maxLength:Tc(K.maxLength),pattern:Tc(K.pattern)}:{},name:M,onChange:fe,onBlur:fe,ref:ye=>{if(ye){ct(M,K),ee=Ae(a,M);const me=Pt(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,ve=D7(me),Se=ee._f.refs||[];if(ve?Se.find(Fe=>Fe===me):me===ee._f.ref)return;pt(a,M,{_f:{...ee._f,...ve?{refs:[...Se.filter(C0),me,...Array.isArray(Ae(o,M))?[{}]:[]],ref:{type:me.type,name:M}}:{ref:me}}}),X(M,!1,void 0,me)}else ee=Ae(a,M,{}),ee._f&&(ee._f.mount=!1),(e.shouldUnregister||K.shouldUnregister)&&!(S7(f.array,M)&&u.action)&&f.unMount.add(M)}}},Yt=()=>e.shouldFocusError&&Bc(a,we,f.mount),kn=M=>{Gr(M)&&(T.state.next({disabled:M}),Bc(a,(K,ee)=>{const _e=Ae(a,ee);_e&&(K.disabled=_e._f.disabled||M,Array.isArray(_e._f.refs)&&_e._f.refs.forEach(ye=>{ye.disabled=_e._f.disabled||M}))},0,!1))},Xn=(M,K)=>async ee=>{let _e;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let ye=gn(l);if(T.state.next({isSubmitting:!0}),e.resolver){const{errors:me,values:ve}=await O();t.errors=me,ye=ve}else await N(a);if(f.disabled.size)for(const me of f.disabled)pt(ye,me,void 0);if(Gt(t.errors,"root"),Dn(t.errors)){T.state.next({errors:{}});try{await M(ye,ee)}catch(me){_e=me}}else K&&await K({...t.errors},ee),Yt(),setTimeout(Yt);if(T.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Dn(t.errors)&&!_e,submitCount:t.submitCount+1,errors:t.errors}),_e)throw _e},oa=(M,K={})=>{Ae(a,M)&&(Pt(K.defaultValue)?W(M,gn(Ae(o,M))):(W(M,K.defaultValue),pt(o,M,gn(K.defaultValue))),K.keepTouched||Gt(t.touchedFields,M),K.keepDirty||(Gt(t.dirtyFields,M),t.isDirty=K.defaultValue?j(M,gn(Ae(o,M))):j()),K.keepError||(Gt(t.errors,M),b.isValid&&$()),T.state.next({...t}))},kr=(M,K={})=>{const ee=M?gn(M):o,_e=gn(ee),ye=Dn(M),me=ye?o:_e;if(K.keepDefaultValues||(o=ee),!K.keepValues){if(K.keepDirtyValues){const ve=new Set([...f.mount,...Object.keys(wc(o,l))]);for(const Se of Array.from(ve))Ae(t.dirtyFields,Se)?pt(me,Se,Ae(l,Se)):W(Se,Ae(me,Se))}else{if(Cp&&Pt(M))for(const ve of f.mount){const Se=Ae(a,ve);if(Se&&Se._f){const Fe=Array.isArray(Se._f.refs)?Se._f.refs[0]:Se._f.ref;if(Nh(Fe)){const it=Fe.closest("form");if(it){it.reset();break}}}}for(const ve of f.mount)W(ve,Ae(me,ve))}l=gn(me),T.array.next({values:{...me}}),T.state.next({values:{...me}})}f={mount:K.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!b.isValid||!!K.keepIsValid||!!K.keepDirtyValues,u.watch=!!e.shouldUnregister,T.state.next({submitCount:K.keepSubmitCount?t.submitCount:0,isDirty:ye?!1:K.keepDirty?t.isDirty:!!(K.keepDefaultValues&&!Li(M,o)),isSubmitted:K.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ye?{}:K.keepDirtyValues?K.keepDefaultValues&&l?wc(o,l):t.dirtyFields:K.keepDefaultValues&&M?wc(o,M):K.keepDirty?t.dirtyFields:{},touchedFields:K.keepTouched?t.touchedFields:{},errors:K.keepErrors?t.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Wa=(M,K)=>kr(Tr(M)?M(l):M,K),Xs=(M,K={})=>{const ee=Ae(a,M),_e=ee&&ee._f;if(_e){const ye=_e.refs?_e.refs[0]:_e.ref;ye.focus&&(ye.focus(),K.shouldSelect&&Tr(ye.select)&&ye.select())}},Nn=M=>{t={...t,...M}},Ja={control:{register:ct,unregister:Ne,getFieldState:se,handleSubmit:Xn,setError:ae,_subscribe:oe,_runSchema:O,_focusError:Yt,_getWatch:L,_getDirty:j,_setValid:$,_setFieldArray:re,_setDisabledField:Ce,_setErrors:G,_getFieldArray:k,_reset:kr,_resetDefaultValues:()=>Tr(e.defaultValues)&&e.defaultValues().then(M=>{Wa(M,e.resetOptions),T.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:kn,_subjects:T,_proxyFormState:b,get _fields(){return a},get _formValues(){return l},get _state(){return u},set _state(M){u=M},get _defaultValues(){return o},get _names(){return f},set _names(M){f=M},get _formState(){return t},get _options(){return e},set _options(M){e={...e,...M}}},subscribe:he,trigger:Be,register:ct,handleSubmit:Xn,watch:be,setValue:W,getValues:V,reset:Wa,resetField:oa,clearErrors:de,unregister:Ne,setError:ae,setFocus:Xs,getFieldState:se};return{...Ja,formControl:Ja}}function hf(n={}){const e=Zn.useRef(void 0),t=Zn.useRef(void 0),[a,o]=Zn.useState({isDirty:!1,isValidating:!1,isLoading:Tr(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:Tr(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:a},n.defaultValues&&!Tr(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:u,...f}=$7(n);e.current={...f,formState:a}}const l=e.current.control;return l._options=n,C7(()=>{const u=l._subscribe({formState:l._proxyFormState,callback:()=>o({...l._formState}),reRenderRoot:!0});return o(f=>({...f,isReady:!0})),l._formState.isReady=!0,u},[l]),Zn.useEffect(()=>l._disableForm(n.disabled),[l,n.disabled]),Zn.useEffect(()=>{n.mode&&(l._options.mode=n.mode),n.reValidateMode&&(l._options.reValidateMode=n.reValidateMode)},[l,n.mode,n.reValidateMode]),Zn.useEffect(()=>{n.errors&&(l._setErrors(n.errors),l._focusError())},[l,n.errors]),Zn.useEffect(()=>{n.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,n.shouldUnregister]),Zn.useEffect(()=>{if(l._proxyFormState.isDirty){const u=l._getDirty();u!==a.isDirty&&l._subjects.state.next({isDirty:u})}},[l,a.isDirty]),Zn.useEffect(()=>{n.values&&!Li(n.values,t.current)?(l._reset(n.values,l._options.resetOptions),t.current=n.values,o(u=>({...u}))):l._resetDefaultValues()},[l,n.values]),Zn.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=N7(a,l),e.current}const G7=()=>{const{forgotPassword:n}=ia(),e=Rn(),[t,a]=_.useState(!1),[o,l]=_.useState(!1),[u,f]=_.useState(""),{register:p,handleSubmit:y,formState:{errors:b},reset:w}=hf(),T=B=>{switch(B){case"auth/invalid-email":return"O e-mail fornecido é inválido.";case"auth/user-not-found":return"Nenhuma conta encontrada com este e-mail.";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente mais tarde.";default:return"Ocorreu um erro ao enviar o e-mail. Tente novamente."}},C=async({email:B})=>{a(!0);const $={url:`${window.location.origin}/reset-password`,handleCodeInApp:!0};try{await n(B,$),f(B),l(!0),w(),xt.success("E-mail enviado com sucesso!",{position:"top-center",duration:4e3})}catch(P){console.error("Erro ao enviar e-mail:",P);const re=T(P.code);xt.error(re,{position:"top-center",duration:5e3})}finally{a(!1)}};return o?g.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-gray-100 dark:bg-gray-900",children:g.jsxs("div",{className:"w-full max-w-md p-8 rounded-xl shadow-xl bg-white dark:bg-gray-800 text-center",children:[g.jsx(Np,{className:"h-16 w-16 mx-auto text-green-500 mb-4"}),g.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"E-mail Enviado!"}),g.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:["Enviamos um link de redefinição para ",g.jsx("strong",{children:u}),". Verifique sua caixa de entrada e a pasta de spam."]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("button",{onClick:()=>{l(!1),f("")},className:"w-full py-2.5 px-4 rounded-md text-white bg-ollo-deep hover:bg-opacity-90 transition font-medium",children:"Enviar novo e-mail"}),g.jsx("button",{onClick:()=>e("/login"),className:"w-full py-2.5 px-4 rounded-md border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition font-medium",children:"Voltar para o Login"})]})]})}):g.jsxs(g.Fragment,{children:[g.jsx(Zs,{position:"top-center"}),g.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-gray-100 dark:bg-gray-900",children:g.jsxs("div",{className:"w-full max-w-md p-8 rounded-xl shadow-xl bg-white dark:bg-gray-800",children:[g.jsxs("div",{className:"text-center mb-6",children:[g.jsx("img",{src:"/images/logo_ollo.jpeg",alt:"Logo OLLO",className:"h-16 mx-auto rounded-full"}),g.jsx("h2",{className:"text-2xl font-bold mt-4 text-gray-800 dark:text-white",children:"Recuperação de Senha"})]}),g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx(qC,{className:"h-10 w-10 text-ollo-deep dark:text-ollo-accent-light"})}),g.jsx("p",{className:"text-center text-sm text-gray-600 dark:text-gray-300 mb-6",children:"Digite seu e-mail cadastrado e enviaremos um link seguro para redefinir sua senha."}),g.jsxs("form",{onSubmit:y(C),className:"space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Endereço de E-mail"}),g.jsx("input",{id:"email",type:"email",...p("email",{required:"E-mail é obrigatório",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Formato de e-mail inválido"}}),className:"w-full px-4 py-3 border rounded-md shadow-sm bg-white/70 dark:bg-gray-700 text-black dark:text-white placeholder-gray-500 dark:placeholder-gray-400 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none transition-colors duration-150",placeholder:"seu@email.com",autoComplete:"email",inputMode:"email"}),b.email&&g.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b.email.message})]}),g.jsx("button",{type:"submit",disabled:t,className:"w-full py-3 px-4 rounded-md text-white bg-ollo-deep hover:bg-opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center font-semibold",children:t?g.jsxs(g.Fragment,{children:[g.jsx(Xi,{className:"animate-spin h-5 w-5 mr-2"}),"Enviando..."]}):"Enviar Link de Recuperação"})]}),g.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:g.jsxs("p",{className:"text-sm text-center text-gray-600 dark:text-gray-400",children:["Lembrou sua senha?"," ",g.jsx(Ln,{to:"/login",className:"font-medium text-ollo-deep dark:text-ollo-accent-light hover:underline",children:"Fazer login"})]})})]})})]})},Z7=()=>{const n=Rn(),{register:e,handleSubmit:t,watch:a,formState:{errors:o},reset:l}=hf(),{registerWithEmail:u}=ia(),[f,p]=_.useState(!1),[y,b]=_.useState(!1),[w,T]=_.useState(!1),[C,B]=_.useState(!1),[$,P]=_.useState(!1),re=G=>{switch(G){case"auth/email-already-in-use":return"Este e-mail já está em uso. Tente recuperar sua conta ou use outro e-mail.";case"auth/invalid-email":return"Formato de e-mail inválido. Verifique e tente novamente.";case"auth/weak-password":return"Senha muito fraca. Use no mínimo 6 caracteres.";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente mais tarde.";default:return"Ocorreu um erro no cadastro. Tente novamente."}},F=async G=>{p(!0);const X={name:`${G.firstName} ${G.lastName}`,username:G.username.toLowerCase()};try{(await u(G.email,G.password,X)).success&&(P(!0),l(),xt.success("Verifique seu e-mail para ativar sua conta!",{duration:6e3,position:"top-center"}))}catch(ne){console.error("Registration error:",ne);const pe=re(ne.code);xt.error(pe,{duration:5e3,position:"top-center"})}finally{p(!1)}};return $?g.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50 dark:bg-gray-900",children:g.jsxs("div",{className:"w-full max-w-md p-8 rounded-xl bg-white dark:bg-gray-800 shadow-lg border border-gray-200 dark:border-gray-700 text-center",children:[g.jsx(Np,{className:"h-16 w-16 mx-auto text-green-500 mb-4"}),g.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Cadastro Concluído!"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Enviamos um link de verificação para seu e-mail. Confirme sua conta para começar a usar o OLLO."}),g.jsx("button",{onClick:()=>n("/login"),className:"w-full py-2.5 px-4 rounded-md bg-ollo-deep dark:bg-ollo-accent-light text-white dark:text-gray-900 font-medium hover:bg-opacity-90 transition",children:"Ir para o Login"})]})}):g.jsxs(g.Fragment,{children:[g.jsx(Zs,{position:"top-center"}),g.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50 dark:bg-gray-900",children:g.jsxs("div",{className:"w-full max-w-lg p-8 rounded-xl bg-white dark:bg-gray-800 shadow-lg border border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("img",{src:"/images/logo_ollo.jpeg",alt:"Logo OLLO",className:"h-16 mx-auto rounded-full mb-4"}),g.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Junte-se à Comunidade OLLO"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Crie sua conta para começar a explorar"})]}),g.jsxs("form",{onSubmit:t(F),className:"space-y-5",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome"}),g.jsx("input",{id:"firstName",type:"text",...e("firstName",{required:"Nome é obrigatório",minLength:{value:2,message:"Nome deve ter pelo menos 2 caracteres"}}),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none transition-colors",placeholder:"Seu nome",autoComplete:"given-name"}),o.firstName&&g.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.firstName.message})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sobrenome"}),g.jsx("input",{id:"lastName",type:"text",...e("lastName",{required:"Sobrenome é obrigatório",minLength:{value:2,message:"Sobrenome deve ter pelo menos 2 caracteres"}}),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none transition-colors",placeholder:"Seu sobrenome",autoComplete:"family-name"}),o.lastName&&g.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.lastName.message})]})]}),g.jsxs("div",{className:"relative",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome de usuário"}),g.jsx("button",{type:"button",onClick:()=>B(!C),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300","aria-label":"Mostrar regras para nome de usuário",children:g.jsx(Q_,{className:"h-5 w-5"})})]}),g.jsx("input",{id:"username",type:"text",...e("username",{required:"Nome de usuário é obrigatório",pattern:{value:/^[a-z0-9_.]+$/,message:"Use apenas letras minúsculas, números, ponto ou underline"},minLength:{value:3,message:"Mínimo 3 caracteres"},maxLength:{value:20,message:"Máximo 20 caracteres"}}),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none transition-colors",placeholder:"ex: maria.silva",autoComplete:"username"}),C&&g.jsx("div",{className:"absolute z-10 mt-2 w-full p-3 bg-gray-800 text-white text-sm rounded-lg shadow-lg",children:g.jsxs("div",{className:"flex items-start",children:[g.jsx(Q_,{className:"h-5 w-5 mr-2 flex-shrink-0 text-blue-400"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold mb-1",children:"Regras para nome de usuário:"}),g.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[g.jsx("li",{children:"3-20 caracteres"}),g.jsx("li",{children:"Letras minúsculas (a-z) e números (0-9)"}),g.jsx("li",{children:"Ponto (.) ou underline (_) permitidos"}),g.jsx("li",{children:"Exemplos: ana.silva, joao_2023"})]})]})]})}),o.username&&g.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.username.message})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"E-mail"}),g.jsx("input",{id:"email",type:"email",...e("email",{required:"E-mail é obrigatório",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Formato de e-mail inválido"}}),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none transition-colors",placeholder:"seu@email.com",autoComplete:"email",inputMode:"email"}),o.email&&g.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.email.message})]}),g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Senha"}),g.jsx("input",{id:"password",type:y?"text":"password",...e("password",{required:"Senha é obrigatória",minLength:{value:6,message:"Mínimo 6 caracteres"}}),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none transition-colors pr-10",placeholder:"••••••••",autoComplete:"new-password"}),g.jsx("button",{type:"button",onClick:()=>b(!y),className:"absolute top-10 right-3 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300","aria-label":y?"Ocultar senha":"Mostrar senha",children:y?g.jsx(eu,{className:"h-5 w-5"}):g.jsx(tu,{className:"h-5 w-5"})}),o.password&&g.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.password.message})]}),g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar Senha"}),g.jsx("input",{id:"confirmPassword",type:w?"text":"password",...e("confirmPassword",{required:"Confirme sua senha",validate:G=>G===a("password")||"As senhas não coincidem"}),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none transition-colors pr-10",placeholder:"••••••••",autoComplete:"new-password"}),g.jsx("button",{type:"button",onClick:()=>T(!w),className:"absolute top-10 right-3 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300","aria-label":w?"Ocultar senha":"Mostrar senha",children:w?g.jsx(eu,{className:"h-5 w-5"}):g.jsx(tu,{className:"h-5 w-5"})}),o.confirmPassword&&g.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:o.confirmPassword.message})]}),g.jsx("div",{className:"pt-2",children:g.jsx("button",{type:"submit",disabled:f,className:"w-full py-3 px-4 rounded-lg bg-ollo-deep dark:bg-ollo-accent-light text-white dark:text-gray-900 font-semibold hover:bg-opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center",children:f?g.jsxs(g.Fragment,{children:[g.jsx(Xi,{className:"animate-spin h-5 w-5 mr-2"}),"Criando conta..."]}):"Criar Conta"})})]}),g.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:g.jsxs("p",{className:"text-sm text-center text-gray-600 dark:text-gray-400",children:["Já tem uma conta?"," ",g.jsx(Ln,{to:"/login",className:"font-medium text-ollo-deep dark:text-ollo-accent-light hover:underline",children:"Fazer login"})]})})]})})]})};function K7({listing:n,onDelete:e}){if(!n)return null;const{id:t,title:a,price:o,category:l,imageUrls:u}=n,f=u&&u.length>0?u[0]:`https://placehold.co/400x300/E0E1DD/0D1B2A?text=${encodeURIComponent(a||"Sem Imagem")}`,p=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o||0),y=l?l.charAt(0).toUpperCase()+l.slice(1):"",b=T=>{T.stopPropagation(),T.preventDefault(),e&&e(t)},w=T=>{T.stopPropagation(),T.preventDefault(),alert(`Navegando para a página de edição de ${t} (funcionalidade a ser implementada)`)};return g.jsxs(Ln,{to:`/marketplace/detalhes/${t}`,className:"group flex flex-col overflow-hidden rounded-xl border border-gray-200/80 dark:border-gray-700/60 bg-white dark:bg-ollo-slate shadow-md transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[g.jsxs("div",{className:"relative h-48 sm:h-56",children:[g.jsx("img",{src:f,alt:`Imagem de ${a}`,className:"absolute inset-0 h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}),y&&g.jsx("span",{className:"absolute top-3 right-3 bg-ollo-accent dark:bg-ollo-accent-light text-white dark:text-ollo-deep text-xs font-semibold px-2.5 py-1 rounded-full z-10",children:y})]}),g.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[g.jsxs("div",{className:"flex-grow",children:[g.jsx("h3",{className:"text-lg font-bold text-ollo-deep dark:text-ollo-light truncate",title:a,children:a||"Anúncio sem título"}),g.jsx("p",{className:"mt-2 text-xl font-black text-ollo-accent dark:text-ollo-accent-light",children:p})]}),g.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700/50 flex justify-end space-x-2",children:[g.jsx("button",{onClick:w,className:"p-2 text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",title:"Editar Anúncio",children:g.jsx(kh,{className:"h-5 w-5"})}),g.jsx("button",{onClick:b,className:"p-2 text-gray-500 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",title:"Excluir Anúncio",children:g.jsx(Bw,{className:"h-5 w-5"})})]})]})]})}function Y7(){const[n,e]=_.useState([]),[t,a]=_.useState(!0),[o,l]=_.useState(null);_.useEffect(()=>{(async()=>{a(!0);try{const y=tf(Kr,"listagens"),b=iw(y,sw("createdAt","desc")),T=(await e9(b)).docs.map(C=>({id:C.id,...C.data()}));e(T),l(null)}catch(y){console.error("Erro ao buscar anúncios:",y),l("Não foi possível carregar os produtos. Tente novamente mais tarde.")}finally{a(!1)}})()},[]);const u=async p=>{if(window.confirm("Tem certeza que deseja excluir este anúncio? Esta ação não pode ser desfeita."))try{const y=Ls(Kr,"listagens",p);await t9(y),e(b=>b.filter(w=>w.id!==p)),console.log(`Anúncio ${p} excluído com sucesso!`)}catch(y){console.error("Erro ao excluir anúncio:",y),alert("Ocorreu um erro ao tentar excluir o anúncio. Tente novamente.")}},f=()=>t?g.jsxs("div",{className:"flex justify-center items-center py-20",children:[g.jsx(Xi,{className:"h-8 w-8 animate-spin text-ollo-accent dark:text-ollo-accent-light"}),g.jsx("p",{className:"ml-3 text-lg text-gray-500 dark:text-gray-400",children:"Carregando produtos..."})]}):o?g.jsx("div",{className:"text-center py-20",children:g.jsx("p",{className:"text-red-500 dark:text-red-400",children:o})}):n.length===0?g.jsx("div",{className:"text-center py-20",children:g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum produto encontrado no momento."})}):g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(p=>g.jsx(K7,{listing:p,onDelete:u},p.id))});return g.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[g.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 gap-4",children:[g.jsx("h1",{className:"text-3xl font-bold text-ollo-deep dark:text-ollo-accent-light",children:"Marketplace OLLO"}),g.jsx(Ln,{to:"/marketplace/criar",className:"w-full sm:w-auto flex justify-center py-2 px-6 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-ollo-accent hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ollo-accent-light transition-transform active:scale-95",children:"Anunciar Produto"})]}),g.jsx("main",{children:f()})]})}const ln=[];for(let n=0;n<256;++n)ln.push((n+256).toString(16).slice(1));function Q7(n,e=0){return(ln[n[e+0]]+ln[n[e+1]]+ln[n[e+2]]+ln[n[e+3]]+"-"+ln[n[e+4]]+ln[n[e+5]]+"-"+ln[n[e+6]]+ln[n[e+7]]+"-"+ln[n[e+8]]+ln[n[e+9]]+"-"+ln[n[e+10]]+ln[n[e+11]]+ln[n[e+12]]+ln[n[e+13]]+ln[n[e+14]]+ln[n[e+15]]).toLowerCase()}let I0;const X7=new Uint8Array(16);function W7(){if(!I0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");I0=crypto.getRandomValues.bind(crypto)}return I0(X7)}const J7=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),mb={randomUUID:J7};function eO(n,e,t){var o;if(mb.randomUUID&&!n)return mb.randomUUID();n=n||{};const a=n.random??((o=n.rng)==null?void 0:o.call(n))??W7();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,Q7(a)}const tO=()=>{const{register:n,handleSubmit:e,formState:{errors:t,isSubmitting:a}}=hf(),o=Rn(),{currentUser:l}=ia(),[u,f]=_.useState(""),[p,y]=_.useState([]),[b,w]=_.useState([]),T=P=>{if(P.target.files){const F=Array.from(P.target.files).slice(0,5-p.length);y(X=>[...X,...F]);const G=F.map(X=>URL.createObjectURL(X));w(X=>[...X,...G]),P.target.value=null}},C=P=>{y(re=>re.filter((F,G)=>G!==P)),URL.revokeObjectURL(b[P]),w(re=>re.filter((F,G)=>G!==P))},B=async P=>{if(!l){f("Você precisa estar logado para criar um anúncio.");return}if(p.length===0){f("Por favor, adicione pelo menos uma imagem.");return}f("");try{const re=await Promise.all(p.map(async F=>{const G=Dw(Vw,`listings/${l.uid}/${eO()}-${F.name}`);return await Iw(G,F),Ow(G)}));await hw(tf(Kr,"listagens"),{title:P.title,description:P.description,price:P.price,category:P.category.toLowerCase(),imageUrls:re,sellerId:l.uid,sellerName:l.name,status:"active",isPromoted:!1,createdAt:Ds()}),console.log("Anúncio e imagens salvos com sucesso!"),o("/marketplace")}catch(re){console.error("Erro ao criar anúncio:",re),re.code==="permission-denied"?f("Você não tem permissão para criar anúncios. Verifique suas regras de segurança no Firebase."):f("Ocorreu um erro ao criar seu anúncio. Tente novamente.")}},$=P=>`mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 bg-white/50 dark:bg-gray-800/50 shadow-sm focus:ring-opacity-50 pl-10 ${t[P]?"border-red-500 dark:border-red-500 focus:border-red-500 dark:focus:border-red-500 focus:ring-red-500":"focus:border-ollo-deep dark:focus:border-ollo-accent-light focus:ring-ollo-deep dark:focus:ring-ollo-accent-light"}`;return g.jsxs("div",{className:"container mx-auto p-4 max-w-3xl",children:[g.jsx("h1",{className:"text-3xl font-bold text-center text-ollo-deep dark:text-ollo-accent-light mb-8",children:"Anunciar Novo Item"}),g.jsxs("form",{onSubmit:e(B),className:"space-y-6 bg-white dark:bg-ollo-slate p-6 sm:p-8 rounded-xl shadow-2xl border border-gray-200/50 dark:border-gray-700/50",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Imagens do Produto (até 5)"}),g.jsx("div",{className:"mt-2 flex justify-center rounded-lg border border-dashed border-gray-900/25 dark:border-gray-100/25 px-6 py-10",children:g.jsxs("div",{className:"text-center",children:[g.jsx(lI,{className:"mx-auto h-12 w-12 text-gray-300 dark:text-gray-500"}),g.jsxs("div",{className:"mt-4 flex text-sm leading-6 text-gray-600 dark:text-gray-400",children:[g.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md bg-transparent font-semibold text-ollo-accent dark:text-ollo-accent-light focus-within:outline-none focus-within:ring-2 focus-within:ring-ollo-accent focus-within:ring-offset-2 dark:focus-within:ring-offset-gray-900 hover:text-ollo-deep dark:hover:text-white",children:[g.jsx("span",{children:"Carregue os arquivos"}),g.jsx("input",{id:"file-upload",name:"file-upload",type:"file",multiple:!0,accept:"image/*",className:"sr-only",onChange:T,disabled:p.length>=5})]}),g.jsx("p",{className:"pl-1",children:"ou arraste e solte"})]}),g.jsx("p",{className:"text-xs leading-5 text-gray-600 dark:text-gray-500",children:"PNG, JPG, GIF até 5MB"})]})}),b.length>0&&g.jsx("div",{className:"mt-4 grid grid-cols-3 sm:grid-cols-5 gap-4",children:b.map((P,re)=>g.jsxs("div",{className:"relative group",children:[g.jsx("img",{src:P,alt:`Preview ${re}`,className:"h-24 w-full object-cover rounded-md"}),g.jsx("button",{type:"button",onClick:()=>C(re),className:"absolute top-1 right-1 p-0.5 rounded-full bg-red-600 text-white opacity-0 group-hover:opacity-100 transition-opacity focus:outline-none focus:ring-2 focus:ring-red-500",children:g.jsx(pI,{className:"h-5 w-5"})})]},re))})]}),g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Título do Anúncio"}),g.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pt-6 pointer-events-none",children:g.jsx(kh,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),g.jsx("input",{id:"title",type:"text",...n("title",{required:"O título é obrigatório"}),className:$("title"),placeholder:"Ex: Bicicleta Caloi Aro 29"}),t.title&&g.jsx("p",{className:"mt-2 text-sm text-red-500",children:t.title.message})]}),g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Descrição"}),g.jsx("div",{className:"absolute top-9 left-0 flex items-center pl-3 pointer-events-none",children:g.jsx(kh,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),g.jsx("textarea",{id:"description",rows:"5",...n("description",{required:"A descrição é obrigatória"}),className:$("description"),placeholder:"Detalhe seu produto..."}),t.description&&g.jsx("p",{className:"mt-2 text-sm text-red-500",children:t.description.message})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Preço (R$)"}),g.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pt-6 pointer-events-none",children:g.jsx(FC,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),g.jsx("input",{id:"price",type:"number",step:"0.01",...n("price",{required:"O preço é obrigatório",valueAsNumber:!0,min:{value:.01,message:"O preço deve ser maior que zero."}}),className:$("price"),placeholder:"0,00"}),t.price&&g.jsx("p",{className:"mt-2 text-sm text-red-500",children:t.price.message})]}),g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Categoria"}),g.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pt-6 pointer-events-none",children:g.jsx(hI,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),g.jsxs("select",{id:"category",...n("category",{required:"A categoria é obrigatória"}),className:$("category"),children:[g.jsx("option",{value:"",children:"Selecione..."}),g.jsx("option",{value:"tecnologia",children:"Tecnologia"}),g.jsx("option",{value:"casa",children:"Casa e Jardim"}),g.jsx("option",{value:"esportes",children:"Esportes e Lazer"}),g.jsx("option",{value:"veiculos",children:"Veículos"}),g.jsx("option",{value:"moda",children:"Moda e Beleza"})]}),t.category&&g.jsx("p",{className:"mt-2 text-sm text-red-500",children:t.category.message})]})]}),u&&g.jsx("p",{className:"text-center text-sm text-red-500 py-2",children:u}),g.jsx("div",{className:"pt-4",children:g.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white dark:text-ollo-deep bg-ollo-accent dark:bg-ollo-accent-light hover:bg-opacity-90 disabled:opacity-50 disabled:cursor-wait focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-ollo-slate focus:ring-ollo-accent-light",children:a?g.jsxs(g.Fragment,{children:[g.jsx(Xi,{className:"animate-spin h-5 w-5 mr-3"})," ","Publicando..."]}):"Criar Anúncio"})})]})]})};function nO(){const{listingId:n}=Tb(),[e,t]=_.useState(null),[a,o]=_.useState(!0),[l,u]=_.useState(null),[f,p]=_.useState("");if(_.useEffect(()=>{(async()=>{if(!n){u("ID do anúncio não encontrado."),o(!1);return}o(!0);try{const w=Ls(Kr,"listagens",n),T=await dw(w);if(T.exists()){const C={id:T.id,...T.data()};t(C),C.imageUrls&&C.imageUrls.length>0&&p(C.imageUrls[0])}else u("Anúncio não encontrado.")}catch{u("Ocorreu um erro ao carregar o anúncio.")}finally{o(!1)}})()},[n]),a)return g.jsxs("div",{className:"flex justify-center items-center h-screen",children:[g.jsx(Xi,{className:"h-10 w-10 animate-spin text-ollo-accent"}),g.jsx("span",{className:"ml-4 text-xl text-gray-600 dark:text-gray-400",children:"Carregando detalhes..."})]});if(l)return g.jsxs("div",{className:"flex flex-col justify-center items-center h-screen text-center p-4",children:[g.jsx(GC,{className:"h-12 w-12 text-red-500 mb-4"}),g.jsx("h2",{className:"text-2xl font-bold text-ollo-deep dark:text-ollo-light mb-2",children:"Erro ao Carregar"}),g.jsx("p",{className:"text-red-500 dark:text-red-400 mb-6",children:l}),g.jsx(Ln,{to:"/marketplace",className:"px-4 py-2 bg-ollo-accent text-white rounded-lg hover:bg-opacity-90",children:"Voltar para o Marketplace"})]});if(!e)return null;const y=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.price||0);return g.jsx("div",{className:"max-w-6xl mx-auto p-4 sm:p-6 lg:p-8",children:g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8 lg:gap-12",children:[g.jsxs("div",{className:"lg:col-span-3",children:[g.jsx("div",{className:"aspect-w-16 aspect-h-12 bg-gray-200 dark:bg-gray-800 rounded-lg overflow-hidden mb-4 shadow-lg",children:g.jsx("img",{src:f||"https://placehold.co/800x600/E0E1DD/0D1B2A?text=Sem+Imagem",alt:`Imagem principal de ${e.title}`,className:"w-full h-full object-cover transition-opacity duration-300"})}),e.imageUrls&&e.imageUrls.length>1&&g.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:e.imageUrls.map((b,w)=>g.jsx("button",{onClick:()=>p(b),className:`flex-shrink-0 w-20 h-20 sm:w-24 sm:h-24 rounded-md overflow-hidden transition-all duration-200
                                                border-2 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-ollo-deep
                                                ${f===b?"border-ollo-accent dark:border-ollo-accent-light ring-2 ring-ollo-accent dark:ring-ollo-accent-light":"border-transparent hover:border-gray-400 dark:hover:border-gray-500"}`,children:g.jsx("img",{src:b,alt:`Miniatura ${w+1}`,className:"w-full h-full object-cover"})},w))})]}),g.jsx("div",{className:"lg:col-span-2",children:g.jsxs("div",{className:"bg-white dark:bg-ollo-slate p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[g.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-ollo-deep dark:text-ollo-light mb-2",children:e.title}),g.jsx("p",{className:"text-3xl lg:text-4xl font-black text-ollo-accent dark:text-ollo-accent-light mb-4",children:y}),g.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700/50 my-4"}),g.jsx("h2",{className:"text-lg font-semibold text-ollo-deep dark:text-ollo-light mb-2",children:"Descrição"}),g.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap leading-relaxed mb-6",children:e.description}),g.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800/50 p-4 rounded-lg",children:[g.jsx("h3",{className:"text-md font-semibold text-ollo-deep dark:text-ollo-light mb-3",children:"Informações do Vendedor"}),g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(zw,{className:"h-10 w-10 text-gray-400 dark:text-gray-500"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:e.sellerName||"Vendedor OLLO"}),g.jsx(Ln,{to:`/profile/${e.sellerId}`,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"Ver perfil"})]})]})]}),g.jsx("button",{className:"mt-6 w-full py-3 px-6 bg-ollo-accent hover:bg-opacity-90 text-white font-bold rounded-lg shadow-lg transition-transform active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ollo-accent-light",children:"Entrar em Contato"})]})})]})})}const rO=()=>{const{logout:n}=ia(),e=Rn(),[t,a]=_.useState(Er.currentUser);_.useEffect(()=>{const u=bx(Er,f=>{f?(a(f),f.emailVerified&&(xt.success("Email verificado com sucesso! Redirecionando..."),setTimeout(()=>e("/"),2e3))):(a(null),e("/login"))});return()=>u()},[e]);const o=async()=>{if(!t){xt.error("Ocorreu um erro. Por favor, faça login novamente.");return}try{await _x(t),xt.success("Um novo link de verificação foi enviado para o seu e-mail!")}catch{xt.error("Ocorreu um erro ao reenviar o e-mail. Tente novamente mais tarde.")}},l=async()=>{await n(),e("/login")};return t?g.jsxs(g.Fragment,{children:[g.jsx(Zs,{}),g.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:g.jsxs("div",{className:"max-w-md w-full p-8 space-y-6 bg-white dark:bg-gray-800 rounded-lg shadow-md text-center",children:[g.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:g.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),g.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Confirme seu e-mail"}),g.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Enviamos um link de verificação para"," ",g.jsx("strong",{children:t.email}),". Por favor, verifique sua caixa de entrada (e a pasta de spam) para ativar sua conta."]}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Após verificar, você pode fazer o login."}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[g.jsx("button",{onClick:o,className:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-white bg-ollo-primary hover:bg-ollo-primary-dark rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ollo-primary",children:"Reenviar e-mail"}),g.jsx("button",{onClick:l,className:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-md",children:"Fazer logout"})]})]})})]}):g.jsx("div",{className:"flex items-center justify-center min-h-screen bg-white dark:bg-ollo-deep",children:g.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Carregando..."})})},aO=()=>{const n=Rn(),e=Qa(),{register:t,handleSubmit:a,watch:o,formState:{errors:l}}=hf(),[u,f]=_.useState(!0),[p,y]=_.useState(!1),[b,w]=_.useState(""),[T,C]=_.useState(!1),[B,$]=_.useState(""),[P,re]=_.useState(""),[F,G]=_.useState(!1),[X,ne]=_.useState(!1),pe=o("password"),O=N=>{switch(N){case"auth/expired-action-code":return"Link expirado. Solicite uma nova redefinição.";case"auth/invalid-action-code":return"Código inválido ou já utilizado.";case"auth/user-disabled":return"Esta conta está desativada.";case"auth/user-not-found":return"Usuário não encontrado.";case"auth/weak-password":return"Senha muito fraca (mínimo 6 caracteres).";default:return"Ocorreu um erro. Tente novamente."}};_.useEffect(()=>{const D=new URLSearchParams(e.search).get("oobCode");if(!D){w("Link inválido. Utilize o link recebido por e-mail."),f(!1),n("/forgot-password",{state:{error:"invalid_link"}});return}f(!0),S8(Er,D).then(j=>{$(D),re(j),xt.success(`Redefinindo senha para: ${j}`),f(!1)}).catch(j=>{console.error("Erro na verificação:",j);const L=O(j.code);w(L),xt.error(L),f(!1),n("/forgot-password",{state:{error:j.code}})})},[e.search,n]);const R=async N=>{if(!B){xt.error("Código de redefinição inválido.");return}y(!0),w("");try{await w8(Er,B,N.password),xt.success("Senha alterada com sucesso!"),C(!0),setTimeout(()=>{n("/login",{replace:!0,state:{email:P,passwordReset:!0}})},3e3)}catch(D){console.error("Erro na redefinição:",D);const j=O(D.code);w(j),xt.error(j)}finally{y(!1)}};return u?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:g.jsxs("div",{className:"text-center",children:[g.jsx(Xi,{className:"h-12 w-12 mx-auto animate-spin text-ollo-deep"}),g.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Verificando o link de redefinição..."})]})}):T?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:g.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white dark:bg-gray-800 rounded-lg shadow-md text-center",children:[g.jsx(Np,{className:"w-16 h-16 mx-auto text-green-500"}),g.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Senha Redefinida!"}),g.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Sua senha foi alterada com sucesso para a conta"," ",g.jsx("strong",{children:P}),"."]}),g.jsx("div",{className:"pt-4",children:g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Você será redirecionado automaticamente..."})})]})}):g.jsxs(g.Fragment,{children:[g.jsx(Zs,{position:"top-center"}),g.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-gray-100 dark:bg-gray-900",children:g.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg",children:[g.jsxs("div",{className:"text-center mb-6",children:[g.jsx("img",{src:"/images/logo_ollo.jpeg",alt:"Logo OLLO",className:"h-16 mx-auto rounded-full"}),g.jsx("h2",{className:"text-2xl font-bold mt-4 text-gray-900 dark:text-white",children:"Redefinir Senha"}),g.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:["Para: ",g.jsx("span",{className:"font-medium",children:P})]})]}),b&&g.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-md",children:g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:b})}),g.jsxs("form",{onSubmit:a(R),className:"space-y-5",children:[g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nova Senha"}),g.jsx("input",{id:"password",type:F?"text":"password",...t("password",{required:"A nova senha é obrigatória",minLength:{value:6,message:"A senha deve ter no mínimo 6 caracteres"}}),placeholder:"••••••••",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none bg-white/70 dark:bg-gray-700 text-black dark:text-white pr-10",autoComplete:"new-password"}),g.jsx("button",{type:"button",onClick:()=>G(!F),className:"absolute top-9 right-3 text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-200","aria-label":F?"Ocultar senha":"Mostrar senha",children:F?g.jsx(eu,{className:"h-5 w-5"}):g.jsx(tu,{className:"h-5 w-5"})}),l.password&&g.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.password.message})]}),g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirmar Nova Senha"}),g.jsx("input",{id:"confirmPassword",type:X?"text":"password",...t("confirmPassword",{required:"Confirme sua nova senha",validate:N=>N===pe||"As senhas não coincidem"}),placeholder:"••••••••",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none bg-white/70 dark:bg-gray-700 text-black dark:text-white pr-10",autoComplete:"new-password"}),g.jsx("button",{type:"button",onClick:()=>ne(!X),className:"absolute top-9 right-3 text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-200","aria-label":X?"Ocultar senha":"Mostrar senha",children:X?g.jsx(eu,{className:"h-5 w-5"}):g.jsx(tu,{className:"h-5 w-5"})}),l.confirmPassword&&g.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.confirmPassword.message})]}),g.jsx("button",{type:"submit",disabled:p||!B,className:"w-full bg-ollo-deep text-white py-3 rounded-md font-semibold hover:bg-opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center",children:p?g.jsxs(g.Fragment,{children:[g.jsx(Xi,{className:"animate-spin h-5 w-5 mr-2"}),"Salvando..."]}):"Salvar Nova Senha"})]}),g.jsx("div",{className:"mt-4 text-center",children:g.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Lembrou sua senha?"," ",g.jsx(Ln,{to:"/login",className:"font-medium text-ollo-deep hover:text-opacity-80",children:"Faça login"})]})})]})})]})},iO=()=>{const n=Rn(),[e]=Q6();_.useEffect(()=>{const a=e.get("mode"),o=e.get("oobCode");if(!o){n("/login");return}switch(a){case"verifyEmail":t(o);break;case"resetPassword":n(`/reset-password?oobCode=${o}`);break;default:n("/login")}},[e,n]);const t=async a=>{try{await T8(Er,a),xt.success("E-mail verificado com sucesso! Você já pode fazer o login.",{duration:5e3}),n("/login")}catch{xt.error("Link de verificação inválido ou expirado. Tente fazer login para reenviar."),n("/login")}};return g.jsxs(g.Fragment,{children:[g.jsx(Zs,{}),g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:g.jsxs("div",{className:"text-center p-6 bg-white rounded shadow-md",children:[g.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Processando..."}),g.jsx("p",{children:"Por favor, aguarde enquanto processamos sua solicitação."})]})})]})};function sO({allPosts:n,onCommentSubmit:e}){const[t,a]=_.useState("recentes"),[o,l]=_.useState("recentes"),[u,f]=_.useState([]),p=w=>{a(w)},y=w=>{l(w.target.value)};_.useEffect(()=>{if(!n){f([]);return}let w=[...n];t==="seguindo"?w=w.filter(T=>T.userName==="Usuário OLLO"):t==="populares"&&w.sort((T,C)=>(C.likeCount||0)-(T.likeCount||0)),o==="recentes"?w.sort((T,C)=>C.id-T.id):o==="antigos"?w.sort((T,C)=>T.id-C.id):o==="curtidos"&&w.sort((T,C)=>(C.likeCount||0)-(T.likeCount||0)),f(w)},[n,t,o]);const b=w=>{const T=t===w,C="px-3 py-1.5 text-xs font-medium rounded-full transition-colors duration-150 ease-in-out";return T?`${C} bg-ollo-deep dark:bg-ollo-accent-light text-white dark:text-ollo-deep border border-transparent shadow-md`:`${C} bg-white/70 dark:bg-gray-700/50 text-gray-500 dark:text-gray-300 border border-gray-300/70 dark:border-gray-600/70 hover:bg-gray-200/70 dark:hover:bg-gray-600/80 hover:text-ollo-deep dark:hover:text-gray-100 hover:border-gray-400/70 dark:hover:border-gray-500/70`};return g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold mb-6 sm:mb-8 text-center text-ollo-deep dark:text-ollo-accent-light",children:"Explorar OLLO"}),g.jsxs("div",{className:"mb-8 flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0 sm:gap-6",children:[g.jsxs("div",{className:"flex flex-col items-start space-y-2 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-3",children:[g.jsx("label",{className:"text-sm font-medium whitespace-nowrap text-gray-600 dark:text-gray-300",children:"Filtrar por:"}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("button",{onClick:()=>p("recentes"),className:b("recentes"),children:"Recentes"}),g.jsx("button",{onClick:()=>p("populares"),className:b("populares"),children:"Populares"}),g.jsx("button",{onClick:()=>p("seguindo"),className:b("seguindo"),children:"Seguindo"})]})]}),g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("label",{htmlFor:"sort-order",className:"text-sm font-medium whitespace-nowrap text-gray-600 dark:text-gray-300",children:"Ordenar por:"}),g.jsxs("select",{id:"sort-order",value:o,onChange:y,className:`text-xs rounded-md py-1.5 px-2.5 focus:ring-1 appearance-none custom-select-arrow\r
                                   bg-white dark:bg-gray-800 \r
                                   border border-gray-300 dark:border-gray-600 \r
                                   text-gray-700 dark:text-gray-200 \r
                                   focus:ring-ollo-deep dark:focus:ring-ollo-accent-light \r
                                   focus:border-ollo-deep dark:focus:border-ollo-accent-light`,children:[g.jsx("option",{value:"recentes",children:"Mais Recentes"}),g.jsx("option",{value:"antigos",children:"Mais Antigos"}),g.jsx("option",{value:"curtidos",children:"Mais Curtidos"})]})]})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:u.length>0?u.map(w=>g.jsx(tT,{postData:w,onCommentSubmit:e,variant:"explore"},w.id)):g.jsxs("div",{className:`sm:col-span-full rounded-xl p-8 sm:p-12 text-center \r
                                  bg-white/80 dark:bg-ollo-slate/70\r
                                  backdrop-blur-sm shadow-lg \r
                                  border border-gray-200/80 dark:border-gray-700/50`,children:[g.jsx("p",{className:"text-base sm:text-lg text-gray-700 dark:text-gray-300",children:"Oops! Parece que não há posts para explorar com os filtros atuais."}),g.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-2",children:t!=="recentes"||o!=="recentes"?"Tente outros filtros ou opções de ordenação!":"Por que não criar o primeiro post?"})]})})]})}function oO(){const[n,e]=_.useState(()=>localStorage.getItem("darkMode")==="true"),[t,a]=_.useState({}),[o,l]=_.useState(!1),{currentUser:u,loading:f}=ia();_.useEffect(()=>{localStorage.setItem("darkMode",n),document.documentElement.classList.toggle("dark",n)},[n]);const p=()=>e(!n),y=()=>l(!0),b=()=>l(!1),w=()=>{xt.success("🎉 Post publicado com sucesso no OLLO!"),b()},T=n?"bg-gray-900 text-gray-100":"bg-gray-50 text-gray-900";return g.jsxs("div",{className:`min-h-screen flex flex-col font-sans transition-colors duration-300 ${T}`,children:[g.jsx(Zs,{position:"top-center",toastOptions:{duration:4e3,style:{background:n?"#1f2937":"#ffffff",color:n?"#f3f4f6":"#111827",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",borderRadius:"1rem",fontSize:"1rem"}}}),f&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white dark:bg-gray-950",children:g.jsx(c7,{})}),g.jsxs(L6,{children:[g.jsx($t,{path:"/login",element:g.jsx(w7,{})}),g.jsx($t,{path:"/register",element:g.jsx(Z7,{})}),g.jsx($t,{path:"/forgot-password",element:g.jsx(G7,{})}),g.jsx($t,{path:"/verify-email",element:g.jsx(rO,{})}),g.jsx($t,{path:"/reset-password",element:g.jsx(aO,{})}),g.jsx($t,{path:"/actions",element:g.jsx(iO,{})}),g.jsxs($t,{element:g.jsx(X_,{openCreatePostModal:y,toggleTheme:p,darkMode:n}),children:[g.jsx($t,{path:"/",element:g.jsx(m7,{onTriggerCreatePost:y,onCommentSubmit:()=>{},onDeletePost:()=>{}})}),g.jsx($t,{path:"/terms",element:g.jsx(E7,{})}),g.jsx($t,{path:"/posts/:postId",element:g.jsx(x7,{})})]}),g.jsx($t,{element:g.jsx(vI,{}),children:g.jsxs($t,{element:g.jsx(X_,{openCreatePostModal:y,toggleTheme:p,darkMode:n}),children:[g.jsx($t,{path:"/explore",element:g.jsx(sO,{})}),g.jsx($t,{path:"/marketplace",element:g.jsx(Y7,{})}),g.jsx($t,{path:"/marketplace/detalhes/:listingId",element:g.jsx(nO,{})}),g.jsx($t,{path:"/marketplace/criar",element:g.jsx(tO,{})}),g.jsx($t,{path:"/notifications",element:g.jsx(b7,{})}),g.jsx($t,{path:"/profile/:profileId?",element:g.jsx(v7,{sessionFollowStatus:t,setSessionFollowStatus:a},"profile-page-private")})]})})]}),g.jsx(_I,{darkMode:n}),o&&g.jsx(eT,{onClose:b,onAddPost:w,darkMode:n,currentUser:u})]})}$4.createRoot(document.getElementById("root")).render(g.jsx(Zn.StrictMode,{children:g.jsx($6,{children:g.jsx(kC,{children:g.jsx(oO,{})})})}));
