function pT(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Vb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Im={exports:{}},dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C2;function yT(){if(C2)return dl;C2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return dl.Fragment=e,dl.jsx=n,dl.jsxs=n,dl}var R2;function vT(){return R2||(R2=1,Im.exports=yT()),Im.exports}var g=vT(),Lm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O2;function xT(){if(O2)return Ce;O2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.iterator;function E(S){return S===null||typeof S!="object"?null:(S=b&&S[b]||S["@@iterator"],typeof S=="function"?S:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,V={};function R(S,z,J){this.props=S,this.context=z,this.refs=V,this.updater=J||N}R.prototype.isReactComponent={},R.prototype.setState=function(S,z){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,z,"setState")},R.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function K(){}K.prototype=R.prototype;function U(S,z,J){this.props=S,this.context=z,this.refs=V,this.updater=J||N}var $=U.prototype=new K;$.constructor=U,I($,R.prototype),$.isPureReactComponent=!0;var G=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},ve=Object.prototype.hasOwnProperty;function Ae(S,z,J,W,ie,ke){return J=ke.ref,{$$typeof:t,type:S,key:z,ref:J!==void 0?J:null,props:ke}}function Re(S,z){return Ae(S.type,z,void 0,void 0,void 0,S.props)}function Ee(S){return typeof S=="object"&&S!==null&&S.$$typeof===t}function $e(S){var z={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(J){return z[J]})}var Ie=/\/+/g;function ue(S,z){return typeof S=="object"&&S!==null&&S.key!=null?$e(""+S.key):z.toString(36)}function Oe(){}function Ve(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(Oe,Oe):(S.status="pending",S.then(function(z){S.status==="pending"&&(S.status="fulfilled",S.value=z)},function(z){S.status==="pending"&&(S.status="rejected",S.reason=z)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function je(S,z,J,W,ie){var ke=typeof S;(ke==="undefined"||ke==="boolean")&&(S=null);var xe=!1;if(S===null)xe=!0;else switch(ke){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(S.$$typeof){case t:case e:xe=!0;break;case x:return xe=S._init,je(xe(S._payload),z,J,W,ie)}}if(xe)return ie=ie(S),xe=W===""?"."+ue(S,0):W,G(ie)?(J="",xe!=null&&(J=xe.replace(Ie,"$&/")+"/"),je(ie,z,J,"",function(mn){return mn})):ie!=null&&(Ee(ie)&&(ie=Re(ie,J+(ie.key==null||S&&S.key===ie.key?"":(""+ie.key).replace(Ie,"$&/")+"/")+xe)),z.push(ie)),1;xe=0;var Ct=W===""?".":W+":";if(G(S))for(var Ge=0;Ge<S.length;Ge++)W=S[Ge],ke=Ct+ue(W,Ge),xe+=je(W,z,J,ke,ie);else if(Ge=E(S),typeof Ge=="function")for(S=Ge.call(S),Ge=0;!(W=S.next()).done;)W=W.value,ke=Ct+ue(W,Ge++),xe+=je(W,z,J,ke,ie);else if(ke==="object"){if(typeof S.then=="function")return je(Ve(S),z,J,W,ie);throw z=String(S),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return xe}function L(S,z,J){if(S==null)return S;var W=[],ie=0;return je(S,W,"","",function(ke){return z.call(J,ke,ie++)}),W}function Q(S){if(S._status===-1){var z=S._result;z=z(),z.then(function(J){(S._status===0||S._status===-1)&&(S._status=1,S._result=J)},function(J){(S._status===0||S._status===-1)&&(S._status=2,S._result=J)}),S._status===-1&&(S._status=0,S._result=z)}if(S._status===1)return S._result.default;throw S._result}var ne=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function de(){}return Ce.Children={map:L,forEach:function(S,z,J){L(S,function(){z.apply(this,arguments)},J)},count:function(S){var z=0;return L(S,function(){z++}),z},toArray:function(S){return L(S,function(z){return z})||[]},only:function(S){if(!Ee(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},Ce.Component=R,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=U,Ce.StrictMode=s,Ce.Suspense=m,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(S){return Z.H.useMemoCache(S)}},Ce.cache=function(S){return function(){return S.apply(null,arguments)}},Ce.cloneElement=function(S,z,J){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var W=I({},S.props),ie=S.key,ke=void 0;if(z!=null)for(xe in z.ref!==void 0&&(ke=void 0),z.key!==void 0&&(ie=""+z.key),z)!ve.call(z,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&z.ref===void 0||(W[xe]=z[xe]);var xe=arguments.length-2;if(xe===1)W.children=J;else if(1<xe){for(var Ct=Array(xe),Ge=0;Ge<xe;Ge++)Ct[Ge]=arguments[Ge+2];W.children=Ct}return Ae(S.type,ie,void 0,void 0,ke,W)},Ce.createContext=function(S){return S={$$typeof:u,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:l,_context:S},S},Ce.createElement=function(S,z,J){var W,ie={},ke=null;if(z!=null)for(W in z.key!==void 0&&(ke=""+z.key),z)ve.call(z,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ie[W]=z[W]);var xe=arguments.length-2;if(xe===1)ie.children=J;else if(1<xe){for(var Ct=Array(xe),Ge=0;Ge<xe;Ge++)Ct[Ge]=arguments[Ge+2];ie.children=Ct}if(S&&S.defaultProps)for(W in xe=S.defaultProps,xe)ie[W]===void 0&&(ie[W]=xe[W]);return Ae(S,ke,void 0,void 0,null,ie)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(S){return{$$typeof:f,render:S}},Ce.isValidElement=Ee,Ce.lazy=function(S){return{$$typeof:x,_payload:{_status:-1,_result:S},_init:Q}},Ce.memo=function(S,z){return{$$typeof:p,type:S,compare:z===void 0?null:z}},Ce.startTransition=function(S){var z=Z.T,J={};Z.T=J;try{var W=S(),ie=Z.S;ie!==null&&ie(J,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(de,ne)}catch(ke){ne(ke)}finally{Z.T=z}},Ce.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ce.use=function(S){return Z.H.use(S)},Ce.useActionState=function(S,z,J){return Z.H.useActionState(S,z,J)},Ce.useCallback=function(S,z){return Z.H.useCallback(S,z)},Ce.useContext=function(S){return Z.H.useContext(S)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(S,z){return Z.H.useDeferredValue(S,z)},Ce.useEffect=function(S,z,J){var W=Z.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(S,z)},Ce.useId=function(){return Z.H.useId()},Ce.useImperativeHandle=function(S,z,J){return Z.H.useImperativeHandle(S,z,J)},Ce.useInsertionEffect=function(S,z){return Z.H.useInsertionEffect(S,z)},Ce.useLayoutEffect=function(S,z){return Z.H.useLayoutEffect(S,z)},Ce.useMemo=function(S,z){return Z.H.useMemo(S,z)},Ce.useOptimistic=function(S,z){return Z.H.useOptimistic(S,z)},Ce.useReducer=function(S,z,J){return Z.H.useReducer(S,z,J)},Ce.useRef=function(S){return Z.H.useRef(S)},Ce.useState=function(S){return Z.H.useState(S)},Ce.useSyncExternalStore=function(S,z,J){return Z.H.useSyncExternalStore(S,z,J)},Ce.useTransition=function(){return Z.H.useTransition()},Ce.version="19.1.0",Ce}var D2;function s0(){return D2||(D2=1,Lm.exports=xT()),Lm.exports}var y=s0();const On=Vb(y),bT=pT({__proto__:null,default:On},[y]);var Um={exports:{}},hl={},Vm={exports:{}},Bm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j2;function wT(){return j2||(j2=1,function(t){function e(L,Q){var ne=L.length;L.push(Q);e:for(;0<ne;){var de=ne-1>>>1,S=L[de];if(0<a(S,Q))L[de]=Q,L[ne]=S,ne=de;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var Q=L[0],ne=L.pop();if(ne!==Q){L[0]=ne;e:for(var de=0,S=L.length,z=S>>>1;de<z;){var J=2*(de+1)-1,W=L[J],ie=J+1,ke=L[ie];if(0>a(W,ne))ie<S&&0>a(ke,W)?(L[de]=ke,L[ie]=ne,de=ie):(L[de]=W,L[J]=ne,de=J);else if(ie<S&&0>a(ke,ne))L[de]=ke,L[ie]=ne,de=ie;else break e}}return Q}function a(L,Q){var ne=L.sortIndex-Q.sortIndex;return ne!==0?ne:L.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var m=[],p=[],x=1,b=null,E=3,N=!1,I=!1,V=!1,R=!1,K=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function G(L){for(var Q=n(p);Q!==null;){if(Q.callback===null)s(p);else if(Q.startTime<=L)s(p),Q.sortIndex=Q.expirationTime,e(m,Q);else break;Q=n(p)}}function Z(L){if(V=!1,G(L),!I)if(n(m)!==null)I=!0,ve||(ve=!0,ue());else{var Q=n(p);Q!==null&&je(Z,Q.startTime-L)}}var ve=!1,Ae=-1,Re=5,Ee=-1;function $e(){return R?!0:!(t.unstable_now()-Ee<Re)}function Ie(){if(R=!1,ve){var L=t.unstable_now();Ee=L;var Q=!0;try{e:{I=!1,V&&(V=!1,U(Ae),Ae=-1),N=!0;var ne=E;try{t:{for(G(L),b=n(m);b!==null&&!(b.expirationTime>L&&$e());){var de=b.callback;if(typeof de=="function"){b.callback=null,E=b.priorityLevel;var S=de(b.expirationTime<=L);if(L=t.unstable_now(),typeof S=="function"){b.callback=S,G(L),Q=!0;break t}b===n(m)&&s(m),G(L)}else s(m);b=n(m)}if(b!==null)Q=!0;else{var z=n(p);z!==null&&je(Z,z.startTime-L),Q=!1}}break e}finally{b=null,E=ne,N=!1}Q=void 0}}finally{Q?ue():ve=!1}}}var ue;if(typeof $=="function")ue=function(){$(Ie)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,Ve=Oe.port2;Oe.port1.onmessage=Ie,ue=function(){Ve.postMessage(null)}}else ue=function(){K(Ie,0)};function je(L,Q){Ae=K(function(){L(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Re=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(L){switch(E){case 1:case 2:case 3:var Q=3;break;default:Q=E}var ne=E;E=Q;try{return L()}finally{E=ne}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(L,Q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ne=E;E=L;try{return Q()}finally{E=ne}},t.unstable_scheduleCallback=function(L,Q,ne){var de=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?de+ne:de):ne=de,L){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=ne+S,L={id:x++,callback:Q,priorityLevel:L,startTime:ne,expirationTime:S,sortIndex:-1},ne>de?(L.sortIndex=ne,e(p,L),n(m)===null&&L===n(p)&&(V?(U(Ae),Ae=-1):V=!0,je(Z,ne-de))):(L.sortIndex=S,e(m,L),I||N||(I=!0,ve||(ve=!0,ue()))),L},t.unstable_shouldYield=$e,t.unstable_wrapCallback=function(L){var Q=E;return function(){var ne=E;E=Q;try{return L.apply(this,arguments)}finally{E=ne}}}}(Bm)),Bm}var M2;function ET(){return M2||(M2=1,Vm.exports=wT()),Vm.exports}var Pm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I2;function _T(){if(I2)return Xt;I2=1;var t=s0();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:p,implementation:x}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(m,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,x)},Xt.flushSync=function(m){var p=u.T,x=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=p,s.p=x,s.d.f()}},Xt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},Xt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Xt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var x=p.as,b=f(x,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:N}):x==="script"&&s.d.X(m,{crossOrigin:b,integrity:E,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},Xt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,b=f(x,p.crossOrigin);s.d.L(m,x,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xt.preloadModule=function(m,p){if(typeof m=="string")if(p){var x=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},Xt.requestFormReset=function(m){s.d.r(m)},Xt.unstable_batchedUpdates=function(m,p){return m(p)},Xt.useFormState=function(m,p,x){return u.H.useFormState(m,p,x)},Xt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Xt.version="19.1.0",Xt}var L2;function Bb(){if(L2)return Pm.exports;L2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pm.exports=_T(),Pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U2;function ST(){if(U2)return hl;U2=1;var t=ET(),e=s0(),n=Bb();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(s(188))}function m(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,c=i;;){var d=o.return;if(d===null)break;var h=d.alternate;if(h===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===o)return f(d),r;if(h===c)return f(d),i;h=h.sibling}throw Error(s(188))}if(o.return!==c.return)o=d,c=h;else{for(var v=!1,w=d.child;w;){if(w===o){v=!0,o=d,c=h;break}if(w===c){v=!0,c=d,o=h;break}w=w.sibling}if(!v){for(w=h.child;w;){if(w===o){v=!0,o=h,c=d;break}if(w===c){v=!0,c=h,o=d;break}w=w.sibling}if(!v)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function p(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=p(r),i!==null)return i;r=r.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),$=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Ee=Symbol.for("react.activity"),$e=Symbol.for("react.memo_cache_sentinel"),Ie=Symbol.iterator;function ue(r){return r===null||typeof r!="object"?null:(r=Ie&&r[Ie]||r["@@iterator"],typeof r=="function"?r:null)}var Oe=Symbol.for("react.client.reference");function Ve(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Oe?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case I:return"Fragment";case R:return"Profiler";case V:return"StrictMode";case Z:return"Suspense";case ve:return"SuspenseList";case Ee:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case N:return"Portal";case $:return(r.displayName||"Context")+".Provider";case U:return(r._context.displayName||"Context")+".Consumer";case G:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ae:return i=r.displayName||null,i!==null?i:Ve(r.type)||"Memo";case Re:i=r._payload,r=r._init;try{return Ve(r(i))}catch{}}return null}var je=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},de=[],S=-1;function z(r){return{current:r}}function J(r){0>S||(r.current=de[S],de[S]=null,S--)}function W(r,i){S++,de[S]=r.current,r.current=i}var ie=z(null),ke=z(null),xe=z(null),Ct=z(null);function Ge(r,i){switch(W(xe,i),W(ke,r),W(ie,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?r2(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=r2(i),r=s2(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}J(ie),W(ie,r)}function mn(){J(ie),J(ke),J(xe)}function rr(r){r.memoizedState!==null&&W(Ct,r);var i=ie.current,o=s2(i,r.type);i!==o&&(W(ke,r),W(ie,o))}function sr(r){ke.current===r&&(J(ie),J(ke)),Ct.current===r&&(J(Ct),al._currentValue=ne)}var he=Object.prototype.hasOwnProperty,lt=t.unstable_scheduleCallback,ft=t.unstable_cancelCallback,_n=t.unstable_shouldYield,mo=t.unstable_requestPaint,In=t.unstable_now,Bp=t.unstable_getCurrentPriorityLevel,go=t.unstable_ImmediatePriority,T=t.unstable_UserBlockingPriority,D=t.unstable_NormalPriority,P=t.unstable_LowPriority,re=t.unstable_IdlePriority,ee=t.log,X=t.unstable_setDisableYieldValue,le=null,Te=null;function Pe(r){if(typeof ee=="function"&&X(r),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(le,r)}catch{}}var nt=Math.clz32?Math.clz32:Eh,$i=Math.log,ir=Math.LN2;function Eh(r){return r>>>=0,r===0?32:31-($i(r)/ir|0)|0}var os=256,ls=4194304;function Nr(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ni(r,i,o){var c=r.pendingLanes;if(c===0)return 0;var d=0,h=r.suspendedLanes,v=r.pingedLanes;r=r.warmLanes;var w=c&134217727;return w!==0?(c=w&~h,c!==0?d=Nr(c):(v&=w,v!==0?d=Nr(v):o||(o=w&~r,o!==0&&(d=Nr(o))))):(w=c&~h,w!==0?d=Nr(w):v!==0?d=Nr(v):o||(o=c&~r,o!==0&&(d=Nr(o)))),d===0?0:i!==0&&i!==d&&(i&h)===0&&(h=d&-d,o=i&-i,h>=o||h===32&&(o&4194048)!==0)?i:d}function ri(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Nc(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pp(){var r=os;return os<<=1,(os&4194048)===0&&(os=256),r}function zp(){var r=ls;return ls<<=1,(ls&62914560)===0&&(ls=4194304),r}function _h(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function po(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function s_(r,i,o,c,d,h){var v=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var w=r.entanglements,_=r.expirationTimes,O=r.hiddenUpdates;for(o=v&~o;0<o;){var B=31-nt(o),F=1<<B;w[B]=0,_[B]=-1;var j=O[B];if(j!==null)for(O[B]=null,B=0;B<j.length;B++){var M=j[B];M!==null&&(M.lane&=-536870913)}o&=~F}c!==0&&Hp(r,c,0),h!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=h&~(v&~i))}function Hp(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var c=31-nt(i);r.entangledLanes|=i,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function Fp(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var c=31-nt(o),d=1<<c;d&i|r[c]&i&&(r[c]|=i),o&=~d}}function Sh(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Th(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function qp(){var r=Q.p;return r!==0?r:(r=window.event,r===void 0?32:_2(r.type))}function i_(r,i){var o=Q.p;try{return Q.p=r,i()}finally{Q.p=o}}var cs=Math.random().toString(36).slice(2),Qt="__reactFiber$"+cs,gn="__reactProps$"+cs,Gi="__reactContainer$"+cs,Nh="__reactEvents$"+cs,a_="__reactListeners$"+cs,o_="__reactHandles$"+cs,$p="__reactResources$"+cs,yo="__reactMarker$"+cs;function Ah(r){delete r[Qt],delete r[gn],delete r[Nh],delete r[a_],delete r[o_]}function Ki(r){var i=r[Qt];if(i)return i;for(var o=r.parentNode;o;){if(i=o[Gi]||o[Qt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=l2(r);r!==null;){if(o=r[Qt])return o;r=l2(r)}return i}r=o,o=r.parentNode}return null}function Yi(r){if(r=r[Qt]||r[Gi]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function vo(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function Qi(r){var i=r[$p];return i||(i=r[$p]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function It(r){r[yo]=!0}var Gp=new Set,Kp={};function si(r,i){Zi(r,i),Zi(r+"Capture",i)}function Zi(r,i){for(Kp[r]=i,r=0;r<i.length;r++)Gp.add(i[r])}var l_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yp={},Qp={};function c_(r){return he.call(Qp,r)?!0:he.call(Yp,r)?!1:l_.test(r)?Qp[r]=!0:(Yp[r]=!0,!1)}function Ac(r,i,o){if(c_(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function kc(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function Ar(r,i,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+c)}}var kh,Zp;function Xi(r){if(kh===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);kh=i&&i[1]||"",Zp=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kh+r+Zp}var Ch=!1;function Rh(r,i){if(!r||Ch)return"";Ch=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(M){var j=M}Reflect.construct(r,[],F)}else{try{F.call()}catch(M){j=M}r.call(F.prototype)}}else{try{throw Error()}catch(M){j=M}(F=r())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(M){if(M&&j&&typeof M.stack=="string")return[M.stack,j.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=c.DetermineComponentFrameRoot(),v=h[0],w=h[1];if(v&&w){var _=v.split(`
`),O=w.split(`
`);for(d=c=0;c<_.length&&!_[c].includes("DetermineComponentFrameRoot");)c++;for(;d<O.length&&!O[d].includes("DetermineComponentFrameRoot");)d++;if(c===_.length||d===O.length)for(c=_.length-1,d=O.length-1;1<=c&&0<=d&&_[c]!==O[d];)d--;for(;1<=c&&0<=d;c--,d--)if(_[c]!==O[d]){if(c!==1||d!==1)do if(c--,d--,0>d||_[c]!==O[d]){var B=`
`+_[c].replace(" at new "," at ");return r.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",r.displayName)),B}while(1<=c&&0<=d);break}}}finally{Ch=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Xi(o):""}function u_(r){switch(r.tag){case 26:case 27:case 5:return Xi(r.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 15:return Rh(r.type,!1);case 11:return Rh(r.type.render,!1);case 1:return Rh(r.type,!0);case 31:return Xi("Activity");default:return""}}function Xp(r){try{var i="";do i+=u_(r),r=r.return;while(r);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Ln(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Wp(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function d_(r){var i=Wp(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,h=o.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,h.call(this,v)}}),Object.defineProperty(r,i,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Cc(r){r._valueTracker||(r._valueTracker=d_(r))}function Jp(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return r&&(c=Wp(r)?r.checked?"true":"false":r.value),r=c,r!==o?(i.setValue(r),!0):!1}function Rc(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var h_=/[\n"\\]/g;function Un(r){return r.replace(h_,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Oh(r,i,o,c,d,h,v,w){r.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?r.type=v:r.removeAttribute("type"),i!=null?v==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Ln(i)):r.value!==""+Ln(i)&&(r.value=""+Ln(i)):v!=="submit"&&v!=="reset"||r.removeAttribute("value"),i!=null?Dh(r,v,Ln(i)):o!=null?Dh(r,v,Ln(o)):c!=null&&r.removeAttribute("value"),d==null&&h!=null&&(r.defaultChecked=!!h),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.name=""+Ln(w):r.removeAttribute("name")}function ey(r,i,o,c,d,h,v,w){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(r.type=h),i!=null||o!=null){if(!(h!=="submit"&&h!=="reset"||i!=null))return;o=o!=null?""+Ln(o):"",i=i!=null?""+Ln(i):o,w||i===r.value||(r.value=i),r.defaultValue=i}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=w?r.checked:!!c,r.defaultChecked=!!c,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.name=v)}function Dh(r,i,o){i==="number"&&Rc(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Wi(r,i,o,c){if(r=r.options,i){i={};for(var d=0;d<o.length;d++)i["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=i.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&c&&(r[o].defaultSelected=!0)}else{for(o=""+Ln(o),i=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}i!==null||r[d].disabled||(i=r[d])}i!==null&&(i.selected=!0)}}function ty(r,i,o){if(i!=null&&(i=""+Ln(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+Ln(o):""}function ny(r,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(s(92));if(je(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=Ln(i),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function Ji(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var f_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ry(r,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":c?r.setProperty(i,o):typeof o!="number"||o===0||f_.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function sy(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var d in i)c=i[d],i.hasOwnProperty(d)&&o[d]!==c&&ry(r,d,c)}else for(var h in i)i.hasOwnProperty(h)&&ry(r,h,i[h])}function jh(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),g_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oc(r){return g_.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Mh=null;function Ih(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ea=null,ta=null;function iy(r){var i=Yi(r);if(i&&(r=i.stateNode)){var o=r[gn]||null;e:switch(r=i.stateNode,i.type){case"input":if(Oh(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Un(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==r&&c.form===r.form){var d=c[gn]||null;if(!d)throw Error(s(90));Oh(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===r.form&&Jp(c)}break e;case"textarea":ty(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Wi(r,!!o.multiple,i,!1)}}}var Lh=!1;function ay(r,i,o){if(Lh)return r(i,o);Lh=!0;try{var c=r(i);return c}finally{if(Lh=!1,(ea!==null||ta!==null)&&(pu(),ea&&(i=ea,r=ta,ta=ea=null,iy(i),r)))for(i=0;i<r.length;i++)iy(r[i])}}function xo(r,i){var o=r.stateNode;if(o===null)return null;var c=o[gn]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uh=!1;if(kr)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){Uh=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{Uh=!1}var us=null,Vh=null,Dc=null;function oy(){if(Dc)return Dc;var r,i=Vh,o=i.length,c,d="value"in us?us.value:us.textContent,h=d.length;for(r=0;r<o&&i[r]===d[r];r++);var v=o-r;for(c=1;c<=v&&i[o-c]===d[h-c];c++);return Dc=d.slice(r,1<c?1-c:void 0)}function jc(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Mc(){return!0}function ly(){return!1}function pn(r){function i(o,c,d,h,v){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(o=r[w],this[w]=o?o(h):h[w]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Mc:ly,this.isPropagationStopped=ly,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Mc)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Mc)},persist:function(){},isPersistent:Mc}),i}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ic=pn(ii),wo=x({},ii,{view:0,detail:0}),p_=pn(wo),Bh,Ph,Eo,Lc=x({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hh,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Eo&&(Eo&&r.type==="mousemove"?(Bh=r.screenX-Eo.screenX,Ph=r.screenY-Eo.screenY):Ph=Bh=0,Eo=r),Bh)},movementY:function(r){return"movementY"in r?r.movementY:Ph}}),cy=pn(Lc),y_=x({},Lc,{dataTransfer:0}),v_=pn(y_),x_=x({},wo,{relatedTarget:0}),zh=pn(x_),b_=x({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),w_=pn(b_),E_=x({},ii,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),__=pn(E_),S_=x({},ii,{data:0}),uy=pn(S_),T_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k_(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=A_[r])?!!i[r]:!1}function Hh(){return k_}var C_=x({},wo,{key:function(r){if(r.key){var i=T_[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=jc(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?N_[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hh,charCode:function(r){return r.type==="keypress"?jc(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?jc(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),R_=pn(C_),O_=x({},Lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dy=pn(O_),D_=x({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hh}),j_=pn(D_),M_=x({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),I_=pn(M_),L_=x({},Lc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),U_=pn(L_),V_=x({},ii,{newState:0,oldState:0}),B_=pn(V_),P_=[9,13,27,32],Fh=kr&&"CompositionEvent"in window,_o=null;kr&&"documentMode"in document&&(_o=document.documentMode);var z_=kr&&"TextEvent"in window&&!_o,hy=kr&&(!Fh||_o&&8<_o&&11>=_o),fy=" ",my=!1;function gy(r,i){switch(r){case"keyup":return P_.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function py(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var na=!1;function H_(r,i){switch(r){case"compositionend":return py(i);case"keypress":return i.which!==32?null:(my=!0,fy);case"textInput":return r=i.data,r===fy&&my?null:r;default:return null}}function F_(r,i){if(na)return r==="compositionend"||!Fh&&gy(r,i)?(r=oy(),Dc=Vh=us=null,na=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return hy&&i.locale!=="ko"?null:i.data;default:return null}}var q_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yy(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!q_[r.type]:i==="textarea"}function vy(r,i,o,c){ea?ta?ta.push(c):ta=[c]:ea=c,i=Eu(i,"onChange"),0<i.length&&(o=new Ic("onChange","change",null,o,c),r.push({event:o,listeners:i}))}var So=null,To=null;function $_(r){W1(r,0)}function Uc(r){var i=vo(r);if(Jp(i))return r}function xy(r,i){if(r==="change")return i}var by=!1;if(kr){var qh;if(kr){var $h="oninput"in document;if(!$h){var wy=document.createElement("div");wy.setAttribute("oninput","return;"),$h=typeof wy.oninput=="function"}qh=$h}else qh=!1;by=qh&&(!document.documentMode||9<document.documentMode)}function Ey(){So&&(So.detachEvent("onpropertychange",_y),To=So=null)}function _y(r){if(r.propertyName==="value"&&Uc(To)){var i=[];vy(i,To,r,Ih(r)),ay($_,i)}}function G_(r,i,o){r==="focusin"?(Ey(),So=i,To=o,So.attachEvent("onpropertychange",_y)):r==="focusout"&&Ey()}function K_(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Uc(To)}function Y_(r,i){if(r==="click")return Uc(i)}function Q_(r,i){if(r==="input"||r==="change")return Uc(i)}function Z_(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Sn=typeof Object.is=="function"?Object.is:Z_;function No(r,i){if(Sn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!he.call(i,d)||!Sn(r[d],i[d]))return!1}return!0}function Sy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ty(r,i){var o=Sy(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=i&&c>=i)return{node:o,offset:i-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Sy(o)}}function Ny(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Ny(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Ay(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Rc(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=Rc(r.document)}return i}function Gh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var X_=kr&&"documentMode"in document&&11>=document.documentMode,ra=null,Kh=null,Ao=null,Yh=!1;function ky(r,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Yh||ra==null||ra!==Rc(c)||(c=ra,"selectionStart"in c&&Gh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ao&&No(Ao,c)||(Ao=c,c=Eu(Kh,"onSelect"),0<c.length&&(i=new Ic("onSelect","select",null,i,o),r.push({event:i,listeners:c}),i.target=ra)))}function ai(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var sa={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionrun:ai("Transition","TransitionRun"),transitionstart:ai("Transition","TransitionStart"),transitioncancel:ai("Transition","TransitionCancel"),transitionend:ai("Transition","TransitionEnd")},Qh={},Cy={};kr&&(Cy=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function oi(r){if(Qh[r])return Qh[r];if(!sa[r])return r;var i=sa[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in Cy)return Qh[r]=i[o];return r}var Ry=oi("animationend"),Oy=oi("animationiteration"),Dy=oi("animationstart"),W_=oi("transitionrun"),J_=oi("transitionstart"),eS=oi("transitioncancel"),jy=oi("transitionend"),My=new Map,Zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zh.push("scrollEnd");function Yn(r,i){My.set(r,i),si(i,[r])}var Iy=new WeakMap;function Vn(r,i){if(typeof r=="object"&&r!==null){var o=Iy.get(r);return o!==void 0?o:(i={value:r,source:i,stack:Xp(i)},Iy.set(r,i),i)}return{value:r,source:i,stack:Xp(i)}}var Bn=[],ia=0,Xh=0;function Vc(){for(var r=ia,i=Xh=ia=0;i<r;){var o=Bn[i];Bn[i++]=null;var c=Bn[i];Bn[i++]=null;var d=Bn[i];Bn[i++]=null;var h=Bn[i];if(Bn[i++]=null,c!==null&&d!==null){var v=c.pending;v===null?d.next=d:(d.next=v.next,v.next=d),c.pending=d}h!==0&&Ly(o,d,h)}}function Bc(r,i,o,c){Bn[ia++]=r,Bn[ia++]=i,Bn[ia++]=o,Bn[ia++]=c,Xh|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Wh(r,i,o,c){return Bc(r,i,o,c),Pc(r)}function aa(r,i){return Bc(r,null,null,i),Pc(r)}function Ly(r,i,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var d=!1,h=r.return;h!==null;)h.childLanes|=o,c=h.alternate,c!==null&&(c.childLanes|=o),h.tag===22&&(r=h.stateNode,r===null||r._visibility&1||(d=!0)),r=h,h=h.return;return r.tag===3?(h=r.stateNode,d&&i!==null&&(d=31-nt(o),r=h.hiddenUpdates,c=r[d],c===null?r[d]=[i]:c.push(i),i.lane=o|536870912),h):null}function Pc(r){if(50<Wo)throw Wo=0,im=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var oa={};function tS(r,i,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(r,i,o,c){return new tS(r,i,o,c)}function Jh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Cr(r,i){var o=r.alternate;return o===null?(o=Tn(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Uy(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function zc(r,i,o,c,d,h){var v=0;if(c=r,typeof r=="function")Jh(r)&&(v=1);else if(typeof r=="string")v=rT(r,o,ie.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case Ee:return r=Tn(31,o,i,d),r.elementType=Ee,r.lanes=h,r;case I:return li(o.children,d,h,i);case V:v=8,d|=24;break;case R:return r=Tn(12,o,i,d|2),r.elementType=R,r.lanes=h,r;case Z:return r=Tn(13,o,i,d),r.elementType=Z,r.lanes=h,r;case ve:return r=Tn(19,o,i,d),r.elementType=ve,r.lanes=h,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case K:case $:v=10;break e;case U:v=9;break e;case G:v=11;break e;case Ae:v=14;break e;case Re:v=16,c=null;break e}v=29,o=Error(s(130,r===null?"null":typeof r,"")),c=null}return i=Tn(v,o,i,d),i.elementType=r,i.type=c,i.lanes=h,i}function li(r,i,o,c){return r=Tn(7,r,c,i),r.lanes=o,r}function ef(r,i,o){return r=Tn(6,r,null,i),r.lanes=o,r}function tf(r,i,o){return i=Tn(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var la=[],ca=0,Hc=null,Fc=0,Pn=[],zn=0,ci=null,Rr=1,Or="";function ui(r,i){la[ca++]=Fc,la[ca++]=Hc,Hc=r,Fc=i}function Vy(r,i,o){Pn[zn++]=Rr,Pn[zn++]=Or,Pn[zn++]=ci,ci=r;var c=Rr;r=Or;var d=32-nt(c)-1;c&=~(1<<d),o+=1;var h=32-nt(i)+d;if(30<h){var v=d-d%5;h=(c&(1<<v)-1).toString(32),c>>=v,d-=v,Rr=1<<32-nt(i)+d|o<<d|c,Or=h+r}else Rr=1<<h|o<<d|c,Or=r}function nf(r){r.return!==null&&(ui(r,1),Vy(r,1,0))}function rf(r){for(;r===Hc;)Hc=la[--ca],la[ca]=null,Fc=la[--ca],la[ca]=null;for(;r===ci;)ci=Pn[--zn],Pn[zn]=null,Or=Pn[--zn],Pn[zn]=null,Rr=Pn[--zn],Pn[zn]=null}var ln=null,mt=null,Ke=!1,di=null,ar=!1,sf=Error(s(519));function hi(r){var i=Error(s(418,""));throw Ro(Vn(i,r)),sf}function By(r){var i=r.stateNode,o=r.type,c=r.memoizedProps;switch(i[Qt]=r,i[gn]=c,o){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(o=0;o<el.length;o++)Ue(el[o],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),ey(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Cc(i);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),ny(i,c.value,c.defaultValue,c.children),Cc(i)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||n2(i.textContent,o)?(c.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),c.onScroll!=null&&Ue("scroll",i),c.onScrollEnd!=null&&Ue("scrollend",i),c.onClick!=null&&(i.onclick=_u),i=!0):i=!1,i||hi(r)}function Py(r){for(ln=r.return;ln;)switch(ln.tag){case 5:case 13:ar=!1;return;case 27:case 3:ar=!0;return;default:ln=ln.return}}function ko(r){if(r!==ln)return!1;if(!Ke)return Py(r),Ke=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||wm(r.type,r.memoizedProps)),o=!o),o&&mt&&hi(r),Py(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(i===0){mt=Zn(r.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;r=r.nextSibling}mt=null}}else i===27?(i=mt,Ns(r.type)?(r=Tm,Tm=null,mt=r):mt=i):mt=ln?Zn(r.stateNode.nextSibling):null;return!0}function Co(){mt=ln=null,Ke=!1}function zy(){var r=di;return r!==null&&(xn===null?xn=r:xn.push.apply(xn,r),di=null),r}function Ro(r){di===null?di=[r]:di.push(r)}var af=z(null),fi=null,Dr=null;function ds(r,i,o){W(af,i._currentValue),i._currentValue=o}function jr(r){r._currentValue=af.current,J(af)}function of(r,i,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===o)break;r=r.return}}function lf(r,i,o,c){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var h=d.dependencies;if(h!==null){var v=d.child;h=h.firstContext;e:for(;h!==null;){var w=h;h=d;for(var _=0;_<i.length;_++)if(w.context===i[_]){h.lanes|=o,w=h.alternate,w!==null&&(w.lanes|=o),of(h.return,o,r),c||(v=null);break e}h=w.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(s(341));v.lanes|=o,h=v.alternate,h!==null&&(h.lanes|=o),of(v,o,r),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===r){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Oo(r,i,o,c){r=null;for(var d=i,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var w=d.type;Sn(d.pendingProps.value,v.value)||(r!==null?r.push(w):r=[w])}}else if(d===Ct.current){if(v=d.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(al):r=[al])}d=d.return}r!==null&&lf(i,r,o,c),i.flags|=262144}function qc(r){for(r=r.firstContext;r!==null;){if(!Sn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function mi(r){fi=r,Dr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Zt(r){return Hy(fi,r)}function $c(r,i){return fi===null&&mi(r),Hy(r,i)}function Hy(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Dr===null){if(r===null)throw Error(s(308));Dr=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Dr=Dr.next=i;return o}var nS=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},rS=t.unstable_scheduleCallback,sS=t.unstable_NormalPriority,Rt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new nS,data:new Map,refCount:0}}function Do(r){r.refCount--,r.refCount===0&&rS(sS,function(){r.controller.abort()})}var jo=null,uf=0,ua=0,da=null;function iS(r,i){if(jo===null){var o=jo=[];uf=0,ua=hm(),da={status:"pending",value:void 0,then:function(c){o.push(c)}}}return uf++,i.then(Fy,Fy),i}function Fy(){if(--uf===0&&jo!==null){da!==null&&(da.status="fulfilled");var r=jo;jo=null,ua=0,da=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function aS(r,i){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){c.status="fulfilled",c.value=i;for(var d=0;d<o.length;d++)(0,o[d])(i)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var qy=L.S;L.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&iS(r,i),qy!==null&&qy(r,i)};var gi=z(null);function df(){var r=gi.current;return r!==null?r:rt.pooledCache}function Gc(r,i){i===null?W(gi,gi.current):W(gi,i.pool)}function $y(){var r=df();return r===null?null:{parent:Rt._currentValue,pool:r}}var Mo=Error(s(460)),Gy=Error(s(474)),Kc=Error(s(542)),hf={then:function(){}};function Ky(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Yc(){}function Yy(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(Yc,Yc),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Zy(r),r;default:if(typeof i.status=="string")i.then(Yc,Yc);else{if(r=rt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(c){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=c}},function(c){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Zy(r),r}throw Io=i,Mo}}var Io=null;function Qy(){if(Io===null)throw Error(s(459));var r=Io;return Io=null,r}function Zy(r){if(r===Mo||r===Kc)throw Error(s(483))}var hs=!1;function ff(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function fs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ms(r,i,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Qe&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,i=Pc(r),Ly(r,null,o),i}return Bc(r,c,i,o),Pc(r)}function Lo(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=r.pendingLanes,o|=c,i.lanes=o,Fp(r,o)}}function gf(r,i){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var v={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};h===null?d=h=v:h=h.next=v,o=o.next}while(o!==null);h===null?d=h=i:h=h.next=i}else d=h=i;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var pf=!1;function Uo(){if(pf){var r=da;if(r!==null)throw r}}function Vo(r,i,o,c){pf=!1;var d=r.updateQueue;hs=!1;var h=d.firstBaseUpdate,v=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var _=w,O=_.next;_.next=null,v===null?h=O:v.next=O,v=_;var B=r.alternate;B!==null&&(B=B.updateQueue,w=B.lastBaseUpdate,w!==v&&(w===null?B.firstBaseUpdate=O:w.next=O,B.lastBaseUpdate=_))}if(h!==null){var F=d.baseState;v=0,B=O=_=null,w=h;do{var j=w.lane&-536870913,M=j!==w.lane;if(M?(ze&j)===j:(c&j)===j){j!==0&&j===ua&&(pf=!0),B!==null&&(B=B.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var be=r,pe=w;j=i;var et=o;switch(pe.tag){case 1:if(be=pe.payload,typeof be=="function"){F=be.call(et,F,j);break e}F=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=pe.payload,j=typeof be=="function"?be.call(et,F,j):be,j==null)break e;F=x({},F,j);break e;case 2:hs=!0}}j=w.callback,j!==null&&(r.flags|=64,M&&(r.flags|=8192),M=d.callbacks,M===null?d.callbacks=[j]:M.push(j))}else M={lane:j,tag:w.tag,payload:w.payload,callback:w.callback,next:null},B===null?(O=B=M,_=F):B=B.next=M,v|=j;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;M=w,w=M.next,M.next=null,d.lastBaseUpdate=M,d.shared.pending=null}}while(!0);B===null&&(_=F),d.baseState=_,d.firstBaseUpdate=O,d.lastBaseUpdate=B,h===null&&(d.shared.lanes=0),Es|=v,r.lanes=v,r.memoizedState=F}}function Xy(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function Wy(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Xy(o[r],i)}var ha=z(null),Qc=z(0);function Jy(r,i){r=Pr,W(Qc,r),W(ha,i),Pr=r|i.baseLanes}function yf(){W(Qc,Pr),W(ha,ha.current)}function vf(){Pr=Qc.current,J(ha),J(Qc)}var gs=0,De=null,We=null,Et=null,Zc=!1,fa=!1,pi=!1,Xc=0,Bo=0,ma=null,oS=0;function xt(){throw Error(s(321))}function xf(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!Sn(r[o],i[o]))return!1;return!0}function bf(r,i,o,c,d,h){return gs=h,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,L.H=r===null||r.memoizedState===null?Lv:Uv,pi=!1,h=o(c,d),pi=!1,fa&&(h=tv(i,o,c,d)),ev(r),h}function ev(r){L.H=ru;var i=We!==null&&We.next!==null;if(gs=0,Et=We=De=null,Zc=!1,Bo=0,ma=null,i)throw Error(s(300));r===null||Lt||(r=r.dependencies,r!==null&&qc(r)&&(Lt=!0))}function tv(r,i,o,c){De=r;var d=0;do{if(fa&&(ma=null),Bo=0,fa=!1,25<=d)throw Error(s(301));if(d+=1,Et=We=null,r.updateQueue!=null){var h=r.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}L.H=mS,h=i(o,c)}while(fa);return h}function lS(){var r=L.H,i=r.useState()[0];return i=typeof i.then=="function"?Po(i):i,r=r.useState()[0],(We!==null?We.memoizedState:null)!==r&&(De.flags|=1024),i}function wf(){var r=Xc!==0;return Xc=0,r}function Ef(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function _f(r){if(Zc){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zc=!1}gs=0,Et=We=De=null,fa=!1,Bo=Xc=0,ma=null}function yn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?De.memoizedState=Et=r:Et=Et.next=r,Et}function _t(){if(We===null){var r=De.alternate;r=r!==null?r.memoizedState:null}else r=We.next;var i=Et===null?De.memoizedState:Et.next;if(i!==null)Et=i,We=r;else{if(r===null)throw De.alternate===null?Error(s(467)):Error(s(310));We=r,r={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Et===null?De.memoizedState=Et=r:Et=Et.next=r}return Et}function Sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Po(r){var i=Bo;return Bo+=1,ma===null&&(ma=[]),r=Yy(ma,r,i),i=De,(Et===null?i.memoizedState:Et.next)===null&&(i=i.alternate,L.H=i===null||i.memoizedState===null?Lv:Uv),r}function Wc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Po(r);if(r.$$typeof===$)return Zt(r)}throw Error(s(438,String(r)))}function Tf(r){var i=null,o=De.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=De.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Sf(),De.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),c=0;c<r;c++)o[c]=$e;return i.index++,o}function Mr(r,i){return typeof i=="function"?i(r):i}function Jc(r){var i=_t();return Nf(i,We,r)}function Nf(r,i,o){var c=r.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var d=r.baseQueue,h=c.pending;if(h!==null){if(d!==null){var v=d.next;d.next=h.next,h.next=v}i.baseQueue=d=h,c.pending=null}if(h=r.baseState,d===null)r.memoizedState=h;else{i=d.next;var w=v=null,_=null,O=i,B=!1;do{var F=O.lane&-536870913;if(F!==O.lane?(ze&F)===F:(gs&F)===F){var j=O.revertLane;if(j===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),F===ua&&(B=!0);else if((gs&j)===j){O=O.next,j===ua&&(B=!0);continue}else F={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},_===null?(w=_=F,v=h):_=_.next=F,De.lanes|=j,Es|=j;F=O.action,pi&&o(h,F),h=O.hasEagerState?O.eagerState:o(h,F)}else j={lane:F,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},_===null?(w=_=j,v=h):_=_.next=j,De.lanes|=F,Es|=F;O=O.next}while(O!==null&&O!==i);if(_===null?v=h:_.next=w,!Sn(h,r.memoizedState)&&(Lt=!0,B&&(o=da,o!==null)))throw o;r.memoizedState=h,r.baseState=v,r.baseQueue=_,c.lastRenderedState=h}return d===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Af(r){var i=_t(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var c=o.dispatch,d=o.pending,h=i.memoizedState;if(d!==null){o.pending=null;var v=d=d.next;do h=r(h,v.action),v=v.next;while(v!==d);Sn(h,i.memoizedState)||(Lt=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),o.lastRenderedState=h}return[h,c]}function nv(r,i,o){var c=De,d=_t(),h=Ke;if(h){if(o===void 0)throw Error(s(407));o=o()}else o=i();var v=!Sn((We||d).memoizedState,o);v&&(d.memoizedState=o,Lt=!0),d=d.queue;var w=iv.bind(null,c,d,r);if(zo(2048,8,w,[r]),d.getSnapshot!==i||v||Et!==null&&Et.memoizedState.tag&1){if(c.flags|=2048,ga(9,eu(),sv.bind(null,c,d,o,i),null),rt===null)throw Error(s(349));h||(gs&124)!==0||rv(c,i,o)}return o}function rv(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=De.updateQueue,i===null?(i=Sf(),De.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function sv(r,i,o,c){i.value=o,i.getSnapshot=c,av(i)&&ov(r)}function iv(r,i,o){return o(function(){av(i)&&ov(r)})}function av(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!Sn(r,o)}catch{return!0}}function ov(r){var i=aa(r,2);i!==null&&Rn(i,r,2)}function kf(r){var i=yn();if(typeof r=="function"){var o=r;if(r=o(),pi){Pe(!0);try{o()}finally{Pe(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:r},i}function lv(r,i,o,c){return r.baseState=o,Nf(r,We,typeof c=="function"?c:Mr)}function cS(r,i,o,c,d){if(nu(r))throw Error(s(485));if(r=i.action,r!==null){var h={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};L.T!==null?o(!0):h.isTransition=!1,c(h),o=i.pending,o===null?(h.next=i.pending=h,cv(i,h)):(h.next=o.next,i.pending=o.next=h)}}function cv(r,i){var o=i.action,c=i.payload,d=r.state;if(i.isTransition){var h=L.T,v={};L.T=v;try{var w=o(d,c),_=L.S;_!==null&&_(v,w),uv(r,i,w)}catch(O){Cf(r,i,O)}finally{L.T=h}}else try{h=o(d,c),uv(r,i,h)}catch(O){Cf(r,i,O)}}function uv(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){dv(r,i,c)},function(c){return Cf(r,i,c)}):dv(r,i,o)}function dv(r,i,o){i.status="fulfilled",i.value=o,hv(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,cv(r,o)))}function Cf(r,i,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,hv(i),i=i.next;while(i!==c)}r.action=null}function hv(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function fv(r,i){return i}function mv(r,i){if(Ke){var o=rt.formState;if(o!==null){e:{var c=De;if(Ke){if(mt){t:{for(var d=mt,h=ar;d.nodeType!==8;){if(!h){d=null;break t}if(d=Zn(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){mt=Zn(d.nextSibling),c=d.data==="F!";break e}}hi(c)}c=!1}c&&(i=o[0])}}return o=yn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fv,lastRenderedState:i},o.queue=c,o=jv.bind(null,De,c),c.dispatch=o,c=kf(!1),h=Mf.bind(null,De,!1,c.queue),c=yn(),d={state:i,dispatch:null,action:r,pending:null},c.queue=d,o=cS.bind(null,De,d,h,o),d.dispatch=o,c.memoizedState=r,[i,o,!1]}function gv(r){var i=_t();return pv(i,We,r)}function pv(r,i,o){if(i=Nf(r,i,fv)[0],r=Jc(Mr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Po(i)}catch(v){throw v===Mo?Kc:v}else c=i;i=_t();var d=i.queue,h=d.dispatch;return o!==i.memoizedState&&(De.flags|=2048,ga(9,eu(),uS.bind(null,d,o),null)),[c,h,r]}function uS(r,i){r.action=i}function yv(r){var i=_t(),o=We;if(o!==null)return pv(i,o,r);_t(),i=i.memoizedState,o=_t();var c=o.queue.dispatch;return o.memoizedState=r,[i,c,!1]}function ga(r,i,o,c){return r={tag:r,create:o,deps:c,inst:i,next:null},i=De.updateQueue,i===null&&(i=Sf(),De.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,i.lastEffect=r),r}function eu(){return{destroy:void 0,resource:void 0}}function vv(){return _t().memoizedState}function tu(r,i,o,c){var d=yn();c=c===void 0?null:c,De.flags|=r,d.memoizedState=ga(1|i,eu(),o,c)}function zo(r,i,o,c){var d=_t();c=c===void 0?null:c;var h=d.memoizedState.inst;We!==null&&c!==null&&xf(c,We.memoizedState.deps)?d.memoizedState=ga(i,h,o,c):(De.flags|=r,d.memoizedState=ga(1|i,h,o,c))}function xv(r,i){tu(8390656,8,r,i)}function bv(r,i){zo(2048,8,r,i)}function wv(r,i){return zo(4,2,r,i)}function Ev(r,i){return zo(4,4,r,i)}function _v(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Sv(r,i,o){o=o!=null?o.concat([r]):null,zo(4,4,_v.bind(null,i,r),o)}function Rf(){}function Tv(r,i){var o=_t();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&xf(i,c[1])?c[0]:(o.memoizedState=[r,i],r)}function Nv(r,i){var o=_t();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&xf(i,c[1]))return c[0];if(c=r(),pi){Pe(!0);try{r()}finally{Pe(!1)}}return o.memoizedState=[c,i],c}function Of(r,i,o){return o===void 0||(gs&1073741824)!==0?r.memoizedState=i:(r.memoizedState=o,r=C1(),De.lanes|=r,Es|=r,o)}function Av(r,i,o,c){return Sn(o,i)?o:ha.current!==null?(r=Of(r,o,c),Sn(r,i)||(Lt=!0),r):(gs&42)===0?(Lt=!0,r.memoizedState=o):(r=C1(),De.lanes|=r,Es|=r,i)}function kv(r,i,o,c,d){var h=Q.p;Q.p=h!==0&&8>h?h:8;var v=L.T,w={};L.T=w,Mf(r,!1,i,o);try{var _=d(),O=L.S;if(O!==null&&O(w,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var B=aS(_,c);Ho(r,i,B,Cn(r))}else Ho(r,i,c,Cn(r))}catch(F){Ho(r,i,{then:function(){},status:"rejected",reason:F},Cn())}finally{Q.p=h,L.T=v}}function dS(){}function Df(r,i,o,c){if(r.tag!==5)throw Error(s(476));var d=Cv(r).queue;kv(r,d,i,ne,o===null?dS:function(){return Rv(r),o(c)})}function Cv(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:ne},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Rv(r){var i=Cv(r).next.queue;Ho(r,i,{},Cn())}function jf(){return Zt(al)}function Ov(){return _t().memoizedState}function Dv(){return _t().memoizedState}function hS(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=Cn();r=fs(o);var c=ms(i,r,o);c!==null&&(Rn(c,i,o),Lo(c,i,o)),i={cache:cf()},r.payload=i;return}i=i.return}}function fS(r,i,o){var c=Cn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},nu(r)?Mv(i,o):(o=Wh(r,i,o,c),o!==null&&(Rn(o,r,c),Iv(o,i,c)))}function jv(r,i,o){var c=Cn();Ho(r,i,o,c)}function Ho(r,i,o,c){var d={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(nu(r))Mv(i,d);else{var h=r.alternate;if(r.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var v=i.lastRenderedState,w=h(v,o);if(d.hasEagerState=!0,d.eagerState=w,Sn(w,v))return Bc(r,i,d,0),rt===null&&Vc(),!1}catch{}finally{}if(o=Wh(r,i,d,c),o!==null)return Rn(o,r,c),Iv(o,i,c),!0}return!1}function Mf(r,i,o,c){if(c={lane:2,revertLane:hm(),action:c,hasEagerState:!1,eagerState:null,next:null},nu(r)){if(i)throw Error(s(479))}else i=Wh(r,o,c,2),i!==null&&Rn(i,r,2)}function nu(r){var i=r.alternate;return r===De||i!==null&&i===De}function Mv(r,i){fa=Zc=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function Iv(r,i,o){if((o&4194048)!==0){var c=i.lanes;c&=r.pendingLanes,o|=c,i.lanes=o,Fp(r,o)}}var ru={readContext:Zt,use:Wc,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},Lv={readContext:Zt,use:Wc,useCallback:function(r,i){return yn().memoizedState=[r,i===void 0?null:i],r},useContext:Zt,useEffect:xv,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,tu(4194308,4,_v.bind(null,i,r),o)},useLayoutEffect:function(r,i){return tu(4194308,4,r,i)},useInsertionEffect:function(r,i){tu(4,2,r,i)},useMemo:function(r,i){var o=yn();i=i===void 0?null:i;var c=r();if(pi){Pe(!0);try{r()}finally{Pe(!1)}}return o.memoizedState=[c,i],c},useReducer:function(r,i,o){var c=yn();if(o!==void 0){var d=o(i);if(pi){Pe(!0);try{o(i)}finally{Pe(!1)}}}else d=i;return c.memoizedState=c.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},c.queue=r,r=r.dispatch=fS.bind(null,De,r),[c.memoizedState,r]},useRef:function(r){var i=yn();return r={current:r},i.memoizedState=r},useState:function(r){r=kf(r);var i=r.queue,o=jv.bind(null,De,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:Rf,useDeferredValue:function(r,i){var o=yn();return Of(o,r,i)},useTransition:function(){var r=kf(!1);return r=kv.bind(null,De,r.queue,!0,!1),yn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var c=De,d=yn();if(Ke){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),rt===null)throw Error(s(349));(ze&124)!==0||rv(c,i,o)}d.memoizedState=o;var h={value:o,getSnapshot:i};return d.queue=h,xv(iv.bind(null,c,h,r),[r]),c.flags|=2048,ga(9,eu(),sv.bind(null,c,h,o,i),null),o},useId:function(){var r=yn(),i=rt.identifierPrefix;if(Ke){var o=Or,c=Rr;o=(c&~(1<<32-nt(c)-1)).toString(32)+o,i="«"+i+"R"+o,o=Xc++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=oS++,i="«"+i+"r"+o.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:jf,useFormState:mv,useActionState:mv,useOptimistic:function(r){var i=yn();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Mf.bind(null,De,!0,o),o.dispatch=i,[r,i]},useMemoCache:Tf,useCacheRefresh:function(){return yn().memoizedState=hS.bind(null,De)}},Uv={readContext:Zt,use:Wc,useCallback:Tv,useContext:Zt,useEffect:bv,useImperativeHandle:Sv,useInsertionEffect:wv,useLayoutEffect:Ev,useMemo:Nv,useReducer:Jc,useRef:vv,useState:function(){return Jc(Mr)},useDebugValue:Rf,useDeferredValue:function(r,i){var o=_t();return Av(o,We.memoizedState,r,i)},useTransition:function(){var r=Jc(Mr)[0],i=_t().memoizedState;return[typeof r=="boolean"?r:Po(r),i]},useSyncExternalStore:nv,useId:Ov,useHostTransitionStatus:jf,useFormState:gv,useActionState:gv,useOptimistic:function(r,i){var o=_t();return lv(o,We,r,i)},useMemoCache:Tf,useCacheRefresh:Dv},mS={readContext:Zt,use:Wc,useCallback:Tv,useContext:Zt,useEffect:bv,useImperativeHandle:Sv,useInsertionEffect:wv,useLayoutEffect:Ev,useMemo:Nv,useReducer:Af,useRef:vv,useState:function(){return Af(Mr)},useDebugValue:Rf,useDeferredValue:function(r,i){var o=_t();return We===null?Of(o,r,i):Av(o,We.memoizedState,r,i)},useTransition:function(){var r=Af(Mr)[0],i=_t().memoizedState;return[typeof r=="boolean"?r:Po(r),i]},useSyncExternalStore:nv,useId:Ov,useHostTransitionStatus:jf,useFormState:yv,useActionState:yv,useOptimistic:function(r,i){var o=_t();return We!==null?lv(o,We,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:Dv},pa=null,Fo=0;function su(r){var i=Fo;return Fo+=1,pa===null&&(pa=[]),Yy(pa,r,i)}function qo(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function iu(r,i){throw i.$$typeof===b?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Vv(r){var i=r._init;return i(r._payload)}function Bv(r){function i(k,A){if(r){var C=k.deletions;C===null?(k.deletions=[A],k.flags|=16):C.push(A)}}function o(k,A){if(!r)return null;for(;A!==null;)i(k,A),A=A.sibling;return null}function c(k){for(var A=new Map;k!==null;)k.key!==null?A.set(k.key,k):A.set(k.index,k),k=k.sibling;return A}function d(k,A){return k=Cr(k,A),k.index=0,k.sibling=null,k}function h(k,A,C){return k.index=C,r?(C=k.alternate,C!==null?(C=C.index,C<A?(k.flags|=67108866,A):C):(k.flags|=67108866,A)):(k.flags|=1048576,A)}function v(k){return r&&k.alternate===null&&(k.flags|=67108866),k}function w(k,A,C,H){return A===null||A.tag!==6?(A=ef(C,k.mode,H),A.return=k,A):(A=d(A,C),A.return=k,A)}function _(k,A,C,H){var ae=C.type;return ae===I?B(k,A,C.props.children,H,C.key):A!==null&&(A.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Re&&Vv(ae)===A.type)?(A=d(A,C.props),qo(A,C),A.return=k,A):(A=zc(C.type,C.key,C.props,null,k.mode,H),qo(A,C),A.return=k,A)}function O(k,A,C,H){return A===null||A.tag!==4||A.stateNode.containerInfo!==C.containerInfo||A.stateNode.implementation!==C.implementation?(A=tf(C,k.mode,H),A.return=k,A):(A=d(A,C.children||[]),A.return=k,A)}function B(k,A,C,H,ae){return A===null||A.tag!==7?(A=li(C,k.mode,H,ae),A.return=k,A):(A=d(A,C),A.return=k,A)}function F(k,A,C){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=ef(""+A,k.mode,C),A.return=k,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case E:return C=zc(A.type,A.key,A.props,null,k.mode,C),qo(C,A),C.return=k,C;case N:return A=tf(A,k.mode,C),A.return=k,A;case Re:var H=A._init;return A=H(A._payload),F(k,A,C)}if(je(A)||ue(A))return A=li(A,k.mode,C,null),A.return=k,A;if(typeof A.then=="function")return F(k,su(A),C);if(A.$$typeof===$)return F(k,$c(k,A),C);iu(k,A)}return null}function j(k,A,C,H){var ae=A!==null?A.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return ae!==null?null:w(k,A,""+C,H);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case E:return C.key===ae?_(k,A,C,H):null;case N:return C.key===ae?O(k,A,C,H):null;case Re:return ae=C._init,C=ae(C._payload),j(k,A,C,H)}if(je(C)||ue(C))return ae!==null?null:B(k,A,C,H,null);if(typeof C.then=="function")return j(k,A,su(C),H);if(C.$$typeof===$)return j(k,A,$c(k,C),H);iu(k,C)}return null}function M(k,A,C,H,ae){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return k=k.get(C)||null,w(A,k,""+H,ae);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return k=k.get(H.key===null?C:H.key)||null,_(A,k,H,ae);case N:return k=k.get(H.key===null?C:H.key)||null,O(A,k,H,ae);case Re:var Me=H._init;return H=Me(H._payload),M(k,A,C,H,ae)}if(je(H)||ue(H))return k=k.get(C)||null,B(A,k,H,ae,null);if(typeof H.then=="function")return M(k,A,C,su(H),ae);if(H.$$typeof===$)return M(k,A,C,$c(A,H),ae);iu(A,H)}return null}function be(k,A,C,H){for(var ae=null,Me=null,fe=A,ye=A=0,Vt=null;fe!==null&&ye<C.length;ye++){fe.index>ye?(Vt=fe,fe=null):Vt=fe.sibling;var Fe=j(k,fe,C[ye],H);if(Fe===null){fe===null&&(fe=Vt);break}r&&fe&&Fe.alternate===null&&i(k,fe),A=h(Fe,A,ye),Me===null?ae=Fe:Me.sibling=Fe,Me=Fe,fe=Vt}if(ye===C.length)return o(k,fe),Ke&&ui(k,ye),ae;if(fe===null){for(;ye<C.length;ye++)fe=F(k,C[ye],H),fe!==null&&(A=h(fe,A,ye),Me===null?ae=fe:Me.sibling=fe,Me=fe);return Ke&&ui(k,ye),ae}for(fe=c(fe);ye<C.length;ye++)Vt=M(fe,k,ye,C[ye],H),Vt!==null&&(r&&Vt.alternate!==null&&fe.delete(Vt.key===null?ye:Vt.key),A=h(Vt,A,ye),Me===null?ae=Vt:Me.sibling=Vt,Me=Vt);return r&&fe.forEach(function(Os){return i(k,Os)}),Ke&&ui(k,ye),ae}function pe(k,A,C,H){if(C==null)throw Error(s(151));for(var ae=null,Me=null,fe=A,ye=A=0,Vt=null,Fe=C.next();fe!==null&&!Fe.done;ye++,Fe=C.next()){fe.index>ye?(Vt=fe,fe=null):Vt=fe.sibling;var Os=j(k,fe,Fe.value,H);if(Os===null){fe===null&&(fe=Vt);break}r&&fe&&Os.alternate===null&&i(k,fe),A=h(Os,A,ye),Me===null?ae=Os:Me.sibling=Os,Me=Os,fe=Vt}if(Fe.done)return o(k,fe),Ke&&ui(k,ye),ae;if(fe===null){for(;!Fe.done;ye++,Fe=C.next())Fe=F(k,Fe.value,H),Fe!==null&&(A=h(Fe,A,ye),Me===null?ae=Fe:Me.sibling=Fe,Me=Fe);return Ke&&ui(k,ye),ae}for(fe=c(fe);!Fe.done;ye++,Fe=C.next())Fe=M(fe,k,ye,Fe.value,H),Fe!==null&&(r&&Fe.alternate!==null&&fe.delete(Fe.key===null?ye:Fe.key),A=h(Fe,A,ye),Me===null?ae=Fe:Me.sibling=Fe,Me=Fe);return r&&fe.forEach(function(gT){return i(k,gT)}),Ke&&ui(k,ye),ae}function et(k,A,C,H){if(typeof C=="object"&&C!==null&&C.type===I&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case E:e:{for(var ae=C.key;A!==null;){if(A.key===ae){if(ae=C.type,ae===I){if(A.tag===7){o(k,A.sibling),H=d(A,C.props.children),H.return=k,k=H;break e}}else if(A.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Re&&Vv(ae)===A.type){o(k,A.sibling),H=d(A,C.props),qo(H,C),H.return=k,k=H;break e}o(k,A);break}else i(k,A);A=A.sibling}C.type===I?(H=li(C.props.children,k.mode,H,C.key),H.return=k,k=H):(H=zc(C.type,C.key,C.props,null,k.mode,H),qo(H,C),H.return=k,k=H)}return v(k);case N:e:{for(ae=C.key;A!==null;){if(A.key===ae)if(A.tag===4&&A.stateNode.containerInfo===C.containerInfo&&A.stateNode.implementation===C.implementation){o(k,A.sibling),H=d(A,C.children||[]),H.return=k,k=H;break e}else{o(k,A);break}else i(k,A);A=A.sibling}H=tf(C,k.mode,H),H.return=k,k=H}return v(k);case Re:return ae=C._init,C=ae(C._payload),et(k,A,C,H)}if(je(C))return be(k,A,C,H);if(ue(C)){if(ae=ue(C),typeof ae!="function")throw Error(s(150));return C=ae.call(C),pe(k,A,C,H)}if(typeof C.then=="function")return et(k,A,su(C),H);if(C.$$typeof===$)return et(k,A,$c(k,C),H);iu(k,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,A!==null&&A.tag===6?(o(k,A.sibling),H=d(A,C),H.return=k,k=H):(o(k,A),H=ef(C,k.mode,H),H.return=k,k=H),v(k)):o(k,A)}return function(k,A,C,H){try{Fo=0;var ae=et(k,A,C,H);return pa=null,ae}catch(fe){if(fe===Mo||fe===Kc)throw fe;var Me=Tn(29,fe,null,k.mode);return Me.lanes=H,Me.return=k,Me}finally{}}}var ya=Bv(!0),Pv=Bv(!1),Hn=z(null),or=null;function ps(r){var i=r.alternate;W(Ot,Ot.current&1),W(Hn,r),or===null&&(i===null||ha.current!==null||i.memoizedState!==null)&&(or=r)}function zv(r){if(r.tag===22){if(W(Ot,Ot.current),W(Hn,r),or===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(or=r)}}else ys()}function ys(){W(Ot,Ot.current),W(Hn,Hn.current)}function Ir(r){J(Hn),or===r&&(or=null),J(Ot)}var Ot=z(0);function au(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Sm(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function If(r,i,o,c){i=r.memoizedState,o=o(c,i),o=o==null?i:x({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Lf={enqueueSetState:function(r,i,o){r=r._reactInternals;var c=Cn(),d=fs(c);d.payload=i,o!=null&&(d.callback=o),i=ms(r,d,c),i!==null&&(Rn(i,r,c),Lo(i,r,c))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var c=Cn(),d=fs(c);d.tag=1,d.payload=i,o!=null&&(d.callback=o),i=ms(r,d,c),i!==null&&(Rn(i,r,c),Lo(i,r,c))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=Cn(),c=fs(o);c.tag=2,i!=null&&(c.callback=i),i=ms(r,c,o),i!==null&&(Rn(i,r,o),Lo(i,r,o))}};function Hv(r,i,o,c,d,h,v){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,h,v):i.prototype&&i.prototype.isPureReactComponent?!No(o,c)||!No(d,h):!0}function Fv(r,i,o,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==r&&Lf.enqueueReplaceState(i,i.state,null)}function yi(r,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(r=r.defaultProps){o===i&&(o=x({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var ou=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function qv(r){ou(r)}function $v(r){console.error(r)}function Gv(r){ou(r)}function lu(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Kv(r,i,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Uf(r,i,o){return o=fs(o),o.tag=3,o.payload={element:null},o.callback=function(){lu(r,i)},o}function Yv(r){return r=fs(r),r.tag=3,r}function Qv(r,i,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var h=c.value;r.payload=function(){return d(h)},r.callback=function(){Kv(i,o,c)}}var v=o.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(r.callback=function(){Kv(i,o,c),typeof d!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function gS(r,i,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Oo(i,o,d,!0),o=Hn.current,o!==null){switch(o.tag){case 13:return or===null?om():o.alternate===null&&gt===0&&(gt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===hf?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),cm(r,c,d)),!1;case 22:return o.flags|=65536,c===hf?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),cm(r,c,d)),!1}throw Error(s(435,o.tag))}return cm(r,c,d),om(),!1}if(Ke)return i=Hn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,c!==sf&&(r=Error(s(422),{cause:c}),Ro(Vn(r,o)))):(c!==sf&&(i=Error(s(423),{cause:c}),Ro(Vn(i,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,c=Vn(c,o),d=Uf(r.stateNode,c,d),gf(r,d),gt!==4&&(gt=2)),!1;var h=Error(s(520),{cause:c});if(h=Vn(h,o),Xo===null?Xo=[h]:Xo.push(h),gt!==4&&(gt=2),i===null)return!0;c=Vn(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=Uf(o.stateNode,c,r),gf(o,r),!1;case 1:if(i=o.type,h=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(_s===null||!_s.has(h))))return o.flags|=65536,d&=-d,o.lanes|=d,d=Yv(d),Qv(d,r,o,c),gf(o,d),!1}o=o.return}while(o!==null);return!1}var Zv=Error(s(461)),Lt=!1;function Ht(r,i,o,c){i.child=r===null?Pv(i,null,o,c):ya(i,r.child,o,c)}function Xv(r,i,o,c,d){o=o.render;var h=i.ref;if("ref"in c){var v={};for(var w in c)w!=="ref"&&(v[w]=c[w])}else v=c;return mi(i),c=bf(r,i,o,v,h,d),w=wf(),r!==null&&!Lt?(Ef(r,i,d),Lr(r,i,d)):(Ke&&w&&nf(i),i.flags|=1,Ht(r,i,c,d),i.child)}function Wv(r,i,o,c,d){if(r===null){var h=o.type;return typeof h=="function"&&!Jh(h)&&h.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=h,Jv(r,i,h,c,d)):(r=zc(o.type,null,c,i,i.mode,d),r.ref=i.ref,r.return=i,i.child=r)}if(h=r.child,!$f(r,d)){var v=h.memoizedProps;if(o=o.compare,o=o!==null?o:No,o(v,c)&&r.ref===i.ref)return Lr(r,i,d)}return i.flags|=1,r=Cr(h,c),r.ref=i.ref,r.return=i,i.child=r}function Jv(r,i,o,c,d){if(r!==null){var h=r.memoizedProps;if(No(h,c)&&r.ref===i.ref)if(Lt=!1,i.pendingProps=c=h,$f(r,d))(r.flags&131072)!==0&&(Lt=!0);else return i.lanes=r.lanes,Lr(r,i,d)}return Vf(r,i,o,c,d)}function e1(r,i,o){var c=i.pendingProps,d=c.children,h=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=h!==null?h.baseLanes|o:o,r!==null){for(d=i.child=r.child,h=0;d!==null;)h=h|d.lanes|d.childLanes,d=d.sibling;i.childLanes=h&~c}else i.childLanes=0,i.child=null;return t1(r,i,c,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Gc(i,h!==null?h.cachePool:null),h!==null?Jy(i,h):yf(),zv(i);else return i.lanes=i.childLanes=536870912,t1(r,i,h!==null?h.baseLanes|o:o,o)}else h!==null?(Gc(i,h.cachePool),Jy(i,h),ys(),i.memoizedState=null):(r!==null&&Gc(i,null),yf(),ys());return Ht(r,i,d,o),i.child}function t1(r,i,o,c){var d=df();return d=d===null?null:{parent:Rt._currentValue,pool:d},i.memoizedState={baseLanes:o,cachePool:d},r!==null&&Gc(i,null),yf(),zv(i),r!==null&&Oo(r,i,c,!0),null}function cu(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function Vf(r,i,o,c,d){return mi(i),o=bf(r,i,o,c,void 0,d),c=wf(),r!==null&&!Lt?(Ef(r,i,d),Lr(r,i,d)):(Ke&&c&&nf(i),i.flags|=1,Ht(r,i,o,d),i.child)}function n1(r,i,o,c,d,h){return mi(i),i.updateQueue=null,o=tv(i,c,o,d),ev(r),c=wf(),r!==null&&!Lt?(Ef(r,i,h),Lr(r,i,h)):(Ke&&c&&nf(i),i.flags|=1,Ht(r,i,o,h),i.child)}function r1(r,i,o,c,d){if(mi(i),i.stateNode===null){var h=oa,v=o.contextType;typeof v=="object"&&v!==null&&(h=Zt(v)),h=new o(c,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Lf,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=c,h.state=i.memoizedState,h.refs={},ff(i),v=o.contextType,h.context=typeof v=="object"&&v!==null?Zt(v):oa,h.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(If(i,o,v,c),h.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&Lf.enqueueReplaceState(h,h.state,null),Vo(i,c,h,d),Uo(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(r===null){h=i.stateNode;var w=i.memoizedProps,_=yi(o,w);h.props=_;var O=h.context,B=o.contextType;v=oa,typeof B=="object"&&B!==null&&(v=Zt(B));var F=o.getDerivedStateFromProps;B=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,B||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w||O!==v)&&Fv(i,h,c,v),hs=!1;var j=i.memoizedState;h.state=j,Vo(i,c,h,d),Uo(),O=i.memoizedState,w||j!==O||hs?(typeof F=="function"&&(If(i,o,F,c),O=i.memoizedState),(_=hs||Hv(i,o,_,c,j,O,v))?(B||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=O),h.props=c,h.state=O,h.context=v,c=_):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{h=i.stateNode,mf(r,i),v=i.memoizedProps,B=yi(o,v),h.props=B,F=i.pendingProps,j=h.context,O=o.contextType,_=oa,typeof O=="object"&&O!==null&&(_=Zt(O)),w=o.getDerivedStateFromProps,(O=typeof w=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==F||j!==_)&&Fv(i,h,c,_),hs=!1,j=i.memoizedState,h.state=j,Vo(i,c,h,d),Uo();var M=i.memoizedState;v!==F||j!==M||hs||r!==null&&r.dependencies!==null&&qc(r.dependencies)?(typeof w=="function"&&(If(i,o,w,c),M=i.memoizedState),(B=hs||Hv(i,o,B,c,j,M,_)||r!==null&&r.dependencies!==null&&qc(r.dependencies))?(O||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,M,_),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,M,_)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===r.memoizedProps&&j===r.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&j===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=M),h.props=c,h.state=M,h.context=_,c=B):(typeof h.componentDidUpdate!="function"||v===r.memoizedProps&&j===r.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&j===r.memoizedState||(i.flags|=1024),c=!1)}return h=c,cu(r,i),c=(i.flags&128)!==0,h||c?(h=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,r!==null&&c?(i.child=ya(i,r.child,null,d),i.child=ya(i,null,o,d)):Ht(r,i,o,d),i.memoizedState=h.state,r=i.child):r=Lr(r,i,d),r}function s1(r,i,o,c){return Co(),i.flags|=256,Ht(r,i,o,c),i.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(r){return{baseLanes:r,cachePool:$y()}}function zf(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=Fn),r}function i1(r,i,o){var c=i.pendingProps,d=!1,h=(i.flags&128)!==0,v;if((v=h)||(v=r!==null&&r.memoizedState===null?!1:(Ot.current&2)!==0),v&&(d=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,r===null){if(Ke){if(d?ps(i):ys(),Ke){var w=mt,_;if(_=w){e:{for(_=w,w=ar;_.nodeType!==8;){if(!w){w=null;break e}if(_=Zn(_.nextSibling),_===null){w=null;break e}}w=_}w!==null?(i.memoizedState={dehydrated:w,treeContext:ci!==null?{id:Rr,overflow:Or}:null,retryLane:536870912,hydrationErrors:null},_=Tn(18,null,null,0),_.stateNode=w,_.return=i,i.child=_,ln=i,mt=null,_=!0):_=!1}_||hi(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Sm(w)?i.lanes=32:i.lanes=536870912,null;Ir(i)}return w=c.children,c=c.fallback,d?(ys(),d=i.mode,w=uu({mode:"hidden",children:w},d),c=li(c,d,o,null),w.return=i,c.return=i,w.sibling=c,i.child=w,d=i.child,d.memoizedState=Pf(o),d.childLanes=zf(r,v,o),i.memoizedState=Bf,c):(ps(i),Hf(i,w))}if(_=r.memoizedState,_!==null&&(w=_.dehydrated,w!==null)){if(h)i.flags&256?(ps(i),i.flags&=-257,i=Ff(r,i,o)):i.memoizedState!==null?(ys(),i.child=r.child,i.flags|=128,i=null):(ys(),d=c.fallback,w=i.mode,c=uu({mode:"visible",children:c.children},w),d=li(d,w,o,null),d.flags|=2,c.return=i,d.return=i,c.sibling=d,i.child=c,ya(i,r.child,null,o),c=i.child,c.memoizedState=Pf(o),c.childLanes=zf(r,v,o),i.memoizedState=Bf,i=d);else if(ps(i),Sm(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var O=v.dgst;v=O,c=Error(s(419)),c.stack="",c.digest=v,Ro({value:c,source:null,stack:null}),i=Ff(r,i,o)}else if(Lt||Oo(r,i,o,!1),v=(o&r.childLanes)!==0,Lt||v){if(v=rt,v!==null&&(c=o&-o,c=(c&42)!==0?1:Sh(c),c=(c&(v.suspendedLanes|o))!==0?0:c,c!==0&&c!==_.retryLane))throw _.retryLane=c,aa(r,c),Rn(v,r,c),Zv;w.data==="$?"||om(),i=Ff(r,i,o)}else w.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=_.treeContext,mt=Zn(w.nextSibling),ln=i,Ke=!0,di=null,ar=!1,r!==null&&(Pn[zn++]=Rr,Pn[zn++]=Or,Pn[zn++]=ci,Rr=r.id,Or=r.overflow,ci=i),i=Hf(i,c.children),i.flags|=4096);return i}return d?(ys(),d=c.fallback,w=i.mode,_=r.child,O=_.sibling,c=Cr(_,{mode:"hidden",children:c.children}),c.subtreeFlags=_.subtreeFlags&65011712,O!==null?d=Cr(O,d):(d=li(d,w,o,null),d.flags|=2),d.return=i,c.return=i,c.sibling=d,i.child=c,c=d,d=i.child,w=r.child.memoizedState,w===null?w=Pf(o):(_=w.cachePool,_!==null?(O=Rt._currentValue,_=_.parent!==O?{parent:O,pool:O}:_):_=$y(),w={baseLanes:w.baseLanes|o,cachePool:_}),d.memoizedState=w,d.childLanes=zf(r,v,o),i.memoizedState=Bf,c):(ps(i),o=r.child,r=o.sibling,o=Cr(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,r!==null&&(v=i.deletions,v===null?(i.deletions=[r],i.flags|=16):v.push(r)),i.child=o,i.memoizedState=null,o)}function Hf(r,i){return i=uu({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function uu(r,i){return r=Tn(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Ff(r,i,o){return ya(i,r.child,null,o),r=Hf(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function a1(r,i,o){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),of(r.return,i,o)}function qf(r,i,o,c,d){var h=r.memoizedState;h===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(h.isBackwards=i,h.rendering=null,h.renderingStartTime=0,h.last=c,h.tail=o,h.tailMode=d)}function o1(r,i,o){var c=i.pendingProps,d=c.revealOrder,h=c.tail;if(Ht(r,i,c.children,o),c=Ot.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&a1(r,o,i);else if(r.tag===19)a1(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(W(Ot,c),d){case"forwards":for(o=i.child,d=null;o!==null;)r=o.alternate,r!==null&&au(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=i.child,i.child=null):(d=o.sibling,o.sibling=null),qf(i,!1,d,o,h);break;case"backwards":for(o=null,d=i.child,i.child=null;d!==null;){if(r=d.alternate,r!==null&&au(r)===null){i.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}qf(i,!0,o,null,h);break;case"together":qf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Lr(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),Es|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(Oo(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=Cr(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=Cr(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function $f(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&qc(r)))}function pS(r,i,o){switch(i.tag){case 3:Ge(i,i.stateNode.containerInfo),ds(i,Rt,r.memoizedState.cache),Co();break;case 27:case 5:rr(i);break;case 4:Ge(i,i.stateNode.containerInfo);break;case 10:ds(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(ps(i),i.flags|=128,null):(o&i.child.childLanes)!==0?i1(r,i,o):(ps(i),r=Lr(r,i,o),r!==null?r.sibling:null);ps(i);break;case 19:var d=(r.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Oo(r,i,o,!1),c=(o&i.childLanes)!==0),d){if(c)return o1(r,i,o);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),W(Ot,Ot.current),c)break;return null;case 22:case 23:return i.lanes=0,e1(r,i,o);case 24:ds(i,Rt,r.memoizedState.cache)}return Lr(r,i,o)}function l1(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)Lt=!0;else{if(!$f(r,o)&&(i.flags&128)===0)return Lt=!1,pS(r,i,o);Lt=(r.flags&131072)!==0}else Lt=!1,Ke&&(i.flags&1048576)!==0&&Vy(i,Fc,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var c=i.elementType,d=c._init;if(c=d(c._payload),i.type=c,typeof c=="function")Jh(c)?(r=yi(c,r),i.tag=1,i=r1(null,i,c,r,o)):(i.tag=0,i=Vf(null,i,c,r,o));else{if(c!=null){if(d=c.$$typeof,d===G){i.tag=11,i=Xv(null,i,c,r,o);break e}else if(d===Ae){i.tag=14,i=Wv(null,i,c,r,o);break e}}throw i=Ve(c)||c,Error(s(306,i,""))}}return i;case 0:return Vf(r,i,i.type,i.pendingProps,o);case 1:return c=i.type,d=yi(c,i.pendingProps),r1(r,i,c,d,o);case 3:e:{if(Ge(i,i.stateNode.containerInfo),r===null)throw Error(s(387));c=i.pendingProps;var h=i.memoizedState;d=h.element,mf(r,i),Vo(i,c,null,o);var v=i.memoizedState;if(c=v.cache,ds(i,Rt,c),c!==h.cache&&lf(i,[Rt],o,!0),Uo(),c=v.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=s1(r,i,c,o);break e}else if(c!==d){d=Vn(Error(s(424)),i),Ro(d),i=s1(r,i,c,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(mt=Zn(r.firstChild),ln=i,Ke=!0,di=null,ar=!0,o=Pv(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Co(),c===d){i=Lr(r,i,o);break e}Ht(r,i,c,o)}i=i.child}return i;case 26:return cu(r,i),r===null?(o=h2(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ke||(o=i.type,r=i.pendingProps,c=Su(xe.current).createElement(o),c[Qt]=i,c[gn]=r,qt(c,o,r),It(c),i.stateNode=c):i.memoizedState=h2(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return rr(i),r===null&&Ke&&(c=i.stateNode=c2(i.type,i.pendingProps,xe.current),ln=i,ar=!0,d=mt,Ns(i.type)?(Tm=d,mt=Zn(c.firstChild)):mt=d),Ht(r,i,i.pendingProps.children,o),cu(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Ke&&((d=c=mt)&&(c=qS(c,i.type,i.pendingProps,ar),c!==null?(i.stateNode=c,ln=i,mt=Zn(c.firstChild),ar=!1,d=!0):d=!1),d||hi(i)),rr(i),d=i.type,h=i.pendingProps,v=r!==null?r.memoizedProps:null,c=h.children,wm(d,h)?c=null:v!==null&&wm(d,v)&&(i.flags|=32),i.memoizedState!==null&&(d=bf(r,i,lS,null,null,o),al._currentValue=d),cu(r,i),Ht(r,i,c,o),i.child;case 6:return r===null&&Ke&&((r=o=mt)&&(o=$S(o,i.pendingProps,ar),o!==null?(i.stateNode=o,ln=i,mt=null,r=!0):r=!1),r||hi(i)),null;case 13:return i1(r,i,o);case 4:return Ge(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=ya(i,null,c,o):Ht(r,i,c,o),i.child;case 11:return Xv(r,i,i.type,i.pendingProps,o);case 7:return Ht(r,i,i.pendingProps,o),i.child;case 8:return Ht(r,i,i.pendingProps.children,o),i.child;case 12:return Ht(r,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,ds(i,i.type,c.value),Ht(r,i,c.children,o),i.child;case 9:return d=i.type._context,c=i.pendingProps.children,mi(i),d=Zt(d),c=c(d),i.flags|=1,Ht(r,i,c,o),i.child;case 14:return Wv(r,i,i.type,i.pendingProps,o);case 15:return Jv(r,i,i.type,i.pendingProps,o);case 19:return o1(r,i,o);case 31:return c=i.pendingProps,o=i.mode,c={mode:c.mode,children:c.children},r===null?(o=uu(c,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=Cr(r.child,c),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return e1(r,i,o);case 24:return mi(i),c=Zt(Rt),r===null?(d=df(),d===null&&(d=rt,h=cf(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=o),d=h),i.memoizedState={parent:c,cache:d},ff(i),ds(i,Rt,d)):((r.lanes&o)!==0&&(mf(r,i),Vo(i,null,null,o),Uo()),d=r.memoizedState,h=i.memoizedState,d.parent!==c?(d={parent:c,cache:c},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),ds(i,Rt,c)):(c=h.cache,ds(i,Rt,c),c!==d.cache&&lf(i,[Rt],o,!0))),Ht(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ur(r){r.flags|=4}function c1(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!y2(i)){if(i=Hn.current,i!==null&&((ze&4194048)===ze?or!==null:(ze&62914560)!==ze&&(ze&536870912)===0||i!==or))throw Io=hf,Gy;r.flags|=8192}}function du(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?zp():536870912,r.lanes|=i,wa|=i)}function $o(r,i){if(!Ke)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function dt(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(i)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=o,i}function yS(r,i,o){var c=i.pendingProps;switch(rf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(i),null;case 1:return dt(i),null;case 3:return o=i.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),jr(Rt),mn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(ko(i)?Ur(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zy())),dt(i),null;case 26:return o=i.memoizedState,r===null?(Ur(i),o!==null?(dt(i),c1(i,o)):(dt(i),i.flags&=-16777217)):o?o!==r.memoizedState?(Ur(i),dt(i),c1(i,o)):(dt(i),i.flags&=-16777217):(r.memoizedProps!==c&&Ur(i),dt(i),i.flags&=-16777217),null;case 27:sr(i),o=xe.current;var d=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==c&&Ur(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return dt(i),null}r=ie.current,ko(i)?By(i):(r=c2(d,c,o),i.stateNode=r,Ur(i))}return dt(i),null;case 5:if(sr(i),o=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==c&&Ur(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return dt(i),null}if(r=ie.current,ko(i))By(i);else{switch(d=Su(xe.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?d.createElement(o,{is:c.is}):d.createElement(o)}}r[Qt]=i,r[gn]=c;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=r;e:switch(qt(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ur(i)}}return dt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==c&&Ur(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(r=xe.current,ko(i)){if(r=i.stateNode,o=i.memoizedProps,c=null,d=ln,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}r[Qt]=i,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||n2(r.nodeValue,o)),r||hi(i)}else r=Su(r).createTextNode(c),r[Qt]=i,i.stateNode=r}return dt(i),null;case 13:if(c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=ko(i),c!==null&&c.dehydrated!==null){if(r===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Qt]=i}else Co(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),d=!1}else d=zy(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Ir(i),i):(Ir(i),null)}if(Ir(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=i.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var h=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==d&&(c.flags|=2048)}return o!==r&&o&&(i.child.flags|=8192),du(i,i.updateQueue),dt(i),null;case 4:return mn(),r===null&&pm(i.stateNode.containerInfo),dt(i),null;case 10:return jr(i.type),dt(i),null;case 19:if(J(Ot),d=i.memoizedState,d===null)return dt(i),null;if(c=(i.flags&128)!==0,h=d.rendering,h===null)if(c)$o(d,!1);else{if(gt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(h=au(r),h!==null){for(i.flags|=128,$o(d,!1),r=h.updateQueue,i.updateQueue=r,du(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)Uy(o,r),o=o.sibling;return W(Ot,Ot.current&1|2),i.child}r=r.sibling}d.tail!==null&&In()>mu&&(i.flags|=128,c=!0,$o(d,!1),i.lanes=4194304)}else{if(!c)if(r=au(h),r!==null){if(i.flags|=128,c=!0,r=r.updateQueue,i.updateQueue=r,du(i,r),$o(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!Ke)return dt(i),null}else 2*In()-d.renderingStartTime>mu&&o!==536870912&&(i.flags|=128,c=!0,$o(d,!1),i.lanes=4194304);d.isBackwards?(h.sibling=i.child,i.child=h):(r=d.last,r!==null?r.sibling=h:i.child=h,d.last=h)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=In(),i.sibling=null,r=Ot.current,W(Ot,c?r&1|2:r&1),i):(dt(i),null);case 22:case 23:return Ir(i),vf(),c=i.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(dt(i),i.subtreeFlags&6&&(i.flags|=8192)):dt(i),o=i.updateQueue,o!==null&&du(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),r!==null&&J(gi),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),jr(Rt),dt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function vS(r,i){switch(rf(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return jr(Rt),mn(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return sr(i),null;case 13:if(Ir(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Co()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return J(Ot),null;case 4:return mn(),null;case 10:return jr(i.type),null;case 22:case 23:return Ir(i),vf(),r!==null&&J(gi),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return jr(Rt),null;case 25:return null;default:return null}}function u1(r,i){switch(rf(i),i.tag){case 3:jr(Rt),mn();break;case 26:case 27:case 5:sr(i);break;case 4:mn();break;case 13:Ir(i);break;case 19:J(Ot);break;case 10:jr(i.type);break;case 22:case 23:Ir(i),vf(),r!==null&&J(gi);break;case 24:jr(Rt)}}function Go(r,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&r)===r){c=void 0;var h=o.create,v=o.inst;c=h(),v.destroy=c}o=o.next}while(o!==d)}}catch(w){tt(i,i.return,w)}}function vs(r,i,o){try{var c=i.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var h=d.next;c=h;do{if((c.tag&r)===r){var v=c.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,d=i;var _=o,O=w;try{O()}catch(B){tt(d,_,B)}}}c=c.next}while(c!==h)}}catch(B){tt(i,i.return,B)}}function d1(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{Wy(i,o)}catch(c){tt(r,r.return,c)}}}function h1(r,i,o){o.props=yi(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){tt(r,i,c)}}function Ko(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(d){tt(r,i,d)}}function lr(r,i){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){tt(r,i,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){tt(r,i,d)}else o.current=null}function f1(r){var i=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){tt(r,r.return,d)}}function Gf(r,i,o){try{var c=r.stateNode;BS(c,r.type,o,i),c[gn]=i}catch(d){tt(r,r.return,d)}}function m1(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ns(r.type)||r.tag===4}function Kf(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||m1(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ns(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Yf(r,i,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=_u));else if(c!==4&&(c===27&&Ns(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(Yf(r,i,o),r=r.sibling;r!==null;)Yf(r,i,o),r=r.sibling}function hu(r,i,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(c!==4&&(c===27&&Ns(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(hu(r,i,o),r=r.sibling;r!==null;)hu(r,i,o),r=r.sibling}function g1(r){var i=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);qt(i,c,o),i[Qt]=r,i[gn]=o}catch(h){tt(r,r.return,h)}}var Vr=!1,bt=!1,Qf=!1,p1=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function xS(r,i){if(r=r.containerInfo,xm=Ru,r=Ay(r),Gh(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var v=0,w=-1,_=-1,O=0,B=0,F=r,j=null;t:for(;;){for(var M;F!==o||d!==0&&F.nodeType!==3||(w=v+d),F!==h||c!==0&&F.nodeType!==3||(_=v+c),F.nodeType===3&&(v+=F.nodeValue.length),(M=F.firstChild)!==null;)j=F,F=M;for(;;){if(F===r)break t;if(j===o&&++O===d&&(w=v),j===h&&++B===c&&(_=v),(M=F.nextSibling)!==null)break;F=j,j=F.parentNode}F=M}o=w===-1||_===-1?null:{start:w,end:_}}else o=null}o=o||{start:0,end:0}}else o=null;for(bm={focusedElem:r,selectionRange:o},Ru=!1,Ut=i;Ut!==null;)if(i=Ut,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,Ut=r;else for(;Ut!==null;){switch(i=Ut,h=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&h!==null){r=void 0,o=i,d=h.memoizedProps,h=h.memoizedState,c=o.stateNode;try{var be=yi(o.type,d,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(be,h),c.__reactInternalSnapshotBeforeUpdate=r}catch(pe){tt(o,o.return,pe)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)_m(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":_m(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Ut=r;break}Ut=i.return}}function y1(r,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:xs(r,o),c&4&&Go(5,o);break;case 1:if(xs(r,o),c&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(v){tt(o,o.return,v)}else{var d=yi(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(d,i,r.__reactInternalSnapshotBeforeUpdate)}catch(v){tt(o,o.return,v)}}c&64&&d1(o),c&512&&Ko(o,o.return);break;case 3:if(xs(r,o),c&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Wy(r,i)}catch(v){tt(o,o.return,v)}}break;case 27:i===null&&c&4&&g1(o);case 26:case 5:xs(r,o),i===null&&c&4&&f1(o),c&512&&Ko(o,o.return);break;case 12:xs(r,o);break;case 13:xs(r,o),c&4&&b1(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=kS.bind(null,o),GS(r,o))));break;case 22:if(c=o.memoizedState!==null||Vr,!c){i=i!==null&&i.memoizedState!==null||bt,d=Vr;var h=bt;Vr=c,(bt=i)&&!h?bs(r,o,(o.subtreeFlags&8772)!==0):xs(r,o),Vr=d,bt=h}break;case 30:break;default:xs(r,o)}}function v1(r){var i=r.alternate;i!==null&&(r.alternate=null,v1(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Ah(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ct=null,vn=!1;function Br(r,i,o){for(o=o.child;o!==null;)x1(r,i,o),o=o.sibling}function x1(r,i,o){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(le,o)}catch{}switch(o.tag){case 26:bt||lr(o,i),Br(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:bt||lr(o,i);var c=ct,d=vn;Ns(o.type)&&(ct=o.stateNode,vn=!1),Br(r,i,o),nl(o.stateNode),ct=c,vn=d;break;case 5:bt||lr(o,i);case 6:if(c=ct,d=vn,ct=null,Br(r,i,o),ct=c,vn=d,ct!==null)if(vn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(o.stateNode)}catch(h){tt(o,i,h)}else try{ct.removeChild(o.stateNode)}catch(h){tt(o,i,h)}break;case 18:ct!==null&&(vn?(r=ct,o2(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),ul(r)):o2(ct,o.stateNode));break;case 4:c=ct,d=vn,ct=o.stateNode.containerInfo,vn=!0,Br(r,i,o),ct=c,vn=d;break;case 0:case 11:case 14:case 15:bt||vs(2,o,i),bt||vs(4,o,i),Br(r,i,o);break;case 1:bt||(lr(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&h1(o,i,c)),Br(r,i,o);break;case 21:Br(r,i,o);break;case 22:bt=(c=bt)||o.memoizedState!==null,Br(r,i,o),bt=c;break;default:Br(r,i,o)}}function b1(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ul(r)}catch(o){tt(i,i.return,o)}}function bS(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new p1),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new p1),i;default:throw Error(s(435,r.tag))}}function Zf(r,i){var o=bS(r);i.forEach(function(c){var d=CS.bind(null,r,c);o.has(c)||(o.add(c),c.then(d,d))})}function Nn(r,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],h=r,v=i,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(Ns(w.type)){ct=w.stateNode,vn=!1;break e}break;case 5:ct=w.stateNode,vn=!1;break e;case 3:case 4:ct=w.stateNode.containerInfo,vn=!0;break e}w=w.return}if(ct===null)throw Error(s(160));x1(h,v,d),ct=null,vn=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)w1(i,r),i=i.sibling}var Qn=null;function w1(r,i){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Nn(i,r),An(r),c&4&&(vs(3,r,r.return),Go(3,r),vs(5,r,r.return));break;case 1:Nn(i,r),An(r),c&512&&(bt||o===null||lr(o,o.return)),c&64&&Vr&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=Qn;if(Nn(i,r),An(r),c&512&&(bt||o===null||lr(o,o.return)),c&4){var h=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":h=d.getElementsByTagName("title")[0],(!h||h[yo]||h[Qt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(c),d.head.insertBefore(h,d.querySelector("head > title"))),qt(h,c,o),h[Qt]=r,It(h),c=h;break e;case"link":var v=g2("link","href",d).get(c+(o.href||""));if(v){for(var w=0;w<v.length;w++)if(h=v[w],h.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&h.getAttribute("rel")===(o.rel==null?null:o.rel)&&h.getAttribute("title")===(o.title==null?null:o.title)&&h.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){v.splice(w,1);break t}}h=d.createElement(c),qt(h,c,o),d.head.appendChild(h);break;case"meta":if(v=g2("meta","content",d).get(c+(o.content||""))){for(w=0;w<v.length;w++)if(h=v[w],h.getAttribute("content")===(o.content==null?null:""+o.content)&&h.getAttribute("name")===(o.name==null?null:o.name)&&h.getAttribute("property")===(o.property==null?null:o.property)&&h.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&h.getAttribute("charset")===(o.charSet==null?null:o.charSet)){v.splice(w,1);break t}}h=d.createElement(c),qt(h,c,o),d.head.appendChild(h);break;default:throw Error(s(468,c))}h[Qt]=r,It(h),c=h}r.stateNode=c}else p2(d,r.type,r.stateNode);else r.stateNode=m2(d,c,r.memoizedProps);else h!==c?(h===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):h.count--,c===null?p2(d,r.type,r.stateNode):m2(d,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Gf(r,r.memoizedProps,o.memoizedProps)}break;case 27:Nn(i,r),An(r),c&512&&(bt||o===null||lr(o,o.return)),o!==null&&c&4&&Gf(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Nn(i,r),An(r),c&512&&(bt||o===null||lr(o,o.return)),r.flags&32){d=r.stateNode;try{Ji(d,"")}catch(M){tt(r,r.return,M)}}c&4&&r.stateNode!=null&&(d=r.memoizedProps,Gf(r,d,o!==null?o.memoizedProps:d)),c&1024&&(Qf=!0);break;case 6:if(Nn(i,r),An(r),c&4){if(r.stateNode===null)throw Error(s(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(M){tt(r,r.return,M)}}break;case 3:if(Au=null,d=Qn,Qn=Tu(i.containerInfo),Nn(i,r),Qn=d,An(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ul(i.containerInfo)}catch(M){tt(r,r.return,M)}Qf&&(Qf=!1,E1(r));break;case 4:c=Qn,Qn=Tu(r.stateNode.containerInfo),Nn(i,r),An(r),Qn=c;break;case 12:Nn(i,r),An(r);break;case 13:Nn(i,r),An(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(nm=In()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Zf(r,c)));break;case 22:d=r.memoizedState!==null;var _=o!==null&&o.memoizedState!==null,O=Vr,B=bt;if(Vr=O||d,bt=B||_,Nn(i,r),bt=B,Vr=O,An(r),c&8192)e:for(i=r.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(o===null||_||Vr||bt||vi(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){_=o=i;try{if(h=_.stateNode,d)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=_.stateNode;var F=_.memoizedProps.style,j=F!=null&&F.hasOwnProperty("display")?F.display:null;w.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(M){tt(_,_.return,M)}}}else if(i.tag===6){if(o===null){_=i;try{_.stateNode.nodeValue=d?"":_.memoizedProps}catch(M){tt(_,_.return,M)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Zf(r,o))));break;case 19:Nn(i,r),An(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Zf(r,c)));break;case 30:break;case 21:break;default:Nn(i,r),An(r)}}function An(r){var i=r.flags;if(i&2){try{for(var o,c=r.return;c!==null;){if(m1(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,h=Kf(r);hu(r,h,d);break;case 5:var v=o.stateNode;o.flags&32&&(Ji(v,""),o.flags&=-33);var w=Kf(r);hu(r,w,v);break;case 3:case 4:var _=o.stateNode.containerInfo,O=Kf(r);Yf(r,O,_);break;default:throw Error(s(161))}}catch(B){tt(r,r.return,B)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function E1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;E1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function xs(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)y1(r,i.alternate,i),i=i.sibling}function vi(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:vs(4,i,i.return),vi(i);break;case 1:lr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&h1(i,i.return,o),vi(i);break;case 27:nl(i.stateNode);case 26:case 5:lr(i,i.return),vi(i);break;case 22:i.memoizedState===null&&vi(i);break;case 30:vi(i);break;default:vi(i)}r=r.sibling}}function bs(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,d=r,h=i,v=h.flags;switch(h.tag){case 0:case 11:case 15:bs(d,h,o),Go(4,h);break;case 1:if(bs(d,h,o),c=h,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(O){tt(c,c.return,O)}if(c=h,d=c.updateQueue,d!==null){var w=c.stateNode;try{var _=d.shared.hiddenCallbacks;if(_!==null)for(d.shared.hiddenCallbacks=null,d=0;d<_.length;d++)Xy(_[d],w)}catch(O){tt(c,c.return,O)}}o&&v&64&&d1(h),Ko(h,h.return);break;case 27:g1(h);case 26:case 5:bs(d,h,o),o&&c===null&&v&4&&f1(h),Ko(h,h.return);break;case 12:bs(d,h,o);break;case 13:bs(d,h,o),o&&v&4&&b1(d,h);break;case 22:h.memoizedState===null&&bs(d,h,o),Ko(h,h.return);break;case 30:break;default:bs(d,h,o)}i=i.sibling}}function Xf(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Do(o))}function Wf(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Do(r))}function cr(r,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_1(r,i,o,c),i=i.sibling}function _1(r,i,o,c){var d=i.flags;switch(i.tag){case 0:case 11:case 15:cr(r,i,o,c),d&2048&&Go(9,i);break;case 1:cr(r,i,o,c);break;case 3:cr(r,i,o,c),d&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Do(r)));break;case 12:if(d&2048){cr(r,i,o,c),r=i.stateNode;try{var h=i.memoizedProps,v=h.id,w=h.onPostCommit;typeof w=="function"&&w(v,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(_){tt(i,i.return,_)}}else cr(r,i,o,c);break;case 13:cr(r,i,o,c);break;case 23:break;case 22:h=i.stateNode,v=i.alternate,i.memoizedState!==null?h._visibility&2?cr(r,i,o,c):Yo(r,i):h._visibility&2?cr(r,i,o,c):(h._visibility|=2,va(r,i,o,c,(i.subtreeFlags&10256)!==0)),d&2048&&Xf(v,i);break;case 24:cr(r,i,o,c),d&2048&&Wf(i.alternate,i);break;default:cr(r,i,o,c)}}function va(r,i,o,c,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var h=r,v=i,w=o,_=c,O=v.flags;switch(v.tag){case 0:case 11:case 15:va(h,v,w,_,d),Go(8,v);break;case 23:break;case 22:var B=v.stateNode;v.memoizedState!==null?B._visibility&2?va(h,v,w,_,d):Yo(h,v):(B._visibility|=2,va(h,v,w,_,d)),d&&O&2048&&Xf(v.alternate,v);break;case 24:va(h,v,w,_,d),d&&O&2048&&Wf(v.alternate,v);break;default:va(h,v,w,_,d)}i=i.sibling}}function Yo(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,c=i,d=c.flags;switch(c.tag){case 22:Yo(o,c),d&2048&&Xf(c.alternate,c);break;case 24:Yo(o,c),d&2048&&Wf(c.alternate,c);break;default:Yo(o,c)}i=i.sibling}}var Qo=8192;function xa(r){if(r.subtreeFlags&Qo)for(r=r.child;r!==null;)S1(r),r=r.sibling}function S1(r){switch(r.tag){case 26:xa(r),r.flags&Qo&&r.memoizedState!==null&&iT(Qn,r.memoizedState,r.memoizedProps);break;case 5:xa(r);break;case 3:case 4:var i=Qn;Qn=Tu(r.stateNode.containerInfo),xa(r),Qn=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Qo,Qo=16777216,xa(r),Qo=i):xa(r));break;default:xa(r)}}function T1(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Zo(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Ut=c,A1(c,r)}T1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)N1(r),r=r.sibling}function N1(r){switch(r.tag){case 0:case 11:case 15:Zo(r),r.flags&2048&&vs(9,r,r.return);break;case 3:Zo(r);break;case 12:Zo(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,fu(r)):Zo(r);break;default:Zo(r)}}function fu(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Ut=c,A1(c,r)}T1(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:vs(8,i,i.return),fu(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,fu(i));break;default:fu(i)}r=r.sibling}}function A1(r,i){for(;Ut!==null;){var o=Ut;switch(o.tag){case 0:case 11:case 15:vs(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Do(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Ut=c;else e:for(o=r;Ut!==null;){c=Ut;var d=c.sibling,h=c.return;if(v1(c),c===o){Ut=null;break e}if(d!==null){d.return=h,Ut=d;break e}Ut=h}}}var wS={getCacheForType:function(r){var i=Zt(Rt),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o}},ES=typeof WeakMap=="function"?WeakMap:Map,Qe=0,rt=null,Le=null,ze=0,Ze=0,kn=null,ws=!1,ba=!1,Jf=!1,Pr=0,gt=0,Es=0,xi=0,em=0,Fn=0,wa=0,Xo=null,xn=null,tm=!1,nm=0,mu=1/0,gu=null,_s=null,Ft=0,Ss=null,Ea=null,_a=0,rm=0,sm=null,k1=null,Wo=0,im=null;function Cn(){if((Qe&2)!==0&&ze!==0)return ze&-ze;if(L.T!==null){var r=ua;return r!==0?r:hm()}return qp()}function C1(){Fn===0&&(Fn=(ze&536870912)===0||Ke?Pp():536870912);var r=Hn.current;return r!==null&&(r.flags|=32),Fn}function Rn(r,i,o){(r===rt&&(Ze===2||Ze===9)||r.cancelPendingCommit!==null)&&(Sa(r,0),Ts(r,ze,Fn,!1)),po(r,o),((Qe&2)===0||r!==rt)&&(r===rt&&((Qe&2)===0&&(xi|=o),gt===4&&Ts(r,ze,Fn,!1)),ur(r))}function R1(r,i,o){if((Qe&6)!==0)throw Error(s(327));var c=!o&&(i&124)===0&&(i&r.expiredLanes)===0||ri(r,i),d=c?TS(r,i):lm(r,i,!0),h=c;do{if(d===0){ba&&!c&&Ts(r,i,0,!1);break}else{if(o=r.current.alternate,h&&!_S(o)){d=lm(r,i,!1),h=!1;continue}if(d===2){if(h=i,r.errorRecoveryDisabledLanes&h)var v=0;else v=r.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var w=r;d=Xo;var _=w.current.memoizedState.isDehydrated;if(_&&(Sa(w,v).flags|=256),v=lm(w,v,!1),v!==2){if(Jf&&!_){w.errorRecoveryDisabledLanes|=h,xi|=h,d=4;break e}h=xn,xn=d,h!==null&&(xn===null?xn=h:xn.push.apply(xn,h))}d=v}if(h=!1,d!==2)continue}}if(d===1){Sa(r,0),Ts(r,i,0,!0);break}e:{switch(c=r,h=d,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ts(c,i,Fn,!ws);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=nm+300-In(),10<d)){if(Ts(c,i,Fn,!ws),ni(c,0,!0)!==0)break e;c.timeoutHandle=i2(O1.bind(null,c,o,xn,gu,tm,i,Fn,xi,wa,ws,h,2,-0,0),d);break e}O1(c,o,xn,gu,tm,i,Fn,xi,wa,ws,h,0,-0,0)}}break}while(!0);ur(r)}function O1(r,i,o,c,d,h,v,w,_,O,B,F,j,M){if(r.timeoutHandle=-1,F=i.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(il={stylesheets:null,count:0,unsuspend:sT},S1(i),F=aT(),F!==null)){r.cancelPendingCommit=F(V1.bind(null,r,i,h,o,c,d,v,w,_,B,1,j,M)),Ts(r,h,v,!O);return}V1(r,i,h,o,c,d,v,w,_)}function _S(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],h=d.getSnapshot;d=d.value;try{if(!Sn(h(),d))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ts(r,i,o,c){i&=~em,i&=~xi,r.suspendedLanes|=i,r.pingedLanes&=~i,c&&(r.warmLanes|=i),c=r.expirationTimes;for(var d=i;0<d;){var h=31-nt(d),v=1<<h;c[h]=-1,d&=~v}o!==0&&Hp(r,o,i)}function pu(){return(Qe&6)===0?(Jo(0),!1):!0}function am(){if(Le!==null){if(Ze===0)var r=Le.return;else r=Le,Dr=fi=null,_f(r),pa=null,Fo=0,r=Le;for(;r!==null;)u1(r.alternate,r),r=r.return;Le=null}}function Sa(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,zS(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),am(),rt=r,Le=o=Cr(r.current,null),ze=i,Ze=0,kn=null,ws=!1,ba=ri(r,i),Jf=!1,wa=Fn=em=xi=Es=gt=0,xn=Xo=null,tm=!1,(i&8)!==0&&(i|=i&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=i;0<c;){var d=31-nt(c),h=1<<d;i|=r[d],c&=~h}return Pr=i,Vc(),o}function D1(r,i){De=null,L.H=ru,i===Mo||i===Kc?(i=Qy(),Ze=3):i===Gy?(i=Qy(),Ze=4):Ze=i===Zv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,kn=i,Le===null&&(gt=1,lu(r,Vn(i,r.current)))}function j1(){var r=L.H;return L.H=ru,r===null?ru:r}function M1(){var r=L.A;return L.A=wS,r}function om(){gt=4,ws||(ze&4194048)!==ze&&Hn.current!==null||(ba=!0),(Es&134217727)===0&&(xi&134217727)===0||rt===null||Ts(rt,ze,Fn,!1)}function lm(r,i,o){var c=Qe;Qe|=2;var d=j1(),h=M1();(rt!==r||ze!==i)&&(gu=null,Sa(r,i)),i=!1;var v=gt;e:do try{if(Ze!==0&&Le!==null){var w=Le,_=kn;switch(Ze){case 8:am(),v=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(i=!0);var O=Ze;if(Ze=0,kn=null,Ta(r,w,_,O),o&&ba){v=0;break e}break;default:O=Ze,Ze=0,kn=null,Ta(r,w,_,O)}}SS(),v=gt;break}catch(B){D1(r,B)}while(!0);return i&&r.shellSuspendCounter++,Dr=fi=null,Qe=c,L.H=d,L.A=h,Le===null&&(rt=null,ze=0,Vc()),v}function SS(){for(;Le!==null;)I1(Le)}function TS(r,i){var o=Qe;Qe|=2;var c=j1(),d=M1();rt!==r||ze!==i?(gu=null,mu=In()+500,Sa(r,i)):ba=ri(r,i);e:do try{if(Ze!==0&&Le!==null){i=Le;var h=kn;t:switch(Ze){case 1:Ze=0,kn=null,Ta(r,i,h,1);break;case 2:case 9:if(Ky(h)){Ze=0,kn=null,L1(i);break}i=function(){Ze!==2&&Ze!==9||rt!==r||(Ze=7),ur(r)},h.then(i,i);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Ky(h)?(Ze=0,kn=null,L1(i)):(Ze=0,kn=null,Ta(r,i,h,7));break;case 5:var v=null;switch(Le.tag){case 26:v=Le.memoizedState;case 5:case 27:var w=Le;if(!v||y2(v)){Ze=0,kn=null;var _=w.sibling;if(_!==null)Le=_;else{var O=w.return;O!==null?(Le=O,yu(O)):Le=null}break t}}Ze=0,kn=null,Ta(r,i,h,5);break;case 6:Ze=0,kn=null,Ta(r,i,h,6);break;case 8:am(),gt=6;break e;default:throw Error(s(462))}}NS();break}catch(B){D1(r,B)}while(!0);return Dr=fi=null,L.H=c,L.A=d,Qe=o,Le!==null?0:(rt=null,ze=0,Vc(),gt)}function NS(){for(;Le!==null&&!_n();)I1(Le)}function I1(r){var i=l1(r.alternate,r,Pr);r.memoizedProps=r.pendingProps,i===null?yu(r):Le=i}function L1(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=n1(o,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=n1(o,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:_f(i);default:u1(o,i),i=Le=Uy(i,Pr),i=l1(o,i,Pr)}r.memoizedProps=r.pendingProps,i===null?yu(r):Le=i}function Ta(r,i,o,c){Dr=fi=null,_f(i),pa=null,Fo=0;var d=i.return;try{if(gS(r,d,i,o,ze)){gt=1,lu(r,Vn(o,r.current)),Le=null;return}}catch(h){if(d!==null)throw Le=d,h;gt=1,lu(r,Vn(o,r.current)),Le=null;return}i.flags&32768?(Ke||c===1?r=!0:ba||(ze&536870912)!==0?r=!1:(ws=r=!0,(c===2||c===9||c===3||c===6)&&(c=Hn.current,c!==null&&c.tag===13&&(c.flags|=16384))),U1(i,r)):yu(i)}function yu(r){var i=r;do{if((i.flags&32768)!==0){U1(i,ws);return}r=i.return;var o=yS(i.alternate,i,Pr);if(o!==null){Le=o;return}if(i=i.sibling,i!==null){Le=i;return}Le=i=r}while(i!==null);gt===0&&(gt=5)}function U1(r,i){do{var o=vS(r.alternate,r);if(o!==null){o.flags&=32767,Le=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){Le=r;return}Le=r=o}while(r!==null);gt=6,Le=null}function V1(r,i,o,c,d,h,v,w,_){r.cancelPendingCommit=null;do vu();while(Ft!==0);if((Qe&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(h=i.lanes|i.childLanes,h|=Xh,s_(r,o,h,v,w,_),r===rt&&(Le=rt=null,ze=0),Ea=i,Ss=r,_a=o,rm=h,sm=d,k1=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,RS(D,function(){return F1(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=L.T,L.T=null,d=Q.p,Q.p=2,v=Qe,Qe|=4;try{xS(r,i,o)}finally{Qe=v,Q.p=d,L.T=c}}Ft=1,B1(),P1(),z1()}}function B1(){if(Ft===1){Ft=0;var r=Ss,i=Ea,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=L.T,L.T=null;var c=Q.p;Q.p=2;var d=Qe;Qe|=4;try{w1(i,r);var h=bm,v=Ay(r.containerInfo),w=h.focusedElem,_=h.selectionRange;if(v!==w&&w&&w.ownerDocument&&Ny(w.ownerDocument.documentElement,w)){if(_!==null&&Gh(w)){var O=_.start,B=_.end;if(B===void 0&&(B=O),"selectionStart"in w)w.selectionStart=O,w.selectionEnd=Math.min(B,w.value.length);else{var F=w.ownerDocument||document,j=F&&F.defaultView||window;if(j.getSelection){var M=j.getSelection(),be=w.textContent.length,pe=Math.min(_.start,be),et=_.end===void 0?pe:Math.min(_.end,be);!M.extend&&pe>et&&(v=et,et=pe,pe=v);var k=Ty(w,pe),A=Ty(w,et);if(k&&A&&(M.rangeCount!==1||M.anchorNode!==k.node||M.anchorOffset!==k.offset||M.focusNode!==A.node||M.focusOffset!==A.offset)){var C=F.createRange();C.setStart(k.node,k.offset),M.removeAllRanges(),pe>et?(M.addRange(C),M.extend(A.node,A.offset)):(C.setEnd(A.node,A.offset),M.addRange(C))}}}}for(F=[],M=w;M=M.parentNode;)M.nodeType===1&&F.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<F.length;w++){var H=F[w];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}Ru=!!xm,bm=xm=null}finally{Qe=d,Q.p=c,L.T=o}}r.current=i,Ft=2}}function P1(){if(Ft===2){Ft=0;var r=Ss,i=Ea,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=L.T,L.T=null;var c=Q.p;Q.p=2;var d=Qe;Qe|=4;try{y1(r,i.alternate,i)}finally{Qe=d,Q.p=c,L.T=o}}Ft=3}}function z1(){if(Ft===4||Ft===3){Ft=0,mo();var r=Ss,i=Ea,o=_a,c=k1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ft=5:(Ft=0,Ea=Ss=null,H1(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(_s=null),Th(o),i=i.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(le,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=L.T,d=Q.p,Q.p=2,L.T=null;try{for(var h=r.onRecoverableError,v=0;v<c.length;v++){var w=c[v];h(w.value,{componentStack:w.stack})}}finally{L.T=i,Q.p=d}}(_a&3)!==0&&vu(),ur(r),d=r.pendingLanes,(o&4194090)!==0&&(d&42)!==0?r===im?Wo++:(Wo=0,im=r):Wo=0,Jo(0)}}function H1(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Do(i)))}function vu(r){return B1(),P1(),z1(),F1()}function F1(){if(Ft!==5)return!1;var r=Ss,i=rm;rm=0;var o=Th(_a),c=L.T,d=Q.p;try{Q.p=32>o?32:o,L.T=null,o=sm,sm=null;var h=Ss,v=_a;if(Ft=0,Ea=Ss=null,_a=0,(Qe&6)!==0)throw Error(s(331));var w=Qe;if(Qe|=4,N1(h.current),_1(h,h.current,v,o),Qe=w,Jo(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(le,h)}catch{}return!0}finally{Q.p=d,L.T=c,H1(r,i)}}function q1(r,i,o){i=Vn(o,i),i=Uf(r.stateNode,i,2),r=ms(r,i,2),r!==null&&(po(r,2),ur(r))}function tt(r,i,o){if(r.tag===3)q1(r,r,o);else for(;i!==null;){if(i.tag===3){q1(i,r,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(_s===null||!_s.has(c))){r=Vn(o,r),o=Yv(2),c=ms(i,o,2),c!==null&&(Qv(o,c,i,r),po(c,2),ur(c));break}}i=i.return}}function cm(r,i,o){var c=r.pingCache;if(c===null){c=r.pingCache=new ES;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(o)||(Jf=!0,d.add(o),r=AS.bind(null,r,i,o),i.then(r,r))}function AS(r,i,o){var c=r.pingCache;c!==null&&c.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,rt===r&&(ze&o)===o&&(gt===4||gt===3&&(ze&62914560)===ze&&300>In()-nm?(Qe&2)===0&&Sa(r,0):em|=o,wa===ze&&(wa=0)),ur(r)}function $1(r,i){i===0&&(i=zp()),r=aa(r,i),r!==null&&(po(r,i),ur(r))}function kS(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),$1(r,o)}function CS(r,i){var o=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(i),$1(r,o)}function RS(r,i){return lt(r,i)}var xu=null,Na=null,um=!1,bu=!1,dm=!1,bi=0;function ur(r){r!==Na&&r.next===null&&(Na===null?xu=Na=r:Na=Na.next=r),bu=!0,um||(um=!0,DS())}function Jo(r,i){if(!dm&&bu){dm=!0;do for(var o=!1,c=xu;c!==null;){if(r!==0){var d=c.pendingLanes;if(d===0)var h=0;else{var v=c.suspendedLanes,w=c.pingedLanes;h=(1<<31-nt(42|r)+1)-1,h&=d&~(v&~w),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(o=!0,Q1(c,h))}else h=ze,h=ni(c,c===rt?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(h&3)===0||ri(c,h)||(o=!0,Q1(c,h));c=c.next}while(o);dm=!1}}function OS(){G1()}function G1(){bu=um=!1;var r=0;bi!==0&&(PS()&&(r=bi),bi=0);for(var i=In(),o=null,c=xu;c!==null;){var d=c.next,h=K1(c,i);h===0?(c.next=null,o===null?xu=d:o.next=d,d===null&&(Na=o)):(o=c,(r!==0||(h&3)!==0)&&(bu=!0)),c=d}Jo(r)}function K1(r,i){for(var o=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,h=r.pendingLanes&-62914561;0<h;){var v=31-nt(h),w=1<<v,_=d[v];_===-1?((w&o)===0||(w&c)!==0)&&(d[v]=Nc(w,i)):_<=i&&(r.expiredLanes|=w),h&=~w}if(i=rt,o=ze,o=ni(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===i&&(Ze===2||Ze===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&ft(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||ri(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(c!==null&&ft(c),Th(o)){case 2:case 8:o=T;break;case 32:o=D;break;case 268435456:o=re;break;default:o=D}return c=Y1.bind(null,r),o=lt(o,c),r.callbackPriority=i,r.callbackNode=o,i}return c!==null&&c!==null&&ft(c),r.callbackPriority=2,r.callbackNode=null,2}function Y1(r,i){if(Ft!==0&&Ft!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(vu()&&r.callbackNode!==o)return null;var c=ze;return c=ni(r,r===rt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(R1(r,c,i),K1(r,In()),r.callbackNode!=null&&r.callbackNode===o?Y1.bind(null,r):null)}function Q1(r,i){if(vu())return null;R1(r,i,!0)}function DS(){HS(function(){(Qe&6)!==0?lt(go,OS):G1()})}function hm(){return bi===0&&(bi=Pp()),bi}function Z1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Oc(""+r)}function X1(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function jS(r,i,o,c,d){if(i==="submit"&&o&&o.stateNode===d){var h=Z1((d[gn]||null).action),v=c.submitter;v&&(i=(i=v[gn]||null)?Z1(i.formAction):v.getAttribute("formAction"),i!==null&&(h=i,v=null));var w=new Ic("action","action",null,c,d);r.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(bi!==0){var _=v?X1(d,v):new FormData(d);Df(o,{pending:!0,data:_,method:d.method,action:h},null,_)}}else typeof h=="function"&&(w.preventDefault(),_=v?X1(d,v):new FormData(d),Df(o,{pending:!0,data:_,method:d.method,action:h},h,_))},currentTarget:d}]})}}for(var fm=0;fm<Zh.length;fm++){var mm=Zh[fm],MS=mm.toLowerCase(),IS=mm[0].toUpperCase()+mm.slice(1);Yn(MS,"on"+IS)}Yn(Ry,"onAnimationEnd"),Yn(Oy,"onAnimationIteration"),Yn(Dy,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(W_,"onTransitionRun"),Yn(J_,"onTransitionStart"),Yn(eS,"onTransitionCancel"),Yn(jy,"onTransitionEnd"),Zi("onMouseEnter",["mouseout","mouseover"]),Zi("onMouseLeave",["mouseout","mouseover"]),Zi("onPointerEnter",["pointerout","pointerover"]),Zi("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(el));function W1(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],d=c.event;c=c.listeners;e:{var h=void 0;if(i)for(var v=c.length-1;0<=v;v--){var w=c[v],_=w.instance,O=w.currentTarget;if(w=w.listener,_!==h&&d.isPropagationStopped())break e;h=w,d.currentTarget=O;try{h(d)}catch(B){ou(B)}d.currentTarget=null,h=_}else for(v=0;v<c.length;v++){if(w=c[v],_=w.instance,O=w.currentTarget,w=w.listener,_!==h&&d.isPropagationStopped())break e;h=w,d.currentTarget=O;try{h(d)}catch(B){ou(B)}d.currentTarget=null,h=_}}}}function Ue(r,i){var o=i[Nh];o===void 0&&(o=i[Nh]=new Set);var c=r+"__bubble";o.has(c)||(J1(i,r,2,!1),o.add(c))}function gm(r,i,o){var c=0;i&&(c|=4),J1(o,r,c,i)}var wu="_reactListening"+Math.random().toString(36).slice(2);function pm(r){if(!r[wu]){r[wu]=!0,Gp.forEach(function(o){o!=="selectionchange"&&(LS.has(o)||gm(o,!1,r),gm(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[wu]||(i[wu]=!0,gm("selectionchange",!1,i))}}function J1(r,i,o,c){switch(_2(i)){case 2:var d=cT;break;case 8:d=uT;break;default:d=Rm}o=d.bind(null,i,o,r),d=void 0,!Uh||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(i,o,{capture:!0,passive:d}):r.addEventListener(i,o,!0):d!==void 0?r.addEventListener(i,o,{passive:d}):r.addEventListener(i,o,!1)}function ym(r,i,o,c,d){var h=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var w=c.stateNode.containerInfo;if(w===d)break;if(v===4)for(v=c.return;v!==null;){var _=v.tag;if((_===3||_===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;w!==null;){if(v=Ki(w),v===null)return;if(_=v.tag,_===5||_===6||_===26||_===27){c=h=v;continue e}w=w.parentNode}}c=c.return}ay(function(){var O=h,B=Ih(o),F=[];e:{var j=My.get(r);if(j!==void 0){var M=Ic,be=r;switch(r){case"keypress":if(jc(o)===0)break e;case"keydown":case"keyup":M=R_;break;case"focusin":be="focus",M=zh;break;case"focusout":be="blur",M=zh;break;case"beforeblur":case"afterblur":M=zh;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=cy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=v_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=j_;break;case Ry:case Oy:case Dy:M=w_;break;case jy:M=I_;break;case"scroll":case"scrollend":M=p_;break;case"wheel":M=U_;break;case"copy":case"cut":case"paste":M=__;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=dy;break;case"toggle":case"beforetoggle":M=B_}var pe=(i&4)!==0,et=!pe&&(r==="scroll"||r==="scrollend"),k=pe?j!==null?j+"Capture":null:j;pe=[];for(var A=O,C;A!==null;){var H=A;if(C=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||C===null||k===null||(H=xo(A,k),H!=null&&pe.push(tl(A,H,C))),et)break;A=A.return}0<pe.length&&(j=new M(j,be,null,o,B),F.push({event:j,listeners:pe}))}}if((i&7)===0){e:{if(j=r==="mouseover"||r==="pointerover",M=r==="mouseout"||r==="pointerout",j&&o!==Mh&&(be=o.relatedTarget||o.fromElement)&&(Ki(be)||be[Gi]))break e;if((M||j)&&(j=B.window===B?B:(j=B.ownerDocument)?j.defaultView||j.parentWindow:window,M?(be=o.relatedTarget||o.toElement,M=O,be=be?Ki(be):null,be!==null&&(et=l(be),pe=be.tag,be!==et||pe!==5&&pe!==27&&pe!==6)&&(be=null)):(M=null,be=O),M!==be)){if(pe=cy,H="onMouseLeave",k="onMouseEnter",A="mouse",(r==="pointerout"||r==="pointerover")&&(pe=dy,H="onPointerLeave",k="onPointerEnter",A="pointer"),et=M==null?j:vo(M),C=be==null?j:vo(be),j=new pe(H,A+"leave",M,o,B),j.target=et,j.relatedTarget=C,H=null,Ki(B)===O&&(pe=new pe(k,A+"enter",be,o,B),pe.target=C,pe.relatedTarget=et,H=pe),et=H,M&&be)t:{for(pe=M,k=be,A=0,C=pe;C;C=Aa(C))A++;for(C=0,H=k;H;H=Aa(H))C++;for(;0<A-C;)pe=Aa(pe),A--;for(;0<C-A;)k=Aa(k),C--;for(;A--;){if(pe===k||k!==null&&pe===k.alternate)break t;pe=Aa(pe),k=Aa(k)}pe=null}else pe=null;M!==null&&e2(F,j,M,pe,!1),be!==null&&et!==null&&e2(F,et,be,pe,!0)}}e:{if(j=O?vo(O):window,M=j.nodeName&&j.nodeName.toLowerCase(),M==="select"||M==="input"&&j.type==="file")var ae=xy;else if(yy(j))if(by)ae=Q_;else{ae=K_;var Me=G_}else M=j.nodeName,!M||M.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?O&&jh(O.elementType)&&(ae=xy):ae=Y_;if(ae&&(ae=ae(r,O))){vy(F,ae,o,B);break e}Me&&Me(r,j,O),r==="focusout"&&O&&j.type==="number"&&O.memoizedProps.value!=null&&Dh(j,"number",j.value)}switch(Me=O?vo(O):window,r){case"focusin":(yy(Me)||Me.contentEditable==="true")&&(ra=Me,Kh=O,Ao=null);break;case"focusout":Ao=Kh=ra=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,ky(F,o,B);break;case"selectionchange":if(X_)break;case"keydown":case"keyup":ky(F,o,B)}var fe;if(Fh)e:{switch(r){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else na?gy(r,o)&&(ye="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(ye="onCompositionStart");ye&&(hy&&o.locale!=="ko"&&(na||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&na&&(fe=oy()):(us=B,Vh="value"in us?us.value:us.textContent,na=!0)),Me=Eu(O,ye),0<Me.length&&(ye=new uy(ye,r,null,o,B),F.push({event:ye,listeners:Me}),fe?ye.data=fe:(fe=py(o),fe!==null&&(ye.data=fe)))),(fe=z_?H_(r,o):F_(r,o))&&(ye=Eu(O,"onBeforeInput"),0<ye.length&&(Me=new uy("onBeforeInput","beforeinput",null,o,B),F.push({event:Me,listeners:ye}),Me.data=fe)),jS(F,r,O,o,B)}W1(F,i)})}function tl(r,i,o){return{instance:r,listener:i,currentTarget:o}}function Eu(r,i){for(var o=i+"Capture",c=[];r!==null;){var d=r,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=xo(r,o),d!=null&&c.unshift(tl(r,d,h)),d=xo(r,i),d!=null&&c.push(tl(r,d,h))),r.tag===3)return c;r=r.return}return[]}function Aa(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function e2(r,i,o,c,d){for(var h=i._reactName,v=[];o!==null&&o!==c;){var w=o,_=w.alternate,O=w.stateNode;if(w=w.tag,_!==null&&_===c)break;w!==5&&w!==26&&w!==27||O===null||(_=O,d?(O=xo(o,h),O!=null&&v.unshift(tl(o,O,_))):d||(O=xo(o,h),O!=null&&v.push(tl(o,O,_)))),o=o.return}v.length!==0&&r.push({event:i,listeners:v})}var US=/\r\n?/g,VS=/\u0000|\uFFFD/g;function t2(r){return(typeof r=="string"?r:""+r).replace(US,`
`).replace(VS,"")}function n2(r,i){return i=t2(i),t2(r)===i}function _u(){}function Je(r,i,o,c,d,h){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Ji(r,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Ji(r,""+c);break;case"className":kc(r,"class",c);break;case"tabIndex":kc(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":kc(r,o,c);break;case"style":sy(r,c,h);break;case"data":if(i!=="object"){kc(r,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Oc(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(o==="formAction"?(i!=="input"&&Je(r,i,"name",d.name,d,null),Je(r,i,"formEncType",d.formEncType,d,null),Je(r,i,"formMethod",d.formMethod,d,null),Je(r,i,"formTarget",d.formTarget,d,null)):(Je(r,i,"encType",d.encType,d,null),Je(r,i,"method",d.method,d,null),Je(r,i,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Oc(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=_u);break;case"onScroll":c!=null&&Ue("scroll",r);break;case"onScrollEnd":c!=null&&Ue("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=Oc(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Ue("beforetoggle",r),Ue("toggle",r),Ac(r,"popover",c);break;case"xlinkActuate":Ar(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ar(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ar(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ar(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ar(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ar(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ar(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ar(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ar(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ac(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=m_.get(o)||o,Ac(r,o,c))}}function vm(r,i,o,c,d,h){switch(o){case"style":sy(r,c,h);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Ji(r,c):(typeof c=="number"||typeof c=="bigint")&&Ji(r,""+c);break;case"onScroll":c!=null&&Ue("scroll",r);break;case"onScrollEnd":c!=null&&Ue("scrollend",r);break;case"onClick":c!=null&&(r.onclick=_u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kp.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),i=o.slice(2,d?o.length-7:void 0),h=r[gn]||null,h=h!=null?h[o]:null,typeof h=="function"&&r.removeEventListener(i,h,d),typeof c=="function")){typeof h!="function"&&h!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,c,d);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):Ac(r,o,c)}}}function qt(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",r),Ue("load",r);var c=!1,d=!1,h;for(h in o)if(o.hasOwnProperty(h)){var v=o[h];if(v!=null)switch(h){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(r,i,h,v,o,null)}}d&&Je(r,i,"srcSet",o.srcSet,o,null),c&&Je(r,i,"src",o.src,o,null);return;case"input":Ue("invalid",r);var w=h=v=d=null,_=null,O=null;for(c in o)if(o.hasOwnProperty(c)){var B=o[c];if(B!=null)switch(c){case"name":d=B;break;case"type":v=B;break;case"checked":_=B;break;case"defaultChecked":O=B;break;case"value":h=B;break;case"defaultValue":w=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Je(r,i,c,B,o,null)}}ey(r,h,w,_,O,v,d,!1),Cc(r);return;case"select":Ue("invalid",r),c=v=h=null;for(d in o)if(o.hasOwnProperty(d)&&(w=o[d],w!=null))switch(d){case"value":h=w;break;case"defaultValue":v=w;break;case"multiple":c=w;default:Je(r,i,d,w,o,null)}i=h,o=v,r.multiple=!!c,i!=null?Wi(r,!!c,i,!1):o!=null&&Wi(r,!!c,o,!0);return;case"textarea":Ue("invalid",r),h=d=c=null;for(v in o)if(o.hasOwnProperty(v)&&(w=o[v],w!=null))switch(v){case"value":c=w;break;case"defaultValue":d=w;break;case"children":h=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Je(r,i,v,w,o,null)}ny(r,c,d,h),Cc(r);return;case"option":for(_ in o)if(o.hasOwnProperty(_)&&(c=o[_],c!=null))switch(_){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Je(r,i,_,c,o,null)}return;case"dialog":Ue("beforetoggle",r),Ue("toggle",r),Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":Ue("load",r);break;case"video":case"audio":for(c=0;c<el.length;c++)Ue(el[c],r);break;case"image":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"embed":case"source":case"link":Ue("error",r),Ue("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in o)if(o.hasOwnProperty(O)&&(c=o[O],c!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(r,i,O,c,o,null)}return;default:if(jh(i)){for(B in o)o.hasOwnProperty(B)&&(c=o[B],c!==void 0&&vm(r,i,B,c,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(c=o[w],c!=null&&Je(r,i,w,c,o,null))}function BS(r,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,v=null,w=null,_=null,O=null,B=null;for(M in o){var F=o[M];if(o.hasOwnProperty(M)&&F!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":_=F;default:c.hasOwnProperty(M)||Je(r,i,M,null,c,F)}}for(var j in c){var M=c[j];if(F=o[j],c.hasOwnProperty(j)&&(M!=null||F!=null))switch(j){case"type":h=M;break;case"name":d=M;break;case"checked":O=M;break;case"defaultChecked":B=M;break;case"value":v=M;break;case"defaultValue":w=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(137,i));break;default:M!==F&&Je(r,i,j,M,c,F)}}Oh(r,v,w,_,O,B,h,d);return;case"select":M=v=w=j=null;for(h in o)if(_=o[h],o.hasOwnProperty(h)&&_!=null)switch(h){case"value":break;case"multiple":M=_;default:c.hasOwnProperty(h)||Je(r,i,h,null,c,_)}for(d in c)if(h=c[d],_=o[d],c.hasOwnProperty(d)&&(h!=null||_!=null))switch(d){case"value":j=h;break;case"defaultValue":w=h;break;case"multiple":v=h;default:h!==_&&Je(r,i,d,h,c,_)}i=w,o=v,c=M,j!=null?Wi(r,!!o,j,!1):!!c!=!!o&&(i!=null?Wi(r,!!o,i,!0):Wi(r,!!o,o?[]:"",!1));return;case"textarea":M=j=null;for(w in o)if(d=o[w],o.hasOwnProperty(w)&&d!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Je(r,i,w,null,c,d)}for(v in c)if(d=c[v],h=o[v],c.hasOwnProperty(v)&&(d!=null||h!=null))switch(v){case"value":j=d;break;case"defaultValue":M=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==h&&Je(r,i,v,d,c,h)}ty(r,j,M);return;case"option":for(var be in o)if(j=o[be],o.hasOwnProperty(be)&&j!=null&&!c.hasOwnProperty(be))switch(be){case"selected":r.selected=!1;break;default:Je(r,i,be,null,c,j)}for(_ in c)if(j=c[_],M=o[_],c.hasOwnProperty(_)&&j!==M&&(j!=null||M!=null))switch(_){case"selected":r.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Je(r,i,_,j,c,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in o)j=o[pe],o.hasOwnProperty(pe)&&j!=null&&!c.hasOwnProperty(pe)&&Je(r,i,pe,null,c,j);for(O in c)if(j=c[O],M=o[O],c.hasOwnProperty(O)&&j!==M&&(j!=null||M!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Je(r,i,O,j,c,M)}return;default:if(jh(i)){for(var et in o)j=o[et],o.hasOwnProperty(et)&&j!==void 0&&!c.hasOwnProperty(et)&&vm(r,i,et,void 0,c,j);for(B in c)j=c[B],M=o[B],!c.hasOwnProperty(B)||j===M||j===void 0&&M===void 0||vm(r,i,B,j,c,M);return}}for(var k in o)j=o[k],o.hasOwnProperty(k)&&j!=null&&!c.hasOwnProperty(k)&&Je(r,i,k,null,c,j);for(F in c)j=c[F],M=o[F],!c.hasOwnProperty(F)||j===M||j==null&&M==null||Je(r,i,F,j,c,M)}var xm=null,bm=null;function Su(r){return r.nodeType===9?r:r.ownerDocument}function r2(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s2(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function wm(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Em=null;function PS(){var r=window.event;return r&&r.type==="popstate"?r===Em?!1:(Em=r,!0):(Em=null,!1)}var i2=typeof setTimeout=="function"?setTimeout:void 0,zS=typeof clearTimeout=="function"?clearTimeout:void 0,a2=typeof Promise=="function"?Promise:void 0,HS=typeof queueMicrotask=="function"?queueMicrotask:typeof a2<"u"?function(r){return a2.resolve(null).then(r).catch(FS)}:i2;function FS(r){setTimeout(function(){throw r})}function Ns(r){return r==="head"}function o2(r,i){var o=i,c=0,d=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(0<c&&8>c){o=c;var v=r.ownerDocument;if(o&1&&nl(v.documentElement),o&2&&nl(v.body),o&4)for(o=v.head,nl(o),v=o.firstChild;v;){var w=v.nextSibling,_=v.nodeName;v[yo]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=w}}if(d===0){r.removeChild(h),ul(i);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:c=o.charCodeAt(0)-48;else c=0;o=h}while(o);ul(i)}function _m(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":_m(o),Ah(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function qS(r,i,o,c){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[yo])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(h=r.getAttribute("rel"),h==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(h!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(h=r.getAttribute("src"),(h!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===h)return r}else return r;if(r=Zn(r.nextSibling),r===null)break}return null}function $S(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Zn(r.nextSibling),r===null))return null;return r}function Sm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function GS(r,i){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Zn(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Tm=null;function l2(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return r;i--}else o==="/$"&&i++}r=r.previousSibling}return null}function c2(r,i,o){switch(i=Su(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function nl(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Ah(r)}var qn=new Map,u2=new Set;function Tu(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var zr=Q.d;Q.d={f:KS,r:YS,D:QS,C:ZS,L:XS,m:WS,X:eT,S:JS,M:tT};function KS(){var r=zr.f(),i=pu();return r||i}function YS(r){var i=Yi(r);i!==null&&i.tag===5&&i.type==="form"?Rv(i):zr.r(r)}var ka=typeof document>"u"?null:document;function d2(r,i,o){var c=ka;if(c&&typeof i=="string"&&i){var d=Un(i);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),u2.has(d)||(u2.add(d),r={rel:r,crossOrigin:o,href:i},c.querySelector(d)===null&&(i=c.createElement("link"),qt(i,"link",r),It(i),c.head.appendChild(i)))}}function QS(r){zr.D(r),d2("dns-prefetch",r,null)}function ZS(r,i){zr.C(r,i),d2("preconnect",r,i)}function XS(r,i,o){zr.L(r,i,o);var c=ka;if(c&&r&&i){var d='link[rel="preload"][as="'+Un(i)+'"]';i==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Un(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Un(o.imageSizes)+'"]')):d+='[href="'+Un(r)+'"]';var h=d;switch(i){case"style":h=Ca(r);break;case"script":h=Ra(r)}qn.has(h)||(r=x({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),qn.set(h,r),c.querySelector(d)!==null||i==="style"&&c.querySelector(rl(h))||i==="script"&&c.querySelector(sl(h))||(i=c.createElement("link"),qt(i,"link",r),It(i),c.head.appendChild(i)))}}function WS(r,i){zr.m(r,i);var o=ka;if(o&&r){var c=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Un(c)+'"][href="'+Un(r)+'"]',h=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Ra(r)}if(!qn.has(h)&&(r=x({rel:"modulepreload",href:r},i),qn.set(h,r),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(sl(h)))return}c=o.createElement("link"),qt(c,"link",r),It(c),o.head.appendChild(c)}}}function JS(r,i,o){zr.S(r,i,o);var c=ka;if(c&&r){var d=Qi(c).hoistableStyles,h=Ca(r);i=i||"default";var v=d.get(h);if(!v){var w={loading:0,preload:null};if(v=c.querySelector(rl(h)))w.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":i},o),(o=qn.get(h))&&Nm(r,o);var _=v=c.createElement("link");It(_),qt(_,"link",r),_._p=new Promise(function(O,B){_.onload=O,_.onerror=B}),_.addEventListener("load",function(){w.loading|=1}),_.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Nu(v,i,c)}v={type:"stylesheet",instance:v,count:1,state:w},d.set(h,v)}}}function eT(r,i){zr.X(r,i);var o=ka;if(o&&r){var c=Qi(o).hoistableScripts,d=Ra(r),h=c.get(d);h||(h=o.querySelector(sl(d)),h||(r=x({src:r,async:!0},i),(i=qn.get(d))&&Am(r,i),h=o.createElement("script"),It(h),qt(h,"link",r),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(d,h))}}function tT(r,i){zr.M(r,i);var o=ka;if(o&&r){var c=Qi(o).hoistableScripts,d=Ra(r),h=c.get(d);h||(h=o.querySelector(sl(d)),h||(r=x({src:r,async:!0,type:"module"},i),(i=qn.get(d))&&Am(r,i),h=o.createElement("script"),It(h),qt(h,"link",r),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(d,h))}}function h2(r,i,o,c){var d=(d=xe.current)?Tu(d):null;if(!d)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Ca(o.href),o=Qi(d).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Ca(o.href);var h=Qi(d).hoistableStyles,v=h.get(r);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(r,v),(h=d.querySelector(rl(r)))&&!h._p&&(v.instance=h,v.state.loading=5),qn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},qn.set(r,o),h||nT(d,r,o,v.state))),i&&c===null)throw Error(s(528,""));return v}if(i&&c!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ra(o),o=Qi(d).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Ca(r){return'href="'+Un(r)+'"'}function rl(r){return'link[rel="stylesheet"]['+r+"]"}function f2(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function nT(r,i,o,c){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=r.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),qt(i,"link",o),It(i),r.head.appendChild(i))}function Ra(r){return'[src="'+Un(r)+'"]'}function sl(r){return"script[async]"+r}function m2(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=r.querySelector('style[data-href~="'+Un(o.href)+'"]');if(c)return i.instance=c,It(c),c;var d=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),It(c),qt(c,"style",d),Nu(c,o.precedence,r),i.instance=c;case"stylesheet":d=Ca(o.href);var h=r.querySelector(rl(d));if(h)return i.state.loading|=4,i.instance=h,It(h),h;c=f2(o),(d=qn.get(d))&&Nm(c,d),h=(r.ownerDocument||r).createElement("link"),It(h);var v=h;return v._p=new Promise(function(w,_){v.onload=w,v.onerror=_}),qt(h,"link",c),i.state.loading|=4,Nu(h,o.precedence,r),i.instance=h;case"script":return h=Ra(o.src),(d=r.querySelector(sl(h)))?(i.instance=d,It(d),d):(c=o,(d=qn.get(h))&&(c=x({},o),Am(c,d)),r=r.ownerDocument||r,d=r.createElement("script"),It(d),qt(d,"link",c),r.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Nu(c,o.precedence,r));return i.instance}function Nu(r,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,h=d,v=0;v<c.length;v++){var w=c[v];if(w.dataset.precedence===i)h=w;else if(h!==d)break}h?h.parentNode.insertBefore(r,h.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Nm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Am(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Au=null;function g2(r,i,o){if(Au===null){var c=new Map,d=Au=new Map;d.set(o,c)}else d=Au,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var h=o[d];if(!(h[yo]||h[Qt]||r==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(i)||"";v=r+v;var w=c.get(v);w?w.push(h):c.set(v,[h])}}return c}function p2(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function rT(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function y2(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var il=null;function sT(){}function iT(r,i,o){if(il===null)throw Error(s(475));var c=il;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=Ca(o.href),h=r.querySelector(rl(d));if(h){r=h._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=ku.bind(c),r.then(c,c)),i.state.loading|=4,i.instance=h,It(h);return}h=r.ownerDocument||r,o=f2(o),(d=qn.get(d))&&Nm(o,d),h=h.createElement("link"),It(h);var v=h;v._p=new Promise(function(w,_){v.onload=w,v.onerror=_}),qt(h,"link",o),i.instance=h}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=ku.bind(c),r.addEventListener("load",i),r.addEventListener("error",i))}}function aT(){if(il===null)throw Error(s(475));var r=il;return r.stylesheets&&r.count===0&&km(r,r.stylesheets),0<r.count?function(i){var o=setTimeout(function(){if(r.stylesheets&&km(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(o)}}:null}function ku(){if(this.count--,this.count===0){if(this.stylesheets)km(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Cu=null;function km(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Cu=new Map,i.forEach(oT,r),Cu=null,ku.call(r))}function oT(r,i){if(!(i.state.loading&4)){var o=Cu.get(r);if(o)var c=o.get(null);else{o=new Map,Cu.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var v=d[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(o.set(v.dataset.precedence,v),c=v)}c&&o.set(null,c)}d=i.instance,v=d.getAttribute("data-precedence"),h=o.get(v)||c,h===c&&o.set(null,d),o.set(v,d),this.count++,c=ku.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),h?h.parentNode.insertBefore(d,h.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),i.state.loading|=4}}var al={$$typeof:$,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function lT(r,i,o,c,d,h,v,w){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_h(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_h(0),this.hiddenUpdates=_h(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function v2(r,i,o,c,d,h,v,w,_,O,B,F){return r=new lT(r,i,o,v,w,_,O,F),i=1,h===!0&&(i|=24),h=Tn(3,null,null,i),r.current=h,h.stateNode=r,i=cf(),i.refCount++,r.pooledCache=i,i.refCount++,h.memoizedState={element:c,isDehydrated:o,cache:i},ff(h),r}function x2(r){return r?(r=oa,r):oa}function b2(r,i,o,c,d,h){d=x2(d),c.context===null?c.context=d:c.pendingContext=d,c=fs(i),c.payload={element:o},h=h===void 0?null:h,h!==null&&(c.callback=h),o=ms(r,c,i),o!==null&&(Rn(o,r,i),Lo(o,r,i))}function w2(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function Cm(r,i){w2(r,i),(r=r.alternate)&&w2(r,i)}function E2(r){if(r.tag===13){var i=aa(r,67108864);i!==null&&Rn(i,r,67108864),Cm(r,67108864)}}var Ru=!0;function cT(r,i,o,c){var d=L.T;L.T=null;var h=Q.p;try{Q.p=2,Rm(r,i,o,c)}finally{Q.p=h,L.T=d}}function uT(r,i,o,c){var d=L.T;L.T=null;var h=Q.p;try{Q.p=8,Rm(r,i,o,c)}finally{Q.p=h,L.T=d}}function Rm(r,i,o,c){if(Ru){var d=Om(c);if(d===null)ym(r,i,c,Ou,o),S2(r,c);else if(hT(d,r,i,o,c))c.stopPropagation();else if(S2(r,c),i&4&&-1<dT.indexOf(r)){for(;d!==null;){var h=Yi(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=Nr(h.pendingLanes);if(v!==0){var w=h;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var _=1<<31-nt(v);w.entanglements[1]|=_,v&=~_}ur(h),(Qe&6)===0&&(mu=In()+500,Jo(0))}}break;case 13:w=aa(h,2),w!==null&&Rn(w,h,2),pu(),Cm(h,2)}if(h=Om(c),h===null&&ym(r,i,c,Ou,o),h===d)break;d=h}d!==null&&c.stopPropagation()}else ym(r,i,c,null,o)}}function Om(r){return r=Ih(r),Dm(r)}var Ou=null;function Dm(r){if(Ou=null,r=Ki(r),r!==null){var i=l(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=u(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Ou=r,null}function _2(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bp()){case go:return 2;case T:return 8;case D:case P:return 32;case re:return 268435456;default:return 32}default:return 32}}var jm=!1,As=null,ks=null,Cs=null,ol=new Map,ll=new Map,Rs=[],dT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S2(r,i){switch(r){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(i.pointerId)}}function cl(r,i,o,c,d,h){return r===null||r.nativeEvent!==h?(r={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:h,targetContainers:[d]},i!==null&&(i=Yi(i),i!==null&&E2(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),r)}function hT(r,i,o,c,d){switch(i){case"focusin":return As=cl(As,r,i,o,c,d),!0;case"dragenter":return ks=cl(ks,r,i,o,c,d),!0;case"mouseover":return Cs=cl(Cs,r,i,o,c,d),!0;case"pointerover":var h=d.pointerId;return ol.set(h,cl(ol.get(h)||null,r,i,o,c,d)),!0;case"gotpointercapture":return h=d.pointerId,ll.set(h,cl(ll.get(h)||null,r,i,o,c,d)),!0}return!1}function T2(r){var i=Ki(r.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){r.blockedOn=i,i_(r.priority,function(){if(o.tag===13){var c=Cn();c=Sh(c);var d=aa(o,c);d!==null&&Rn(d,o,c),Cm(o,c)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Du(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=Om(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Mh=c,o.target.dispatchEvent(c),Mh=null}else return i=Yi(o),i!==null&&E2(i),r.blockedOn=o,!1;i.shift()}return!0}function N2(r,i,o){Du(r)&&o.delete(i)}function fT(){jm=!1,As!==null&&Du(As)&&(As=null),ks!==null&&Du(ks)&&(ks=null),Cs!==null&&Du(Cs)&&(Cs=null),ol.forEach(N2),ll.forEach(N2)}function ju(r,i){r.blockedOn===i&&(r.blockedOn=null,jm||(jm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fT)))}var Mu=null;function A2(r){Mu!==r&&(Mu=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mu===r&&(Mu=null);for(var i=0;i<r.length;i+=3){var o=r[i],c=r[i+1],d=r[i+2];if(typeof c!="function"){if(Dm(c||o)===null)continue;break}var h=Yi(o);h!==null&&(r.splice(i,3),i-=3,Df(h,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function ul(r){function i(_){return ju(_,r)}As!==null&&ju(As,r),ks!==null&&ju(ks,r),Cs!==null&&ju(Cs,r),ol.forEach(i),ll.forEach(i);for(var o=0;o<Rs.length;o++){var c=Rs[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Rs.length&&(o=Rs[0],o.blockedOn===null);)T2(o),o.blockedOn===null&&Rs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],h=o[c+1],v=d[gn]||null;if(typeof h=="function")v||A2(o);else if(v){var w=null;if(h&&h.hasAttribute("formAction")){if(d=h,v=h[gn]||null)w=v.formAction;else if(Dm(d)!==null)continue}else w=v.action;typeof w=="function"?o[c+1]=w:(o.splice(c,3),c-=3),A2(o)}}}function Mm(r){this._internalRoot=r}Iu.prototype.render=Mm.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,c=Cn();b2(o,c,r,i,null,null)},Iu.prototype.unmount=Mm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;b2(r.current,2,null,r,null,null),pu(),i[Gi]=null}};function Iu(r){this._internalRoot=r}Iu.prototype.unstable_scheduleHydration=function(r){if(r){var i=qp();r={blockedOn:null,target:r,priority:i};for(var o=0;o<Rs.length&&i!==0&&i<Rs[o].priority;o++);Rs.splice(o,0,r),o===0&&T2(r)}};var k2=e.version;if(k2!=="19.1.0")throw Error(s(527,k2,"19.1.0"));Q.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=m(i),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var mT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{le=Lu.inject(mT),Te=Lu}catch{}}return hl.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,c="",d=qv,h=$v,v=Gv,w=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=v2(r,1,!1,null,null,o,c,d,h,v,w,null),r[Gi]=i.current,pm(r),new Mm(i)},hl.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var c=!1,d="",h=qv,v=$v,w=Gv,_=null,O=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(_=o.unstable_transitionCallbacks),o.formState!==void 0&&(O=o.formState)),i=v2(r,1,!0,i,o??null,c,d,h,v,w,_,O),i.context=x2(null),o=i.current,c=Cn(),c=Sh(c),d=fs(c),d.callback=null,ms(o,d,c),o=c,i.current.lanes=o,po(i,o),ur(i),r[Gi]=i.current,pm(r),new Iu(i)},hl.version="19.1.0",hl}var V2;function TT(){if(V2)return Um.exports;V2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Um.exports=ST(),Um.exports}var NT=TT();const AT=Vb(NT);Bb();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ml.apply(this,arguments)}var Ps;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ps||(Ps={}));const B2="popstate";function kT(t){t===void 0&&(t={});function e(s,a){let{pathname:l,search:u,hash:f}=s.location;return mg("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ld(a)}return RT(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CT(){return Math.random().toString(36).substr(2,8)}function P2(t,e){return{usr:t.state,key:t.key,idx:e}}function mg(t,e,n,s){return n===void 0&&(n=null),Ml({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?no(e):e,{state:n,key:e&&e.key||s||CT()})}function ld(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function no(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function RT(t,e,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,f=Ps.Pop,m=null,p=x();p==null&&(p=0,u.replaceState(Ml({},u.state,{idx:p}),""));function x(){return(u.state||{idx:null}).idx}function b(){f=Ps.Pop;let R=x(),K=R==null?null:R-p;p=R,m&&m({action:f,location:V.location,delta:K})}function E(R,K){f=Ps.Push;let U=mg(V.location,R,K);p=x()+1;let $=P2(U,p),G=V.createHref(U);try{u.pushState($,"",G)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;a.location.assign(G)}l&&m&&m({action:f,location:V.location,delta:1})}function N(R,K){f=Ps.Replace;let U=mg(V.location,R,K);p=x();let $=P2(U,p),G=V.createHref(U);u.replaceState($,"",G),l&&m&&m({action:f,location:V.location,delta:0})}function I(R){let K=a.location.origin!=="null"?a.location.origin:a.location.href,U=typeof R=="string"?R:ld(R);return U=U.replace(/ $/,"%20"),ht(K,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,K)}let V={get action(){return f},get location(){return t(a,u)},listen(R){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(B2,b),m=R,()=>{a.removeEventListener(B2,b),m=null}},createHref(R){return e(a,R)},createURL:I,encodeLocation(R){let K=I(R);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:E,replace:N,go(R){return u.go(R)}};return V}var z2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(z2||(z2={}));function OT(t,e,n){return n===void 0&&(n="/"),DT(t,e,n)}function DT(t,e,n,s){let a=typeof e=="string"?no(e):e,l=$a(a.pathname||"/",n);if(l==null)return null;let u=zb(t);jT(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=qT(l);f=HT(u[m],p)}return f}function zb(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(l,u,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};m.relativePath.startsWith("/")&&(ht(m.relativePath.startsWith(s),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(s.length));let p=Hs([s,m.relativePath]),x=n.concat(m);l.children&&l.children.length>0&&(ht(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),zb(l.children,e,x,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:PT(p,l.index),routesMeta:x})};return t.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,u);else for(let m of Hb(l.path))a(l,u,m)}),e}function Hb(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=Hb(s.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...u),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function jT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zT(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const MT=/^:[\w-]+$/,IT=3,LT=2,UT=1,VT=10,BT=-2,H2=t=>t==="*";function PT(t,e){let n=t.split("/"),s=n.length;return n.some(H2)&&(s+=BT),e&&(s+=LT),n.filter(a=>!H2(a)).reduce((a,l)=>a+(MT.test(l)?IT:l===""?UT:VT),s)}function zT(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function HT(t,e,n){let{routesMeta:s}=t,a={},l="/",u=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,x=l==="/"?e:e.slice(l.length)||"/",b=gg({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},x),E=m.route;if(!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:Hs([l,b.pathname]),pathnameBase:YT(Hs([l,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(l=Hs([l,b.pathnameBase]))}return u}function gg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=FT(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,x,b)=>{let{paramName:E,isOptional:N}=x;if(E==="*"){let V=f[b]||"";u=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const I=f[b];return N&&!I?p[E]=void 0:p[E]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function FT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Pb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function qT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $a(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function $T(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?no(t):t;return{pathname:n?n.startsWith("/")?n:GT(n,e):e,search:QT(s),hash:ZT(a)}}function GT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function zm(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function i0(t,e){let n=KT(t);return e?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function a0(t,e,n,s){s===void 0&&(s=!1);let a;typeof t=="string"?a=no(t):(a=Ml({},t),ht(!a.pathname||!a.pathname.includes("?"),zm("?","pathname","search",a)),ht(!a.pathname||!a.pathname.includes("#"),zm("#","pathname","hash",a)),ht(!a.search||!a.search.includes("#"),zm("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let b=e.length-1;if(!s&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),b-=1;a.pathname=E.join("/")}f=b>=0?e[b]:"/"}let m=$T(a,f),p=u&&u!=="/"&&u.endsWith("/"),x=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||x)&&(m.pathname+="/"),m}const Hs=t=>t.join("/").replace(/\/\/+/g,"/"),YT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function XT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Fb=["post","put","patch","delete"];new Set(Fb);const WT=["get",...Fb];new Set(WT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Il.apply(this,arguments)}const Ld=y.createContext(null),qb=y.createContext(null),ns=y.createContext(null),Ud=y.createContext(null),rs=y.createContext({outlet:null,matches:[],isDataRoute:!1}),$b=y.createContext(null);function JT(t,e){let{relative:n}=e===void 0?{}:e;ro()||ht(!1);let{basename:s,navigator:a}=y.useContext(ns),{hash:l,pathname:u,search:f}=Vd(t,{relative:n}),m=u;return s!=="/"&&(m=u==="/"?s:Hs([s,u])),a.createHref({pathname:m,search:f,hash:l})}function ro(){return y.useContext(Ud)!=null}function ss(){return ro()||ht(!1),y.useContext(Ud).location}function Gb(t){y.useContext(ns).static||y.useLayoutEffect(t)}function fn(){let{isDataRoute:t}=y.useContext(rs);return t?h6():e6()}function e6(){ro()||ht(!1);let t=y.useContext(Ld),{basename:e,future:n,navigator:s}=y.useContext(ns),{matches:a}=y.useContext(rs),{pathname:l}=ss(),u=JSON.stringify(i0(a,n.v7_relativeSplatPath)),f=y.useRef(!1);return Gb(()=>{f.current=!0}),y.useCallback(function(p,x){if(x===void 0&&(x={}),!f.current)return;if(typeof p=="number"){s.go(p);return}let b=a0(p,JSON.parse(u),l,x.relative==="path");t==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Hs([e,b.pathname])),(x.replace?s.replace:s.push)(b,x.state,x)},[e,s,u,l,t])}function o0(){let{matches:t}=y.useContext(rs),e=t[t.length-1];return e?e.params:{}}function Vd(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=y.useContext(ns),{matches:a}=y.useContext(rs),{pathname:l}=ss(),u=JSON.stringify(i0(a,s.v7_relativeSplatPath));return y.useMemo(()=>a0(t,JSON.parse(u),l,n==="path"),[t,u,l,n])}function t6(t,e){return n6(t,e)}function n6(t,e,n,s){ro()||ht(!1);let{navigator:a}=y.useContext(ns),{matches:l}=y.useContext(rs),u=l[l.length-1],f=u?u.params:{};u&&u.pathname;let m=u?u.pathnameBase:"/";u&&u.route;let p=ss(),x;if(e){var b;let R=typeof e=="string"?no(e):e;m==="/"||(b=R.pathname)!=null&&b.startsWith(m)||ht(!1),x=R}else x=p;let E=x.pathname||"/",N=E;if(m!=="/"){let R=m.replace(/^\//,"").split("/");N="/"+E.replace(/^\//,"").split("/").slice(R.length).join("/")}let I=OT(t,{pathname:N}),V=o6(I&&I.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:Hs([m,a.encodeLocation?a.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?m:Hs([m,a.encodeLocation?a.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),l,n,s);return e&&V?y.createElement(Ud.Provider,{value:{location:Il({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:Ps.Pop}},V):V}function r6(){let t=d6(),e=XT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:a},n):null,null)}const s6=y.createElement(r6,null);class i6 extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(rs.Provider,{value:this.props.routeContext},y.createElement($b.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function a6(t){let{routeContext:e,match:n,children:s}=t,a=y.useContext(Ld);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(rs.Provider,{value:e},s)}function o6(t,e,n,s){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var l;if(!n)return null;if(n.errors)t=n.matches;else if((l=s)!=null&&l.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,f=(a=n)==null?void 0:a.errors;if(f!=null){let x=u.findIndex(b=>b.route.id&&(f==null?void 0:f[b.route.id])!==void 0);x>=0||ht(!1),u=u.slice(0,Math.min(u.length,x+1))}let m=!1,p=-1;if(n&&s&&s.v7_partialHydration)for(let x=0;x<u.length;x++){let b=u[x];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=x),b.route.id){let{loaderData:E,errors:N}=n,I=b.route.loader&&E[b.route.id]===void 0&&(!N||N[b.route.id]===void 0);if(b.route.lazy||I){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((x,b,E)=>{let N,I=!1,V=null,R=null;n&&(N=f&&b.route.id?f[b.route.id]:void 0,V=b.route.errorElement||s6,m&&(p<0&&E===0?(f6("route-fallback"),I=!0,R=null):p===E&&(I=!0,R=b.route.hydrateFallbackElement||null)));let K=e.concat(u.slice(0,E+1)),U=()=>{let $;return N?$=V:I?$=R:b.route.Component?$=y.createElement(b.route.Component,null):b.route.element?$=b.route.element:$=x,y.createElement(a6,{match:b,routeContext:{outlet:x,matches:K,isDataRoute:n!=null},children:$})};return n&&(b.route.ErrorBoundary||b.route.errorElement||E===0)?y.createElement(i6,{location:n.location,revalidation:n.revalidation,component:V,error:N,children:U(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):U()},null)}var Kb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Kb||{}),Yb=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Yb||{});function l6(t){let e=y.useContext(Ld);return e||ht(!1),e}function c6(t){let e=y.useContext(qb);return e||ht(!1),e}function u6(t){let e=y.useContext(rs);return e||ht(!1),e}function Qb(t){let e=u6(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function d6(){var t;let e=y.useContext($b),n=c6(),s=Qb();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function h6(){let{router:t}=l6(Kb.UseNavigateStable),e=Qb(Yb.UseNavigateStable),n=y.useRef(!1);return Gb(()=>{n.current=!0}),y.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Il({fromRouteId:e},l)))},[t,e])}const F2={};function f6(t,e,n){F2[t]||(F2[t]=!0)}function m6(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function q2(t){let{to:e,replace:n,state:s,relative:a}=t;ro()||ht(!1);let{future:l,static:u}=y.useContext(ns),{matches:f}=y.useContext(rs),{pathname:m}=ss(),p=fn(),x=a0(e,i0(f,l.v7_relativeSplatPath),m,a==="path"),b=JSON.stringify(x);return y.useEffect(()=>p(JSON.parse(b),{replace:n,state:s,relative:a}),[p,b,a,n,s]),null}function $t(t){ht(!1)}function g6(t){let{basename:e="/",children:n=null,location:s,navigationType:a=Ps.Pop,navigator:l,static:u=!1,future:f}=t;ro()&&ht(!1);let m=e.replace(/^\/*/,"/"),p=y.useMemo(()=>({basename:m,navigator:l,static:u,future:Il({v7_relativeSplatPath:!1},f)}),[m,f,l,u]);typeof s=="string"&&(s=no(s));let{pathname:x="/",search:b="",hash:E="",state:N=null,key:I="default"}=s,V=y.useMemo(()=>{let R=$a(x,m);return R==null?null:{location:{pathname:R,search:b,hash:E,state:N,key:I},navigationType:a}},[m,x,b,E,N,I,a]);return V==null?null:y.createElement(ns.Provider,{value:p},y.createElement(Ud.Provider,{children:n,value:V}))}function p6(t){let{children:e,location:n}=t;return t6(pg(e),n)}new Promise(()=>{});function pg(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(s,a)=>{if(!y.isValidElement(s))return;let l=[...e,a];if(s.type===y.Fragment){n.push.apply(n,pg(s.props.children,l));return}s.type!==$t&&ht(!1),!s.props.index||!s.props.children||ht(!1);let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=pg(s.props.children,l)),n.push(u)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},cd.apply(this,arguments)}function Zb(t,e){if(t==null)return{};var n={},s=Object.keys(t),a,l;for(l=0;l<s.length;l++)a=s[l],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function y6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function v6(t,e){return t.button===0&&(!e||e==="_self")&&!y6(t)}function yg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function x6(t,e){let n=yg(t);return e&&e.forEach((s,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}const b6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],w6=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],E6="6";try{window.__reactRouterVersion=E6}catch{}const _6=y.createContext({isTransitioning:!1}),S6="startTransition",$2=bT[S6];function T6(t){let{basename:e,children:n,future:s,window:a}=t,l=y.useRef();l.current==null&&(l.current=kT({window:a,v5Compat:!0}));let u=l.current,[f,m]=y.useState({action:u.action,location:u.location}),{v7_startTransition:p}=s||{},x=y.useCallback(b=>{p&&$2?$2(()=>m(b)):m(b)},[m,p]);return y.useLayoutEffect(()=>u.listen(x),[u,x]),y.useEffect(()=>m6(s),[s]),y.createElement(g6,{basename:e,children:n,location:f.location,navigationType:f.action,navigator:u,future:s})}const N6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",A6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wn=y.forwardRef(function(e,n){let{onClick:s,relative:a,reloadDocument:l,replace:u,state:f,target:m,to:p,preventScrollReset:x,viewTransition:b}=e,E=Zb(e,b6),{basename:N}=y.useContext(ns),I,V=!1;if(typeof p=="string"&&A6.test(p)&&(I=p,N6))try{let $=new URL(window.location.href),G=p.startsWith("//")?new URL($.protocol+p):new URL(p),Z=$a(G.pathname,N);G.origin===$.origin&&Z!=null?p=Z+G.search+G.hash:V=!0}catch{}let R=JT(p,{relative:a}),K=C6(p,{replace:u,state:f,target:m,preventScrollReset:x,relative:a,viewTransition:b});function U($){s&&s($),$.defaultPrevented||K($)}return y.createElement("a",cd({},E,{href:I||R,onClick:V||l?s:U,ref:n,target:m}))}),Oa=y.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:a=!1,className:l="",end:u=!1,style:f,to:m,viewTransition:p,children:x}=e,b=Zb(e,w6),E=Vd(m,{relative:b.relative}),N=ss(),I=y.useContext(qb),{navigator:V,basename:R}=y.useContext(ns),K=I!=null&&O6(E)&&p===!0,U=V.encodeLocation?V.encodeLocation(E).pathname:E.pathname,$=N.pathname,G=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;a||($=$.toLowerCase(),G=G?G.toLowerCase():null,U=U.toLowerCase()),G&&R&&(G=$a(G,R)||G);const Z=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let ve=$===U||!u&&$.startsWith(U)&&$.charAt(Z)==="/",Ae=G!=null&&(G===U||!u&&G.startsWith(U)&&G.charAt(U.length)==="/"),Re={isActive:ve,isPending:Ae,isTransitioning:K},Ee=ve?s:void 0,$e;typeof l=="function"?$e=l(Re):$e=[l,ve?"active":null,Ae?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let Ie=typeof f=="function"?f(Re):f;return y.createElement(wn,cd({},b,{"aria-current":Ee,className:$e,ref:n,style:Ie,to:m,viewTransition:p}),typeof x=="function"?x(Re):x)});var vg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vg||(vg={}));var G2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(G2||(G2={}));function k6(t){let e=y.useContext(Ld);return e||ht(!1),e}function C6(t,e){let{target:n,replace:s,state:a,preventScrollReset:l,relative:u,viewTransition:f}=e===void 0?{}:e,m=fn(),p=ss(),x=Vd(t,{relative:u});return y.useCallback(b=>{if(v6(b,n)){b.preventDefault();let E=s!==void 0?s:ld(p)===ld(x);m(t,{replace:E,state:a,preventScrollReset:l,relative:u,viewTransition:f})}},[p,m,x,s,a,n,t,l,u,f])}function R6(t){let e=y.useRef(yg(t)),n=y.useRef(!1),s=ss(),a=y.useMemo(()=>x6(s.search,n.current?null:e.current),[s.search]),l=fn(),u=y.useCallback((f,m)=>{const p=yg(typeof f=="function"?f(a):f);n.current=!0,l("?"+p,m)},[l,a]);return[a,u]}function O6(t,e){e===void 0&&(e={});let n=y.useContext(_6);n==null&&ht(!1);let{basename:s}=k6(vg.useViewTransitionState),a=Vd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=$a(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=$a(n.nextLocation.pathname,s)||n.nextLocation.pathname;return gg(a.pathname,u)!=null||gg(a.pathname,l)!=null}function D6({darkMode:t}){const e=new Date().getFullYear();return g.jsx("footer",{className:`w-full p-6 md:py-8 mt-auto
                  ${t?"bg-gray-950 text-gray-400 border-t border-gray-700/50":"bg-gray-100 text-gray-600 border-t border-gray-200"}`,children:g.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-center md:text-left",children:[g.jsxs("div",{className:"mb-4 md:mb-0",children:[g.jsx("h3",{className:`text-xl font-bold mb-1 ${t?"text-ollo-accent-light":"text-ollo-deep"}`,children:"OLLO"}),g.jsxs("p",{className:"text-xs",children:["© ",e," OLLO. Todos os direitos reservados."]})]}),g.jsxs("div",{className:"flex flex-col space-y-2 sm:space-y-0 sm:flex-row sm:space-x-4 md:space-x-6",children:[g.jsx(wn,{to:"/terms",className:`text-xs sm:text-sm hover:underline ${t?"hover:text-ollo-bg-light":"hover:text-ollo-deep"}`,children:"Termos de Serviço"}),g.jsx(wn,{to:"/privacy",className:`text-xs sm:text-sm hover:underline ${t?"hover:text-ollo-bg-light":"hover:text-ollo-deep"}`,children:"Política de Privacidade"}),g.jsx(wn,{to:"/help",className:`text-xs sm:text-sm hover:underline ${t?"hover:text-ollo-bg-light":"hover:text-ollo-deep"}`,children:"Ajuda"})]})]})})})}function j6({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M11.03 3.97a.75.75 0 0 1 0 1.06l-6.22 6.22H21a.75.75 0 0 1 0 1.5H4.81l6.22 6.22a.75.75 0 1 1-1.06 1.06l-7.5-7.5a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const M6=y.forwardRef(j6);function I6({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const L6=y.forwardRef(I6);function U6({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const Xb=y.forwardRef(U6);function V6({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-2.429 0-4.817.178-7.152.521C2.87 3.061 1.5 4.795 1.5 6.741v6.018c0 1.946 1.37 3.68 3.348 3.97.877.129 1.761.234 2.652.316V21a.75.75 0 0 0 1.28.53l4.184-4.183a.39.39 0 0 1 .266-.112c2.006-.05 3.982-.22 5.922-.506 1.978-.29 3.348-2.023 3.348-3.97V6.741c0-1.947-1.37-3.68-3.348-3.97A49.145 49.145 0 0 0 12 2.25ZM8.25 8.625a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25Zm2.625 1.125a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Zm4.875-1.125a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25Z",clipRule:"evenodd"}))}const B6=y.forwardRef(V6);function P6({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const z6=y.forwardRef(P6);function H6({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{d:"M15.73 5.5h1.035A7.465 7.465 0 0 1 18 9.625a7.465 7.465 0 0 1-1.235 4.125h-.148c-.806 0-1.534.446-2.031 1.08a9.04 9.04 0 0 1-2.861 2.4c-.723.384-1.35.956-1.653 1.715a4.499 4.499 0 0 0-.322 1.672v.633A.75.75 0 0 1 9 22a2.25 2.25 0 0 1-2.25-2.25c0-1.152.26-2.243.723-3.218.266-.558-.107-1.282-.725-1.282H3.622c-1.026 0-1.945-.694-2.054-1.715A12.137 12.137 0 0 1 1.5 12.25c0-2.848.992-5.464 2.649-7.521C4.537 4.247 5.136 4 5.754 4H9.77a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23ZM21.669 14.023c.536-1.362.831-2.845.831-4.398 0-1.22-.182-2.398-.52-3.507-.26-.85-1.084-1.368-1.973-1.368H19.1c-.445 0-.72.498-.523.898.591 1.2.924 2.55.924 3.977a8.958 8.958 0 0 1-1.302 4.666c-.245.403.028.959.5.959h1.053c.832 0 1.612-.453 1.918-1.227Z"}))}const F6=y.forwardRef(H6);function q6({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{d:"M7.493 18.5c-.425 0-.82-.236-.975-.632A7.48 7.48 0 0 1 6 15.125c0-1.75.599-3.358 1.602-4.634.151-.192.373-.309.6-.397.473-.183.89-.514 1.212-.924a9.042 9.042 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75A.75.75 0 0 1 15 2a2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H14.23c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23h-.777ZM2.331 10.727a11.969 11.969 0 0 0-.831 4.398 12 12 0 0 0 .52 3.507C2.28 19.482 3.105 20 3.994 20H4.9c.445 0 .72-.498.523-.898a8.963 8.963 0 0 1-.924-3.977c0-1.708.476-3.305 1.302-4.666.245-.403-.028-.959-.5-.959H4.25c-.832 0-1.612.453-1.918 1.227Z"}))}const $6=y.forwardRef(q6);function G6({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const Wb=y.forwardRef(G6);function K6({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const Y6=y.forwardRef(K6);function Q6({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const Z6=y.forwardRef(Q6);function X6({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{d:"M5.25 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM2.25 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM18.75 7.5a.75.75 0 0 0-1.5 0v2.25H15a.75.75 0 0 0 0 1.5h2.25v2.25a.75.75 0 0 0 1.5 0v-2.25H21a.75.75 0 0 0 0-1.5h-2.25V7.5Z"}))}const W6=y.forwardRef(X6);function J6({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const e3=y.forwardRef(J6),t3=new Map([["bold",y.createElement(y.Fragment,null,y.createElement("path",{d:"M144,96a16,16,0,1,1,16,16A16,16,0,0,1,144,96Zm92-40V200a20,20,0,0,1-20,20H40a20,20,0,0,1-20-20V56A20,20,0,0,1,40,36H216A20,20,0,0,1,236,56ZM44,60v79.72l33.86-33.86a20,20,0,0,1,28.28,0L147.31,147l17.18-17.17a20,20,0,0,1,28.28,0L212,149.09V60Zm0,136H162.34L92,125.66l-48,48Zm168,0V183l-33.37-33.37L164.28,164l32,32Z"}))],["duotone",y.createElement(y.Fragment,null,y.createElement("path",{d:"M224,56V178.06l-39.72-39.72a8,8,0,0,0-11.31,0L147.31,164,97.66,114.34a8,8,0,0,0-11.32,0L32,168.69V56a8,8,0,0,1,8-8H216A8,8,0,0,1,224,56Z",opacity:"0.2"}),y.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"}))],["fill",y.createElement(y.Fragment,null,y.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM156,88a12,12,0,1,1-12,12A12,12,0,0,1,156,88Zm60,112H40V160.69l46.34-46.35a8,8,0,0,1,11.32,0h0L165,181.66a8,8,0,0,0,11.32-11.32l-17.66-17.65L173,138.34a8,8,0,0,1,11.31,0L216,170.07V200Z"}))],["light",y.createElement(y.Fragment,null,y.createElement("path",{d:"M216,42H40A14,14,0,0,0,26,56V200a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42ZM40,54H216a2,2,0,0,1,2,2V163.57L188.53,134.1a14,14,0,0,0-19.8,0l-21.42,21.42L101.9,110.1a14,14,0,0,0-19.8,0L38,154.2V56A2,2,0,0,1,40,54ZM38,200V171.17l52.58-52.58a2,2,0,0,1,2.84,0L176.83,202H40A2,2,0,0,1,38,200Zm178,2H193.8l-38-38,21.41-21.42a2,2,0,0,1,2.83,0l38,38V200A2,2,0,0,1,216,202ZM146,100a10,10,0,1,1,10,10A10,10,0,0,1,146,100Z"}))],["regular",y.createElement(y.Fragment,null,y.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"}))],["thin",y.createElement(y.Fragment,null,y.createElement("path",{d:"M216,44H40A12,12,0,0,0,28,56V200a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44ZM40,52H216a4,4,0,0,1,4,4V168.4l-32.89-32.89a12,12,0,0,0-17,0l-22.83,22.83-46.82-46.83a12,12,0,0,0-17,0L36,159V56A4,4,0,0,1,40,52ZM36,200V170.34l53.17-53.17a4,4,0,0,1,5.66,0L181.66,204H40A4,4,0,0,1,36,200Zm180,4H193l-40-40,22.83-22.83a4,4,0,0,1,5.66,0L220,179.71V200A4,4,0,0,1,216,204ZM148,100a8,8,0,1,1,8,8A8,8,0,0,1,148,100Z"}))]]),n3=new Map([["bold",y.createElement(y.Fragment,null,y.createElement("path",{d:"M233.86,110.48,65.8,14.58A20,20,0,0,0,37.15,38.64L67.33,128,37.15,217.36A20,20,0,0,0,56,244a20.1,20.1,0,0,0,9.81-2.58l.09-.06,168-96.07a20,20,0,0,0,0-34.81ZM63.19,215.26,88.61,140H144a12,12,0,0,0,0-24H88.61L63.18,40.72l152.76,87.17Z"}))],["duotone",y.createElement(y.Fragment,null,y.createElement("path",{d:"M227.91,134.86,59.93,231a8,8,0,0,1-11.44-9.67L80,128,48.49,34.72a8,8,0,0,1,11.44-9.67l168,95.85A8,8,0,0,1,227.91,134.86Z",opacity:"0.2"}),y.createElement("path",{d:"M231.87,114l-168-95.89A16,16,0,0,0,40.92,37.34L71.55,128,40.92,218.67A16,16,0,0,0,56,240a16.15,16.15,0,0,0,7.93-2.1l167.92-96.05a16,16,0,0,0,.05-27.89ZM56,224a.56.56,0,0,0,0-.12L85.74,136H144a8,8,0,0,0,0-16H85.74L56.06,32.16A.46.46,0,0,0,56,32l168,95.83Z"}))],["fill",y.createElement(y.Fragment,null,y.createElement("path",{d:"M240,127.89a16,16,0,0,1-8.18,14L63.9,237.9A16.15,16.15,0,0,1,56,240a16,16,0,0,1-15-21.33l27-79.95A4,4,0,0,1,71.72,136H144a8,8,0,0,0,8-8.53,8.19,8.19,0,0,0-8.26-7.47h-72a4,4,0,0,1-3.79-2.72l-27-79.94A16,16,0,0,1,63.84,18.07l168,95.89A16,16,0,0,1,240,127.89Z"}))],["light",y.createElement(y.Fragment,null,y.createElement("path",{d:"M230.88,115.69l-168-95.88a14,14,0,0,0-20,16.87L73.66,128,42.81,219.33A14,14,0,0,0,56,238a14.15,14.15,0,0,0,6.93-1.83L230.84,140.1a14,14,0,0,0,0-24.41Zm-5.95,14L57,225.73a2,2,0,0,1-2.86-2.42.42.42,0,0,0,0-.1L84.3,134H144a6,6,0,0,0,0-12H84.3L54.17,32.8a.3.3,0,0,0,0-.1,1.87,1.87,0,0,1,.6-2.2A1.85,1.85,0,0,1,57,30.25l168,95.89a1.93,1.93,0,0,1,1,1.74A2,2,0,0,1,224.93,129.66Z"}))],["regular",y.createElement(y.Fragment,null,y.createElement("path",{d:"M231.87,114l-168-95.89A16,16,0,0,0,40.92,37.34L71.55,128,40.92,218.67A16,16,0,0,0,56,240a16.15,16.15,0,0,0,7.93-2.1l167.92-96.05a16,16,0,0,0,.05-27.89ZM56,224a.56.56,0,0,0,0-.12L85.74,136H144a8,8,0,0,0,0-16H85.74L56.06,32.16A.46.46,0,0,0,56,32l168,95.83Z"}))],["thin",y.createElement(y.Fragment,null,y.createElement("path",{d:"M229.89,117.43l-168-95.88A12,12,0,0,0,44.7,36l31.08,92L44.71,220A12,12,0,0,0,56,236a12.13,12.13,0,0,0,5.93-1.57l167.94-96.08a12,12,0,0,0,0-20.92Zm-4,14L58,227.47a4,4,0,0,1-5.72-4.83l0-.07L82.87,132H144a4,4,0,0,0,0-8H82.87L52.26,33.37A3.89,3.89,0,0,1,53.44,29,4.13,4.13,0,0,1,56,28a3.88,3.88,0,0,1,1.93.54l168,95.87a4,4,0,0,1,0,7Z"}))]]),r3=new Map([["bold",y.createElement(y.Fragment,null,y.createElement("path",{d:"M249.45,69.31a12,12,0,0,0-12.51,1L212,88.43V72a20,20,0,0,0-20-20H32A20,20,0,0,0,12,72V184a20,20,0,0,0,20,20H192a20,20,0,0,0,20-20V167.57l24.94,18.14A12,12,0,0,0,256,176V80A12,12,0,0,0,249.45,69.31ZM188,180H36V76H188Zm44-27.57-20-14.54V118.11l20-14.54Z"}))],["duotone",y.createElement(y.Fragment,null,y.createElement("path",{d:"M200,72V184a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V72a8,8,0,0,1,8-8H192A8,8,0,0,1,200,72Z",opacity:"0.2"}),y.createElement("path",{d:"M251.77,73a8,8,0,0,0-8.21.39L208,97.05V72a16,16,0,0,0-16-16H32A16,16,0,0,0,16,72V184a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V159l35.56,23.71A8,8,0,0,0,248,184a8,8,0,0,0,8-8V80A8,8,0,0,0,251.77,73ZM192,184H32V72H192V184Zm48-22.95-32-21.33V116.28L240,95Z"}))],["fill",y.createElement(y.Fragment,null,y.createElement("path",{d:"M192,72V184a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V72A16,16,0,0,1,32,56H176A16,16,0,0,1,192,72Zm58,.25a8.23,8.23,0,0,0-6.63,1.22L209.78,95.86A4,4,0,0,0,208,99.19v57.62a4,4,0,0,0,1.78,3.33l33.78,22.52a8,8,0,0,0,8.58.19,8.33,8.33,0,0,0,3.86-7.17V80A8,8,0,0,0,250,72.25Z"}))],["light",y.createElement(y.Fragment,null,y.createElement("path",{d:"M250.83,74.71a6,6,0,0,0-6.16.3L206,100.79V72a14,14,0,0,0-14-14H32A14,14,0,0,0,18,72V184a14,14,0,0,0,14,14H192a14,14,0,0,0,14-14V155.21L244.67,181a6,6,0,0,0,9.33-5V80A6,6,0,0,0,250.83,74.71ZM194,184a2,2,0,0,1-2,2H32a2,2,0,0,1-2-2V72a2,2,0,0,1,2-2H192a2,2,0,0,1,2,2Zm48-19.21-36-24V115.21l36-24Z"}))],["regular",y.createElement(y.Fragment,null,y.createElement("path",{d:"M251.77,73a8,8,0,0,0-8.21.39L208,97.05V72a16,16,0,0,0-16-16H32A16,16,0,0,0,16,72V184a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V159l35.56,23.71A8,8,0,0,0,248,184a8,8,0,0,0,8-8V80A8,8,0,0,0,251.77,73ZM192,184H32V72H192V184Zm48-22.95-32-21.33V116.28L240,95Z"}))],["thin",y.createElement(y.Fragment,null,y.createElement("path",{d:"M249.89,76.47a4,4,0,0,0-4.11.2L204,104.53V72a12,12,0,0,0-12-12H32A12,12,0,0,0,20,72V184a12,12,0,0,0,12,12H192a12,12,0,0,0,12-12V151.47l41.78,27.86A4,4,0,0,0,252,176V80A4,4,0,0,0,249.89,76.47ZM196,184a4,4,0,0,1-4,4H32a4,4,0,0,1-4-4V72a4,4,0,0,1,4-4H192a4,4,0,0,1,4,4Zm48-15.47-40-26.67V114.14l40-26.67Z"}))]]),s3=new Map([["bold",y.createElement(y.Fragment,null,y.createElement("path",{d:"M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"}))],["duotone",y.createElement(y.Fragment,null,y.createElement("path",{d:"M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z",opacity:"0.2"}),y.createElement("path",{d:"M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["fill",y.createElement(y.Fragment,null,y.createElement("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM181.66,170.34a8,8,0,0,1-11.32,11.32L128,139.31,85.66,181.66a8,8,0,0,1-11.32-11.32L116.69,128,74.34,85.66A8,8,0,0,1,85.66,74.34L128,116.69l42.34-42.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["light",y.createElement(y.Fragment,null,y.createElement("path",{d:"M204.24,195.76a6,6,0,1,1-8.48,8.48L128,136.49,60.24,204.24a6,6,0,0,1-8.48-8.48L119.51,128,51.76,60.24a6,6,0,0,1,8.48-8.48L128,119.51l67.76-67.75a6,6,0,0,1,8.48,8.48L136.49,128Z"}))],["regular",y.createElement(y.Fragment,null,y.createElement("path",{d:"M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["thin",y.createElement(y.Fragment,null,y.createElement("path",{d:"M202.83,197.17a4,4,0,0,1-5.66,5.66L128,133.66,58.83,202.83a4,4,0,0,1-5.66-5.66L122.34,128,53.17,58.83a4,4,0,0,1,5.66-5.66L128,122.34l69.17-69.17a4,4,0,1,1,5.66,5.66L133.66,128Z"}))]]),i3=y.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),sc=y.forwardRef((t,e)=>{const{alt:n,color:s,size:a,weight:l,mirrored:u,children:f,weights:m,...p}=t,{color:x="currentColor",size:b,weight:E="regular",mirrored:N=!1,...I}=y.useContext(i3);return y.createElement("svg",{ref:e,xmlns:"http://www.w3.org/2000/svg",width:a??b,height:a??b,fill:s??x,viewBox:"0 0 256 256",transform:u||N?"scale(-1, 1)":void 0,...I,...p},!!n&&y.createElement("title",null,n),f,m.get(l??E))});sc.displayName="IconBase";const Jb=y.forwardRef((t,e)=>y.createElement(sc,{ref:e,...t,weights:t3}));Jb.displayName="ImageIcon";const a3=Jb,ew=y.forwardRef((t,e)=>y.createElement(sc,{ref:e,...t,weights:n3}));ew.displayName="PaperPlaneRightIcon";const K2=ew,tw=y.forwardRef((t,e)=>y.createElement(sc,{ref:e,...t,weights:r3}));tw.displayName="VideoCameraIcon";const o3=tw,nw=y.forwardRef((t,e)=>y.createElement(sc,{ref:e,...t,weights:s3}));nw.displayName="XIcon";const l3=nw;function c3({onPost:t}){const[e,n]=y.useState(""),[s,a]=y.useState(null),[l,u]=y.useState(null),[f,m]=y.useState(!1);y.useEffect(()=>()=>{l&&URL.revokeObjectURL(l)},[l]);const p=E=>{const N=E.target.files[0];if(N){if(N.size>5*1024*1024){alert("Arquivo muito grande (máximo 5MB)");return}l&&URL.revokeObjectURL(l),a(N),u(URL.createObjectURL(N))}},x=async E=>{if(E.preventDefault(),!(!e.trim()&&!s)){m(!0);try{const N={id:Date.now(),content:e.trim(),media:l,mediaType:s!=null&&s.type.startsWith("video")?"video":"image",createdAt:new Date().toISOString()};await t(N),n(""),a(null),u(null)}finally{m(!1)}}},b=()=>{URL.revokeObjectURL(l),a(null),u(null)};return g.jsxs("div",{className:"relative",children:[g.jsxs("div",{className:"absolute -inset-2 overflow-hidden rounded-2xl z-0",children:[g.jsx("div",{className:"absolute inset-0 bg-olloPrimary100/20 dark:bg-olloDark700/30 backdrop-blur-sm"}),g.jsx("div",{className:"absolute right-4 top-4 opacity-20 dark:opacity-10"})]}),g.jsxs("form",{onSubmit:x,className:"relative z-10 bg-white/90 dark:bg-olloDark800/90 p-6 rounded-2xl shadow-xl border border-olloLight200/50 dark:border-olloDark600/50",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx("div",{className:"bg-olloPrimary500 p-2 rounded-lg",children:g.jsx(K2,{size:24,weight:"fill",className:"text-white"})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-olloDark800 dark:text-olloLight100",children:"Criar Nova Postagem"}),g.jsx("p",{className:"text-sm text-olloDark500 dark:text-olloLight300",children:"Compartilhe com a comunidade OLLO"})]})]}),g.jsx("textarea",{placeholder:"No que você está pensando?",className:"w-full p-4 rounded-xl border border-olloLight300 dark:border-olloDark600 bg-white dark:bg-olloDark700 text-olloDark900 dark:text-olloLight100 placeholder-olloDark400 dark:placeholder-olloLight300 resize-none focus:ring-2 focus:ring-olloPrimary500 focus:border-transparent outline-none transition",rows:"4",value:e,onChange:E=>n(E.target.value)}),g.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[g.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-olloLight100 dark:bg-olloDark700 hover:bg-olloLight200 dark:hover:bg-olloDark600 rounded-lg cursor-pointer transition-colors",children:[g.jsx("input",{type:"file",accept:"image/*",onChange:p,className:"hidden"}),g.jsx(a3,{size:20,weight:"duotone",className:"text-olloPrimary500"}),g.jsx("span",{className:"text-sm font-medium text-olloDark700 dark:text-olloLight200",children:"Foto"})]}),g.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-olloLight100 dark:bg-olloDark700 hover:bg-olloLight200 dark:hover:bg-olloDark600 rounded-lg cursor-pointer transition-colors",children:[g.jsx("input",{type:"file",accept:"video/*",onChange:p,className:"hidden"}),g.jsx(o3,{size:20,weight:"duotone",className:"text-olloPrimary500"}),g.jsx("span",{className:"text-sm font-medium text-olloDark700 dark:text-olloLight200",children:"Vídeo"})]})]}),l&&g.jsxs("div",{className:"mt-4 relative group",children:[g.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-olloPrimary300 to-olloPrimary500 rounded-xl opacity-20 group-hover:opacity-30 transition-opacity"}),g.jsxs("div",{className:"relative overflow-hidden rounded-xl",children:[s!=null&&s.type.startsWith("video")?g.jsx("video",{src:l,controls:!0,className:"w-full max-h-96 object-cover"}):g.jsx("img",{src:l,alt:"Preview",className:"w-full max-h-96 object-cover"}),g.jsx("button",{type:"button",onClick:b,className:"absolute top-3 right-3 bg-olloDark800/90 hover:bg-olloDark900 text-white p-1.5 rounded-full shadow-md transition-all","aria-label":"Remover mídia",children:g.jsx(l3,{size:16,weight:"bold"})})]})]}),g.jsx("div",{className:"mt-6 flex justify-end",children:g.jsx("button",{type:"submit",disabled:f||!e.trim()&&!s,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-medium transition-all shadow-lg
              ${!e.trim()&&!s?"bg-olloLight300 dark:bg-olloDark600 text-olloDark400 dark:text-olloLight500 cursor-not-allowed":"bg-gradient-to-r from-olloPrimary500 to-olloPrimary600 hover:from-olloPrimary600 hover:to-olloPrimary700 text-white hover:shadow-xl"}
              ${f?"opacity-80":""}
            `,children:f?g.jsx("span",{className:"animate-pulse",children:"Publicando..."}):g.jsxs(g.Fragment,{children:[g.jsx(K2,{size:20,weight:"bold"}),"Publicar"]})})})]})]})}function rw({onClose:t,onAddPost:e}){const n=y.useRef();return y.useEffect(()=>{const s=a=>{n.current&&!n.current.contains(a.target)&&t()};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[t]),y.useEffect(()=>{const s=a=>{a.key==="Escape"&&t()};return window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}},[t]),g.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-opacity duration-300 ease-in-out",role:"dialog","aria-modal":"true","aria-labelledby":"create-post-modal-title",children:g.jsxs("div",{ref:n,className:`w-full max-w-lg relative rounded-xl shadow-2xl p-6 \r
                   bg-ollo-light dark:bg-ollo-deep \r
                   border border-gray-300 dark:border-gray-700 \r
                   text-ollo-deep dark:text-gray-200`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{id:"create-post-modal-title",className:"text-2xl font-bold text-ollo-deep dark:text-ollo-accent-light",children:"Criar Nova Postagem"}),g.jsx("button",{onClick:t,className:`p-1.5 rounded-full transition-colors duration-150 ease-in-out\r
                       text-gray-500 hover:text-ollo-deep hover:bg-gray-200/50\r
                       dark:text-gray-400 dark:hover:text-ollo-accent-light dark:hover:bg-gray-700/50\r
                       focus:outline-none focus-visible:ring-2 focus-visible:ring-ollo-deep dark:focus-visible:ring-ollo-accent-light`,"aria-label":"Fechar modal",children:g.jsx(e3,{className:"h-6 w-6"})})]}),g.jsx(c3,{onPost:e})]})})}function u3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"}))}const d3=y.forwardRef(u3);function h3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const _r=y.forwardRef(h3);function f3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const m3=y.forwardRef(f3);function g3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const p3=y.forwardRef(g3);function y3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))}const v3=y.forwardRef(y3);function x3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const b3=y.forwardRef(x3);function w3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const E3=y.forwardRef(w3);function _3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const S3=y.forwardRef(_3);function T3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const l0=y.forwardRef(T3);function N3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const A3=y.forwardRef(N3);function k3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const C3=y.forwardRef(k3);function R3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const O3=y.forwardRef(R3);function D3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const sw=y.forwardRef(D3);function j3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Ll=y.forwardRef(j3);function M3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Ul=y.forwardRef(M3);function I3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.498 15.25H4.372c-1.026 0-1.945-.694-2.054-1.715a12.137 12.137 0 0 1-.068-1.285c0-2.848.992-5.464 2.649-7.521C5.287 4.247 5.886 4 6.504 4h4.016a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23h1.294M7.498 15.25c.618 0 .991.724.725 1.282A7.471 7.471 0 0 0 7.5 19.75 2.25 2.25 0 0 0 9.75 22a.75.75 0 0 0 .75-.75v-.633c0-.573.11-1.14.322-1.672.304-.76.93-1.33 1.653-1.715a9.04 9.04 0 0 0 2.86-2.4c.498-.634 1.226-1.08 2.032-1.08h.384m-10.253 1.5H9.7m8.075-9.75c.01.05.027.1.05.148.593 1.2.925 2.55.925 3.977 0 1.487-.36 2.89-.999 4.125m.023-8.25c-.076-.365.183-.75.575-.75h.908c.889 0 1.713.518 1.972 1.368.339 1.11.521 2.287.521 3.507 0 1.553-.295 3.036-.831 4.398-.306.774-1.086 1.227-1.918 1.227h-1.053c-.472 0-.745-.556-.5-.96a8.95 8.95 0 0 0 .303-.54"}))}const L3=y.forwardRef(I3);function U3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"}))}const V3=y.forwardRef(U3);function B3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const iw=y.forwardRef(B3);function P3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const z3=y.forwardRef(P3);function H3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Y2=y.forwardRef(H3);function F3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const q3=y.forwardRef(F3);function $3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Vl=y.forwardRef($3);function G3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const K3=y.forwardRef(G3);function Y3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const Q3=y.forwardRef(Y3);function Z3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const X3=y.forwardRef(Z3);function W3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const aw=y.forwardRef(W3);function J3({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ow=y.forwardRef(J3);function eN({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const tN=y.forwardRef(eN);function nN({title:t,titleId:e,...n},s){return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?y.createElement("title",{id:e},t):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const rN=y.forwardRef(nN);var Q2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},sN=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},cw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,x=l>>2,b=(l&3)<<4|f>>4;let E=(f&15)<<2|p>>6,N=p&63;m||(N=64,u||(E=64)),s.push(n[x],n[b],n[E],n[N])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||b==null)throw new iN;const E=l<<2|f>>4;if(s.push(E),p!==64){const N=f<<4&240|p>>2;if(s.push(N),b!==64){const I=p<<6&192|b;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aN=function(t){const e=lw(t);return cw.encodeByteArray(e,!0)},ud=function(t){return aN(t).replace(/\./g,"")},uw=function(t){try{return cw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=()=>oN().__FIREBASE_DEFAULTS__,cN=()=>{if(typeof process>"u"||typeof Q2>"u")return;const t=Q2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uw(t[1]);return e&&JSON.parse(e)},Bd=()=>{try{return lN()||cN()||uN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dw=t=>{var e,n;return(n=(e=Bd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hw=t=>{const e=dw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},fw=()=>{var t;return(t=Bd())===null||t===void 0?void 0:t.config},mw=t=>{var e;return(e=Bd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ud(JSON.stringify(n)),ud(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function fN(){var t;const e=(t=Bd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pN(){const t=an();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yN(){try{return typeof indexedDB=="object"}catch{return!1}}function vN(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="FirebaseError";class Tr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=xN,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?bN(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Tr(a,f,s)}}function bN(t,e){return t.replace(wN,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const wN=/\{\$([^}]+)}/g;function EN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dd(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(Z2(l)&&Z2(u)){if(!dd(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Z2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function vl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function xl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _N(t,e){const n=new SN(t,e);return n.subscribe.bind(n)}class SN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");TN(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Hm),a.error===void 0&&(a.error=Hm),a.complete===void 0&&(a.complete=Hm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){return t&&t._delegate?t._delegate:t}class Ks{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new dN;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kN(e))try{this.getOrInitializeService({instanceIdentifier:wi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wi){return this.instances.has(e)}getOptions(e=wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:AN(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=wi){return this.component?this.component.multipleInstances?e:wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AN(t){return t===wi?void 0:t}function kN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const RN={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},ON=qe.INFO,DN={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},jN=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=DN[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c0{constructor(e){this.name=e,this._logLevel=ON,this._logHandler=jN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const MN=(t,e)=>e.some(n=>t instanceof n);let X2,W2;function IN(){return X2||(X2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LN(){return W2||(W2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pw=new WeakMap,xg=new WeakMap,yw=new WeakMap,Fm=new WeakMap,u0=new WeakMap;function UN(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Fs(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&pw.set(n,t)}).catch(()=>{}),u0.set(e,t),e}function VN(t){if(xg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});xg.set(t,e)}let bg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BN(t){bg=t(bg)}function PN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(qm(this),e,...n);return yw.set(s,e.sort?e.sort():[e]),Fs(s)}:LN().includes(t)?function(...e){return t.apply(qm(this),e),Fs(pw.get(this))}:function(...e){return Fs(t.apply(qm(this),e))}}function zN(t){return typeof t=="function"?PN(t):(t instanceof IDBTransaction&&VN(t),MN(t,IN())?new Proxy(t,bg):t)}function Fs(t){if(t instanceof IDBRequest)return UN(t);if(Fm.has(t))return Fm.get(t);const e=zN(t);return e!==t&&(Fm.set(t,e),u0.set(e,t)),e}const qm=t=>u0.get(t);function HN(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=Fs(u);return s&&u.addEventListener("upgradeneeded",m=>{s(Fs(u.result),m.oldVersion,m.newVersion,Fs(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const FN=["get","getKey","getAll","getAllKeys","count"],qN=["put","add","delete","clear"],$m=new Map;function J2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($m.get(e))return $m.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=qN.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||FN.includes(n)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return $m.set(e,l),l}BN(t=>({...t,get:(e,n,s)=>J2(e,n)||t.get(e,n,s),has:(e,n)=>!!J2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GN(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function GN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wg="@firebase/app",ex="0.9.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new c0("@firebase/app"),KN="@firebase/app-compat",YN="@firebase/analytics-compat",QN="@firebase/analytics",ZN="@firebase/app-check-compat",XN="@firebase/app-check",WN="@firebase/auth",JN="@firebase/auth-compat",eA="@firebase/database",tA="@firebase/database-compat",nA="@firebase/functions",rA="@firebase/functions-compat",sA="@firebase/installations",iA="@firebase/installations-compat",aA="@firebase/messaging",oA="@firebase/messaging-compat",lA="@firebase/performance",cA="@firebase/performance-compat",uA="@firebase/remote-config",dA="@firebase/remote-config-compat",hA="@firebase/storage",fA="@firebase/storage-compat",mA="@firebase/firestore",gA="@firebase/firestore-compat",pA="firebase",yA="9.22.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="[DEFAULT]",vA={[wg]:"fire-core",[KN]:"fire-core-compat",[QN]:"fire-analytics",[YN]:"fire-analytics-compat",[XN]:"fire-app-check",[ZN]:"fire-app-check-compat",[WN]:"fire-auth",[JN]:"fire-auth-compat",[eA]:"fire-rtdb",[tA]:"fire-rtdb-compat",[nA]:"fire-fn",[rA]:"fire-fn-compat",[sA]:"fire-iid",[iA]:"fire-iid-compat",[aA]:"fire-fcm",[oA]:"fire-fcm-compat",[lA]:"fire-perf",[cA]:"fire-perf-compat",[uA]:"fire-rc",[dA]:"fire-rc-compat",[hA]:"fire-gcs",[fA]:"fire-gcs-compat",[mA]:"fire-fst",[gA]:"fire-fst-compat","fire-js":"fire-js",[pA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=new Map,_g=new Map;function xA(t,e){try{t.container.addComponent(e)}catch(n){Ri.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oi(t){const e=t.name;if(_g.has(e))return Ri.debug(`There were multiple attempts to register component ${e}.`),!1;_g.set(e,t);for(const n of hd.values())xA(n,t);return!0}function Pd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},qs=new ic("app","Firebase",bA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=yA;function vw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Eg,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw qs.create("bad-app-name",{appName:String(a)});if(n||(n=fw()),!n)throw qs.create("no-options");const l=hd.get(a);if(l){if(dd(n,l.options)&&dd(s,l.config))return l;throw qs.create("duplicate-app",{appName:a})}const u=new CN(a);for(const m of _g.values())u.addComponent(m);const f=new wA(n,s,u);return hd.set(a,f),f}function d0(t=Eg){const e=hd.get(t);if(!e&&t===Eg&&fw())return vw();if(!e)throw qs.create("no-app",{appName:t});return e}function xr(t,e,n){var s;let a=(s=vA[t])!==null&&s!==void 0?s:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ri.warn(f.join(" "));return}Oi(new Ks(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="firebase-heartbeat-database",_A=1,Bl="firebase-heartbeat-store";let Gm=null;function xw(){return Gm||(Gm=HN(EA,_A,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Bl)}}}).catch(t=>{throw qs.create("idb-open",{originalErrorMessage:t.message})})),Gm}async function SA(t){try{return await(await xw()).transaction(Bl).objectStore(Bl).get(bw(t))}catch(e){if(e instanceof Tr)Ri.warn(e.message);else{const n=qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ri.warn(n.message)}}}async function tx(t,e){try{const s=(await xw()).transaction(Bl,"readwrite");await s.objectStore(Bl).put(e,bw(t)),await s.done}catch(n){if(n instanceof Tr)Ri.warn(n.message);else{const s=qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ri.warn(s.message)}}}function bw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=1024,NA=30*24*60*60*1e3;class AA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CA(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nx();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=NA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nx(),{heartbeatsToSend:n,unsentEntries:s}=kA(this._heartbeatsCache.heartbeats),a=ud(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}}function nx(){return new Date().toISOString().substring(0,10)}function kA(t,e=TA){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),rx(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),rx(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class CA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yN()?vN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await SA(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return tx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return tx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function rx(t){return ud(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t){Oi(new Ks("platform-logger",e=>new $N(e),"PRIVATE")),Oi(new Ks("heartbeat",e=>new AA(e),"PRIVATE")),xr(wg,ex,t),xr(wg,ex,"esm2017"),xr("fire-js","")}RA("");function h0(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n}function ww(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OA=ww,Ew=new ic("auth","Firebase",ww());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=new c0("@firebase/auth");function DA(t,...e){fd.logLevel<=qe.WARN&&fd.warn(`Auth (${Vi}): ${t}`,...e)}function Xu(t,...e){fd.logLevel<=qe.ERROR&&fd.error(`Auth (${Vi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,...e){throw f0(t,...e)}function br(t,...e){return f0(t,...e)}function jA(t,e,n){const s=Object.assign(Object.assign({},OA()),{[e]:n});return new ic("auth","Firebase",s).create(e,{appName:t.name})}function f0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return Ew.create(t,...e)}function me(t,e,...n){if(!t)throw f0(e,...n)}function $r(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xu(e),new Error(e)}function Qr(t,e){t||$r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function MA(){return sx()==="http:"||sx()==="https:"}function sx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MA()||mN()||"connection"in navigator)?navigator.onLine:!0}function LA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qr(n>e,"Short delay should be less than long delay!"),this.isMobile=hN()||gN()}get(){return IA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t,e){Qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=new oc(3e4,6e4);function is(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function as(t,e,n,s,a={}){return Sw(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=ac(Object.assign({key:t.config.apiKey},u)).slice(1),m=await t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),_w.fetch()(Tw(t,t.config.apiHost,n,f),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))})}async function Sw(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},UA),e);try{const a=new BA(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Uu(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uu(t,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Uu(t,"email-already-in-use",u);if(m==="USER_DISABLED")throw Uu(t,"user-disabled",u);const x=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw jA(t,x,p);Kn(t,x)}}catch(a){if(a instanceof Tr)throw a;Kn(t,"network-request-failed",{message:String(a)})}}async function lc(t,e,n,s,a={}){const l=await as(t,e,n,s,a);return"mfaPendingCredential"in l&&Kn(t,"multi-factor-auth-required",{_serverResponse:l}),l}function Tw(t,e,n,s){const a=`${e}${n}?${s}`;return t.config.emulator?m0(t.config,a):`${t.config.apiScheme}://${a}`}class BA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(br(this.auth,"network-request-failed")),VA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uu(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=br(t,e,s);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(t,e){return as(t,"POST","/v1/accounts:delete",e)}async function zA(t,e){return as(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HA(t,e=!1){const n=ut(t),s=await n.getIdToken(e),a=g0(s);me(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Tl(Km(a.auth_time)),issuedAtTime:Tl(Km(a.iat)),expirationTime:Tl(Km(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Km(t){return Number(t)*1e3}function g0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Xu("JWT malformed, contained fewer than 3 sections"),null;try{const a=uw(n);return a?JSON.parse(a):(Xu("Failed to decode base64 JWT payload"),null)}catch(a){return Xu("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function FA(t){const e=g0(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Tr&&qA(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function qA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(t){var e;const n=t.auth,s=await t.getIdToken(),a=await Pl(t,zA(n,{idToken:s}));me(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?YA(l.providerUserInfo):[],f=KA(t.providerData,u),m=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),x=m?p:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Nw(l.createdAt,l.lastLoginAt),isAnonymous:x};Object.assign(t,b)}async function GA(t){const e=ut(t);await md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KA(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function YA(t){return t.map(e=>{var{providerId:n}=e,s=h0(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA(t,e){const n=await Sw(t,{},async()=>{const s=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=Tw(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",_w.fetch()(u,{method:"POST",headers:f,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return me(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await QA(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new zl;return s&&(me(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(me(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(me(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zl,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ai{constructor(e){var{uid:n,auth:s,stsTokenManager:a}=e,l=h0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $A(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Nw(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Pl(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HA(this,e)}reload(){return GA(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await md(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Pl(this,PA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,a,l,u,f,m,p,x;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,E=(a=n.email)!==null&&a!==void 0?a:void 0,N=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,I=(u=n.photoURL)!==null&&u!==void 0?u:void 0,V=(f=n.tenantId)!==null&&f!==void 0?f:void 0,R=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,K=(p=n.createdAt)!==null&&p!==void 0?p:void 0,U=(x=n.lastLoginAt)!==null&&x!==void 0?x:void 0,{uid:$,emailVerified:G,isAnonymous:Z,providerData:ve,stsTokenManager:Ae}=n;me($&&Ae,e,"internal-error");const Re=zl.fromJSON(this.name,Ae);me(typeof $=="string",e,"internal-error"),Ds(b,e.name),Ds(E,e.name),me(typeof G=="boolean",e,"internal-error"),me(typeof Z=="boolean",e,"internal-error"),Ds(N,e.name),Ds(I,e.name),Ds(V,e.name),Ds(R,e.name),Ds(K,e.name),Ds(U,e.name);const Ee=new Ai({uid:$,auth:e,email:E,emailVerified:G,displayName:b,isAnonymous:Z,photoURL:I,phoneNumber:N,tenantId:V,stsTokenManager:Re,createdAt:K,lastLoginAt:U});return ve&&Array.isArray(ve)&&(Ee.providerData=ve.map($e=>Object.assign({},$e))),R&&(Ee._redirectEventId=R),Ee}static async _fromIdTokenResponse(e,n,s=!1){const a=new zl;a.updateFromServerResponse(n);const l=new Ai({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await md(l),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=new Map;function Gr(t){Qr(t instanceof Function,"Expected a class definition");let e=ix.get(t);return e?(Qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ix.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Aw.type="NONE";const ax=Aw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t,e,n){return`firebase:${t}:${e}:${n}`}class Va{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Wu(this.userKey,a.apiKey,l),this.fullPersistenceKey=Wu("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ai._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Va(Gr(ax),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Gr(ax);const u=Wu(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const x=await p._get(u);if(x){const b=Ai._fromJSON(e,x);p!==l&&(f=b),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Va(l,e,s):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Va(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Dw(e))return"Blackberry";if(jw(e))return"Webos";if(p0(e))return"Safari";if((e.includes("chrome/")||Cw(e))&&!e.includes("edge/"))return"Chrome";if(Ow(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function kw(t=an()){return/firefox\//i.test(t)}function p0(t=an()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cw(t=an()){return/crios\//i.test(t)}function Rw(t=an()){return/iemobile/i.test(t)}function Ow(t=an()){return/android/i.test(t)}function Dw(t=an()){return/blackberry/i.test(t)}function jw(t=an()){return/webos/i.test(t)}function zd(t=an()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ZA(t=an()){var e;return zd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XA(){return pN()&&document.documentMode===10}function Mw(t=an()){return zd(t)||Ow(t)||jw(t)||Dw(t)||/windows phone/i.test(t)||Rw(t)}function WA(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t,e=[]){let n;switch(t){case"Browser":n=ox(an());break;case"Worker":n=`${ox(an())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vi}/${s}`}async function Lw(t,e){return as(t,"GET","/v2/recaptchaConfig",is(t,e))}function lx(t){return t!==void 0&&t.enterprise!==void 0}class Uw{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Vw(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=br("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",JA().appendChild(s)})}function ek(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const tk="https://www.google.com/recaptcha/enterprise.js?render=",nk="recaptcha-enterprise",rk="NO_RECAPTCHA";class Bw{constructor(e){this.type=nk,this.auth=Xs(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{Lw(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new Uw(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,u,f){const m=window.grecaptcha;lx(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(rk)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,u)=>{s(this.auth).then(f=>{if(!n&&lx(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}Vw(tk+f).then(()=>{a(f,l,u)}).catch(m=>{u(m)})}}).catch(f=>{u(f)})})}}async function Ga(t,e,n,s=!1){const a=new Bw(t);let l;try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const u=Object.assign({},e);return s?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cx(this),this.idTokenSubscription=new cx(this),this.beforeStateQueue=new sk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ew,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gr(n)),this._initializationPromise=this.queue(async()=>{var s,a;if(!this._deleted&&(this.persistenceManager=await Va.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await md(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ut(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}async initializeRecaptchaConfig(){const e=await Lw(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new Uw(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Bw(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gr(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await Va.create(this,[Gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n),u=this._isInitialized?Promise.resolve():this._initializationPromise;return me(u,this,"internal-error"),u.then(()=>l(this.currentUser)),typeof n=="function"?e.addObserver(n,s,a):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Iw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&DA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Xs(t){return ut(t)}class cx{constructor(e){this.auth=e,this.observer=null,this.addObserver=_N(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t,e){const n=Pd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(dd(l,e??{}))return a;Kn(a,"already-initialized")}return n.initialize({options:e})}function ok(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function lk(t,e,n){const s=Xs(t);me(s._canInitEmulator,s,"emulator-config-failed"),me(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=Pw(e),{host:u,port:f}=ck(e),m=f===null?"":`:${f}`;s.config.emulator={url:`${l}//${u}${m}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),uk()}function Pw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ck(t){const e=Pw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:ux(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:ux(u)}}}function ux(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,n){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zw(t,e){return as(t,"POST","/v1/accounts:resetPassword",is(t,e))}async function dk(t,e){return as(t,"POST","/v1/accounts:update",e)}async function hk(t,e){return as(t,"POST","/v1/accounts:update",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ym(t,e){return lc(t,"POST","/v1/accounts:signInWithPassword",is(t,e))}async function Hw(t,e){return as(t,"POST","/v1/accounts:sendOobCode",is(t,e))}async function fk(t,e){return Hw(t,e)}async function Qm(t,e){return Hw(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(t,e){return lc(t,"POST","/v1/accounts:signInWithEmailLink",is(t,e))}async function gk(t,e){return lc(t,"POST","/v1/accounts:signInWithEmailLink",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends y0{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Hl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Hl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const a=await Ga(e,s,"signInWithPassword");return Ym(e,a)}else return Ym(e,s).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const l=await Ga(e,s,"signInWithPassword");return Ym(e,l)}else return Promise.reject(a)});case"emailLink":return mk(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return dk(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return gk(e,{idToken:n,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(t,e){return lc(t,"POST","/v1/accounts:signInWithIdp",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="http://localhost";class Di extends y0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Di(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=n,l=h0(n,["providerId","signInMethod"]);if(!s||!a)return null;const u=new Di(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ba(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ba(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ba(e,n)}buildRequest(){const e={requestUri:pk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ac(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vk(t){const e=vl(xl(t)).link,n=e?vl(xl(e)).deep_link_id:null,s=vl(xl(t)).deep_link_id;return(s?vl(xl(s)).link:null)||s||n||e||t}class v0{constructor(e){var n,s,a,l,u,f;const m=vl(xl(e)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,x=(s=m.oobCode)!==null&&s!==void 0?s:null,b=yk((a=m.mode)!==null&&a!==void 0?a:null);me(p&&x&&b,"argument-error"),this.apiKey=p,this.operation=b,this.code=x,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=m.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=vk(e);try{return new v0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.providerId=so.PROVIDER_ID}static credential(e,n){return Hl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=v0.parseLink(n);return me(s,"argument-error"),Hl._fromEmailAndCode(e,s.code,s.tenantId)}}so.PROVIDER_ID="password";so.EMAIL_PASSWORD_SIGN_IN_METHOD="password";so.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends Fw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends cc{constructor(){super("facebook.com")}static credential(e){return Di._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Di._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ms.credential(n,s)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends cc{constructor(){super("github.com")}static credential(e){return Di._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com";Is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends cc{constructor(){super("twitter.com")}static credential(e,n){return Di._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ls.credential(n,s)}catch{return null}}}Ls.TWITTER_SIGN_IN_METHOD="twitter.com";Ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zm(t,e){return lc(t,"POST","/v1/accounts:signUp",is(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ai._fromIdTokenResponse(e,s,a),u=dx(s);return new ji({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=dx(s);return new ji({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function dx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends Tr{constructor(e,n,s,a){var l;super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,gd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new gd(e,n,s,a)}}function qw(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?gd._fromErrorAndOperation(t,l,e,s):l})}async function xk(t,e,n=!1){const s=await Pl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ji._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(t,e,n=!1){const{auth:s}=t,a="reauthenticate";try{const l=await Pl(t,qw(s,a,e,t),n);me(l.idToken,s,"internal-error");const u=g0(l.idToken);me(u,s,"internal-error");const{sub:f}=u;return me(t.uid===f,s,"user-mismatch"),ji._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Kn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $w(t,e,n=!1){const s="signIn",a=await qw(t,s,e),l=await ji._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function wk(t,e){return $w(Xs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?b0._fromServerResponse(e,n):"totpInfo"in n?w0._fromServerResponse(e,n):Kn(e,"internal-error")}}class b0 extends x0{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new b0(n)}}class w0 extends x0{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new w0(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t,e,n){var s;me(((s=n.url)===null||s===void 0?void 0:s.length)>0,t,"invalid-continue-uri"),me(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(me(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(me(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ek(t,e,n){var s;const a=Xs(t),l={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((s=a._getRecaptchaConfig())===null||s===void 0)&&s.emailPasswordEnabled){const u=await Ga(a,l,"getOobCode",!0);n&&Ju(a,u,n),await Qm(a,u)}else n&&Ju(a,l,n),await Qm(a,l).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const f=await Ga(a,l,"getOobCode",!0);n&&Ju(a,f,n),await Qm(a,f)}else return Promise.reject(u)})}async function _k(t,e,n){await zw(ut(t),{oobCode:e,newPassword:n})}async function Sk(t,e){await hk(ut(t),{oobCode:e})}async function Tk(t,e){const n=ut(t),s=await zw(n,{oobCode:e}),a=s.requestType;switch(me(a,n,"internal-error"),a){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(s.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(s.mfaInfo,n,"internal-error");default:me(s.email,n,"internal-error")}let l=null;return s.mfaInfo&&(l=x0._fromServerResponse(Xs(n),s.mfaInfo)),{data:{email:(s.requestType==="VERIFY_AND_CHANGE_EMAIL"?s.newEmail:s.email)||null,previousEmail:(s.requestType==="VERIFY_AND_CHANGE_EMAIL"?s.email:s.newEmail)||null,multiFactorInfo:l},operation:a}}async function Nk(t,e){const{data:n}=await Tk(ut(t),e);return n.email}async function Ak(t,e,n){var s;const a=Xs(t),l={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let u;if(!((s=a._getRecaptchaConfig())===null||s===void 0)&&s.emailPasswordEnabled){const p=await Ga(a,l,"signUpPassword");u=Zm(a,p)}else u=Zm(a,l).catch(async p=>{if(p.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const x=await Ga(a,l,"signUpPassword");return Zm(a,x)}else return Promise.reject(p)});const f=await u.catch(p=>Promise.reject(p)),m=await ji._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(m.user),m}function kk(t,e,n){return wk(ut(t),so.credential(e,n))}async function Gw(t,e){const n=ut(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Ju(n.auth,a,e);const{email:l}=await fk(n.auth,a);l!==t.email&&await t.reload()}function Ck(t,e,n,s){return ut(t).onIdTokenChanged(e,n,s)}function Rk(t,e,n){return ut(t).beforeAuthStateChanged(e,n)}function Kw(t,e,n,s){return ut(t).onAuthStateChanged(e,n,s)}function Ok(t){return ut(t).signOut()}const pd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pd,"1"),this.storage.removeItem(pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(){const t=an();return p0(t)||zd(t)}const jk=1e3,Mk=10;class Qw extends Yw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Dk()&&WA(),this.fallbackToPolling=Mw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const s=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const u=this.storage.getItem(s);if(e.newValue!==u)e.newValue!==null?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!n)return}const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);XA()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Mk):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},jk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qw.type="LOCAL";const Ik=Qw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw extends Yw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Zw.type="SESSION";const Xw=Zw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Hd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async p=>p(n.origin,l)),m=await Lk(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const p=E0("",20);a.port1.start();const x=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(b){const E=b;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(x),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(x),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function Vk(t){wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function Bk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pk(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function zk(){return Ww()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="firebaseLocalStorageDb",Hk=1,yd="firebaseLocalStorage",eE="fbase_key";class uc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fd(t,e){return t.transaction([yd],e?"readwrite":"readonly").objectStore(yd)}function Fk(){const t=indexedDB.deleteDatabase(Jw);return new uc(t).toPromise()}function Tg(){const t=indexedDB.open(Jw,Hk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(yd,{keyPath:eE})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(yd)?e(s):(s.close(),await Fk(),e(await Tg()))})})}async function hx(t,e,n){const s=Fd(t,!0).put({[eE]:e,value:n});return new uc(s).toPromise()}async function qk(t,e){const n=Fd(t,!1).get(e),s=await new uc(n).toPromise();return s===void 0?null:s.value}function fx(t,e){const n=Fd(t,!0).delete(e);return new uc(n).toPromise()}const $k=800,Gk=3;class tE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Gk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ww()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hd._getInstance(zk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Bk(),!this.activeServiceWorker)return;this.sender=new Uk(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Pk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tg();return await hx(e,pd,"1"),await fx(e,pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>hx(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>qk(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Fd(a,!1).getAll();return new uc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$k)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tE.type="LOCAL";const Kk=tE;new oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t,e){return e?Gr(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0 extends y0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ba(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ba(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ba(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Qk(t){return $w(t.auth,new _0(t),t.bypassAuthState)}function Zk(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),bk(n,new _0(t),t.bypassAuthState)}async function Xk(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),xk(n,new _0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qk;case"linkViaPopup":case"linkViaRedirect":return Xk;case"reauthViaPopup":case"reauthViaRedirect":return Zk;default:Kn(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=new oc(2e3,1e4);class La extends nE{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){Qr(this.filter.length===1,"Popup operations only handle one event");const e=E0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Wk.get())};e()}}La.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="pendingRedirect",ed=new Map;class eC extends nE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ed.get(this.auth._key());if(!e){try{const s=await tC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ed.set(this.auth._key(),e)}return this.bypassAuthState||ed.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tC(t,e){const n=sC(e),s=rC(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function nC(t,e){ed.set(t._key(),e)}function rC(t){return Gr(t._redirectPersistence)}function sC(t){return Wu(Jk,t.config.apiKey,t.name)}async function iC(t,e,n=!1){const s=Xs(t),a=Yk(s,e),u=await new eC(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=10*60*1e3;class oC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!rE(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(br(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aC&&this.cachedEventUids.clear(),this.cachedEventUids.has(mx(e))}saveEventToCache(e){this.cachedEventUids.add(mx(e)),this.lastProcessedEventTime=Date.now()}}function mx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(t,e={}){return as(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dC=/^https?/;async function hC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cC(t);for(const n of e)try{if(fC(n))return}catch{}Kn(t,"unauthorized-domain")}function fC(t){const e=Sg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!dC.test(n))return!1;if(uC.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new oc(3e4,6e4);function gx(){const t=wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gC(t){return new Promise((e,n)=>{var s,a,l;function u(){gx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gx(),n(br(t,"network-request-failed"))},timeout:mC.get()})}if(!((a=(s=wr().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=wr().gapi)===null||l===void 0)&&l.load)u();else{const f=ek("iframefcb");return wr()[f]=()=>{gapi.load?u():n(br(t,"network-request-failed"))},Vw(`https://apis.google.com/js/api.js?onload=${f}`).catch(m=>n(m))}}).catch(e=>{throw td=null,e})}let td=null;function pC(t){return td=td||gC(t),td}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new oc(5e3,15e3),vC="__/auth/iframe",xC="emulator/auth/iframe",bC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EC(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?m0(e,xC):`https://${t.config.authDomain}/${vC}`,s={apiKey:e.apiKey,appName:t.name,v:Vi},a=wC.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${ac(s).slice(1)}`}async function _C(t){const e=await pC(t),n=wr().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:EC(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bC,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=br(t,"network-request-failed"),f=wr().setTimeout(()=>{l(u)},yC.get());function m(){wr().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TC=500,NC=600,AC="_blank",kC="http://localhost";class px{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CC(t,e,n,s=TC,a=NC){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m=Object.assign(Object.assign({},SC),{width:s.toString(),height:a.toString(),top:l,left:u}),p=an().toLowerCase();n&&(f=Cw(p)?AC:n),kw(p)&&(e=e||kC,m.scrollbars="yes");const x=Object.entries(m).reduce((E,[N,I])=>`${E}${N}=${I},`,"");if(ZA(p)&&f!=="_self")return RC(e||"",f),new px(null);const b=window.open(e||"",f,x);me(b,t,"popup-blocked");try{b.focus()}catch{}return new px(b)}function RC(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="__/auth/handler",DC="emulator/auth/handler",jC=encodeURIComponent("fac");async function yx(t,e,n,s,a,l){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Vi,eventId:a};if(e instanceof Fw){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",EN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,b]of Object.entries({}))u[x]=b}if(e instanceof cc){const x=e.getScopes().filter(b=>b!=="");x.length>0&&(u.scopes=x.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const x of Object.keys(f))f[x]===void 0&&delete f[x];const m=await t._getAppCheckToken(),p=m?`#${jC}=${encodeURIComponent(m)}`:"";return`${MC(t)}?${ac(f).slice(1)}${p}`}function MC({config:t}){return t.emulator?m0(t,DC):`https://${t.authDomain}/${OC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="webStorageSupport";class IC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xw,this._completeRedirectFn=iC,this._overrideRedirectResult=nC}async _openPopup(e,n,s,a){var l;Qr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await yx(e,n,s,Sg(),a);return CC(e,u,E0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await yx(e,n,s,Sg(),a);return Vk(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Qr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await _C(e),s=new oC(e);return n.register("authEvent",a=>(me(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xm,{type:Xm},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Xm];u!==void 0&&n(!!u),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Mw()||p0()||zd()}}const LC=IC;var vx="@firebase/auth",xx="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function BC(t){Oi(new Ks("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;me(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Iw(t)},p=new ik(s,a,l,m);return ok(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Oi(new Ks("auth-internal",e=>{const n=Xs(e.getProvider("auth").getImmediate());return(s=>new UC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(vx,xx,VC(t)),xr(vx,xx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=5*60,zC=mw("authIdTokenMaxAge")||PC;let bx=null;const HC=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>zC)return;const a=n==null?void 0:n.token;bx!==a&&(bx=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function FC(t=d0()){const e=Pd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ak(t,{popupRedirectResolver:LC,persistence:[Kk,Ik,Xw]}),s=mw("authTokenSyncURL");if(s){const l=HC(s);Rk(n,l,()=>l(n.currentUser)),Ck(n,u=>l(u))}const a=dw("auth");return a&&lk(n,`http://${a}`),n}BC("Browser");var qC="firebase",$C="9.22.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(qC,$C,"app");var GC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},te,S0=S0||{},_e=GC||self;function qd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function $d(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function KC(t,e,n){return t.call.apply(t.bind,arguments)}function YC(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),t.apply(e,a)}}return function(){return t.apply(e,arguments)}}function rn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?rn=KC:rn=YC,rn.apply(null,arguments)}function Vu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function zt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(s,a,l){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[a].apply(s,u)}}function Ws(){this.s=this.s,this.o=this.o}var QC=0;Ws.prototype.s=!1;Ws.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),QC!=0)};Ws.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function T0(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function wx(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(qd(s)){const a=t.length||0,l=s.length||0;t.length=a+l;for(let u=0;u<l;u++)t[a+u]=s[u]}else t.push(s)}}function sn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}sn.prototype.h=function(){this.defaultPrevented=!0};var ZC=function(){if(!_e.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{_e.addEventListener("test",()=>{},e),_e.removeEventListener("test",()=>{},e)}catch{}return t}();function Fl(t){return/^[\s\xa0]*$/.test(t)}function Gd(){var t=_e.navigator;return t&&(t=t.userAgent)?t:""}function fr(t){return Gd().indexOf(t)!=-1}function N0(t){return N0[" "](t),t}N0[" "]=function(){};function XC(t,e){var n=qR;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var WC=fr("Opera"),Ka=fr("Trident")||fr("MSIE"),iE=fr("Edge"),Ng=iE||Ka,aE=fr("Gecko")&&!(Gd().toLowerCase().indexOf("webkit")!=-1&&!fr("Edge"))&&!(fr("Trident")||fr("MSIE"))&&!fr("Edge"),JC=Gd().toLowerCase().indexOf("webkit")!=-1&&!fr("Edge");function oE(){var t=_e.document;return t?t.documentMode:void 0}var Ag;e:{var Wm="",Jm=function(){var t=Gd();if(aE)return/rv:([^\);]+)(\)|;)/.exec(t);if(iE)return/Edge\/([\d\.]+)/.exec(t);if(Ka)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(JC)return/WebKit\/(\S+)/.exec(t);if(WC)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Jm&&(Wm=Jm?Jm[1]:""),Ka){var eg=oE();if(eg!=null&&eg>parseFloat(Wm)){Ag=String(eg);break e}}Ag=Wm}var kg;if(_e.document&&Ka){var Ex=oE();kg=Ex||parseInt(Ag,10)||void 0}else kg=void 0;var eR=kg;function ql(t,e){if(sn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(aE){e:{try{N0(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:tR[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ql.$.h.call(this)}}zt(ql,sn);var tR={2:"touch",3:"pen",4:"mouse"};ql.prototype.h=function(){ql.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Kd="closure_listenable_"+(1e6*Math.random()|0),nR=0;function rR(t,e,n,s,a){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=a,this.key=++nR,this.fa=this.ia=!1}function Yd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function A0(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function sR(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function lE(t){const e={};for(const n in t)e[n]=t[n];return e}const _x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cE(t,e){let n,s;for(let a=1;a<arguments.length;a++){s=arguments[a];for(n in s)t[n]=s[n];for(let l=0;l<_x.length;l++)n=_x[l],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function Qd(t){this.src=t,this.g={},this.h=0}Qd.prototype.add=function(t,e,n,s,a){var l=t.toString();t=this.g[l],t||(t=this.g[l]=[],this.h++);var u=Rg(t,e,s,a);return-1<u?(e=t[u],n||(e.ia=!1)):(e=new rR(e,this.src,l,!!s,a),e.ia=n,t.push(e)),e};function Cg(t,e){var n=e.type;if(n in t.g){var s=t.g[n],a=sE(s,e),l;(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(Yd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Rg(t,e,n,s){for(var a=0;a<t.length;++a){var l=t[a];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==s)return a}return-1}var k0="closure_lm_"+(1e6*Math.random()|0),tg={};function uE(t,e,n,s,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)uE(t,e[l],n,s,a);return null}return n=fE(n),t&&t[Kd]?t.O(e,n,$d(s)?!!s.capture:!1,a):iR(t,e,n,!1,s,a)}function iR(t,e,n,s,a,l){if(!e)throw Error("Invalid event type");var u=$d(a)?!!a.capture:!!a,f=R0(t);if(f||(t[k0]=f=new Qd(t)),n=f.add(e,n,s,u,l),n.proxy)return n;if(s=aR(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)ZC||(a=u),a===void 0&&(a=!1),t.addEventListener(e.toString(),s,a);else if(t.attachEvent)t.attachEvent(hE(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function aR(){function t(n){return e.call(t.src,t.listener,n)}const e=oR;return t}function dE(t,e,n,s,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)dE(t,e[l],n,s,a);else s=$d(s)?!!s.capture:!!s,n=fE(n),t&&t[Kd]?(t=t.i,e=String(e).toString(),e in t.g&&(l=t.g[e],n=Rg(l,n,s,a),-1<n&&(Yd(l[n]),Array.prototype.splice.call(l,n,1),l.length==0&&(delete t.g[e],t.h--)))):t&&(t=R0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Rg(e,n,s,a)),(n=-1<t?e[t]:null)&&C0(n))}function C0(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Kd])Cg(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(hE(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=R0(e))?(Cg(n,t),n.h==0&&(n.src=null,e[k0]=null)):Yd(t)}}}function hE(t){return t in tg?tg[t]:tg[t]="on"+t}function oR(t,e){if(t.fa)t=!0;else{e=new ql(e,this);var n=t.listener,s=t.la||t.src;t.ia&&C0(t),t=n.call(s,e)}return t}function R0(t){return t=t[k0],t instanceof Qd?t:null}var ng="__closure_events_fn_"+(1e9*Math.random()>>>0);function fE(t){return typeof t=="function"?t:(t[ng]||(t[ng]=function(e){return t.handleEvent(e)}),t[ng])}function Pt(){Ws.call(this),this.i=new Qd(this),this.S=this,this.J=null}zt(Pt,Ws);Pt.prototype[Kd]=!0;Pt.prototype.removeEventListener=function(t,e,n,s){dE(this,t,e,n,s)};function Yt(t,e){var n,s=t.J;if(s)for(n=[];s;s=s.J)n.push(s);if(t=t.S,s=e.type||e,typeof e=="string")e=new sn(e,t);else if(e instanceof sn)e.target=e.target||t;else{var a=e;e=new sn(s,t),cE(e,a)}if(a=!0,n)for(var l=n.length-1;0<=l;l--){var u=e.g=n[l];a=Bu(u,s,!0,e)&&a}if(u=e.g=t,a=Bu(u,s,!0,e)&&a,a=Bu(u,s,!1,e)&&a,n)for(l=0;l<n.length;l++)u=e.g=n[l],a=Bu(u,s,!1,e)&&a}Pt.prototype.N=function(){if(Pt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Yd(n[s]);delete t.g[e],t.h--}}this.J=null};Pt.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};Pt.prototype.P=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function Bu(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var u=e[l];if(u&&!u.fa&&u.capture==n){var f=u.listener,m=u.la||u.src;u.ia&&Cg(t.i,u),a=f.call(m,s)!==!1&&a}}return a&&!s.defaultPrevented}var O0=_e.JSON.stringify;class lR{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function cR(){var t=D0;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class uR{constructor(){this.h=this.g=null}add(e,n){const s=mE.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var mE=new lR(()=>new dR,t=>t.reset());class dR{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function hR(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function fR(t){_e.setTimeout(()=>{throw t},0)}let $l,Gl=!1,D0=new uR,gE=()=>{const t=_e.Promise.resolve(void 0);$l=()=>{t.then(mR)}};var mR=()=>{for(var t;t=cR();){try{t.h.call(t.g)}catch(n){fR(n)}var e=mE;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Gl=!1};function Zd(t,e){Pt.call(this),this.h=t||1,this.g=e||_e,this.j=rn(this.qb,this),this.l=Date.now()}zt(Zd,Pt);te=Zd.prototype;te.ga=!1;te.T=null;te.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Yt(this,"tick"),this.ga&&(j0(this),this.start()))}};te.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function j0(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}te.N=function(){Zd.$.N.call(this),j0(this),delete this.g};function M0(t,e,n){if(typeof t=="function")n&&(t=rn(t,n));else if(t&&typeof t.handleEvent=="function")t=rn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:_e.setTimeout(t,e||0)}function pE(t){t.g=M0(()=>{t.g=null,t.i&&(t.i=!1,pE(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class gR extends Ws{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pE(this)}N(){super.N(),this.g&&(_e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kl(t){Ws.call(this),this.h=t,this.g={}}zt(Kl,Ws);var Sx=[];function yE(t,e,n,s){Array.isArray(n)||(n&&(Sx[0]=n.toString()),n=Sx);for(var a=0;a<n.length;a++){var l=uE(e,n[a],s||t.handleEvent,!1,t.h||t);if(!l)break;t.g[l.key]=l}}function vE(t){A0(t.g,function(e,n){this.g.hasOwnProperty(n)&&C0(e)},t),t.g={}}Kl.prototype.N=function(){Kl.$.N.call(this),vE(this)};Kl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Xd(){this.g=!0}Xd.prototype.Ea=function(){this.g=!1};function pR(t,e,n,s,a,l){t.info(function(){if(t.g)if(l)for(var u="",f=l.split("&"),m=0;m<f.length;m++){var p=f[m].split("=");if(1<p.length){var x=p[0];p=p[1];var b=x.split("_");u=2<=b.length&&b[1]=="type"?u+(x+"="+p+"&"):u+(x+"=redacted&")}}else u=null;else u=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+`
`+n+`
`+u})}function yR(t,e,n,s,a,l,u){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+`
`+n+`
`+l+" "+u})}function Ua(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+xR(t,n)+(s?" "+s:"")})}function vR(t,e){t.info(function(){return"TIMEOUT: "+e})}Xd.prototype.info=function(){};function xR(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if(l!="noop"&&l!="stop"&&l!="close")for(var u=1;u<a.length;u++)a[u]=""}}}}return O0(n)}catch{return e}}var Bi={},Tx=null;function Wd(){return Tx=Tx||new Pt}Bi.Ta="serverreachability";function xE(t){sn.call(this,Bi.Ta,t)}zt(xE,sn);function Yl(t){const e=Wd();Yt(e,new xE(e))}Bi.STAT_EVENT="statevent";function bE(t,e){sn.call(this,Bi.STAT_EVENT,t),this.stat=e}zt(bE,sn);function hn(t){const e=Wd();Yt(e,new bE(e,t))}Bi.Ua="timingevent";function wE(t,e){sn.call(this,Bi.Ua,t),this.size=e}zt(wE,sn);function dc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return _e.setTimeout(function(){t()},e)}var Jd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},EE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function I0(){}I0.prototype.h=null;function Nx(t){return t.h||(t.h=t.i())}function _E(){}var hc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function L0(){sn.call(this,"d")}zt(L0,sn);function U0(){sn.call(this,"c")}zt(U0,sn);var Og;function eh(){}zt(eh,I0);eh.prototype.g=function(){return new XMLHttpRequest};eh.prototype.i=function(){return{}};Og=new eh;function fc(t,e,n,s){this.l=t,this.j=e,this.m=n,this.W=s||1,this.U=new Kl(this),this.P=bR,t=Ng?125:void 0,this.V=new Zd(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new SE}function SE(){this.i=null,this.g="",this.h=!1}var bR=45e3,Dg={},vd={};te=fc.prototype;te.setTimeout=function(t){this.P=t};function jg(t,e,n){t.L=1,t.v=nh(Zr(e)),t.s=n,t.S=!0,TE(t,null)}function TE(t,e){t.G=Date.now(),mc(t),t.A=Zr(t.v);var n=t.A,s=t.W;Array.isArray(s)||(s=[String(s)]),jE(n.i,"t",s),t.C=0,n=t.l.J,t.h=new SE,t.g=e5(t.l,n?e:null,!t.s),0<t.O&&(t.M=new gR(rn(t.Pa,t,t.g),t.O)),yE(t.U,t.g,"readystatechange",t.nb),e=t.I?lE(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Yl(),pR(t.j,t.u,t.A,t.m,t.W,t.s)}te.nb=function(t){t=t.target;const e=this.M;e&&gr(t)==3?e.l():this.Pa(t)};te.Pa=function(t){try{if(t==this.g)e:{const x=gr(this.g);var e=this.g.Ia();const b=this.g.da();if(!(3>x)&&(x!=3||Ng||this.g&&(this.h.h||this.g.ja()||Rx(this.g)))){this.J||x!=4||e==7||(e==8||0>=b?Yl(3):Yl(2)),th(this);var n=this.g.da();this.ca=n;t:if(NE(this)){var s=Rx(this.g);t="";var a=s.length,l=gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ei(this),Nl(this);var u="";break t}this.h.i=new _e.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:l&&e==a-1});s.splice(0,a),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=n==200,yR(this.j,this.u,this.A,this.m,this.W,x,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fl(f)){var p=f;break t}}p=null}if(n=p)Ua(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mg(this,n);else{this.i=!1,this.o=3,hn(12),Ei(this),Nl(this);break e}}this.S?(AE(this,x,u),Ng&&this.i&&x==3&&(yE(this.U,this.V,"tick",this.mb),this.V.start())):(Ua(this.j,this.m,u,null),Mg(this,u)),x==4&&Ei(this),this.i&&!this.J&&(x==4?ZE(this.l,this):(this.i=!1,mc(this)))}else zR(this.g),n==400&&0<u.indexOf("Unknown SID")?(this.o=3,hn(12)):(this.o=0,hn(13)),Ei(this),Nl(this)}}}catch{}finally{}};function NE(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function AE(t,e,n){let s=!0,a;for(;!t.J&&t.C<n.length;)if(a=wR(t,n),a==vd){e==4&&(t.o=4,hn(14),s=!1),Ua(t.j,t.m,null,"[Incomplete Response]");break}else if(a==Dg){t.o=4,hn(15),Ua(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else Ua(t.j,t.m,a,null),Mg(t,a);NE(t)&&a!=vd&&a!=Dg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,hn(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),F0(e),e.M=!0,hn(11))):(Ua(t.j,t.m,n,"[Invalid Chunked Response]"),Ei(t),Nl(t))}te.mb=function(){if(this.g){var t=gr(this.g),e=this.g.ja();this.C<e.length&&(th(this),AE(this,t,e),this.i&&t!=4&&mc(this))}};function wR(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?vd:(n=Number(e.substring(n,s)),isNaN(n)?Dg:(s+=1,s+n>e.length?vd:(e=e.slice(s,s+n),t.C=s+n,e)))}te.cancel=function(){this.J=!0,Ei(this)};function mc(t){t.Y=Date.now()+t.P,kE(t,t.P)}function kE(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=dc(rn(t.lb,t),e)}function th(t){t.B&&(_e.clearTimeout(t.B),t.B=null)}te.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(vR(this.j,this.A),this.L!=2&&(Yl(),hn(17)),Ei(this),this.o=2,Nl(this)):kE(this,this.Y-t)};function Nl(t){t.l.H==0||t.J||ZE(t.l,t)}function Ei(t){th(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,j0(t.V),vE(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Mg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ig(n.i,t))){if(!t.K&&Ig(n.i,t)&&n.H==3){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var a=s;if(a[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)wd(n),ih(n);else break e;H0(n),hn(18)}}else n.Fa=a[1],0<n.Fa-n.V&&37500>a[2]&&n.G&&n.A==0&&!n.v&&(n.v=dc(rn(n.ib,n),6e3));if(1>=LE(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else _i(n,11)}else if((t.K||n.g==t)&&wd(n),!Fl(e))for(a=n.Ja.g.parse(e),e=0;e<a.length;e++){let p=a[e];if(n.V=p[0],p=p[1],n.H==2)if(p[0]=="c"){n.K=p[1],n.pa=p[2];const x=p[3];x!=null&&(n.ra=x,n.l.info("VER="+n.ra));const b=p[4];b!=null&&(n.Ga=b,n.l.info("SVER="+n.Ga));const E=p[5];E!=null&&typeof E=="number"&&0<E&&(s=1.5*E,n.L=s,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const N=t.g;if(N){const I=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(I){var l=s.i;l.g||I.indexOf("spdy")==-1&&I.indexOf("quic")==-1&&I.indexOf("h2")==-1||(l.j=l.l,l.g=new Set,l.h&&(V0(l,l.h),l.h=null))}if(s.F){const V=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;V&&(s.Da=V,it(s.I,s.F,V))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),s=n;var u=t;if(s.wa=JE(s,s.J?s.pa:null,s.Y),u.K){UE(s.i,u);var f=u,m=s.L;m&&f.setTimeout(m),f.B&&(th(f),mc(f)),s.g=u}else YE(s);0<n.j.length&&ah(n)}else p[0]!="stop"&&p[0]!="close"||_i(n,7);else n.H==3&&(p[0]=="stop"||p[0]=="close"?p[0]=="stop"?_i(n,7):z0(n):p[0]!="noop"&&n.h&&n.h.Aa(p),n.A=0)}}Yl(4)}catch{}}function ER(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(qd(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function _R(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(qd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function CE(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(qd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=_R(t),s=ER(t),a=s.length,l=0;l<a;l++)e.call(void 0,s[l],n&&n[l],t)}var RE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SR(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),a=null;if(0<=s){var l=t[n].substring(0,s);a=t[n].substring(s+1)}else l=t[n];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}function ki(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ki){this.h=t.h,xd(this,t.j),this.s=t.s,this.g=t.g,bd(this,t.m),this.l=t.l;var e=t.i,n=new Ql;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Ax(this,n),this.o=t.o}else t&&(e=String(t).match(RE))?(this.h=!1,xd(this,e[1]||"",!0),this.s=bl(e[2]||""),this.g=bl(e[3]||"",!0),bd(this,e[4]),this.l=bl(e[5]||"",!0),Ax(this,e[6]||"",!0),this.o=bl(e[7]||"")):(this.h=!1,this.i=new Ql(null,this.h))}ki.prototype.toString=function(){var t=[],e=this.j;e&&t.push(wl(e,kx,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(wl(e,kx,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(wl(n,n.charAt(0)=="/"?AR:NR,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",wl(n,CR)),t.join("")};function Zr(t){return new ki(t)}function xd(t,e,n){t.j=n?bl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function bd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ax(t,e,n){e instanceof Ql?(t.i=e,RR(t.i,t.h)):(n||(e=wl(e,kR)),t.i=new Ql(e,t.h))}function it(t,e,n){t.i.set(e,n)}function nh(t){return it(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function bl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function wl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,TR),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function TR(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var kx=/[#\/\?@]/g,NR=/[#\?:]/g,AR=/[#\?]/g,kR=/[#\?@]/g,CR=/#/g;function Ql(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Js(t){t.g||(t.g=new Map,t.h=0,t.i&&SR(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}te=Ql.prototype;te.add=function(t,e){Js(this),this.i=null,t=io(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function OE(t,e){Js(t),e=io(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function DE(t,e){return Js(t),e=io(t,e),t.g.has(e)}te.forEach=function(t,e){Js(this),this.g.forEach(function(n,s){n.forEach(function(a){t.call(e,a,s,this)},this)},this)};te.ta=function(){Js(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const a=t[s];for(let l=0;l<a.length;l++)n.push(e[s])}return n};te.Z=function(t){Js(this);let e=[];if(typeof t=="string")DE(this,t)&&(e=e.concat(this.g.get(io(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};te.set=function(t,e){return Js(this),this.i=null,t=io(this,t),DE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};te.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function jE(t,e,n){OE(t,e),0<n.length&&(t.i=null,t.g.set(io(t,e),T0(n)),t.h+=n.length)}te.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const l=encodeURIComponent(String(s)),u=this.Z(s);for(s=0;s<u.length;s++){var a=l;u[s]!==""&&(a+="="+encodeURIComponent(String(u[s]))),t.push(a)}}return this.i=t.join("&")};function io(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function RR(t,e){e&&!t.j&&(Js(t),t.i=null,t.g.forEach(function(n,s){var a=s.toLowerCase();s!=a&&(OE(this,s),jE(this,a,n))},t)),t.j=e}var OR=class{constructor(t,e){this.g=t,this.map=e}};function ME(t){this.l=t||DR,_e.PerformanceNavigationTiming?(t=_e.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(_e.g&&_e.g.Ka&&_e.g.Ka()&&_e.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var DR=10;function IE(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function LE(t){return t.h?1:t.g?t.g.size:0}function Ig(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function V0(t,e){t.g?t.g.add(e):t.h=e}function UE(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ME.prototype.cancel=function(){if(this.i=VE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function VE(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return T0(t.i)}var jR=class{stringify(t){return _e.JSON.stringify(t,void 0)}parse(t){return _e.JSON.parse(t,void 0)}};function MR(){this.g=new jR}function IR(t,e,n){const s=n||"";try{CE(t,function(a,l){let u=a;$d(a)&&(u=O0(a)),e.push(s+l+"="+encodeURIComponent(u))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function LR(t,e){const n=new Xd;if(_e.Image){const s=new Image;s.onload=Vu(Pu,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Vu(Pu,n,s,"TestLoadImage: error",!1,e),s.onabort=Vu(Pu,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Vu(Pu,n,s,"TestLoadImage: timeout",!1,e),_e.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function Pu(t,e,n,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function gc(t){this.l=t.fc||null,this.j=t.ob||!1}zt(gc,I0);gc.prototype.g=function(){return new rh(this.l,this.j)};gc.prototype.i=function(t){return function(){return t}}({});function rh(t,e){Pt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=B0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zt(rh,Pt);var B0=0;te=rh.prototype;te.open=function(t,e){if(this.readyState!=B0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Zl(this)};te.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||_e).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pc(this)),this.readyState=B0};te.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Zl(this)),this.g&&(this.readyState=3,Zl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof _e.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BE(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function BE(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}te.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?pc(this):Zl(this),this.readyState==3&&BE(this)}};te.Za=function(t){this.g&&(this.response=this.responseText=t,pc(this))};te.Ya=function(t){this.g&&(this.response=t,pc(this))};te.ka=function(){this.g&&pc(this)};function pc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Zl(t)}te.setRequestHeader=function(t,e){this.v.append(t,e)};te.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};te.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Zl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(rh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var UR=_e.JSON.parse;function pt(t){Pt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=PE,this.L=this.M=!1}zt(pt,Pt);var PE="",VR=/^https?$/i,BR=["POST","PUT"];te=pt.prototype;te.Oa=function(t){this.M=t};te.ha=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Og.g(),this.C=this.u?Nx(this.u):Nx(Og),this.g.onreadystatechange=rn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(l){Cx(this,l);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)n.set(a,s[a]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const l of s.keys())n.set(l,s.get(l));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(l=>l.toLowerCase()=="content-type"),a=_e.FormData&&t instanceof _e.FormData,!(0<=sE(BR,e))||s||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,u]of n)this.g.setRequestHeader(l,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{FE(this),0<this.B&&((this.L=PR(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rn(this.ua,this)):this.A=M0(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(l){Cx(this,l)}};function PR(t){return Ka&&typeof t.timeout=="number"&&t.ontimeout!==void 0}te.ua=function(){typeof S0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yt(this,"timeout"),this.abort(8))};function Cx(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,zE(t),sh(t)}function zE(t){t.F||(t.F=!0,Yt(t,"complete"),Yt(t,"error"))}te.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Yt(this,"complete"),Yt(this,"abort"),sh(this))};te.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sh(this,!0)),pt.$.N.call(this)};te.La=function(){this.s||(this.G||this.v||this.l?HE(this):this.kb())};te.kb=function(){HE(this)};function HE(t){if(t.h&&typeof S0<"u"&&(!t.C[1]||gr(t)!=4||t.da()!=2)){if(t.v&&gr(t)==4)M0(t.La,0,t);else if(Yt(t,"readystatechange"),gr(t)==4){t.h=!1;try{const u=t.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=u===0){var a=String(t.I).match(RE)[1]||null;!a&&_e.self&&_e.self.location&&(a=_e.self.location.protocol.slice(0,-1)),s=!VR.test(a?a.toLowerCase():"")}n=s}if(n)Yt(t,"complete"),Yt(t,"success");else{t.m=6;try{var l=2<gr(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.da()+"]",zE(t)}}finally{sh(t)}}}}function sh(t,e){if(t.g){FE(t);const n=t.g,s=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Yt(t,"ready");try{n.onreadystatechange=s}catch{}}}function FE(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(_e.clearTimeout(t.A),t.A=null)}te.isActive=function(){return!!this.g};function gr(t){return t.g?t.g.readyState:0}te.da=function(){try{return 2<gr(this)?this.g.status:-1}catch{return-1}};te.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};te.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),UR(e)}};function Rx(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case PE:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function zR(t){const e={};t=(t.g&&2<=gr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<t.length;s++){if(Fl(t[s]))continue;var n=hR(t[s]);const a=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const l=e[a]||[];e[a]=l,l.push(n)}sR(e,function(s){return s.join(", ")})}te.Ia=function(){return this.m};te.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function qE(t){let e="";return A0(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function P0(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=qE(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):it(t,e,n))}function fl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function $E(t){this.Ga=0,this.j=[],this.l=new Xd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=fl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=fl("baseRetryDelayMs",5e3,t),this.hb=fl("retryDelaySeedMs",1e4,t),this.eb=fl("forwardChannelMaxRetries",2,t),this.xa=fl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new ME(t&&t.concurrentRequestLimit),this.Ja=new MR,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}te=$E.prototype;te.ra=8;te.H=1;function z0(t){if(GE(t),t.H==3){var e=t.W++,n=Zr(t.I);if(it(n,"SID",t.K),it(n,"RID",e),it(n,"TYPE","terminate"),yc(t,n),e=new fc(t,t.l,e),e.L=2,e.v=nh(Zr(n)),n=!1,_e.navigator&&_e.navigator.sendBeacon)try{n=_e.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&_e.Image&&(new Image().src=e.v,n=!0),n||(e.g=e5(e.l,null),e.g.ha(e.v)),e.G=Date.now(),mc(e)}WE(t)}function ih(t){t.g&&(F0(t),t.g.cancel(),t.g=null)}function GE(t){ih(t),t.u&&(_e.clearTimeout(t.u),t.u=null),wd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&_e.clearTimeout(t.m),t.m=null)}function ah(t){if(!IE(t.i)&&!t.m){t.m=!0;var e=t.Na;$l||gE(),Gl||($l(),Gl=!0),D0.add(e,t),t.C=0}}function HR(t,e){return LE(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=dc(rn(t.Na,t,e),XE(t,t.C)),t.C++,!0)}te.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const a=new fc(this,this.l,t);let l=this.s;if(this.U&&(l?(l=lE(l),cE(l,this.U)):l=this.U),this.o!==null||this.O||(a.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var s=this.j[n];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=KE(this,a,e),n=Zr(this.I),it(n,"RID",t),it(n,"CVER",22),this.F&&it(n,"X-HTTP-Session-Id",this.F),yc(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(qE(l)))+"&"+e:this.o&&P0(n,this.o,l)),V0(this.i,a),this.bb&&it(n,"TYPE","init"),this.P?(it(n,"$req",e),it(n,"SID","null"),a.aa=!0,jg(a,n,null)):jg(a,n,e),this.H=2}}else this.H==3&&(t?Ox(this,t):this.j.length==0||IE(this.i)||Ox(this))};function Ox(t,e){var n;e?n=e.m:n=t.W++;const s=Zr(t.I);it(s,"SID",t.K),it(s,"RID",n),it(s,"AID",t.V),yc(t,s),t.o&&t.s&&P0(s,t.o,t.s),n=new fc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=KE(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),V0(t.i,n),jg(n,s,e)}function yc(t,e){t.na&&A0(t.na,function(n,s){it(e,s,n)}),t.h&&CE({},function(n,s){it(e,s,n)})}function KE(t,e,n){n=Math.min(t.j.length,n);var s=t.h?rn(t.h.Va,t.h,t):null;e:{var a=t.j;let l=-1;for(;;){const u=["count="+n];l==-1?0<n?(l=a[0].g,u.push("ofs="+l)):l=0:u.push("ofs="+l);let f=!0;for(let m=0;m<n;m++){let p=a[m].g;const x=a[m].map;if(p-=l,0>p)l=Math.max(0,a[m].g-100),f=!1;else try{IR(x,u,"req"+p+"_")}catch{s&&s(x)}}if(f){s=u.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,s}function YE(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;$l||gE(),Gl||($l(),Gl=!0),D0.add(e,t),t.A=0}}function H0(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=dc(rn(t.Ma,t),XE(t,t.A)),t.A++,!0)}te.Ma=function(){if(this.u=null,QE(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=dc(rn(this.jb,this),t)}};te.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,hn(10),ih(this),QE(this))};function F0(t){t.B!=null&&(_e.clearTimeout(t.B),t.B=null)}function QE(t){t.g=new fc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Zr(t.wa);it(e,"RID","rpc"),it(e,"SID",t.K),it(e,"AID",t.V),it(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&it(e,"TO",t.qa),it(e,"TYPE","xmlhttp"),yc(t,e),t.o&&t.s&&P0(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=nh(Zr(e)),n.s=null,n.S=!0,TE(n,t)}te.ib=function(){this.v!=null&&(this.v=null,ih(this),H0(this),hn(19))};function wd(t){t.v!=null&&(_e.clearTimeout(t.v),t.v=null)}function ZE(t,e){var n=null;if(t.g==e){wd(t),F0(t),t.g=null;var s=2}else if(Ig(t.i,e))n=e.F,UE(t.i,e),s=1;else return;if(t.H!=0){if(e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var a=t.C;s=Wd(),Yt(s,new wE(s,n)),ah(t)}else YE(t);else if(a=e.o,a==3||a==0&&0<e.ca||!(s==1&&HR(t,e)||s==2&&H0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),a){case 1:_i(t,5);break;case 4:_i(t,10);break;case 3:_i(t,6);break;default:_i(t,2)}}}function XE(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function _i(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var s=rn(t.pb,t);n||(n=new ki("//www.google.com/images/cleardot.gif"),_e.location&&_e.location.protocol=="http"||xd(n,"https"),nh(n)),LR(n.toString(),s)}else hn(2);t.H=0,t.h&&t.h.za(e),WE(t),GE(t)}te.pb=function(t){t?(this.l.info("Successfully pinged google.com"),hn(2)):(this.l.info("Failed to ping google.com"),hn(1))};function WE(t){if(t.H=0,t.ma=[],t.h){const e=VE(t.i);(e.length!=0||t.j.length!=0)&&(wx(t.ma,e),wx(t.ma,t.j),t.i.i.length=0,T0(t.j),t.j.length=0),t.h.ya()}}function JE(t,e,n){var s=n instanceof ki?Zr(n):new ki(n);if(s.g!="")e&&(s.g=e+"."+s.g),bd(s,s.m);else{var a=_e.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var l=new ki(null);s&&xd(l,s),e&&(l.g=e),a&&bd(l,a),n&&(l.l=n),s=l}return n=t.F,e=t.Da,n&&e&&it(s,n,e),it(s,"VER",t.ra),yc(t,s),s}function e5(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new pt(new gc({ob:!0})):new pt(t.va),e.Oa(t.J),e}te.isActive=function(){return!!this.h&&this.h.isActive(this)};function t5(){}te=t5.prototype;te.Ba=function(){};te.Aa=function(){};te.za=function(){};te.ya=function(){};te.isActive=function(){return!0};te.Va=function(){};function Ed(){if(Ka&&!(10<=Number(eR)))throw Error("Environmental error: no available transport.")}Ed.prototype.g=function(t,e){return new Mn(t,e)};function Mn(t,e){Pt.call(this),this.g=new $E(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Fl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ao(this)}zt(Mn,Pt);Mn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;hn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=JE(t,null,t.Y),ah(t)};Mn.prototype.close=function(){z0(this.g)};Mn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=O0(t),t=n);e.j.push(new OR(e.fb++,t)),e.H==3&&ah(e)};Mn.prototype.N=function(){this.g.h=null,delete this.j,z0(this.g),delete this.g,Mn.$.N.call(this)};function n5(t){L0.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}zt(n5,L0);function r5(){U0.call(this),this.status=1}zt(r5,U0);function ao(t){this.g=t}zt(ao,t5);ao.prototype.Ba=function(){Yt(this.g,"a")};ao.prototype.Aa=function(t){Yt(this.g,new n5(t))};ao.prototype.za=function(t){Yt(this.g,new r5)};ao.prototype.ya=function(){Yt(this.g,"b")};function FR(){this.blockSize=-1}function tr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}zt(tr,FR);tr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function rg(t,e,n){n||(n=0);var s=Array(16);if(typeof e=="string")for(var a=0;16>a;++a)s[a]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(a=0;16>a;++a)s[a]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],a=t.g[2];var l=t.g[3],u=e+(l^n&(a^l))+s[0]+3614090360&4294967295;e=n+(u<<7&4294967295|u>>>25),u=l+(a^e&(n^a))+s[1]+3905402710&4294967295,l=e+(u<<12&4294967295|u>>>20),u=a+(n^l&(e^n))+s[2]+606105819&4294967295,a=l+(u<<17&4294967295|u>>>15),u=n+(e^a&(l^e))+s[3]+3250441966&4294967295,n=a+(u<<22&4294967295|u>>>10),u=e+(l^n&(a^l))+s[4]+4118548399&4294967295,e=n+(u<<7&4294967295|u>>>25),u=l+(a^e&(n^a))+s[5]+1200080426&4294967295,l=e+(u<<12&4294967295|u>>>20),u=a+(n^l&(e^n))+s[6]+2821735955&4294967295,a=l+(u<<17&4294967295|u>>>15),u=n+(e^a&(l^e))+s[7]+4249261313&4294967295,n=a+(u<<22&4294967295|u>>>10),u=e+(l^n&(a^l))+s[8]+1770035416&4294967295,e=n+(u<<7&4294967295|u>>>25),u=l+(a^e&(n^a))+s[9]+2336552879&4294967295,l=e+(u<<12&4294967295|u>>>20),u=a+(n^l&(e^n))+s[10]+4294925233&4294967295,a=l+(u<<17&4294967295|u>>>15),u=n+(e^a&(l^e))+s[11]+2304563134&4294967295,n=a+(u<<22&4294967295|u>>>10),u=e+(l^n&(a^l))+s[12]+1804603682&4294967295,e=n+(u<<7&4294967295|u>>>25),u=l+(a^e&(n^a))+s[13]+4254626195&4294967295,l=e+(u<<12&4294967295|u>>>20),u=a+(n^l&(e^n))+s[14]+2792965006&4294967295,a=l+(u<<17&4294967295|u>>>15),u=n+(e^a&(l^e))+s[15]+1236535329&4294967295,n=a+(u<<22&4294967295|u>>>10),u=e+(a^l&(n^a))+s[1]+4129170786&4294967295,e=n+(u<<5&4294967295|u>>>27),u=l+(n^a&(e^n))+s[6]+3225465664&4294967295,l=e+(u<<9&4294967295|u>>>23),u=a+(e^n&(l^e))+s[11]+643717713&4294967295,a=l+(u<<14&4294967295|u>>>18),u=n+(l^e&(a^l))+s[0]+3921069994&4294967295,n=a+(u<<20&4294967295|u>>>12),u=e+(a^l&(n^a))+s[5]+3593408605&4294967295,e=n+(u<<5&4294967295|u>>>27),u=l+(n^a&(e^n))+s[10]+38016083&4294967295,l=e+(u<<9&4294967295|u>>>23),u=a+(e^n&(l^e))+s[15]+3634488961&4294967295,a=l+(u<<14&4294967295|u>>>18),u=n+(l^e&(a^l))+s[4]+3889429448&4294967295,n=a+(u<<20&4294967295|u>>>12),u=e+(a^l&(n^a))+s[9]+568446438&4294967295,e=n+(u<<5&4294967295|u>>>27),u=l+(n^a&(e^n))+s[14]+3275163606&4294967295,l=e+(u<<9&4294967295|u>>>23),u=a+(e^n&(l^e))+s[3]+4107603335&4294967295,a=l+(u<<14&4294967295|u>>>18),u=n+(l^e&(a^l))+s[8]+1163531501&4294967295,n=a+(u<<20&4294967295|u>>>12),u=e+(a^l&(n^a))+s[13]+2850285829&4294967295,e=n+(u<<5&4294967295|u>>>27),u=l+(n^a&(e^n))+s[2]+4243563512&4294967295,l=e+(u<<9&4294967295|u>>>23),u=a+(e^n&(l^e))+s[7]+1735328473&4294967295,a=l+(u<<14&4294967295|u>>>18),u=n+(l^e&(a^l))+s[12]+2368359562&4294967295,n=a+(u<<20&4294967295|u>>>12),u=e+(n^a^l)+s[5]+4294588738&4294967295,e=n+(u<<4&4294967295|u>>>28),u=l+(e^n^a)+s[8]+2272392833&4294967295,l=e+(u<<11&4294967295|u>>>21),u=a+(l^e^n)+s[11]+1839030562&4294967295,a=l+(u<<16&4294967295|u>>>16),u=n+(a^l^e)+s[14]+4259657740&4294967295,n=a+(u<<23&4294967295|u>>>9),u=e+(n^a^l)+s[1]+2763975236&4294967295,e=n+(u<<4&4294967295|u>>>28),u=l+(e^n^a)+s[4]+1272893353&4294967295,l=e+(u<<11&4294967295|u>>>21),u=a+(l^e^n)+s[7]+4139469664&4294967295,a=l+(u<<16&4294967295|u>>>16),u=n+(a^l^e)+s[10]+3200236656&4294967295,n=a+(u<<23&4294967295|u>>>9),u=e+(n^a^l)+s[13]+681279174&4294967295,e=n+(u<<4&4294967295|u>>>28),u=l+(e^n^a)+s[0]+3936430074&4294967295,l=e+(u<<11&4294967295|u>>>21),u=a+(l^e^n)+s[3]+3572445317&4294967295,a=l+(u<<16&4294967295|u>>>16),u=n+(a^l^e)+s[6]+76029189&4294967295,n=a+(u<<23&4294967295|u>>>9),u=e+(n^a^l)+s[9]+3654602809&4294967295,e=n+(u<<4&4294967295|u>>>28),u=l+(e^n^a)+s[12]+3873151461&4294967295,l=e+(u<<11&4294967295|u>>>21),u=a+(l^e^n)+s[15]+530742520&4294967295,a=l+(u<<16&4294967295|u>>>16),u=n+(a^l^e)+s[2]+3299628645&4294967295,n=a+(u<<23&4294967295|u>>>9),u=e+(a^(n|~l))+s[0]+4096336452&4294967295,e=n+(u<<6&4294967295|u>>>26),u=l+(n^(e|~a))+s[7]+1126891415&4294967295,l=e+(u<<10&4294967295|u>>>22),u=a+(e^(l|~n))+s[14]+2878612391&4294967295,a=l+(u<<15&4294967295|u>>>17),u=n+(l^(a|~e))+s[5]+4237533241&4294967295,n=a+(u<<21&4294967295|u>>>11),u=e+(a^(n|~l))+s[12]+1700485571&4294967295,e=n+(u<<6&4294967295|u>>>26),u=l+(n^(e|~a))+s[3]+2399980690&4294967295,l=e+(u<<10&4294967295|u>>>22),u=a+(e^(l|~n))+s[10]+4293915773&4294967295,a=l+(u<<15&4294967295|u>>>17),u=n+(l^(a|~e))+s[1]+2240044497&4294967295,n=a+(u<<21&4294967295|u>>>11),u=e+(a^(n|~l))+s[8]+1873313359&4294967295,e=n+(u<<6&4294967295|u>>>26),u=l+(n^(e|~a))+s[15]+4264355552&4294967295,l=e+(u<<10&4294967295|u>>>22),u=a+(e^(l|~n))+s[6]+2734768916&4294967295,a=l+(u<<15&4294967295|u>>>17),u=n+(l^(a|~e))+s[13]+1309151649&4294967295,n=a+(u<<21&4294967295|u>>>11),u=e+(a^(n|~l))+s[4]+4149444226&4294967295,e=n+(u<<6&4294967295|u>>>26),u=l+(n^(e|~a))+s[11]+3174756917&4294967295,l=e+(u<<10&4294967295|u>>>22),u=a+(e^(l|~n))+s[2]+718787259&4294967295,a=l+(u<<15&4294967295|u>>>17),u=n+(l^(a|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(a+(u<<21&4294967295|u>>>11))&4294967295,t.g[2]=t.g[2]+a&4294967295,t.g[3]=t.g[3]+l&4294967295}tr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,s=this.m,a=this.h,l=0;l<e;){if(a==0)for(;l<=n;)rg(this,t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<e;)if(s[a++]=t.charCodeAt(l++),a==this.blockSize){rg(this,s),a=0;break}}else for(;l<e;)if(s[a++]=t[l++],a==this.blockSize){rg(this,s),a=0;break}}this.h=a,this.i+=e};tr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)t[n++]=this.g[e]>>>s&255;return t};function Xe(t,e){this.h=e;for(var n=[],s=!0,a=t.length-1;0<=a;a--){var l=t[a]|0;s&&l==e||(n[a]=l,s=!1)}this.g=n}var qR={};function q0(t){return-128<=t&&128>t?XC(t,function(e){return new Xe([e|0],0>e?-1:0)}):new Xe([t|0],0>t?-1:0)}function pr(t){if(isNaN(t)||!isFinite(t))return Pa;if(0>t)return Kt(pr(-t));for(var e=[],n=1,s=0;t>=n;s++)e[s]=t/n|0,n*=Lg;return new Xe(e,0)}function s5(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Kt(s5(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=pr(Math.pow(e,8)),s=Pa,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+l),e);8>l?(l=pr(Math.pow(e,l)),s=s.R(l).add(pr(u))):(s=s.R(n),s=s.add(pr(u)))}return s}var Lg=4294967296,Pa=q0(0),Ug=q0(1),Dx=q0(16777216);te=Xe.prototype;te.ea=function(){if($n(this))return-Kt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);t+=(0<=s?s:Lg+s)*e,e*=Lg}return t};te.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Kr(this))return"0";if($n(this))return"-"+Kt(this).toString(t);for(var e=pr(Math.pow(t,6)),n=this,s="";;){var a=Sd(n,e).g;n=_d(n,a.R(e));var l=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=a,Kr(n))return l+s;for(;6>l.length;)l="0"+l;s=l+s}};te.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Kr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function $n(t){return t.h==-1}te.X=function(t){return t=_d(this,t),$n(t)?-1:Kr(t)?0:1};function Kt(t){for(var e=t.g.length,n=[],s=0;s<e;s++)n[s]=~t.g[s];return new Xe(n,~t.h).add(Ug)}te.abs=function(){return $n(this)?Kt(this):this};te.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0,a=0;a<=e;a++){var l=s+(this.D(a)&65535)+(t.D(a)&65535),u=(l>>>16)+(this.D(a)>>>16)+(t.D(a)>>>16);s=u>>>16,l&=65535,u&=65535,n[a]=u<<16|l}return new Xe(n,n[n.length-1]&-2147483648?-1:0)};function _d(t,e){return t.add(Kt(e))}te.R=function(t){if(Kr(this)||Kr(t))return Pa;if($n(this))return $n(t)?Kt(this).R(Kt(t)):Kt(Kt(this).R(t));if($n(t))return Kt(this.R(Kt(t)));if(0>this.X(Dx)&&0>t.X(Dx))return pr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<t.g.length;a++){var l=this.D(s)>>>16,u=this.D(s)&65535,f=t.D(a)>>>16,m=t.D(a)&65535;n[2*s+2*a]+=u*m,zu(n,2*s+2*a),n[2*s+2*a+1]+=l*m,zu(n,2*s+2*a+1),n[2*s+2*a+1]+=u*f,zu(n,2*s+2*a+1),n[2*s+2*a+2]+=l*f,zu(n,2*s+2*a+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new Xe(n,0)};function zu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ml(t,e){this.g=t,this.h=e}function Sd(t,e){if(Kr(e))throw Error("division by zero");if(Kr(t))return new ml(Pa,Pa);if($n(t))return e=Sd(Kt(t),e),new ml(Kt(e.g),Kt(e.h));if($n(e))return e=Sd(t,Kt(e)),new ml(Kt(e.g),e.h);if(30<t.g.length){if($n(t)||$n(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ug,s=e;0>=s.X(t);)n=jx(n),s=jx(s);var a=Da(n,1),l=Da(s,1);for(s=Da(s,2),n=Da(n,2);!Kr(s);){var u=l.add(s);0>=u.X(t)&&(a=a.add(n),l=u),s=Da(s,1),n=Da(n,1)}return e=_d(t,a.R(e)),new ml(a,e)}for(a=Pa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),l=pr(n),u=l.R(e);$n(u)||0<u.X(t);)n-=s,l=pr(n),u=l.R(e);Kr(l)&&(l=Ug),a=a.add(l),t=_d(t,u)}return new ml(a,t)}te.gb=function(t){return Sd(this,t).h};te.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&t.D(s);return new Xe(n,this.h&t.h)};te.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|t.D(s);return new Xe(n,this.h|t.h)};te.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^t.D(s);return new Xe(n,this.h^t.h)};function jx(t){for(var e=t.g.length+1,n=[],s=0;s<e;s++)n[s]=t.D(s)<<1|t.D(s-1)>>>31;return new Xe(n,t.h)}function Da(t,e){var n=e>>5;e%=32;for(var s=t.g.length-n,a=[],l=0;l<s;l++)a[l]=0<e?t.D(l+n)>>>e|t.D(l+n+1)<<32-e:t.D(l+n);return new Xe(a,t.h)}Ed.prototype.createWebChannel=Ed.prototype.g;Mn.prototype.send=Mn.prototype.u;Mn.prototype.open=Mn.prototype.m;Mn.prototype.close=Mn.prototype.close;Jd.NO_ERROR=0;Jd.TIMEOUT=8;Jd.HTTP_ERROR=6;EE.COMPLETE="complete";_E.EventType=hc;hc.OPEN="a";hc.CLOSE="b";hc.ERROR="c";hc.MESSAGE="d";Pt.prototype.listen=Pt.prototype.O;pt.prototype.listenOnce=pt.prototype.P;pt.prototype.getLastError=pt.prototype.Sa;pt.prototype.getLastErrorCode=pt.prototype.Ia;pt.prototype.getStatus=pt.prototype.da;pt.prototype.getResponseJson=pt.prototype.Wa;pt.prototype.getResponseText=pt.prototype.ja;pt.prototype.send=pt.prototype.ha;pt.prototype.setWithCredentials=pt.prototype.Oa;tr.prototype.digest=tr.prototype.l;tr.prototype.reset=tr.prototype.reset;tr.prototype.update=tr.prototype.j;Xe.prototype.add=Xe.prototype.add;Xe.prototype.multiply=Xe.prototype.R;Xe.prototype.modulo=Xe.prototype.gb;Xe.prototype.compare=Xe.prototype.X;Xe.prototype.toNumber=Xe.prototype.ea;Xe.prototype.toString=Xe.prototype.toString;Xe.prototype.getBits=Xe.prototype.D;Xe.fromNumber=pr;Xe.fromString=s5;var $R=function(){return new Ed},GR=function(){return Wd()},sg=Jd,KR=EE,YR=Bi,Mx={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},QR=gc,Hu=_E,ZR=pt,XR=tr,za=Xe;const Ix="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let en=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="9.22.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new c0("@firebase/firestore");function Lx(){return Mi.logLevel}function ce(t,...e){if(Mi.logLevel<=qe.DEBUG){const n=e.map($0);Mi.debug(`Firestore (${oo}): ${t}`,...n)}}function Xr(t,...e){if(Mi.logLevel<=qe.ERROR){const n=e.map($0);Mi.error(`Firestore (${oo}): ${t}`,...n)}}function Ya(t,...e){if(Mi.logLevel<=qe.WARN){const n=e.map($0);Mi.warn(`Firestore (${oo}): ${t}`,...n)}}function $0(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t="Unexpected state"){const e=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: `+t;throw Xr(e),new Error(e)}function ot(t,e){t||we()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let se=class extends Tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}let JR=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}};class e9{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Yr,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Yr)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ot(typeof s.accessToken=="string"),new i5(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string"),new en(e)}}let t9=class{constructor(e,n,s){this.h=e,this.l=n,this.m=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}};class n9{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new t9(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}let r9=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},s9=class{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const s=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.T;return this.T=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?a(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ot(typeof n.token=="string"),this.T=n.token,new r9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=i9(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%e.length))}return s}}function Ye(t,e){return t<e?-1:t>e?1:0}function Qa(t,e,n){return t.length===e.length&&t.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Mt(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Mt(0,0))}static max(){return new Se(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(),s===void 0?s=e.length-n:s>e.length-n&&we(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Xl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xl?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=e.get(a),u=n.get(a);if(l<u)return-1;if(l>u)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class at extends Xl{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new at(n)}static emptyPath(){return new at([])}}const a9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Xl{construct(e,n,s){return new nn(e,n,s)}static isValidIdentifier(e){return a9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new nn(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new se(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new se(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new se(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(s+=f,a++):(l(),a++)}if(l(),u)throw new se(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(at.fromString(e))}static fromName(e){return new ge(at.fromString(e).popFirst(5))}static empty(){return new ge(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new at(e.slice()))}}function o9(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Se.fromTimestamp(s===1e9?new Mt(n+1,0):new Mt(n,s));return new Ys(a,ge.empty(),e)}function l9(t){return new Ys(t.readTime,t.key,-1)}class Ys{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ys(Se.min(),ge.empty(),-1)}static max(){return new Ys(Se.max(),ge.empty(),-1)}}function c9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==u9)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,s)=>{n(e)})}static reject(e){return new Y((n,s)=>{s(e)})}static waitFor(e){return new Y((n,s)=>{let a=0,l=0,u=!1;e.forEach(f=>{++a,f.next(()=>{++l,u&&l===a&&n()},m=>s(m))}),u=!0,l===a&&n()})}static or(e){let n=Y.resolve(!1);for(const s of e)n=n.next(a=>a?Y.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,l)=>{s.push(n.call(this,a,l))}),this.waitFor(s)}static mapArray(e,n){return new Y((s,a)=>{const l=e.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next(x=>{u[p]=x,++f,f===l&&s(u)},x=>a(x))}})}static doWhile(e,n){return new Y((s,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):s()};l()})}}function xc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>n.writeSequenceNumber(s))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}G0.ct=-1;function oh(t){return t==null}function Td(t){return t===0&&1/t==-1/0}function h9(t){return typeof t=="number"&&Number.isInteger(t)&&!Td(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function o5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kt=class Vg{constructor(e,n){this.comparator=e,this.root=n||$s.EMPTY}insert(e,n){return new Vg(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$s.BLACK,null,null))}remove(e){return new Vg(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$s.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fu(this.root,e,this.comparator,!0)}};class Fu{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}let $s=class qr{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??qr.RED,this.left=a??qr.EMPTY,this.right=l??qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new qr(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return qr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return qr.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}};$s.EMPTY=null,$s.RED=!0,$s.BLACK=!1;$s.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(t,e,n,s,a){return this}insert(t,e,n){return new $s(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jn=class Bg{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vx(this.data.getIterator())}getIteratorFrom(e){return new Vx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Bg)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bg(this.comparator);return n.data=e,n}},Vx=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new jn(nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qa(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new l5("Invalid base64 string: "+a):a}}(e);return new on(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const f9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(t){if(ot(!!t),typeof t=="string"){let e=0;const n=f9.exec(t);if(ot(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(t.seconds),nanos:Tt(t.nanos)}}function Tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ii(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Y0(t){const e=t.mapValue.fields.__previous_value__;return K0(e)?Y0(e):e}function Wl(t){const e=Qs(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n,s,a,l,u,f,m,p){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p}}let c5=class Pg{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Pg("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Pg&&e.projectId===this.projectId&&e.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu={mapValue:{}};function Li(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?K0(t)?4:g9(t)?9007199254740991:10:we()}function Sr(t,e){if(t===e)return!0;const n=Li(t);if(n!==Li(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wl(t).isEqual(Wl(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Qs(s.timestampValue),u=Qs(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return Ii(s.bytesValue).isEqual(Ii(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return Tt(s.geoPointValue.latitude)===Tt(a.geoPointValue.latitude)&&Tt(s.geoPointValue.longitude)===Tt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Tt(s.integerValue)===Tt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Tt(s.doubleValue),u=Tt(a.doubleValue);return l===u?Td(l)===Td(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return Qa(t.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:return function(s,a){const l=s.mapValue.fields||{},u=a.mapValue.fields||{};if(Ux(l)!==Ux(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Sr(l[f],u[f])))return!1;return!0}(t,e);default:return we()}}function Jl(t,e){return(t.values||[]).find(n=>Sr(n,e))!==void 0}function Za(t,e){if(t===e)return 0;const n=Li(t),s=Li(e);if(n!==s)return Ye(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return function(a,l){const u=Tt(a.integerValue||a.doubleValue),f=Tt(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(t,e);case 3:return Bx(t.timestampValue,e.timestampValue);case 4:return Bx(Wl(t),Wl(e));case 5:return Ye(t.stringValue,e.stringValue);case 6:return function(a,l){const u=Ii(a),f=Ii(l);return u.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),f=l.split("/");for(let m=0;m<u.length&&m<f.length;m++){const p=Ye(u[m],f[m]);if(p!==0)return p}return Ye(u.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const u=Ye(Tt(a.latitude),Tt(l.latitude));return u!==0?u:Ye(Tt(a.longitude),Tt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(a,l){const u=a.values||[],f=l.values||[];for(let m=0;m<u.length&&m<f.length;++m){const p=Za(u[m],f[m]);if(p)return p}return Ye(u.length,f.length)}(t.arrayValue,e.arrayValue);case 10:return function(a,l){if(a===qu.mapValue&&l===qu.mapValue)return 0;if(a===qu.mapValue)return 1;if(l===qu.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),m=l.fields||{},p=Object.keys(m);f.sort(),p.sort();for(let x=0;x<f.length&&x<p.length;++x){const b=Ye(f[x],p[x]);if(b!==0)return b;const E=Za(u[f[x]],m[p[x]]);if(E!==0)return E}return Ye(f.length,p.length)}(t.mapValue,e.mapValue);default:throw we()}}function Bx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=Qs(t),s=Qs(e),a=Ye(n.seconds,s.seconds);return a!==0?a:Ye(n.nanos,s.nanos)}function Xa(t){return zg(t)}function zg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const a=Qs(s);return`time(${a.seconds},${a.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ii(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ge.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let a="[",l=!0;for(const u of s.values||[])l?l=!1:a+=",",a+=zg(u);return a+"]"}(t.arrayValue):"mapValue"in t?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",u=!0;for(const f of a)u?u=!1:l+=",",l+=`${f}:${zg(s.fields[f])}`;return l+"}"}(t.mapValue):we();var e,n}function Px(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hg(t){return!!t&&"integerValue"in t}function Q0(t){return!!t&&"arrayValue"in t}function zx(t){return!!t&&"nullValue"in t}function Hx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nd(t){return!!t&&"mapValue"in t}function Al(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return lo(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Al(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Al(t.arrayValue.values[n]);return e}return Object.assign({},t)}function g9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!nd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Al(n)}setAll(e){let n=nn.emptyPath(),s={},a=[];e.forEach((u,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}u?s[f.lastSegment()]=Al(u):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());nd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];nd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){lo(n,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new Gn(Al(this.value))}}function u5(t){const e=[];return lo(t.fields,(n,s)=>{const a=new nn([n]);if(nd(s)){const l=u5(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,s,a,l,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new tn(e,0,Se.min(),Se.min(),Se.min(),Gn.empty(),0)}static newFoundDocument(e,n,s,a){return new tn(e,1,n,Se.min(),s,a,0)}static newNoDocument(e,n){return new tn(e,2,n,Se.min(),Se.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Se.min(),Se.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n){this.position=e,this.inclusive=n}}function Fx(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=ge.comparator(ge.fromName(u.referenceValue),n.key):s=Za(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function qx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n="asc"){this.field=e,this.dir=n}}function p9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{}class At extends d5{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new v9(e,n,s):n==="array-contains"?new w9(e,s):n==="in"?new E9(e,s):n==="not-in"?new _9(e,s):n==="array-contains-any"?new S9(e,s):new At(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new x9(e,s):new b9(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Za(n,this.value)):n!==null&&Li(this.value)===Li(n)&&this.matchesComparison(Za(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class nr extends d5{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new nr(e,n)}matches(e){return h5(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function h5(t){return t.op==="and"}function f5(t){return y9(t)&&h5(t)}function y9(t){for(const e of t.filters)if(e instanceof nr)return!1;return!0}function Fg(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+Xa(t.value);if(f5(t))return t.filters.map(e=>Fg(e)).join(",");{const e=t.filters.map(n=>Fg(n)).join(",");return`${t.op}(${e})`}}function m5(t,e){return t instanceof At?function(n,s){return s instanceof At&&n.op===s.op&&n.field.isEqual(s.field)&&Sr(n.value,s.value)}(t,e):t instanceof nr?function(n,s){return s instanceof nr&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((a,l,u)=>a&&m5(l,s.filters[u]),!0):!1}(t,e):void we()}function g5(t){return t instanceof At?function(e){return`${e.field.canonicalString()} ${e.op} ${Xa(e.value)}`}(t):t instanceof nr?function(e){return e.op.toString()+" {"+e.getFilters().map(g5).join(" ,")+"}"}(t):"Filter"}class v9 extends At{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class x9 extends At{constructor(e,n){super(e,"in",n),this.keys=p5("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class b9 extends At{constructor(e,n){super(e,"not-in",n),this.keys=p5("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function p5(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class w9 extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Q0(n)&&Jl(n.arrayValue,this.value)}}class E9 extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class _9 extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Jl(this.value.arrayValue,n)}}class S9 extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Q0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Jl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,n=null,s=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.dt=null}}function $x(t,e=null,n=[],s=[],a=null,l=null,u=null){return new T9(t,e,n,s,a,l,u)}function Z0(t){const e=Ne(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Fg(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(a){return a.field.canonicalString()+a.dir}(s)).join(","),oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Xa(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Xa(s)).join(",")),e.dt=n}return e.dt}function X0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!p9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!m5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qx(t.startAt,e.startAt)&&qx(t.endAt,e.endAt)}function qg(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n=null,s=[],a=[],l=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.wt=null,this._t=null,this.startAt,this.endAt}}function N9(t,e,n,s,a,l,u,f){return new co(t,e,n,s,a,l,u,f)}function W0(t){return new co(t)}function Gx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function J0(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function lh(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function y5(t){return t.collectionGroup!==null}function Fa(t){const e=Ne(t);if(e.wt===null){e.wt=[];const n=lh(e),s=J0(e);if(n!==null&&s===null)n.isKeyField()||e.wt.push(new Ha(n)),e.wt.push(new Ha(nn.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ha(nn.keyField(),l))}}}return e.wt}function Wr(t){const e=Ne(t);if(!e._t)if(e.limitType==="F")e._t=$x(e.path,e.collectionGroup,Fa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of Fa(e)){const u=l.dir==="desc"?"asc":"desc";n.push(new Ha(l.field,u))}const s=e.endAt?new Nd(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Nd(e.startAt.position,e.startAt.inclusive):null;e._t=$x(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e._t}function $g(t,e){e.getFirstInequalityField(),lh(t);const n=t.filters.concat([e]);return new co(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Gg(t,e,n){return new co(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ch(t,e){return X0(Wr(t),Wr(e))&&t.limitType===e.limitType}function v5(t){return`${Z0(Wr(t))}|lt:${t.limitType}`}function Kg(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>g5(s)).join(", ")}]`),oh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Xa(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Xa(s)).join(",")),`Target(${n})`}(Wr(t))}; limitType=${t.limitType})`}function uh(t,e){return e.isFoundDocument()&&function(n,s){const a=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ge.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,s){for(const a of Fa(n))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const a of n.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(a,l,u){const f=Fx(a,l,u);return a.inclusive?f<=0:f<0}(n.startAt,Fa(n),s)||n.endAt&&!function(a,l,u){const f=Fx(a,l,u);return a.inclusive?f>=0:f>0}(n.endAt,Fa(n),s))}(t,e)}function A9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function x5(t){return(e,n)=>{let s=!1;for(const a of Fa(t)){const l=k9(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function k9(t,e,n){const s=t.field.isKeyField()?ge.comparator(e.key,n.key):function(a,l,u){const f=l.data.field(a),m=u.data.field(a);return f!==null&&m!==null?Za(f,m):we()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,(n,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return o5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=new kt(ge.comparator);function Jr(){return C9}const b5=new kt(ge.comparator);function El(...t){let e=b5;for(const n of t)e=e.insert(n.key,n);return e}function w5(t){let e=b5;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Si(){return kl()}function E5(){return kl()}function kl(){return new uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const R9=new kt(ge.comparator),O9=new jn(ge.comparator);function Be(...t){let e=O9;for(const n of t)e=e.add(n);return e}const D9=new jn(Ye);function j9(){return D9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Td(e)?"-0":e}}function S5(t){return{integerValue:""+t}}function M9(t,e){return h9(e)?S5(e):_5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function I9(t,e,n){return t instanceof ec?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&K0(a)&&(a=Y0(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(n,e):t instanceof tc?N5(t,e):t instanceof nc?A5(t,e):function(s,a){const l=T5(s,a),u=Kx(l)+Kx(s.gt);return Hg(l)&&Hg(s.gt)?S5(u):_5(s.serializer,u)}(t,e)}function L9(t,e,n){return t instanceof tc?N5(t,e):t instanceof nc?A5(t,e):n}function T5(t,e){return t instanceof Ad?Hg(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class ec extends dh{}class tc extends dh{constructor(e){super(),this.elements=e}}function N5(t,e){const n=k5(e);for(const s of t.elements)n.some(a=>Sr(a,s))||n.push(s);return{arrayValue:{values:n}}}class nc extends dh{constructor(e){super(),this.elements=e}}function A5(t,e){let n=k5(e);for(const s of t.elements)n=n.filter(a=>!Sr(a,s));return{arrayValue:{values:n}}}class Ad extends dh{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Kx(t){return Tt(t.integerValue||t.doubleValue)}function k5(t){return Q0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,n){this.field=e,this.transform=n}}function V9(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof tc&&s instanceof tc||n instanceof nc&&s instanceof nc?Qa(n.elements,s.elements,Sr):n instanceof Ad&&s instanceof Ad?Sr(n.gt,s.gt):n instanceof ec&&s instanceof ec}(t.transform,e.transform)}class B9{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hh{}function C5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ep(t.key,er.none()):new bc(t.key,t.data,er.none());{const n=t.data,s=Gn.empty();let a=new jn(nn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Pi(t.key,s,new Jn(a.toArray()),er.none())}}function P9(t,e,n){t instanceof bc?function(s,a,l){const u=s.value.clone(),f=Qx(s.fieldTransforms,a,l.transformResults);u.setAll(f),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Pi?function(s,a,l){if(!rd(s.precondition,a))return void a.convertToUnknownDocument(l.version);const u=Qx(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(R5(s)),f.setAll(u),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Cl(t,e,n,s){return t instanceof bc?function(a,l,u,f){if(!rd(a.precondition,l))return u;const m=a.value.clone(),p=Zx(a.fieldTransforms,f,l);return m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null}(t,e,n,s):t instanceof Pi?function(a,l,u,f){if(!rd(a.precondition,l))return u;const m=Zx(a.fieldTransforms,f,l),p=l.data;return p.setAll(R5(a)),p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(x=>x.field))}(t,e,n,s):function(a,l,u){return rd(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function z9(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=T5(s.transform,a||null);l!=null&&(n===null&&(n=Gn.empty()),n.set(s.field,l))}return n||null}function Yx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Qa(n,s,(a,l)=>V9(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bc extends hh{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Pi extends hh{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function R5(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Qx(t,e,n){const s=new Map;ot(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);s.set(l.field,L9(u,f,n[a]))}return s}function Zx(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,I9(l,u,e))}return s}class ep extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H9 extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&P9(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Cl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Cl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=E5();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const m=C5(u,f);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Be())}isEqual(e){return this.batchId===e.batchId&&Qa(this.mutations,e.mutations,(n,s)=>Yx(n,s))&&Qa(this.baseMutations,e.baseMutations,(n,s)=>Yx(n,s))}}class tp{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){ot(e.mutations.length===s.length);let a=R9;const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new tp(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,He;function G9(t){switch(t){default:return we();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function O5(t){if(t===void 0)return Xr("GRPC error has no .code"),q.UNKNOWN;switch(t){case St.OK:return q.OK;case St.CANCELLED:return q.CANCELLED;case St.UNKNOWN:return q.UNKNOWN;case St.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case St.INTERNAL:return q.INTERNAL;case St.UNAVAILABLE:return q.UNAVAILABLE;case St.UNAUTHENTICATED:return q.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case St.NOT_FOUND:return q.NOT_FOUND;case St.ALREADY_EXISTS:return q.ALREADY_EXISTS;case St.PERMISSION_DENIED:return q.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case St.ABORTED:return q.ABORTED;case St.OUT_OF_RANGE:return q.OUT_OF_RANGE;case St.UNIMPLEMENTED:return q.UNIMPLEMENTED;case St.DATA_LOSS:return q.DATA_LOSS;default:return we()}}(He=St||(St={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return $u}static getOrCreateInstance(){return $u===null&&($u=new np),$u}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let $u=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=new za([4294967295,4294967295],0);function Xx(t){const e=K9().encode(t),n=new XR;return n.update(e),new Uint8Array(n.digest())}function Wx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new za([n,s],0),new za([a,l],0)]}class rp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new _l(`Invalid padding: ${n}`);if(s<0)throw new _l(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new _l(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=za.fromNumber(this.It)}Et(e,n,s){let a=e.add(n.multiply(za.fromNumber(s)));return a.compare(Y9)===1&&(a=new za([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Xx(e),[s,a]=Wx(n);for(let l=0;l<this.hashCount;l++){const u=this.Et(s,a,l);if(!this.At(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new rp(l,a,n);return s.forEach(f=>u.insert(f)),u}insert(e){if(this.It===0)return;const n=Xx(e),[s,a]=Wx(n);for(let l=0;l<this.hashCount;l++){const u=this.Et(s,a,l);this.Rt(u)}}Rt(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,wc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new fh(Se.min(),a,new kt(Ye),Jr(),Be())}}class wc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new wc(s,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n,s,a){this.Pt=e,this.removedTargetIds=n,this.key=s,this.bt=a}}class D5{constructor(e,n){this.targetId=e,this.Vt=n}}class j5{constructor(e,n,s=on.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Jx{constructor(){this.St=0,this.Dt=tb(),this.Ct=on.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Be(),n=Be(),s=Be();return this.Dt.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:we()}}),new wc(this.Ct,this.xt,e,n,s)}Ft(){this.Nt=!1,this.Dt=tb()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Q9{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Jr(),this.zt=eb(),this.Wt=new kt(Ye)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const s=this.Zt(n);switch(e.state){case 0:this.te(n)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(n);break;case 3:this.te(n)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),s.$t(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((s,a)=>{this.te(a)&&n(a)})}ne(e){var n;const s=e.targetId,a=e.Vt.count,l=this.se(s);if(l){const u=l.target;if(qg(u))if(a===0){const f=new ge(u.path);this.Yt(s,f,tn.newNoDocument(f,Se.min()))}else ot(a===1);else{const f=this.ie(s);if(f!==a){const m=this.re(e,f);if(m!==0){this.ee(s);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(s,p)}(n=np.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(p,x,b){var E,N,I,V,R,K;const U={localCacheCount:x,existenceFilterCount:b.count},$=b.unchangedNames;return $&&(U.bloomFilter={applied:p===0,hashCount:(E=$==null?void 0:$.hashCount)!==null&&E!==void 0?E:0,bitmapLength:(V=(I=(N=$==null?void 0:$.bits)===null||N===void 0?void 0:N.bitmap)===null||I===void 0?void 0:I.length)!==null&&V!==void 0?V:0,padding:(K=(R=$==null?void 0:$.bits)===null||R===void 0?void 0:R.padding)!==null&&K!==void 0?K:0}),U}(m,f,e.Vt))}}}}re(e,n){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:l="",padding:u=0},hashCount:f=0}=s;let m,p;try{m=Ii(l).toUint8Array()}catch(x){if(x instanceof l5)return Ya("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw x}try{p=new rp(m,u,f)}catch(x){return Ya(x instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",x),1}return p.It===0?1:a!==n-this.oe(e.targetId,p)?2:0}oe(e,n){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(l=>{const u=this.Gt.ue(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;n.vt(f)||(this.Yt(e,l,null),a++)}),a}ce(e){const n=new Map;this.Qt.forEach((l,u)=>{const f=this.se(u);if(f){if(l.current&&qg(f.target)){const m=new ge(f.target.path);this.jt.get(m)!==null||this.ae(u,m)||this.Yt(u,m,tn.newNoDocument(m,e))}l.Mt&&(n.set(u,l.Ot()),l.Ft())}});let s=Be();this.zt.forEach((l,u)=>{let f=!0;u.forEachWhile(m=>{const p=this.se(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(l))}),this.jt.forEach((l,u)=>u.setReadTime(e));const a=new fh(e,n,this.Wt,this.jt,s);return this.jt=Jr(),this.zt=eb(),this.Wt=new kt(Ye),a}Jt(e,n){if(!this.te(e))return;const s=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,s),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,n)?a.Bt(n,1):a.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),s&&(this.jt=this.jt.insert(n,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Jx,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new jn(Ye),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Jx),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function eb(){return new kt(ge.comparator)}function tb(){return new kt(ge.comparator)}const Z9={asc:"ASCENDING",desc:"DESCENDING"},X9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W9={and:"AND",or:"OR"};class J9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yg(t,e){return t.useProto3Json||oh(e)?e:{value:e}}function kd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function e7(t,e){return kd(t,e.toTimestamp())}function Er(t){return ot(!!t),Se.fromTimestamp(function(e){const n=Qs(e);return new Mt(n.seconds,n.nanos)}(t))}function sp(t,e){return function(n){return new at(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function I5(t){const e=at.fromString(t);return ot(B5(e)),e}function Qg(t,e){return sp(t.databaseId,e.path)}function ig(t,e){const n=I5(e);if(n.get(1)!==t.databaseId.projectId)throw new se(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(L5(n))}function Zg(t,e){return sp(t.databaseId,e)}function t7(t){const e=I5(t);return e.length===4?at.emptyPath():L5(e)}function Xg(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function L5(t){return ot(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function nb(t,e,n){return{name:Qg(t,e),fields:n.value.mapValue.fields}}function n7(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,p){return m.useProto3Json?(ot(p===void 0||typeof p=="string"),on.fromBase64String(p||"")):(ot(p===void 0||p instanceof Uint8Array),on.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const p=m.code===void 0?q.UNKNOWN:O5(m.code);return new se(p,m.message||"")}(u);n=new j5(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=ig(t,s.document.name),l=Er(s.document.updateTime),u=s.document.createTime?Er(s.document.createTime):Se.min(),f=new Gn({mapValue:{fields:s.document.fields}}),m=tn.newFoundDocument(a,l,u,f),p=s.targetIds||[],x=s.removedTargetIds||[];n=new sd(p,x,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=ig(t,s.document),l=s.readTime?Er(s.readTime):Se.min(),u=tn.newNoDocument(a,l),f=s.removedTargetIds||[];n=new sd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=ig(t,s.document),l=s.removedTargetIds||[];n=new sd([],l,a,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new $9(a,l),f=s.targetId;n=new D5(f,u)}}return n}function r7(t,e){let n;if(e instanceof bc)n={update:nb(t,e.key,e.value)};else if(e instanceof ep)n={delete:Qg(t,e.key)};else if(e instanceof Pi)n={update:nb(t,e.key,e.data),updateMask:h7(e.fieldMask)};else{if(!(e instanceof H9))return we();n={verify:Qg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(a,l){const u=l.transform;if(u instanceof ec)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof tc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof nc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ad)return{fieldPath:l.field.canonicalString(),increment:u.gt};throw we()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:e7(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:we()}(t,e.precondition)),n}function s7(t,e){return t&&t.length>0?(ot(e!==void 0),t.map(n=>function(s,a){let l=s.updateTime?Er(s.updateTime):Er(a);return l.isEqual(Se.min())&&(l=Er(a)),new B9(l,s.transformResults||[])}(n,e))):[]}function i7(t,e){return{documents:[Zg(t,e.path)]}}function a7(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=Zg(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Zg(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(m){if(m.length!==0)return V5(nr.create(m,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(m){if(m.length!==0)return m.map(p=>function(x){return{field:Ma(x.field),direction:c7(x.dir)}}(p))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=Yg(t,e.limit);var f;return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),n}function o7(t){let e=t7(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){ot(s===1);const x=n.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let l=[];n.where&&(l=function(x){const b=U5(x);return b instanceof nr&&f5(b)?b.getFilters():[b]}(n.where));let u=[];n.orderBy&&(u=n.orderBy.map(x=>function(b){return new Ha(Ia(b.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(x)));let f=null;n.limit&&(f=function(x){let b;return b=typeof x=="object"?x.value:x,oh(b)?null:b}(n.limit));let m=null;n.startAt&&(m=function(x){const b=!!x.before,E=x.values||[];return new Nd(E,b)}(n.startAt));let p=null;return n.endAt&&(p=function(x){const b=!x.before,E=x.values||[];return new Nd(E,b)}(n.endAt)),N9(e,a,u,l,f,"F",m,p)}function l7(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function U5(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ia(e.unaryFilter.field);return At.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Ia(e.unaryFilter.field);return At.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ia(e.unaryFilter.field);return At.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ia(e.unaryFilter.field);return At.create(l,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(t):t.fieldFilter!==void 0?function(e){return At.create(Ia(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return nr.create(e.compositeFilter.filters.map(n=>U5(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return we()}}(e.compositeFilter.op))}(t):we()}function c7(t){return Z9[t]}function u7(t){return X9[t]}function d7(t){return W9[t]}function Ma(t){return{fieldPath:t.canonicalString()}}function Ia(t){return nn.fromServerFormat(t.fieldPath)}function V5(t){return t instanceof At?function(e){if(e.op==="=="){if(Hx(e.value))return{unaryFilter:{field:Ma(e.field),op:"IS_NAN"}};if(zx(e.value))return{unaryFilter:{field:Ma(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Hx(e.value))return{unaryFilter:{field:Ma(e.field),op:"IS_NOT_NAN"}};if(zx(e.value))return{unaryFilter:{field:Ma(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ma(e.field),op:u7(e.op),value:e.value}}}(t):t instanceof nr?function(e){const n=e.getFilters().map(s=>V5(s));return n.length===1?n[0]:{compositeFilter:{op:d7(e.op),filters:n}}}(t):we()}function h7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function B5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n,s,a,l=Se.min(),u=Se.min(),f=on.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(e){this.fe=e}}function m7(t){const e=o7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(){this.rn=new p7}addToCollectionParentIndex(e,n){return this.rn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(Ys.min())}updateCollectionGroup(e,n,s){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class p7{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new jn(at.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new jn(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Wa(0)}static Mn(){return new Wa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(){this.changes=new uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Y.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Cl(s.mutation,a,Jn.empty(),Mt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Be()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Be()){const a=Si();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(l=>{let u=El();return l.forEach((f,m)=>{u=u.insert(f,m.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const s=Si();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Be()))}populateOverlays(e,n,s){const a=[];return s.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,f)=>{n.set(u,f)})})}computeViews(e,n,s,a){let l=Jr();const u=kl(),f=kl();return n.forEach((m,p)=>{const x=s.get(p.key);a.has(p.key)&&(x===void 0||x.mutation instanceof Pi)?l=l.insert(p.key,p):x!==void 0?(u.set(p.key,x.mutation.getFieldMask()),Cl(x.mutation,p,x.mutation.getFieldMask(),Mt.now())):u.set(p.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,x)=>u.set(p,x)),n.forEach((p,x)=>{var b;return f.set(p,new v7(x,(b=u.get(p))!==null&&b!==void 0?b:null))}),f))}recalculateAndSaveOverlays(e,n){const s=kl();let a=new kt((u,f)=>u-f),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const f of u)f.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let x=s.get(m)||Jn.empty();x=f.applyToLocalView(p,x),s.set(m,x);const b=(a.get(f.batchId)||Be()).add(m);a=a.insert(f.batchId,b)})}).next(()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,x=m.value,b=E5();x.forEach(E=>{if(!l.has(E)){const N=C5(n.get(E),s.get(E));N!==null&&b.set(E,N),l=l.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,b))}return Y.waitFor(u)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(a){return ge.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):y5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):Y.resolve(Si());let f=-1,m=l;return u.next(p=>Y.forEach(p,(x,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(x)?Y.resolve():this.remoteDocumentCache.getEntry(e,x).next(E=>{m=m.insert(x,E)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,Be())).next(x=>({batchId:f,changes:w5(x)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let a=El();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const a=n.collectionGroup;let l=El();return this.indexManager.getCollectionParents(e,a).next(u=>Y.forEach(u,f=>{const m=function(p,x){return new co(x,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,s).next(p=>{p.forEach((x,b)=>{l=l.insert(x,b)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,a))).next(l=>{a.forEach((f,m)=>{const p=m.getKey();l.get(p)===null&&(l=l.insert(p,tn.newInvalidDocument(p)))});let u=El();return l.forEach((f,m)=>{const p=a.get(f);p!==void 0&&Cl(p.mutation,m,Jn.empty(),Mt.now()),uh(n,m)&&(u=u.insert(f,m))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Y.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var s;return this.cs.set(n.id,{id:(s=n).id,version:s.version,createTime:Er(s.createTime)}),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(s){return{name:s.name,query:m7(s.bundledQuery),readTime:Er(s.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(){this.overlays=new kt(ge.comparator),this.ls=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Si();return Y.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,l)=>{this.we(e,n,l)}),Y.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.ls.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(s)),Y.resolve()}getOverlaysForCollection(e,n,s){const a=Si(),l=n.length+1,u=new ge(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return Y.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new kt((p,x)=>p-x);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let x=l.get(p.largestBatchId);x===null&&(x=Si(),l=l.insert(p.largestBatchId,x)),x.set(p.getKey(),p)}}const f=Si(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,x)=>f.set(p,x)),!(f.size()>=a)););return Y.resolve(f)}we(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new q9(n,s));let l=this.ls.get(n);l===void 0&&(l=Be(),this.ls.set(n,l)),this.ls.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(){this.fs=new jn(Bt.ds),this.ws=new jn(Bt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.ys(new Bt(e,n))}ps(e,n){e.forEach(s=>this.removeReference(s,n))}Is(e){const n=new ge(new at([])),s=new Bt(n,e),a=new Bt(n,e+1),l=[];return this.ws.forEachInRange([s,a],u=>{this.ys(u),l.push(u.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ge(new at([])),s=new Bt(n,e),a=new Bt(n,e+1);let l=Be();return this.ws.forEachInRange([s,a],u=>{l=l.add(u.key)}),l}containsKey(e){const n=new Bt(e,0),s=this.fs.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ge.comparator(e.key,n.key)||Ye(e.As,n.As)}static _s(e,n){return Ye(e.As,n.As)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new jn(Bt.ds)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new F9(l,n,s,a);this.mutationQueue.push(u);for(const f of a)this.Rs=this.Rs.add(new Bt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Y.resolve(u)}lookupMutationBatch(e,n){return Y.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.bs(s),l=a<0?0:a;return Y.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),a=new Bt(n,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([s,a],u=>{const f=this.Ps(u.As);l.push(f)}),Y.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jn(Ye);return n.forEach(a=>{const l=new Bt(a,0),u=new Bt(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,u],f=>{s=s.add(f.As)})}),Y.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;ge.isDocumentKey(l)||(l=l.child(""));const u=new Bt(new ge(l),0);let f=new jn(Ye);return this.Rs.forEachWhile(m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.As)),!0)},u),Y.resolve(this.Vs(f))}Vs(e){const n=[];return e.forEach(s=>{const a=this.Ps(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){ot(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Rs;return Y.forEach(n.mutations,a=>{const l=new Bt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,n){const s=new Bt(n,0),a=this.Rs.firstAfterOrEqual(s);return Y.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e){this.Ds=e,this.docs=new kt(ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.Ds(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Y.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=Jr();return n.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():tn.newInvalidDocument(a))}),Y.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Jr();const u=n.path,f=new ge(u.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:x}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||c9(l9(x),s)<=0||(a.has(x.key)||uh(n,x))&&(l=l.insert(x.key,x.mutableCopy()))}return Y.resolve(l)}getAllFromCollectionGroup(e,n,s,a){we()}Cs(e,n){return Y.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new S7(this)}getSize(e){return Y.resolve(this.size)}}class S7 extends y7{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),Y.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.persistence=e,this.xs=new uo(n=>Z0(n),X0),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ip,this.targetCount=0,this.Ms=Wa.kn()}forEachTarget(e,n){return this.xs.forEach((s,a)=>n(a)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Ns&&(this.Ns=n),Y.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Wa(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Fn(n),Y.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.xs.forEach((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.xs.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),Y.waitFor(l).next(()=>a)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const s=this.xs.get(n)||null;return Y.resolve(s)}addMatchingKeys(e,n,s){return this.ks.gs(n,s),Y.resolve()}removeMatchingKeys(e,n,s){this.ks.ps(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),Y.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ks.Es(n);return Y.resolve(s)}containsKey(e,n){return Y.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e,n){this.$s={},this.overlays={},this.Os=new G0(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new T7(this),this.indexManager=new g7,this.remoteDocumentCache=function(s){return new _7(s)}(s=>this.referenceDelegate.Ls(s)),this.serializer=new f7(n),this.qs=new b7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new w7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.$s[e.toKey()];return s||(s=new E7(n,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const a=new A7(this.Os.next());return this.referenceDelegate.Us(),s(a).next(l=>this.referenceDelegate.Ks(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Gs(e,n){return Y.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,n)))}}class A7 extends d9{constructor(e){super(),this.currentSequenceNumber=e}}class ap{constructor(e){this.persistence=e,this.Qs=new ip,this.js=null}static zs(e){return new ap(e)}get Ws(){if(this.js)return this.js;throw we()}addReference(e,n,s){return this.Qs.addReference(s,n),this.Ws.delete(s.toString()),Y.resolve()}removeReference(e,n,s){return this.Qs.removeReference(s,n),this.Ws.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.Ws.add(l.toString()))}).next(()=>s.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Ws,s=>{const a=ge.fromPath(s);return this.Hs(e,a).next(l=>{l||n.removeEntry(a,Se.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(s=>{s?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Y.or([()=>Y.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Fi=s,this.Bi=a}static Li(e,n){let s=Be(),a=Be();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new op(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,s,a){return this.Ki(e,n).next(l=>l||this.Gi(e,n,a,s)).next(l=>l||this.Qi(e,n))}Ki(e,n){if(Gx(n))return Y.resolve(null);let s=Wr(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Gg(n,null,"F"),s=Wr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const u=Be(...l);return this.Ui.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,s).next(m=>{const p=this.ji(n,f);return this.zi(n,p,u,m.readTime)?this.Ki(e,Gg(n,null,"F")):this.Wi(e,p,n,m)}))})))}Gi(e,n,s,a){return Gx(n)||a.isEqual(Se.min())?this.Qi(e,n):this.Ui.getDocuments(e,s).next(l=>{const u=this.ji(n,l);return this.zi(n,u,s,a)?this.Qi(e,n):(Lx()<=qe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Kg(n)),this.Wi(e,u,n,o9(a,-1)))})}ji(e,n){let s=new jn(x5(e));return n.forEach((a,l)=>{uh(e,l)&&(s=s.add(l))}),s}zi(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Qi(e,n){return Lx()<=qe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Kg(n)),this.Ui.getDocumentsMatchingQuery(e,n,Ys.min())}Wi(e,n,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(l=>(n.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,n,s,a){this.persistence=e,this.Hi=n,this.serializer=a,this.Ji=new kt(Ye),this.Yi=new uo(l=>Z0(l),X0),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x7(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function R7(t,e,n,s){return new C7(t,e,n,s)}async function P5(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,n.tr(e),n.mutationQueue.getAllMutationBatches(s))).next(l=>{const u=[],f=[];let m=Be();for(const p of a){u.push(p.batchId);for(const x of p.mutations)m=m.add(x.key)}for(const p of l){f.push(p.batchId);for(const x of p.mutations)m=m.add(x.key)}return n.localDocuments.getDocuments(s,m).next(p=>({er:p,removedBatchIds:u,addedBatchIds:f}))})})}function O7(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=n.Zi.newChangeBuffer({trackRemovals:!0});return function(u,f,m,p){const x=m.batch,b=x.keys();let E=Y.resolve();return b.forEach(N=>{E=E.next(()=>p.getEntry(f,N)).next(I=>{const V=m.docVersions.get(N);ot(V!==null),I.version.compareTo(V)<0&&(x.applyToRemoteDocument(I,m),I.isValidDocument()&&(I.setReadTime(m.commitVersion),p.addEntry(I)))})}),E.next(()=>u.mutationQueue.removeMutationBatch(f,x))}(n,s,e,l).next(()=>l.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(u){let f=Be();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(f=f.add(u.batch.mutations[m].key));return f}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function z5(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function D7(t,e){const n=Ne(t),s=e.snapshotVersion;let a=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=n.Zi.newChangeBuffer({trackRemovals:!0});a=n.Ji;const f=[];e.targetChanges.forEach((x,b)=>{const E=a.get(b);if(!E)return;f.push(n.Bs.removeMatchingKeys(l,x.removedDocuments,b).next(()=>n.Bs.addMatchingKeys(l,x.addedDocuments,b)));let N=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?N=N.withResumeToken(on.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):x.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(x.resumeToken,s)),a=a.insert(b,N),function(I,V,R){return I.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(E,N,x)&&f.push(n.Bs.updateTargetData(l,N))});let m=Jr(),p=Be();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,x))}),f.push(j7(l,u,e.documentUpdates).next(x=>{m=x.nr,p=x.sr})),!s.isEqual(Se.min())){const x=n.Bs.getLastRemoteSnapshotVersion(l).next(b=>n.Bs.setTargetsMetadata(l,l.currentSequenceNumber,s));f.push(x)}return Y.waitFor(f).next(()=>u.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.Ji=a,l))}function j7(t,e,n){let s=Be(),a=Be();return n.forEach(l=>s=s.add(l)),e.getEntries(t,s).next(l=>{let u=Jr();return n.forEach((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Se.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):ce("LocalStore","Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)}),{nr:u,sr:a}})}function M7(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function I7(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Bs.getTargetData(s,e).next(l=>l?(a=l,Y.resolve(a)):n.Bs.allocateTargetId(s).next(u=>(a=new zs(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Ji.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(s.targetId,s),n.Yi.set(e,s.targetId)),s})}async function Wg(t,e,n){const s=Ne(t),a=s.Ji.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,u=>s.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!xc(u))throw u;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}function rb(t,e,n){const s=Ne(t);let a=Se.min(),l=Be();return s.persistence.runTransaction("Execute query","readonly",u=>function(f,m,p){const x=Ne(f),b=x.Yi.get(p);return b!==void 0?Y.resolve(x.Ji.get(b)):x.Bs.getTargetData(m,p)}(s,u,Wr(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(u,f.targetId).next(m=>{l=m})}).next(()=>s.Hi.getDocumentsMatchingQuery(u,e,n?a:Se.min(),n?l:Be())).next(f=>(L7(s,A9(e),f),{documents:f,ir:l})))}function L7(t,e,n){let s=t.Xi.get(e)||Se.min();n.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),t.Xi.set(e,s)}class sb{constructor(){this.activeTargetIds=j9()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U7{constructor(){this.Hr=new sb,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,s){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new sb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu=null;function ag(){return Gu===null?Gu=268435456+Math.round(2147483648*Math.random()):Gu++,"0x"+Gu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class z7 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,s,a,l){const u=ag(),f=this.To(e,n);ce("RestConnection",`Sending RPC '${e}' ${u}:`,f,s);const m={};return this.Eo(m,a,l),this.Ao(e,f,m,s).then(p=>(ce("RestConnection",`Received RPC '${e}' ${u}: `,p),p),p=>{throw Ya("RestConnection",`RPC '${e}' ${u} failed with error: `,p,"url: ",f,"request:",s),p})}vo(e,n,s,a,l,u){return this.Io(e,n,s,a,l)}Eo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+oo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}To(e,n){const s=B7[e];return`${this.mo}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,s,a){const l=ag();return new Promise((u,f)=>{const m=new ZR;m.setWithCredentials(!0),m.listenOnce(KR.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case sg.NO_ERROR:const x=m.getResponseJson();ce(Wt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(x)),u(x);break;case sg.TIMEOUT:ce(Wt,`RPC '${e}' ${l} timed out`),f(new se(q.DEADLINE_EXCEEDED,"Request time out"));break;case sg.HTTP_ERROR:const b=m.getStatus();if(ce(Wt,`RPC '${e}' ${l} failed with status:`,b,"response text:",m.getResponseText()),b>0){let E=m.getResponseJson();Array.isArray(E)&&(E=E[0]);const N=E==null?void 0:E.error;if(N&&N.status&&N.message){const I=function(V){const R=V.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(R)>=0?R:q.UNKNOWN}(N.status);f(new se(I,N.message))}else f(new se(q.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new se(q.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{ce(Wt,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(a);ce(Wt,`RPC '${e}' ${l} sending request:`,a),m.send(n,"POST",p,s,15)})}Ro(e,n,s){const a=ag(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=$R(),f=GR(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.xmlHttpFactory=new QR({})),this.Eo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const x=l.join("");ce(Wt,`Creating RPC '${e}' stream ${a}: ${x}`,m);const b=u.createWebChannel(x,m);let E=!1,N=!1;const I=new P7({ro:R=>{N?ce(Wt,`Not sending because RPC '${e}' stream ${a} is closed:`,R):(E||(ce(Wt,`Opening RPC '${e}' stream ${a} transport.`),b.open(),E=!0),ce(Wt,`RPC '${e}' stream ${a} sending:`,R),b.send(R))},oo:()=>b.close()}),V=(R,K,U)=>{R.listen(K,$=>{try{U($)}catch(G){setTimeout(()=>{throw G},0)}})};return V(b,Hu.EventType.OPEN,()=>{N||ce(Wt,`RPC '${e}' stream ${a} transport opened.`)}),V(b,Hu.EventType.CLOSE,()=>{N||(N=!0,ce(Wt,`RPC '${e}' stream ${a} transport closed`),I.wo())}),V(b,Hu.EventType.ERROR,R=>{N||(N=!0,Ya(Wt,`RPC '${e}' stream ${a} transport errored:`,R),I.wo(new se(q.UNAVAILABLE,"The operation could not be completed")))}),V(b,Hu.EventType.MESSAGE,R=>{var K;if(!N){const U=R.data[0];ot(!!U);const $=U,G=$.error||((K=$[0])===null||K===void 0?void 0:K.error);if(G){ce(Wt,`RPC '${e}' stream ${a} received error:`,G);const Z=G.status;let ve=function(Re){const Ee=St[Re];if(Ee!==void 0)return O5(Ee)}(Z),Ae=G.message;ve===void 0&&(ve=q.INTERNAL,Ae="Unknown error status: "+Z+" with message "+G.message),N=!0,I.wo(new se(ve,Ae)),b.close()}else ce(Wt,`RPC '${e}' stream ${a} received:`,U),I._o(U)}}),V(f,YR.STAT_EVENT,R=>{R.stat===Mx.PROXY?ce(Wt,`RPC '${e}' stream ${a} detected buffering proxy`):R.stat===Mx.NOPROXY&&ce(Wt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{I.fo()},0),I}}function og(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t){return new J9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,n,s=1e3,a=1.5,l=6e4){this.ii=e,this.timerId=n,this.Po=s,this.bo=a,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,n-s);a>0&&ce("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,n,s,a,l,u,f,m){this.ii=e,this.$o=s,this.Oo=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new H5(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Xr(n.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===n&&this.Zo(s,a)},s=>{e(()=>{const a=new se(q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,n){const s=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H7 extends F5{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=n7(this.serializer,e),s=function(a){if(!("targetChange"in a))return Se.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Se.min():l.readTime?Er(l.readTime):Se.min()}(e);return this.listener.nu(n,s)}su(e){const n={};n.database=Xg(this.serializer),n.addTarget=function(a,l){let u;const f=l.target;if(u=qg(f)?{documents:i7(a,f)}:{query:a7(a,f)},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=M5(a,l.resumeToken);const m=Yg(a,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(Se.min())>0){u.readTime=kd(a,l.snapshotVersion.toTimestamp());const m=Yg(a,l.expectedCount);m!==null&&(u.expectedCount=m)}return u}(this.serializer,e);const s=l7(this.serializer,e);s&&(n.labels=s),this.Wo(n)}iu(e){const n={};n.database=Xg(this.serializer),n.removeTarget=e,this.Wo(n)}}class F7 extends F5{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=s7(e.writeResults,e.commitTime),s=Er(e.commitTime);return this.listener.cu(s,n)}return ot(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Xg(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>r7(this.serializer,s))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7 extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new se(q.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Io(e,n,s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new se(q.UNKNOWN,a.toString())})}vo(e,n,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.vo(e,n,s,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new se(q.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class $7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Xr(n),this.mu=!1):ce("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(u=>{s.enqueueAndForget(async()=>{zi(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(f){const m=Ne(f);m.vu.add(4),await Ec(m),m.bu.set("Unknown"),m.vu.delete(4),await gh(m)}(this))})}),this.bu=new $7(s,a)}}async function gh(t){if(zi(t))for(const e of t.Ru)await e(!0)}async function Ec(t){for(const e of t.Ru)await e(!1)}function q5(t,e){const n=Ne(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),up(n)?cp(n):ho(n).Ko()&&lp(n,e))}function $5(t,e){const n=Ne(t),s=ho(n);n.Au.delete(e),s.Ko()&&G5(n,e),n.Au.size===0&&(s.Ko()?s.jo():zi(n)&&n.bu.set("Unknown"))}function lp(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ho(t).su(e)}function G5(t,e){t.Vu.qt(e),ho(t).iu(e)}function cp(t){t.Vu=new Q9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),ho(t).start(),t.bu.gu()}function up(t){return zi(t)&&!ho(t).Uo()&&t.Au.size>0}function zi(t){return Ne(t).vu.size===0}function K5(t){t.Vu=void 0}async function K7(t){t.Au.forEach((e,n)=>{lp(t,e)})}async function Y7(t,e){K5(t),up(t)?(t.bu.Iu(e),cp(t)):t.bu.set("Unknown")}async function Q7(t,e,n){if(t.bu.set("Online"),e instanceof j5&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const u of a.targetIds)s.Au.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Au.delete(u),s.Vu.removeTarget(u))}(t,e)}catch(s){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Cd(t,s)}else if(e instanceof sd?t.Vu.Ht(e):e instanceof D5?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(Se.min()))try{const s=await z5(t.localStore);n.compareTo(s)>=0&&await function(a,l){const u=a.Vu.ce(l);return u.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const p=a.Au.get(m);p&&a.Au.set(m,p.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach((f,m)=>{const p=a.Au.get(f);if(!p)return;a.Au.set(f,p.withResumeToken(on.EMPTY_BYTE_STRING,p.snapshotVersion)),G5(a,f);const x=new zs(p.target,f,m,p.sequenceNumber);lp(a,x)}),a.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(s){ce("RemoteStore","Failed to raise snapshot:",s),await Cd(t,s)}}async function Cd(t,e,n){if(!xc(e))throw e;t.vu.add(1),await Ec(t),t.bu.set("Offline"),n||(n=()=>z5(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await gh(t)})}function Y5(t,e){return e().catch(n=>Cd(t,n,e))}async function ph(t){const e=Ne(t),n=Zs(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Z7(e);)try{const a=await M7(e.localStore,s);if(a===null){e.Eu.length===0&&n.jo();break}s=a.batchId,X7(e,a)}catch(a){await Cd(e,a)}Q5(e)&&Z5(e)}function Z7(t){return zi(t)&&t.Eu.length<10}function X7(t,e){t.Eu.push(e);const n=Zs(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Q5(t){return zi(t)&&!Zs(t).Uo()&&t.Eu.length>0}function Z5(t){Zs(t).start()}async function W7(t){Zs(t).hu()}async function J7(t){const e=Zs(t);for(const n of t.Eu)e.uu(n.mutations)}async function e8(t,e,n){const s=t.Eu.shift(),a=tp.from(s,e,n);await Y5(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await ph(t)}async function t8(t,e){e&&Zs(t).ou&&await async function(n,s){if(a=s.code,G9(a)&&a!==q.ABORTED){const l=n.Eu.shift();Zs(n).Qo(),await Y5(n,()=>n.remoteSyncer.rejectFailedWrite(l.batchId,s)),await ph(n)}var a}(t,e),Q5(t)&&Z5(t)}async function ab(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const s=zi(n);n.vu.add(3),await Ec(n),s&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await gh(n)}async function n8(t,e){const n=Ne(t);e?(n.vu.delete(2),await gh(n)):e||(n.vu.add(2),await Ec(n),n.bu.set("Unknown"))}function ho(t){return t.Su||(t.Su=function(e,n,s){const a=Ne(e);return a.fu(),new H7(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{uo:K7.bind(null,t),ao:Y7.bind(null,t),nu:Q7.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),up(t)?cp(t):t.bu.set("Unknown")):(await t.Su.stop(),K5(t))})),t.Su}function Zs(t){return t.Du||(t.Du=function(e,n,s){const a=Ne(e);return a.fu(),new F7(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{uo:W7.bind(null,t),ao:t8.bind(null,t),au:J7.bind(null,t),cu:e8.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await ph(t)):(await t.Du.stop(),t.Eu.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,f=new dp(e,n,u,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hp(t,e){if(Xr("AsyncQueue",`${e}: ${t}`),xc(t))return new se(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=El(),this.sortedSet=new kt(this.comparator)}static emptySet(e){return new qa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new qa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.Cu=new kt(ge.comparator)}track(e){const n=e.doc.key,s=this.Cu.get(n);s?e.type!==0&&s.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&s.type!==1?this.Cu=this.Cu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Cu=this.Cu.remove(n):e.type===1&&s.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):we():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ja{constructor(e,n,s,a,l,u,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach(f=>{u.push({type:0,doc:f})}),new Ja(e,n,qa.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(){this.Nu=void 0,this.listeners=[]}}class s8{constructor(){this.queries=new uo(e=>v5(e),ch),this.onlineState="Unknown",this.ku=new Set}}async function X5(t,e){const n=Ne(t),s=e.query;let a=!1,l=n.queries.get(s);if(l||(a=!0,l=new r8),a)try{l.Nu=await n.onListen(s)}catch(u){const f=hp(u,`Initialization of query '${Kg(e.query)}' failed`);return void e.onError(f)}n.queries.set(s,l),l.listeners.push(e),e.Mu(n.onlineState),l.Nu&&e.$u(l.Nu)&&fp(n)}async function W5(t,e){const n=Ne(t),s=e.query;let a=!1;const l=n.queries.get(s);if(l){const u=l.listeners.indexOf(e);u>=0&&(l.listeners.splice(u,1),a=l.listeners.length===0)}if(a)return n.queries.delete(s),n.onUnlisten(s)}function i8(t,e){const n=Ne(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.listeners)f.$u(a)&&(s=!0);u.Nu=a}}s&&fp(n)}function a8(t,e,n){const s=Ne(t),a=s.queries.get(e);if(a)for(const l of a.listeners)l.onError(n);s.queries.delete(e)}function fp(t){t.ku.forEach(e=>{e.next()})}class J5{constructor(e,n,s){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Ja(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Ku||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.key=e}}class t4{constructor(e){this.key=e}}class o8{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Be(),this.mutatedKeys=Be(),this.tc=x5(e),this.ec=new qa(this.tc)}get nc(){return this.Yu}sc(e,n){const s=n?n.ic:new ob,a=n?n.ec:this.ec;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((x,b)=>{const E=a.get(x),N=uh(this.query,b)?b:null,I=!!E&&this.mutatedKeys.has(E.key),V=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let R=!1;E&&N?E.data.isEqual(N.data)?I!==V&&(s.track({type:3,doc:N}),R=!0):this.rc(E,N)||(s.track({type:2,doc:N}),R=!0,(m&&this.tc(N,m)>0||p&&this.tc(N,p)<0)&&(f=!0)):!E&&N?(s.track({type:0,doc:N}),R=!0):E&&!N&&(s.track({type:1,doc:E}),R=!0,(m||p)&&(f=!0)),R&&(N?(u=u.add(N),l=V?l.add(x):l.delete(x)):(u=u.delete(x),l=l.delete(x)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),l=l.delete(x.key),s.track({type:1,doc:x})}return{ec:u,ic:s,zi:f,mutatedKeys:l}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((p,x)=>function(b,E){const N=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return N(b)-N(E)}(p.type,x.type)||this.tc(p.doc,x.doc)),this.oc(s);const u=n?this.uc():[],f=this.Zu.size===0&&this.current?1:0,m=f!==this.Xu;return this.Xu=f,l.length!==0||m?{snapshot:new Ja(this.query,e.ec,a,l,e.mutatedKeys,f===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ob,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Be(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const n=[];return e.forEach(s=>{this.Zu.has(s)||n.push(new t4(s))}),this.Zu.forEach(s=>{e.has(s)||n.push(new e4(s))}),n}hc(e){this.Yu=e.ir,this.Zu=Be();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ja.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class l8{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class c8{constructor(e){this.key=e,this.fc=!1}}class u8{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new uo(f=>v5(f),ch),this._c=new Map,this.mc=new Set,this.gc=new kt(ge.comparator),this.yc=new Map,this.Ic=new ip,this.Tc={},this.Ec=new Map,this.Ac=Wa.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function d8(t,e){const n=w8(t);let s,a;const l=n.wc.get(e);if(l)s=l.targetId,n.sharedClientState.addLocalQueryTarget(s),a=l.view.lc();else{const u=await I7(n.localStore,Wr(e)),f=n.sharedClientState.addLocalQueryTarget(u.targetId);s=u.targetId,a=await h8(n,e,s,f==="current",u.resumeToken),n.isPrimaryClient&&q5(n.remoteStore,u)}return a}async function h8(t,e,n,s,a){t.Rc=(b,E,N)=>async function(I,V,R,K){let U=V.view.sc(R);U.zi&&(U=await rb(I.localStore,V.query,!1).then(({documents:Z})=>V.view.sc(Z,U)));const $=K&&K.targetChanges.get(V.targetId),G=V.view.applyChanges(U,I.isPrimaryClient,$);return cb(I,V.targetId,G.cc),G.snapshot}(t,b,E,N);const l=await rb(t.localStore,e,!0),u=new o8(e,l.ir),f=u.sc(l.documents),m=wc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=u.applyChanges(f,t.isPrimaryClient,m);cb(t,n,p.cc);const x=new l8(e,n,u);return t.wc.set(e,x),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),p.snapshot}async function f8(t,e){const n=Ne(t),s=n.wc.get(e),a=n._c.get(s.targetId);if(a.length>1)return n._c.set(s.targetId,a.filter(l=>!ch(l,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Wg(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),$5(n.remoteStore,s.targetId),Jg(n,s.targetId)}).catch(vc)):(Jg(n,s.targetId),await Wg(n.localStore,s.targetId,!0))}async function m8(t,e,n){const s=E8(t);try{const a=await function(l,u){const f=Ne(l),m=Mt.now(),p=u.reduce((E,N)=>E.add(N.key),Be());let x,b;return f.persistence.runTransaction("Locally write mutations","readwrite",E=>{let N=Jr(),I=Be();return f.Zi.getEntries(E,p).next(V=>{N=V,N.forEach((R,K)=>{K.isValidDocument()||(I=I.add(R))})}).next(()=>f.localDocuments.getOverlayedDocuments(E,N)).next(V=>{x=V;const R=[];for(const K of u){const U=z9(K,x.get(K.key).overlayedDocument);U!=null&&R.push(new Pi(K.key,U,u5(U.value.mapValue),er.exists(!0)))}return f.mutationQueue.addMutationBatch(E,m,R,u)}).next(V=>{b=V;const R=V.applyToLocalDocumentSet(x,I);return f.documentOverlayCache.saveOverlays(E,V.batchId,R)})}).then(()=>({batchId:b.batchId,changes:w5(x)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(l,u,f){let m=l.Tc[l.currentUser.toKey()];m||(m=new kt(Ye)),m=m.insert(u,f),l.Tc[l.currentUser.toKey()]=m}(s,a.batchId,n),await _c(s,a.changes),await ph(s.remoteStore)}catch(a){const l=hp(a,"Failed to persist write");n.reject(l)}}async function n4(t,e){const n=Ne(t);try{const s=await D7(n.localStore,e);e.targetChanges.forEach((a,l)=>{const u=n.yc.get(l);u&&(ot(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.fc=!0:a.modifiedDocuments.size>0?ot(u.fc):a.removedDocuments.size>0&&(ot(u.fc),u.fc=!1))}),await _c(n,s,e)}catch(s){await vc(s)}}function lb(t,e,n){const s=Ne(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.wc.forEach((l,u)=>{const f=u.view.Mu(e);f.snapshot&&a.push(f.snapshot)}),function(l,u){const f=Ne(l);f.onlineState=u;let m=!1;f.queries.forEach((p,x)=>{for(const b of x.listeners)b.Mu(u)&&(m=!0)}),m&&fp(f)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function g8(t,e,n){const s=Ne(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.yc.get(e),l=a&&a.key;if(l){let u=new kt(ge.comparator);u=u.insert(l,tn.newNoDocument(l,Se.min()));const f=Be().add(l),m=new fh(Se.min(),new Map,new kt(Ye),u,f);await n4(s,m),s.gc=s.gc.remove(l),s.yc.delete(e),mp(s)}else await Wg(s.localStore,e,!1).then(()=>Jg(s,e,n)).catch(vc)}async function p8(t,e){const n=Ne(t),s=e.batch.batchId;try{const a=await O7(n.localStore,e);s4(n,s,null),r4(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await _c(n,a)}catch(a){await vc(a)}}async function y8(t,e,n){const s=Ne(t);try{const a=await function(l,u){const f=Ne(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let p;return f.mutationQueue.lookupMutationBatch(m,u).next(x=>(ot(x!==null),p=x.keys(),f.mutationQueue.removeMutationBatch(m,x))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,p,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,p)).next(()=>f.localDocuments.getDocuments(m,p))})}(s.localStore,e);s4(s,e,n),r4(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await _c(s,a)}catch(a){await vc(a)}}function r4(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function s4(t,e,n){const s=Ne(t);let a=s.Tc[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function Jg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t._c.get(e))t.wc.delete(s),n&&t.dc.Pc(s,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(s=>{t.Ic.containsKey(s)||i4(t,s)})}function i4(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&($5(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),mp(t))}function cb(t,e,n){for(const s of n)s instanceof e4?(t.Ic.addReference(s.key,e),v8(t,s)):s instanceof t4?(ce("SyncEngine","Document no longer in limbo: "+s.key),t.Ic.removeReference(s.key,e),t.Ic.containsKey(s.key)||i4(t,s.key)):we()}function v8(t,e){const n=e.key,s=n.path.canonicalString();t.gc.get(n)||t.mc.has(s)||(ce("SyncEngine","New document in limbo: "+n),t.mc.add(s),mp(t))}function mp(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ge(at.fromString(e)),s=t.Ac.next();t.yc.set(s,new c8(n)),t.gc=t.gc.insert(n,s),q5(t.remoteStore,new zs(Wr(W0(n.path)),s,"TargetPurposeLimboResolution",G0.ct))}}async function _c(t,e,n){const s=Ne(t),a=[],l=[],u=[];s.wc.isEmpty()||(s.wc.forEach((f,m)=>{u.push(s.Rc(m,e,n).then(p=>{if((p||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(m.targetId,p!=null&&p.fromCache?"not-current":"current"),p){a.push(p);const x=op.Li(m.targetId,p);l.push(x)}}))}),await Promise.all(u),s.dc.nu(a),await async function(f,m){const p=Ne(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>Y.forEach(m,b=>Y.forEach(b.Fi,E=>p.persistence.referenceDelegate.addReference(x,b.targetId,E)).next(()=>Y.forEach(b.Bi,E=>p.persistence.referenceDelegate.removeReference(x,b.targetId,E)))))}catch(x){if(!xc(x))throw x;ce("LocalStore","Failed to update sequence numbers: "+x)}for(const x of m){const b=x.targetId;if(!x.fromCache){const E=p.Ji.get(b),N=E.snapshotVersion,I=E.withLastLimboFreeSnapshotVersion(N);p.Ji=p.Ji.insert(b,I)}}}(s.localStore,l))}async function x8(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const s=await P5(n.localStore,e);n.currentUser=e,function(a,l){a.Ec.forEach(u=>{u.forEach(f=>{f.reject(new se(q.CANCELLED,l))})}),a.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _c(n,s.er)}}function b8(t,e){const n=Ne(t),s=n.yc.get(e);if(s&&s.fc)return Be().add(s.key);{let a=Be();const l=n._c.get(e);if(!l)return a;for(const u of l){const f=n.wc.get(u);a=a.unionWith(f.view.nc)}return a}}function w8(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=n4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g8.bind(null,e),e.dc.nu=i8.bind(null,e.eventManager),e.dc.Pc=a8.bind(null,e.eventManager),e}function E8(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y8.bind(null,e),e}class ub{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=mh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return R7(this.persistence,new k7,e.initialUser,this.serializer)}createPersistence(e){return new N7(ap.zs,this.serializer)}createSharedClientState(e){return new U7}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _8{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>lb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=x8.bind(null,this.syncEngine),await n8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new s8}createDatastore(e){const n=mh(e.databaseInfo.databaseId),s=(a=e.databaseInfo,new z7(a));var a;return function(l,u,f,m){return new q7(l,u,f,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,a=e.asyncQueue,l=f=>lb(this.syncEngine,f,0),u=ib.D()?new ib:new V7,new G7(n,s,a,l,u);var n,s,a,l,u}createSyncEngine(e,n){return function(s,a,l,u,f,m,p){const x=new u8(s,a,l,u,f,m);return p&&(x.vc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Ne(e);ce("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Ec(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(e,n,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=en.UNAUTHENTICATED,this.clientId=a5.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async l=>{ce("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(s,l=>(ce("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=hp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function lg(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async a=>{s.isEqual(a)||(await P5(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function db(t,e){t.asyncQueue.verifyOperationInProgress();const n=await N8(t);ce("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(a=>ab(e.remoteStore,a)),t.setAppCheckTokenChangeListener((a,l)=>ab(e.remoteStore,l)),t._onlineComponents=e}function T8(t){return t.name==="FirebaseError"?t.code===q.FAILED_PRECONDITION||t.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function N8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await lg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!T8(n))throw n;Ya("Error using user provided cache. Falling back to memory cache: "+n),await lg(t,new ub)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await lg(t,new ub);return t._offlineComponents}async function o4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await db(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await db(t,new _8))),t._onlineComponents}function A8(t){return o4(t).then(e=>e.syncEngine)}async function l4(t){const e=await o4(t),n=e.eventManager;return n.onListen=d8.bind(null,e.syncEngine),n.onUnlisten=f8.bind(null,e.syncEngine),n}function k8(t,e,n={}){const s=new Yr;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,u,f,m){const p=new a4({next:b=>{l.enqueueAndForget(()=>W5(a,x));const E=b.docs.has(u);!E&&b.fromCache?m.reject(new se(q.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&b.fromCache&&f&&f.source==="server"?m.reject(new se(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),x=new J5(W0(u.path),p,{includeMetadataChanges:!0,Ku:!0});return X5(a,x)}(await l4(t),t.asyncQueue,e,n,s)),s.promise}function C8(t,e,n={}){const s=new Yr;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,u,f,m){const p=new a4({next:b=>{l.enqueueAndForget(()=>W5(a,x)),b.fromCache&&f.source==="server"?m.reject(new se(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),x=new J5(u,p,{includeMetadataChanges:!0,Ku:!0});return X5(a,x)}(await l4(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t,e,n){if(!n)throw new se(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function R8(t,e,n,s){if(e===!0&&s===!0)throw new se(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fb(t){if(!ge.isDocumentKey(t))throw new se(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mb(t){if(ge.isDocumentKey(t))throw new se(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we()}function es(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yh(t);throw new se(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new se(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c4((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new se(q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new se(q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new se(q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,s=e.experimentalLongPollingOptions,n.timeoutSeconds===s.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,s}}class vh{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new se(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gb(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new WR;switch(n.type){case"firstParty":return new n9(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new se(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=hb.get(e);n&&(ce("ComponentProvider","Removing Datastore"),hb.delete(e),n.terminate())}(this),Promise.resolve()}}function O8(t,e,n,s={}){var a;const l=(t=es(t,vh))._getSettings();if(l.host!=="firestore.googleapis.com"&&l.host!==e&&Ya("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${n}`,ssl:!1})),s.mockUserToken){let u,f;if(typeof s.mockUserToken=="string")u=s.mockUserToken,f=en.MOCK_USER;else{u=gw(s.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new se(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new en(m)}t._authCredentials=new JR(new i5(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class Hi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Hi(this.firestore,e,this._query)}}class Gs extends Hi{constructor(e,n,s){super(e,n,W0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new ge(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function d4(t,e,...n){if(t=ut(t),u4("collection","path",e),t instanceof vh){const s=at.fromString(e,...n);return mb(s),new Gs(t,null,s)}{if(!(t instanceof En||t instanceof Gs))throw new se(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(at.fromString(e,...n));return mb(s),new Gs(t.firestore,null,s)}}function rc(t,e,...n){if(t=ut(t),arguments.length===1&&(e=a5.A()),u4("doc","path",e),t instanceof vh){const s=at.fromString(e,...n);return fb(s),new En(t,null,new ge(s))}{if(!(t instanceof En||t instanceof Gs))throw new se(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(at.fromString(e,...n));return fb(s),new En(t.firestore,t instanceof Gs?t.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new H5(this,"async_queue_retry"),this.Xc=()=>{const n=og();n&&ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=og();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=og();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Yr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!xc(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{this.Wc=s,this.Hc=!1;const a=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(s);throw Xr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Hc=!1,s))));return this.Gc=n,n}enqueueAfterDelay(e,n,s){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const a=dp.createAndSchedule(this,e,n,s,l=>this.na(l));return this.zc.push(a),a}Zc(){this.Wc&&we()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class fo extends vh{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new D8,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||h4(this),this._firestoreClient.terminate()}}function j8(t,e){const n=typeof t=="object"?t:d0(),s=typeof t=="string"?t:"(default)",a=Pd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=hw("firestore");l&&O8(a,...l)}return a}function gp(t){return t._firestoreClient||h4(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function h4(t){var e,n,s;const a=t._freezeSettings(),l=function(u,f,m,p){return new m9(u,f,m,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,c4(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._firestoreClient=new S8(t._authCredentials,t._appCheckCredentials,t._queue,l),!((n=a.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.cache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eo(on.fromBase64String(e))}catch(n){throw new se(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new eo(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=/^__.*__$/;class I8{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new bc(e,this.data,n,this.fieldTransforms)}}function f4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class xp{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new xp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Rd(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(f4(this.ca)&&M8.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class L8{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||mh(e)}ya(e,n,s,a=!1){return new xp({ca:e,methodName:n,ga:s,path:nn.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bp(t){const e=t._freezeSettings(),n=mh(t._databaseId);return new L8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function m4(t,e,n,s,a,l={}){const u=t.ya(l.merge||l.mergeFields?2:0,e,n,a);y4("Data must be an object, but it was:",u,s);const f=g4(s,u);let m,p;if(l.merge)m=new Jn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const x=[];for(const b of l.mergeFields){const E=V8(e,b,n);if(!u.contains(E))throw new se(q.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);P8(x,E)||x.push(E)}m=new Jn(x),p=u.fieldTransforms.filter(b=>m.covers(b.field))}else m=null,p=u.fieldTransforms;return new I8(new Gn(f),m,p)}class wp extends yp{_toFieldTransform(e){return new U9(e.path,new ec)}isEqual(e){return e instanceof wp}}function U8(t,e,n,s=!1){return Ep(n,t.ya(s?4:3,e))}function Ep(t,e){if(p4(t=ut(t)))return y4("Unsupported field value:",e,t),g4(t,e);if(t instanceof yp)return function(n,s){if(!f4(s.ca))throw s._a(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,s){const a=[];let l=0;for(const u of n){let f=Ep(u,s.wa(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(t,e)}return function(n,s){if((n=ut(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return M9(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Mt.fromDate(n);return{timestampValue:kd(s.serializer,a)}}if(n instanceof Mt){const a=new Mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:kd(s.serializer,a)}}if(n instanceof vp)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof eo)return{bytesValue:M5(s.serializer,n._byteString)};if(n instanceof En){const a=s.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw s._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:sp(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s._a(`Unsupported field value: ${yh(n)}`)}(t,e)}function g4(t,e){const n={};return o5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(t,(s,a)=>{const l=Ep(a,e.ha(s));l!=null&&(n[s]=l)}),{mapValue:{fields:n}}}function p4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof vp||t instanceof eo||t instanceof En||t instanceof yp)}function y4(t,e,n){if(!p4(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=yh(n);throw s==="an object"?e._a(t+" a custom object"):e._a(t+" "+s)}}function V8(t,e,n){if((e=ut(e))instanceof pp)return e._internalPath;if(typeof e=="string")return v4(t,e);throw Rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const B8=new RegExp("[~\\*/\\[\\]]");function v4(t,e,n){if(e.search(B8)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pp(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rd(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new se(q.INVALID_ARGUMENT,f+t+m)}function P8(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_p("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class z8 extends x4{data(){return super.data()}}function _p(t,e){return typeof e=="string"?v4(t,e):e instanceof pp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sp{}class b4 extends Sp{}function F8(t,e,...n){let s=[];e instanceof Sp&&s.push(e),s=s.concat(n),function(a){const l=a.filter(f=>f instanceof Np).length,u=a.filter(f=>f instanceof Tp).length;if(l>1||l>0&&u>0)throw new se(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)t=a._apply(t);return t}class Tp extends b4{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Tp(e,n,s)}_apply(e){const n=this._parse(e);return w4(e._query,n),new Hi(e.firestore,e.converter,$g(e._query,n))}_parse(e){const n=bp(e.firestore);return function(a,l,u,f,m,p,x){let b;if(m.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new se(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){yb(x,p);const E=[];for(const N of x)E.push(pb(f,a,N));b={arrayValue:{values:E}}}else b=pb(f,a,x)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||yb(x,p),b=U8(u,l,x,p==="in"||p==="not-in");return At.create(m,p,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Np extends Sp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Np(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let l=s;const u=a.getFlattenedFilters();for(const f of u)w4(l,f),l=$g(l,f)}(e._query,n),new Hi(e.firestore,e.converter,$g(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ap extends b4{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ap(e,n)}_apply(e){const n=function(s,a,l){if(s.startAt!==null)throw new se(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new se(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Ha(a,l);return function(f,m){if(J0(f)===null){const p=lh(f);p!==null&&E4(f,p,m.field)}}(s,u),u}(e._query,this._field,this._direction);return new Hi(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new co(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function q8(t,e="asc"){const n=e,s=_p("orderBy",t);return Ap._create(s,n)}function pb(t,e,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new se(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y5(e)&&n.indexOf("/")!==-1)throw new se(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!ge.isDocumentKey(s))throw new se(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Px(t,new ge(s))}if(n instanceof En)return Px(t,n._key);throw new se(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yh(n)}.`)}function yb(t,e){if(!Array.isArray(t)||t.length===0)throw new se(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function w4(t,e){if(e.isInequality()){const s=lh(t),a=e.field;if(s!==null&&!s.isEqual(a))throw new se(q.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const l=J0(t);l!==null&&E4(t,a,l)}const n=function(s,a){for(const l of s)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function E4(t,e,n){if(!n.isEqual(e))throw new se(q.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class $8{convertValue(e,n="none"){switch(Li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return lo(e,(a,l)=>{s[a]=this.convertValue(l,n)}),s}convertGeoPoint(e){return new vp(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Y0(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const n=Qs(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);ot(B5(s));const a=new c5(s.get(1),s.get(3)),l=new ge(s.popFirst(5));return a.isEqual(n)||Xr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t,e,n){let s;return s=t?t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class S4 extends x4{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(_p("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class id extends S4{data(e={}){return super.data(e)}}class G8{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Sl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new id(this._firestore,this._userDataWriter,s.key,s,new Sl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(u=>{const f=new id(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Sl(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const f=new id(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Sl(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,p=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:K8(u.type),doc:f,oldIndex:m,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function K8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){t=es(t,En);const e=es(t.firestore,fo);return k8(gp(e),t._key).then(n=>W8(e,t,n))}class N4 extends $8{constructor(e){super(),this.firestore=e}convertBytes(e){return new eo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,n)}}function Y8(t){t=es(t,Hi);const e=es(t.firestore,fo),n=gp(e),s=new N4(e);return H8(t._query),C8(n,t._query).then(a=>new G8(e,s,t,a))}function Q8(t,e,n){t=es(t,En);const s=es(t.firestore,fo),a=_4(t.converter,e);return kp(s,[m4(bp(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,er.none())])}function Z8(t){return kp(es(t.firestore,fo),[new ep(t._key,er.none())])}function X8(t,e){const n=es(t.firestore,fo),s=rc(t),a=_4(t.converter,e);return kp(n,[m4(bp(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,er.exists(!1))]).then(()=>s)}function kp(t,e){return function(n,s){const a=new Yr;return n.asyncQueue.enqueueAndForget(async()=>m8(await A8(n),s,a)),a.promise}(gp(t),e)}function W8(t,e,n){const s=n.docs.get(e._key),a=new N4(t);return new S4(t,a,e._key,s,new Sl(n.hasPendingWrites,n.fromCache),e.converter)}function A4(){return new wp("serverTimestamp")}(function(t,e=!0){(function(n){oo=n})(Vi),Oi(new Ks("firestore",(n,{instanceIdentifier:s,options:a})=>{const l=n.getProvider("app").getImmediate(),u=new fo(new e9(n.getProvider("auth-internal")),new s9(n.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new se(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new c5(f.options.projectId,m)}(l,s),l);return a=Object.assign({useFetchStreams:e},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),xr(Ix,"3.12.1",t),xr(Ix,"3.12.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4="firebasestorage.googleapis.com",C4="storageBucket",J8=2*60*1e3,eO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt extends Tr{constructor(e,n,s=0){super(cg(e),`Firebase Storage: ${n} (${cg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yt||(yt={}));function cg(t){return"storage/"+t}function Cp(){const t="An unknown error occurred, please check the error payload for server response.";return new vt(yt.UNKNOWN,t)}function tO(t){return new vt(yt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function nO(t){return new vt(yt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function rO(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new vt(yt.UNAUTHENTICATED,t)}function sO(){return new vt(yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function iO(t){return new vt(yt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function aO(){return new vt(yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oO(){return new vt(yt.CANCELED,"User canceled the upload/download.")}function lO(t){return new vt(yt.INVALID_URL,"Invalid URL '"+t+"'.")}function cO(t){return new vt(yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function uO(){return new vt(yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+C4+"' property when initializing the app?")}function dO(){return new vt(yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hO(){return new vt(yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function fO(t){return new vt(yt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function e0(t){return new vt(yt.INVALID_ARGUMENT,t)}function R4(){return new vt(yt.APP_DELETED,"The Firebase app was deleted.")}function mO(t){return new vt(yt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rl(t,e){return new vt(yt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function gl(t){throw new vt(yt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Dn.makeFromUrl(e,n)}catch{return new Dn(e,"")}if(s.path==="")return s;throw cO(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function p(G){G.path_=decodeURIComponent(G.path)}const x="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",N=new RegExp(`^https?://${b}/${x}/b/${a}/o${E}`,"i"),I={bucket:1,path:3},V=n===k4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",K=new RegExp(`^https?://${V}/${a}/${R}`,"i"),$=[{regex:f,indices:m,postModify:l},{regex:N,indices:I,postModify:p},{regex:K,indices:{bucket:1,path:2},postModify:p}];for(let G=0;G<$.length;G++){const Z=$[G],ve=Z.regex.exec(e);if(ve){const Ae=ve[Z.indices.bucket];let Re=ve[Z.indices.path];Re||(Re=""),s=new Dn(Ae,Re),Z.postModify(s);break}}if(s==null)throw lO(e);return s}}class gO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t,e,n){let s=1,a=null,l=null,u=!1,f=0;function m(){return f===2}let p=!1;function x(...R){p||(p=!0,e.apply(null,R))}function b(R){a=setTimeout(()=>{a=null,t(N,m())},R)}function E(){l&&clearTimeout(l)}function N(R,...K){if(p){E();return}if(R){E(),x.call(null,R,...K);return}if(m()||u){E(),x.call(null,R,...K);return}s<64&&(s*=2);let $;f===1?(f=2,$=0):$=(s+Math.random())*1e3,b($)}let I=!1;function V(R){I||(I=!0,E(),!p&&(a!==null?(R||(f=2),clearTimeout(a),b(0)):R||(f=1)))}return b(0),l=setTimeout(()=>{u=!0,V(!0)},n),V}function yO(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(t){return t!==void 0}function xO(t){return typeof t=="object"&&!Array.isArray(t)}function Rp(t){return typeof t=="string"||t instanceof String}function vb(t){return Op()&&t instanceof Blob}function Op(){return typeof Blob<"u"&&!fN()}function xb(t,e,n,s){if(s<e)throw e0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw e0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function O4(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ci||(Ci={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n,s,a,l,u,f,m,p,x,b,E=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=x,this.connectionFactory_=b,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,I)=>{this.resolve_=N,this.reject_=I,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Ku(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===Ci.NO_ERROR,m=l.getStatus();if(!f||bO(m,this.additionalRetryCodes_)&&this.retry){const x=l.getErrorCode()===Ci.ABORT;s(!1,new Ku(!1,null,x));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new Ku(p,l))})},n=(s,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());vO(m)?l(m):l()}catch(m){u(m)}else if(f!==null){const m=Cp();m.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,m)):u(m)}else if(a.canceled){const m=this.appDelete_?R4():oO();u(m)}else{const m=aO();u(m)}};this.canceled_?n(!1,new Ku(!1,null,!0)):this.backoffId_=pO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&yO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ku{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function EO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _O(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function SO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function TO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function NO(t,e,n,s,a,l,u=!0){const f=O4(t.urlParams),m=t.url+f,p=Object.assign({},t.headers);return SO(p,e),EO(p,n),_O(p,l),TO(p,s),new wO(m,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function kO(...t){const e=AO();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(Op())return new Blob(t);throw new vt(yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function CO(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t){if(typeof atob>"u")throw fO("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ug{constructor(e,n){this.data=e,this.contentType=n||null}}function OO(t,e){switch(t){case yr.RAW:return new ug(D4(e));case yr.BASE64:case yr.BASE64URL:return new ug(j4(t,e));case yr.DATA_URL:return new ug(jO(e),MO(e))}throw Cp()}function D4(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=s,u=t.charCodeAt(++n);s=65536|(l&1023)<<10|u&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function DO(t){let e;try{e=decodeURIComponent(t)}catch{throw Rl(yr.DATA_URL,"Malformed data URL.")}return D4(e)}function j4(t,e){switch(t){case yr.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Rl(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case yr.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Rl(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=RO(e)}catch(a){throw a.message.includes("polyfill")?a:Rl(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class M4{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rl(yr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=IO(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function jO(t){const e=new M4(t);return e.base64?j4(yr.BASE64,e.rest):DO(e.rest)}function MO(t){return new M4(t).contentType}function IO(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n){let s=0,a="";vb(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(vb(this.data_)){const s=this.data_,a=CO(s,e,n);return a===null?null:new Us(a)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Us(s,!0)}}static getBlob(...e){if(Op()){const n=e.map(s=>s instanceof Us?s.data_:s);return new Us(kO.apply(null,n))}else{const n=e.map(u=>Rp(u)?OO(yr.RAW,u).data:u.data_);let s=0;n.forEach(u=>{s+=u.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(u=>{for(let f=0;f<u.length;f++)a[l++]=u[f]}),new Us(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t){let e;try{e=JSON.parse(t)}catch{return null}return xO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function UO(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function L4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t,e){return e}class cn{constructor(e,n,s,a){this.server=e,this.local=n||e,this.writable=!!s,this.xform=a||VO}}let Yu=null;function BO(t){return!Rp(t)||t.length<2?t:L4(t)}function U4(){if(Yu)return Yu;const t=[];t.push(new cn("bucket")),t.push(new cn("generation")),t.push(new cn("metageneration")),t.push(new cn("name","fullPath",!0));function e(l,u){return BO(u)}const n=new cn("name");n.xform=e,t.push(n);function s(l,u){return u!==void 0?Number(u):u}const a=new cn("size");return a.xform=s,t.push(a),t.push(new cn("timeCreated")),t.push(new cn("updated")),t.push(new cn("md5Hash",null,!0)),t.push(new cn("cacheControl",null,!0)),t.push(new cn("contentDisposition",null,!0)),t.push(new cn("contentEncoding",null,!0)),t.push(new cn("contentLanguage",null,!0)),t.push(new cn("contentType",null,!0)),t.push(new cn("metadata","customMetadata",!0)),Yu=t,Yu}function PO(t,e){function n(){const s=t.bucket,a=t.fullPath,l=new Dn(s,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function zO(t,e,n){const s={};s.type="file";const a=n.length;for(let l=0;l<a;l++){const u=n[l];s[u.local]=u.xform(s,e[u.server])}return PO(s,t),s}function V4(t,e,n){const s=I4(e);return s===null?null:zO(t,s,n)}function HO(t,e,n,s){const a=I4(e);if(a===null||!Rp(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(p=>{const x=t.bucket,b=t.fullPath,E="/b/"+u(x)+"/o/"+u(b),N=Dp(E,n,s),I=O4({alt:"media",token:p});return N+I})[0]}function FO(t,e){const n={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class B4{constructor(e,n,s,a){this.url=e,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(t){if(!t)throw Cp()}function qO(t,e){function n(s,a){const l=V4(t,a,e);return P4(l!==null),l}return n}function $O(t,e){function n(s,a){const l=V4(t,a,e);return P4(l!==null),HO(l,a,t.host,t._protocol)}return n}function z4(t){function e(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=sO():a=rO():n.getStatus()===402?a=nO(t.bucket):n.getStatus()===403?a=iO(t.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return e}function GO(t){const e=z4(t);function n(s,a){let l=e(s,a);return s.getStatus()===404&&(l=tO(t.path)),l.serverResponse=a.serverResponse,l}return n}function KO(t,e,n){const s=e.fullServerUrl(),a=Dp(s,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,f=new B4(a,l,$O(t,n),u);return f.errorHandler=GO(e),f}function YO(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function QO(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=YO(null,e)),s}function ZO(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let $="";for(let G=0;G<2;G++)$=$+Math.random().toString().slice(2);return $}const m=f();u["Content-Type"]="multipart/related; boundary="+m;const p=QO(e,s,a),x=FO(p,n),b="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+x+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+m+"--",N=Us.getBlob(b,s,E);if(N===null)throw dO();const I={name:p.fullPath},V=Dp(l,t.host,t._protocol),R="POST",K=t.maxUploadRetryTime,U=new B4(V,R,qO(t,n),K);return U.urlParams=I,U.headers=u,U.body=N.uploadData(),U.errorHandler=z4(e),U}class XO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ci.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ci.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ci.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,a){if(this.sent_)throw gl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw gl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class WO extends XO{initXhr(){this.xhr_.responseType="text"}}function H4(){return new WO}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){this._service=e,n instanceof Dn?this._location=n:this._location=Dn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ui(e,n)}get root(){const e=new Dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return L4(this._location.path)}get storage(){return this._service}get parent(){const e=LO(this._location.path);if(e===null)return null;const n=new Dn(this._location.bucket,e);return new Ui(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw mO(e)}}function JO(t,e,n){t._throwIfRoot("uploadBytes");const s=ZO(t.storage,t._location,U4(),new Us(e,!0),n);return t.storage.makeRequestWithTokens(s,H4).then(a=>({metadata:a,ref:t}))}function eD(t){t._throwIfRoot("getDownloadURL");const e=KO(t.storage,t._location,U4());return t.storage.makeRequestWithTokens(e,H4).then(n=>{if(n===null)throw hO();return n})}function tD(t,e){const n=UO(t._location.path,e),s=new Dn(t._location.bucket,n);return new Ui(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t){return/^[A-Za-z]+:\/\//.test(t)}function rD(t,e){return new Ui(t,e)}function F4(t,e){if(t instanceof jp){const n=t;if(n._bucket==null)throw uO();const s=new Ui(n,n._bucket);return e!=null?F4(s,e):s}else return e!==void 0?tD(t,e):t}function sD(t,e){if(e&&nD(e)){if(t instanceof jp)return rD(t,e);throw e0("To use ref(service, url), the first argument must be a Storage instance.")}else return F4(t,e)}function bb(t,e){const n=e==null?void 0:e[C4];return n==null?null:Dn.makeFromBucketSpec(n,t)}function iD(t,e,n,s={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:a}=s;a&&(t._overrideAuthToken=typeof a=="string"?a:gw(a,t.app.options.projectId))}class jp{constructor(e,n,s,a,l){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=k4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=J8,this._maxUploadRetryTime=eO,this._requests=new Set,a!=null?this._bucket=Dn.makeFromBucketSpec(a,this._host):this._bucket=bb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dn.makeFromBucketSpec(this._url,e):this._bucket=bb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ui(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new gO(R4());{const u=NO(e,this._appId,s,a,n,this._firebaseVersion,l);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const wb="@firebase/storage",Eb="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="storage";function aD(t,e,n){return t=ut(t),JO(t,e,n)}function oD(t){return t=ut(t),eD(t)}function lD(t,e){return t=ut(t),sD(t,e)}function cD(t=d0(),e){t=ut(t);const s=Pd(t,q4).getImmediate({identifier:e}),a=hw("storage");return a&&uD(s,...a),s}function uD(t,e,n,s={}){iD(t,e,n,s)}function dD(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new jp(n,s,a,e,Vi)}function hD(){Oi(new Ks(q4,dD,"PUBLIC").setMultipleInstances(!0)),xr(wb,Eb,""),xr(wb,Eb,"esm2017")}hD();const fD={apiKey:"AIzaSyA2LBsiciRmvrPYOcIxUOt1UEgw2R5cUe4",authDomain:"ollo-app-e5224.firebaseapp.com",projectId:"ollo-app-e5224",storageBucket:"ollo-app-e5224.firebasestorage.app",messagingSenderId:"194732965696",appId:"1:194763296569:web:4c8db85f88b235a11322e8"},Mp=vw(fD),to=j8(Mp),mD=cD(Mp),mr=FC(Mp),$4=y.createContext(null),gD=({children:t})=>{const[e,n]=y.useState(null),[s,a]=y.useState(!0),l=()=>"https://olloapp.com.br";y.useEffect(()=>{const b=Kw(mr,async E=>{if(E){const N=rc(to,"users",E.uid),I=await T4(N);I.exists()?n({...I.data(),emailVerified:E.emailVerified}):n(null)}else n(null);a(!1)});return()=>b()},[]);const x={currentUser:e,loading:s,registerWithEmail:async(b,E,N)=>{const V=(await Ak(mr,b,E)).user,R=rc(to,"users",V.uid);await Q8(R,{uid:V.uid,email:V.email,name:N.name,username:N.username,bio:"Novo membro do OLLO!",avatarUrl:`https://ui-avatars.com/api/?name=${encodeURIComponent(N.name)}&background=0D1B2A&color=E0E1DD&bold=true`,createdAt:A4()});const K={url:`${l()}/login?email_verified=true`,handleCodeInApp:!1};return await Gw(V,K),{success:!0}},loginWithEmail:(b,E)=>kk(mr,b,E),logout:async()=>{await Ok(mr)},forgotPassword:b=>{const E={url:`${l()}/reset-password`,handleCodeInApp:!0};return Ek(mr,b,E)}};return g.jsx($4.Provider,{value:x,children:!s&&t})},ei=()=>{const t=y.useContext($4);if(t===void 0)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return t};function pD({openCreatePostModal:t}){const{currentUser:e,logout:n}=ei(),s=fn(),a=async()=>{try{await n(),s("/")}catch(m){console.error("Erro ao fazer logout:",m)}},l=({isActive:m})=>{const p="flex items-center px-3 lg:px-4 py-3 text-sm font-medium rounded-lg transition-colors duration-150 ease-in-out group justify-center lg:justify-start";return m?`${p} bg-ollo-accent text-white shadow-sm dark:bg-ollo-accent-light dark:text-ollo-deep`:`${p} text-gray-600 hover:bg-gray-200/70 hover:text-ollo-deep dark:text-gray-300 dark:hover:bg-gray-700/50 dark:hover:text-white`};return g.jsxs("div",{className:"h-screen bg-ollo-light w-20 lg:w-64 flex flex-col p-3 lg:p-4 border-r border-gray-200/80 dark:border-gray-700/50 shadow-sm transition-all duration-300 ease-in-out dark:bg-ollo-deep",children:[g.jsx("div",{className:"mb-8 lg:mb-10 flex-shrink-0 pt-2 flex items-center justify-center",children:g.jsx(wn,{to:"/",className:"focus:outline-none focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:ring-offset-2 focus:ring-offset-ollo-light dark:focus:ring-offset-ollo-deep rounded-md",title:"Página Inicial OLLO",children:g.jsx("img",{src:"/images/logo_ollo.jpeg",alt:"Logo OLLO",className:"h-16 w-auto"})})}),g.jsxs("nav",{className:"flex-grow space-y-2",children:[g.jsxs(Oa,{to:"/",title:"Início",className:l,end:!0,children:[g.jsx(z3,{className:"h-6 w-6 flex-shrink-0 lg:mr-3"}),g.jsx("span",{className:"hidden lg:inline",children:"Início"})]}),g.jsxs(Oa,{to:"/explore",title:"Explorar",className:l,children:[g.jsx(q3,{className:"h-6 w-6 flex-shrink-0 lg:mr-3"}),g.jsx("span",{className:"hidden lg:inline",children:"Explorar"})]}),g.jsxs(Oa,{to:"/marketplace",title:"Mercado",className:l,children:[g.jsx(v3,{className:"h-6 w-6 flex-shrink-0 lg:mr-3"}),g.jsx("span",{className:"hidden lg:inline",children:"Mercado"})]}),e&&g.jsxs(g.Fragment,{children:[g.jsxs(Oa,{to:"/notifications",title:"Notificações",className:l,children:[g.jsx(p3,{className:"h-6 w-6 flex-shrink-0 lg:mr-3"}),g.jsx("span",{className:"hidden lg:inline",children:"Notificações"})]}),g.jsxs(Oa,{to:"/profile",title:"Meu Perfil",className:l,children:[g.jsx(ow,{className:"h-6 w-6 flex-shrink-0 lg:mr-3"}),g.jsx("span",{className:"hidden lg:inline",children:"Meu Perfil"})]})]})]}),g.jsx("div",{className:"mt-auto flex-shrink-0 pb-2 space-y-2",children:e?g.jsxs(g.Fragment,{children:[g.jsxs("button",{title:"Criar Post",onClick:t,className:"w-full flex items-center justify-center mt-4 px-3 lg:px-4 py-2.5 rounded-lg text-sm font-semibold transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 bg-ollo-accent text-white hover:bg-opacity-90 dark:bg-ollo-accent-light dark:text-ollo-deep dark:hover:bg-opacity-90 focus:ring-ollo-accent dark:focus:ring-ollo-accent-light focus:ring-offset-ollo-light dark:focus:ring-offset-ollo-deep",children:[g.jsx(Vl,{className:"h-5 w-5 lg:mr-2"}),g.jsx("span",{className:"hidden lg:inline",children:"Criar Post"})]}),g.jsxs("button",{title:"Sair",onClick:a,className:"w-full flex items-center px-3 lg:px-4 py-3 text-sm font-medium rounded-lg transition-colors duration-150 ease-in-out group justify-center lg:justify-start text-gray-600 hover:bg-red-100 hover:text-red-700 dark:text-gray-300 dark:hover:bg-red-500/20 dark:hover:text-red-400",children:[g.jsx(d3,{className:"h-6 w-6 flex-shrink-0 lg:mr-3"}),g.jsx("span",{className:"hidden lg:inline",children:"Sair"})]})]}):g.jsxs(Oa,{to:"/login",title:"Entrar",className:l,children:[g.jsx(m3,{className:"h-6 w-6 flex-shrink-0 lg:mr-3"}),g.jsx("span",{className:"hidden lg:inline",children:"Entrar"})]})})]})}function dr({children:t,openCreatePostModal:e,darkMode:n,toggleTheme:s}){return g.jsxs("div",{className:"flex h-screen",children:[g.jsx(pD,{openCreatePostModal:e,darkMode:n,toggleTheme:s}),g.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:g.jsxs("main",{className:`flex-1 overflow-x-hidden overflow-y-auto 
                     p-4 sm:p-6 md:p-8 
                     transition-colors duration-300 ease-in-out
                     ${n?"bg-gradient-to-br from-ollo-deep to-gray-900":"bg-gradient-to-b from-ollo-crystal-green to-ollo-sky-blue"}`,children:[t," "]})})]})}function Od({postData:t,onCommentSubmit:e,onDeletePost:n,variant:s}){if(!t)return null;const{postId:a,userName:l,timestamp:u,content:f}=t,m=t.comments||[],[p,x]=y.useState(!1),[b,E]=y.useState(t.likeCount||Math.floor(Math.random()*100)),[N,I]=y.useState(!1),[V,R]=y.useState(""),[K,U]=y.useState(!1),[$,G]=y.useState({}),[Z,ve]=y.useState(""),Ae=y.useRef(null),Re=4,Ee=f&&(f.length>200||f.split(`
`).length>Re);y.useEffect(()=>{const ne={};m.length>0&&m.forEach(de=>{const S=de.commentId||`c-${Math.random()}`;ne[S]={likes:de.likes||Math.floor(Math.random()*20),dislikes:de.dislikes||Math.floor(Math.random()*5),userReaction:de.userReaction||null}}),G(ne)},[m]);const $e=()=>U(!K),Ie=()=>{x(!p),E(p?b-1:b+1)},ue=()=>I(!N),Oe=()=>{V.trim()&&(e(a,V),R(""))},Ve=()=>{alert("Compartilhar: Funcionalidade em desenvolvimento!")},je=()=>{n&&n(a)},L=(ne,de)=>{G(S=>{const z=S[ne];if(!z)return S;let J=z.likes,W=z.dislikes,ie=z.userReaction;return de==="like"?ie==="liked"?(J--,ie=null):(J++,ie==="disliked"&&W--,ie="liked"):de==="dislike"&&(ie==="disliked"?(W--,ie=null):(W++,ie==="liked"&&J--,ie="disliked")),{...S,[ne]:{likes:Math.max(0,J),dislikes:Math.max(0,W),userReaction:ie}}})},Q=ne=>{const de=document.documentElement.classList.contains("dark"),S=de?"00A896":"0D1B2A",z=de?"0D1B2A":"E0E1DD";return`https://ui-avatars.com/api/?name=${encodeURIComponent(ne)}&background=${S}&color=${z}&bold=true&size=128`};return g.jsxs("div",{className:`
        bg-white/90 dark:bg-ollo-slate/90 
        backdrop-blur-md rounded-xl shadow-lg mb-8 
        border border-gray-200/70 dark:border-gray-700/50 
        text-sm sm:text-base
        ${s==="explore"?"min-h-[400px] flex flex-col":""}
      `,children:[g.jsxs("div",{className:`p-4 sm:p-5 md:p-6 flex flex-col h-full ${s==="explore"?"flex-grow":""}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center min-w-0",children:[g.jsx("img",{className:"h-10 w-10 sm:h-11 sm:w-11 rounded-full mr-3 sm:mr-3.5 object-cover ring-2 ring-offset-2 ring-ollo-accent-light/80 dark:ring-ollo-accent-light ring-offset-white dark:ring-offset-ollo-slate",src:Q(l),alt:`Avatar de ${l}`}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("p",{className:"font-semibold text-sm sm:text-base text-ollo-deep dark:text-ollo-light leading-tight truncate",children:l}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 cursor-pointer transition-colors",children:u})]})]}),l==="Usuário OLLO"&&n&&g.jsx("button",{onClick:je,title:"Excluir este post",className:"p-1.5 rounded-full text-gray-400 dark:text-gray-500 hover:text-red-500 dark:hover:text-red-400 hover:bg-red-100/50 dark:hover:bg-red-500/10 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 transition-colors duration-150 ease-in-out ml-2",children:g.jsx(aw,{className:"h-5 w-5"})})]}),g.jsxs("div",{className:"mb-2",children:[g.jsx("p",{ref:Ae,className:`text-gray-700 dark:text-gray-300 whitespace-pre-wrap leading-relaxed ${!K&&Ee?`line-clamp-${Re}`:""}`,children:f}),Ee&&g.jsx("button",{onClick:$e,className:"text-ollo-deep dark:text-ollo-accent-light hover:underline font-semibold text-xs mt-1.5 transition-colors focus:outline-none focus:ring-2 focus:ring-ollo-deep/50 dark:focus:ring-ollo-accent-light/50 rounded",children:K?"Ler menos":"Continuar lendo..."})]}),(b>0||m.length>0)&&g.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 text-xs text-gray-500 dark:text-gray-400 mt-2 mb-4",children:[b>0&&g.jsxs("span",{className:"hover:text-gray-700 dark:hover:text-gray-200 cursor-default",children:[b," ",b===1?"Gosto":"Gostos"]}),m.length>0&&g.jsxs("button",{onClick:ue,className:"hover:text-gray-700 dark:hover:text-gray-200",children:[m.length," ",m.length===1?"Comentário":"Comentários"]})]}),g.jsxs("div",{className:`flex justify-around items-center border-t border-gray-200/90 dark:border-gray-700/50 pt-3 ${s==="explore"&&!N?"mt-auto":"mt-3"}`,children:[g.jsxs("button",{onClick:Ie,className:`group flex items-center space-x-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700/50 px-2 sm:px-3 py-1.5 transition-colors duration-150 ${p?"text-red-600 dark:text-red-500":"text-gray-500 dark:text-gray-400 hover:text-ollo-deep dark:hover:text-gray-200"}`,title:"Gostar",children:[p?g.jsx(Wb,{className:"w-5 h-5"}):g.jsx(iw,{className:"w-5 h-5"}),g.jsx("span",{className:"font-medium text-xs hidden md:group-hover:inline ml-1",children:"Gostar"})]}),g.jsxs("button",{onClick:ue,className:"group flex items-center space-x-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700/50 px-2 sm:px-3 py-1.5 transition-colors duration-150 text-gray-500 dark:text-gray-400 hover:text-ollo-deep dark:hover:text-gray-200",title:N?"Ocultar comentários":"Comentar",children:[g.jsx(S3,{className:"w-5 h-5"}),g.jsx("span",{className:"font-medium text-xs hidden md:inline ml-1",children:N?"Ocultar":"Comentar"})]}),g.jsxs("button",{onClick:Ve,className:"group flex items-center space-x-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700/50 px-2 sm:px-3 py-1.5 transition-colors duration-150 text-gray-500 dark:text-gray-400 hover:text-ollo-deep dark:hover:text-gray-200",title:"Partilhar",children:[g.jsx(Q3,{className:"w-5 h-5"}),g.jsx("span",{className:"font-medium text-xs hidden md:group-hover:inline ml-1",children:"Partilhar"})]})]})]}),N&&g.jsxs("div",{className:"px-4 sm:px-5 md:px-6 pb-5 pt-4 border-t border-gray-200/90 dark:border-gray-700/50",children:[g.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 mb-4",children:[g.jsx("img",{className:"h-8 w-8 sm:h-9 sm:w-9 rounded-full object-cover flex-shrink-0 ring-1 ring-offset-1 ring-gray-300 dark:ring-gray-600 ring-offset-white dark:ring-offset-ollo-slate",src:Q("Eu"),alt:"Seu avatar"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("textarea",{rows:"2",className:"w-full p-2 sm:p-2.5 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-1 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent text-xs sm:text-sm shadow-sm transition-colors",placeholder:"Escreva um comentário...",value:V,onChange:ne=>R(ne.target.value)}),g.jsx("div",{className:"flex justify-end mt-2",children:g.jsx("button",{onClick:Oe,className:"px-4 py-1.5 sm:px-5 sm:py-2 bg-ollo-deep text-ollo-light dark:bg-ollo-accent-light dark:text-ollo-deep rounded-lg text-xs font-semibold hover:bg-opacity-90 active:scale-95 transition-all duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 shadow-md disabled:opacity-60 disabled:cursor-not-allowed focus:ring-ollo-deep/70 dark:focus:ring-ollo-accent-light/70 focus:ring-offset-white dark:focus:ring-offset-ollo-slate",disabled:!V.trim(),children:"Enviar Comentário"})})]})]}),g.jsx("div",{className:"space-y-3 sm:space-y-4",children:m.length>0?m.map(ne=>{const de=ne.commentId||`c-${Math.random()}`,S=$[de]||{likes:0,dislikes:0,userReaction:null},z=S.userReaction==="liked",J=S.userReaction==="disliked";return g.jsxs("div",{className:"text-xs sm:text-sm flex items-start space-x-2 sm:space-2.5",children:[g.jsx("img",{className:"h-6 w-6 sm:h-7 sm:w-7 rounded-full object-cover flex-shrink-0 mt-0.5 ring-1 ring-offset-1 ring-gray-300 dark:ring-gray-600 ring-offset-white dark:ring-offset-ollo-slate",src:Q(ne.user),alt:`Avatar de ${ne.user}`}),g.jsxs("div",{className:"bg-gray-100/90 dark:bg-gray-800/70 backdrop-blur-sm rounded-lg px-3 py-2 sm:px-3.5 sm:py-2.5 flex-1 shadow-sm border border-gray-200/70 dark:border-gray-700/50",children:[g.jsxs("p",{className:"text-gray-700 dark:text-gray-300 leading-snug",children:[g.jsxs("span",{className:"font-semibold text-ollo-deep dark:text-ollo-light mr-1.5",children:[ne.user,":"]}),ne.text]}),g.jsxs("div",{className:"mt-1.5 flex items-center space-x-3 sm:space-4",children:[g.jsxs("div",{className:"relative",children:[g.jsxs("button",{onClick:()=>L(de,"like"),onMouseEnter:()=>ve(`like-${de}`),onMouseLeave:()=>ve(""),className:`flex items-center text-xs group ${z?"text-ollo-deep dark:text-ollo-accent-light":"text-gray-500 dark:text-gray-400 hover:text-ollo-deep dark:hover:text-ollo-accent-light/80"}`,children:[z?g.jsx($6,{className:"h-4 w-4 mr-1"}):g.jsx(V3,{className:"h-4 w-4 mr-1"}),g.jsx("span",{className:`${z?"font-semibold":""}`,children:S.likes})]}),Z===`like-${de}`&&g.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 bg-black text-white text-xs font-medium rounded-md shadow-xl z-30",children:[" ","Gostei"," "]})]}),g.jsxs("div",{className:"relative",children:[g.jsxs("button",{onClick:()=>L(de,"dislike"),onMouseEnter:()=>ve(`dislike-${de}`),onMouseLeave:()=>ve(""),className:`flex items-center text-xs group ${J?"text-red-600 dark:text-red-500":"text-gray-500 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-500"}`,children:[J?g.jsx(F6,{className:"h-4 w-4 mr-1"}):g.jsx(L3,{className:"h-4 w-4 mr-1"}),g.jsx("span",{className:`${J?"font-semibold":""}`,children:S.dislikes})]}),Z===`dislike-${de}`&&g.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 bg-black text-white text-xs font-medium rounded-md shadow-xl z-30",children:[" ","Não gostei"," "]})]})]})]})]},de)}):g.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 italic text-center py-2",children:"Nenhum comentário ainda. Seja o primeiro!"})})]})]})}const yD=[{id:1,userName:"Seu Story",avatarText:"+",isOwn:!0,imageUrl:"https://images.unsplash.com/photo-1579546929518-9e396f3cc809?q=80&w=2070"},{id:2,userName:"Gemini",avatarText:"GA",imageUrl:"https://images.unsplash.com/photo-1554034483-2610ac3443a5?q=80&w=1887"},{id:3,userName:"Dev Ent.",avatarText:"DE",imageUrl:"https://images.unsplash.com/photo-1558591710-4b4a1ae0f04d?q=80&w=1887"},{id:4,userName:"Usuário C",avatarText:"UC",imageUrl:"https://images.unsplash.com/photo-1557682224-5b8590cd9ec5?q=80&w=2029"},{id:5,userName:"Usuário D",avatarText:"UD",imageUrl:"https://images.unsplash.com/photo-1604079628040-94301bb21b91?q=80&w=1887"},{id:6,userName:"Usuário E",avatarText:"UE",imageUrl:"https://images.unsplash.com/photo-1579546929662-7221826a7f8c?q=80&w=2070"}],vD=({story:t})=>g.jsxs("div",{className:`relative flex-shrink-0 w-28 h-48 sm:w-32 sm:h-56 rounded-xl overflow-hidden cursor-pointer \r
                       shadow-lg transform transition-all duration-300 ease-in-out hover:scale-105 \r
                       focus:outline-none focus:ring-2 ring-offset-2 dark:ring-offset-ollo-deep \r
                       focus:ring-ollo-deep dark:focus:ring-ollo-accent-light`,title:t.userName,onClick:()=>console.log(`Story de ${t.userName} clicada.`),children:[g.jsx("img",{src:t.imageUrl,alt:`Story de ${t.userName}`,className:"w-full h-full object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent"}),g.jsx("div",{className:`absolute top-3 left-3 h-10 w-10 rounded-full flex items-center justify-center font-bold border-2
                           ${t.isOwn?"bg-white text-ollo-deep border-gray-300 dark:bg-gray-200":"bg-ollo-deep text-white border-ollo-accent-light dark:bg-ollo-slate"}`,children:g.jsx("span",{className:t.isOwn?"text-2xl":"text-sm",children:t.avatarText})}),g.jsx("p",{className:"absolute bottom-2 left-2 right-2 text-white text-xs sm:text-sm font-semibold truncate",children:t.isOwn?"Criar Story":t.userName})]}),xD=()=>g.jsx("section",{"aria-labelledby":"stories-heading",className:"py-4 md:py-1 rounded-lg bg-white/50 dark:bg-gray-800/30",children:g.jsxs("div",{className:"max-w-full mx-auto px-1 sm:px-0",children:[g.jsx("h2",{id:"stories-heading",className:"sr-only",children:"Stories"}),g.jsx("div",{className:"flex space-x-3 sm:space-x-4 overflow-x-auto pb-3 pt-1 scrollbar-hide",children:yD.map(t=>g.jsx(vD,{story:t},t.id))})]})}),bD=({onCommentSubmit:t,onDeletePost:e})=>{const{user:n}=ei(),s=fn(),[a,l]=y.useState([]),[u,f]=y.useState(!1),m=b=>{l([b,...a]),f(!1)},p=()=>f(!0),x=()=>f(!1);return g.jsxs("div",{className:"flex flex-col lg:flex-row lg:gap-x-6 xl:gap-x-8 pt-1 px-2 md:px-4 lg:px-6 xl:px-8",children:[g.jsx("main",{className:"w-full flex-grow lg:max-w-2xl xl:max-w-3xl mx-auto lg:mx-0",children:g.jsxs("div",{className:"space-y-6 md:space-y-8",children:[g.jsx(xD,{}),g.jsxs("section",{"aria-labelledby":"create-post-prompt-heading",className:"p-4 rounded-lg bg-white dark:bg-gray-800/70 shadow-md",children:[n&&g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:`flex-shrink-0 h-10 w-10 sm:h-11 sm:w-11 rounded-full flex items-center justify-center text-lg sm:text-xl font-bold\r
                  bg-ollo-deep text-ollo-light dark:bg-ollo-accent-light dark:text-ollo-deep`,children:n.name?n.name.charAt(0).toUpperCase():"?"}),g.jsxs("div",{className:`flex-grow px-4 py-2.5 sm:py-3 rounded-full cursor-pointer transition-colors text-left\r
                  bg-gray-100 hover:bg-gray-200 text-gray-600\r
                  dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-300`,onClick:p,role:"button",tabIndex:0,onKeyPress:b=>{(b.key==="Enter"||b.key===" ")&&p()},children:["No que você está pensando,"," ",n.name?n.name.split(" ")[0]:"Usuário","?"]})]}),g.jsx("h2",{id:"create-post-prompt-heading",className:"sr-only",children:"Iniciar nova postagem"})]}),g.jsxs("section",{"aria-labelledby":"feed-heading",children:[g.jsx("h2",{id:"feed-heading",className:"text-xl md:text-2xl font-semibold mb-4 sm:mb-6 text-gray-900 dark:text-gray-100",children:"Atualizações Recentes"}),a.length>0?g.jsx("div",{className:"space-y-6 md:space-y-8",children:a.map(b=>g.jsx(Od,{postData:b,onCommentSubmit:t,onDeletePost:e},b.id))}):g.jsxs("div",{className:`text-center py-12 px-6 rounded-lg \r
                bg-white dark:bg-gray-800/70 shadow-md border border-gray-200/70 dark:border-gray-700/50`,children:[g.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800 dark:text-gray-200",children:"Bem-vindo(a) ao OLLO!"}),g.jsx("p",{className:"text-base text-gray-600 dark:text-gray-400",children:"Seu feed está um pouco vazio. Que tal explorar ou criar seu primeiro post?"}),g.jsx("button",{onClick:()=>s("/explore"),className:`mt-6 px-5 py-2.5 rounded-lg font-semibold transition-colors\r
                  bg-ollo-deep text-ollo-light hover:bg-opacity-80\r
                  dark:bg-ollo-accent-light dark:text-ollo-deep dark:hover:bg-opacity-90`,children:"Explorar o OLLO"})]})]})]})}),g.jsx("aside",{className:"hidden lg:block lg:w-72 xl:w-80 flex-shrink-0",children:g.jsxs("div",{className:"sticky top-4 space-y-6",children:[g.jsx("h3",{className:"px-1 text-lg font-semibold tracking-tight text-gray-700 dark:text-gray-300",children:"Para Você"}),g.jsxs("div",{className:"rounded-xl overflow-hidden shadow-lg bg-white dark:bg-gray-800 border border-gray-200/90 dark:border-gray-700/60 hover:shadow-xl dark:hover:border-gray-600",children:[g.jsx("div",{className:"h-32 bg-cover bg-center bg-gray-300 dark:bg-gray-700",style:{backgroundImage:"url('https://placehold.co/300x180/A0D2DB/005A4B?text=OLLO+Promo')"}}),g.jsxs("div",{className:"p-4",children:[g.jsx("p",{className:"text-xs uppercase tracking-wider mb-1 text-ollo-deep/80 dark:text-ollo-accent-light/80",children:"Patrocinado"}),g.jsx("h4",{className:"font-semibold mb-1 text-ollo-deep group-hover:text-sky-700 dark:text-gray-100 dark:group-hover:text-ollo-accent-light",children:"Nova Coleção OLLO!"}),g.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Descubra designs incríveis e exclusivos."})]})]}),g.jsx("div",{className:"rounded-xl overflow-hidden shadow-lg bg-white dark:bg-gray-800 border border-gray-200/90 dark:border-gray-700/60 hover:shadow-xl dark:hover:border-gray-600",children:g.jsxs("div",{className:"p-4",children:[g.jsx("p",{className:"text-xs uppercase tracking-wider mb-1 text-gray-400 dark:text-gray-500",children:"Dica OLLO"}),g.jsx("h4",{className:"font-semibold mb-1 text-ollo-deep group-hover:text-sky-700 dark:text-gray-100 dark:group-hover:text-ollo-accent-light",children:"Personalize Seu Perfil"}),g.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Adicione uma foto e uma bio para se conectar melhor!"}),g.jsx("button",{onClick:()=>s("/profile"),className:`mt-3 text-xs font-semibold py-1 px-3 rounded-full transition-colors\r
                bg-ollo-deep/10 text-ollo-deep hover:bg-ollo-deep/20\r
                dark:bg-ollo-accent-light/20 dark:text-ollo-accent-light dark:hover:bg-ollo-accent-light/30`,children:"Ver Perfil"})]})})]})}),u&&g.jsx(rw,{onClose:x,onAddPost:m})]})};function wD({allPosts:t,onCommentSubmit:e}){const[n,s]=y.useState("recentes"),[a,l]=y.useState("recentes"),[u,f]=y.useState([]),m=b=>{s(b)},p=b=>{l(b.target.value)};y.useEffect(()=>{if(!t){f([]);return}let b=[...t];n==="seguindo"?b=b.filter(E=>E.userName==="Usuário OLLO"):n==="populares"&&b.sort((E,N)=>(N.likeCount||0)-(E.likeCount||0)),a==="recentes"?b.sort((E,N)=>N.id-E.id):a==="antigos"?b.sort((E,N)=>E.id-N.id):a==="curtidos"&&b.sort((E,N)=>(N.likeCount||0)-(E.likeCount||0)),f(b)},[t,n,a]);const x=b=>{const E=n===b,N="px-3 py-1.5 text-xs font-medium rounded-full transition-colors duration-150 ease-in-out";return E?`${N} bg-ollo-deep dark:bg-ollo-accent-light text-white dark:text-ollo-deep border border-transparent shadow-md`:`${N} bg-white/70 dark:bg-gray-700/50 text-gray-500 dark:text-gray-300 border border-gray-300/70 dark:border-gray-600/70 hover:bg-gray-200/70 dark:hover:bg-gray-600/80 hover:text-ollo-deep dark:hover:text-gray-100 hover:border-gray-400/70 dark:hover:border-gray-500/70`};return g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold mb-6 sm:mb-8 text-center text-ollo-deep dark:text-ollo-accent-light",children:"Explorar OLLO"}),g.jsxs("div",{className:"mb-8 flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0 sm:gap-6",children:[g.jsxs("div",{className:"flex flex-col items-start space-y-2 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-3",children:[g.jsx("label",{className:"text-sm font-medium whitespace-nowrap text-gray-600 dark:text-gray-300",children:"Filtrar por:"}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("button",{onClick:()=>m("recentes"),className:x("recentes"),children:"Recentes"}),g.jsx("button",{onClick:()=>m("populares"),className:x("populares"),children:"Populares"}),g.jsx("button",{onClick:()=>m("seguindo"),className:x("seguindo"),children:"Seguindo"})]})]}),g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("label",{htmlFor:"sort-order",className:"text-sm font-medium whitespace-nowrap text-gray-600 dark:text-gray-300",children:"Ordenar por:"}),g.jsxs("select",{id:"sort-order",value:a,onChange:p,className:`text-xs rounded-md py-1.5 px-2.5 focus:ring-1 appearance-none custom-select-arrow\r
                                   bg-white dark:bg-gray-800 \r
                                   border border-gray-300 dark:border-gray-600 \r
                                   text-gray-700 dark:text-gray-200 \r
                                   focus:ring-ollo-deep dark:focus:ring-ollo-accent-light \r
                                   focus:border-ollo-deep dark:focus:border-ollo-accent-light`,children:[g.jsx("option",{value:"recentes",children:"Mais Recentes"}),g.jsx("option",{value:"antigos",children:"Mais Antigos"}),g.jsx("option",{value:"curtidos",children:"Mais Curtidos"})]})]})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:u.length>0?u.map(b=>g.jsx(Od,{postData:b,onCommentSubmit:e,variant:"explore"},b.id)):g.jsxs("div",{className:`sm:col-span-full rounded-xl p-8 sm:p-12 text-center \r
                                  bg-white/80 dark:bg-ollo-slate/70\r
                                  backdrop-blur-sm shadow-lg \r
                                  border border-gray-200/80 dark:border-gray-700/50`,children:[g.jsx("p",{className:"text-base sm:text-lg text-gray-700 dark:text-gray-300",children:"Oops! Parece que não há posts para explorar com os filtros atuais."}),g.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-2",children:n!=="recentes"||a!=="recentes"?"Tente outros filtros ou opções de ordenação!":"Por que não criar o primeiro post?"})]})})]})}const ED={"usuario-ollo":{id:"usuario-ollo",name:"Usuário OLLO",userNameForPosts:"Usuário OLLO",bio:"Este é o perfil do Usuário OLLO. Explorando o universo OLLO e compartilhando ideias!",avatarName:"Usuário OLLO",coverUrl:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",stats:{followers:153,following:88}},"gemini-aux":{id:"gemini-aux",name:"Gemini Auxiliar",userNameForPosts:"Gemini Auxiliar",bio:"Assistente AI, sempre pronto para ajudar e conectar!",avatarName:"Gemini Aux",coverUrl:"https://images.unsplash.com/photo-1519681393784-d120267933ba?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",stats:{followers:250,following:10}},"dev-entusiasta":{id:"dev-entusiasta",name:"Dev Entusiasta",userNameForPosts:"Dev Entusiasta",bio:"Apaixonado por código, React e novas tecnologias. #ReactDev",avatarName:"Dev Entusiasta",coverUrl:"https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",stats:{followers:120,following:75}}},_D={"usuario-ollo":["bem-vindo-ollo","usando-useState"],"gemini-aux":["componentizacao-react","meu-outro-post","bem-vindo-ollo"],"dev-entusiasta":["usando-useState"]},dg=(t,e)=>{if(!t)return"";const n=e?"00A896":"0D1B2A",s=e?"0D1B2A":"E0E1DD";return`https://ui-avatars.com/api/?name=${encodeURIComponent(t)}&background=${n}&color=${s}&size=128&bold=true&format=svg`};function _b({allPosts:t=[],onCommentSubmit:e,sessionFollowStatus:n={},setSessionFollowStatus:s}){const{profileId:a}=o0(),l=fn(),u="usuario-ollo",f=a||u,[m,p]=y.useState(null),[x,b]=y.useState(!1),[E,N]=y.useState(!1),[I,V]=y.useState(""),[R,K]=y.useState(""),[U,$]=y.useState(""),[G,Z]=y.useState(""),[ve,Ae]=y.useState(!1),[Re,Ee]=y.useState(!1),[$e,Ie]=y.useState(0),[ue,Oe]=y.useState(0),[Ve,je]=y.useState("posts"),[L,Q]=y.useState([]),ne=y.useRef(null),de=y.useRef(null);y.useEffect(()=>{const he=ED[f];if(he){const lt=document.documentElement.classList.contains("dark");p({...he,avatarUrl:dg(he.avatarName,lt)}),b(!1),N(!1),U.startsWith("blob:")&&URL.revokeObjectURL(U),G.startsWith("blob:")&&URL.revokeObjectURL(G),$(""),Z("");const ft=he.stats.followers;Oe(ft);const _n=f!==u&&n[f]||!1;Ae(_n),Ie(ft+(_n?1:0)),Ee(!1)}else p(null),b(!0)},[f,u,n]),y.useEffect(()=>{const he=()=>{if(m&&!U&&m.avatarUrl.includes("ui-avatars.com")){const ft=document.documentElement.classList.contains("dark"),_n=dg(m.avatarName,ft);_n!==m.avatarUrl&&p(mo=>({...mo,avatarUrl:_n}))}};he();const lt=new MutationObserver(he);return lt.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>lt.disconnect()},[m,U]),y.useEffect(()=>{if(t&&(m!=null&&m.userNameForPosts)){const he=t.flatMap(lt=>(lt.comments||[]).filter(ft=>ft.user===m.userNameForPosts).map(ft=>({...ft,id:ft.commentId||`c-${Math.random()}`,originalPost:{id:lt.postId,contentPreview:lt.content.substring(0,100)+"..."}})));Q(he)}else Q([])},[t,m==null?void 0:m.userNameForPosts]),y.useEffect(()=>()=>{U.startsWith("blob:")&&URL.revokeObjectURL(U),G.startsWith("blob:")&&URL.revokeObjectURL(G)},[U,G]);const S=y.useCallback((he,lt)=>{const ft=he.target.files[0];if(ft){const _n=URL.createObjectURL(ft);lt==="avatar"?(U.startsWith("blob:")&&URL.revokeObjectURL(U),$(_n)):lt==="cover"&&(G.startsWith("blob:")&&URL.revokeObjectURL(G),Z(_n)),he.target.value=null}},[U,G]),z=y.useCallback(()=>{m&&(E||(V(m.name),K(m.bio),U.startsWith("blob:")&&URL.revokeObjectURL(U),G.startsWith("blob:")&&URL.revokeObjectURL(G),$(""),Z("")),N(!E))},[E,m,U,G]),J=y.useCallback(()=>{if(!m)return;const he=document.documentElement.classList.contains("dark");let lt=m.avatarUrl;U?lt=U:(I!==m.name||m.avatarName&&I!==m.avatarName)&&(lt=dg(I,he)),p(ft=>({...ft,name:I,avatarName:I,bio:R,avatarUrl:lt,coverUrl:G||ft.coverUrl})),N(!1)},[m,I,R,U,G]),W=y.useCallback(()=>{U.startsWith("blob:")&&URL.revokeObjectURL(U),G.startsWith("blob:")&&URL.revokeObjectURL(G),$(""),Z(""),N(!1)},[U,G]),ie=y.useCallback(()=>{if(Re||m&&m.id===u||typeof s!="function")return;Ee(!0);const he=!ve;setTimeout(()=>{Ae(he),s(lt=>({...lt,[f]:he})),Ie(ue+(he?1:0)),Ee(!1)},he?800:500)},[ve,Re,m,u,f,ue,s]);if(x)return g.jsxs("div",{className:"min-h-[calc(100vh-200px)] flex flex-col items-center justify-center p-8 text-center text-ollo-deep dark:text-ollo-light",children:[" ",g.jsx(sw,{className:"mx-auto h-20 w-20 mb-6 text-red-500 dark:text-red-400"})," ",g.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Perfil Não Encontrado"})," ",g.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"O perfil que você está procurando não existe ou não pôde ser carregado."})," ",g.jsxs("button",{onClick:()=>l("/"),className:"mt-8 px-6 py-2.5 rounded-lg font-semibold transition-colors bg-ollo-deep text-ollo-light hover:bg-opacity-90 dark:bg-ollo-accent-light dark:text-ollo-deep dark:hover:bg-opacity-90",children:[" ","Voltar para a Página Inicial"," "]})," "]});if(!m)return g.jsxs("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center text-ollo-deep dark:text-ollo-light",children:[" ",g.jsx(_r,{className:"h-12 w-12 animate-spin mr-3"})," ",g.jsx("p",{className:"text-xl",children:"Carregando perfil..."})," "]});const ke=m.id===u,xe=U||m.avatarUrl,Ct=G||m.coverUrl,Ge=t.filter(he=>he.userName===m.userNameForPosts),mn=_D[f]||[],rr=t.filter(he=>mn.includes(he.postId)),sr=he=>`py-3 px-4 sm:px-6 font-semibold text-sm sm:text-base border-b-4 -mb-px transition-all duration-150 ease-in-out focus:outline-none focus:ring-2 focus:z-10 ${Ve===he?"border-ollo-deep dark:border-ollo-accent-light text-ollo-deep dark:text-ollo-accent-light":"border-transparent text-gray-500 hover:text-ollo-deep dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"} focus:ring-ollo-deep/50 dark:focus:ring-ollo-accent-light/50`;return g.jsxs("div",{children:[g.jsxs("div",{className:"bg-white/80 dark:bg-ollo-slate/90 border border-gray-200/50 dark:border-gray-700/50 backdrop-blur-md rounded-xl shadow-2xl overflow-hidden mb-6",children:[g.jsxs("div",{className:"h-52 md:h-72 bg-gradient-to-r from-ollo-accent/30 to-ollo-steel/30 dark:from-ollo-deep via-teal-900 to-gray-900 relative",children:[g.jsx("img",{className:"h-full w-full object-cover",src:Ct,alt:"Imagem de Capa"}),E&&ke&&g.jsxs("button",{onClick:()=>{var he;return(he=de.current)==null?void 0:he.click()},className:"absolute top-4 right-4 p-2.5 rounded-full transition-all duration-150 ease-in-out shadow-lg z-10 bg-white/70 hover:bg-white/90 text-ollo-deep dark:bg-black/60 dark:hover:bg-black/80 dark:text-white",title:"Alterar imagem de capa",children:[" ",g.jsx(b3,{className:"h-5 w-5 sm:h-6 sm:w-6"})," ",g.jsx("input",{type:"file",ref:de,accept:"image/*",onChange:he=>S(he,"cover"),className:"hidden"})," "]})]}),g.jsxs("div",{className:"relative px-4 sm:px-6 lg:px-8 pb-8 pt-3",children:[g.jsx("div",{className:"-mt-20 sm:-mt-24 flex justify-center",children:g.jsxs("div",{className:"relative",children:[g.jsx("img",{className:"h-28 w-28 sm:h-36 sm:w-36 rounded-full ring-4 ring-offset-4 ring-offset-white dark:ring-offset-ollo-slate ring-ollo-deep dark:ring-ollo-accent-light object-cover bg-gray-200 dark:bg-gray-700 shadow-md",src:xe,alt:`Avatar de ${m.name}`}),E&&ke&&g.jsxs("button",{onClick:()=>{var he;return(he=ne.current)==null?void 0:he.click()},className:"absolute bottom-1 right-1 p-2 rounded-full transition-all duration-150 ease-in-out shadow-lg bg-white/70 hover:bg-white/90 text-ollo-deep dark:bg-black/60 dark:hover:bg-black/80 dark:text-white",title:"Alterar avatar",children:[" ",g.jsx(Vl,{className:"h-4 w-4 sm:h-5 sm:w-5"})," ",g.jsx("input",{type:"file",ref:ne,accept:"image/*",onChange:he=>S(he,"avatar"),className:"hidden"})," "]})]})}),g.jsx("div",{className:"flex mt-4 justify-center md:justify-end mb-4 min-h-[44px]",children:ke?E?g.jsxs("div",{className:"flex space-x-4",children:[g.jsx("button",{onClick:J,className:"px-6 py-2.5 bg-ollo-deep text-white rounded-lg text-sm font-bold hover:opacity-90 transition-opacity dark:bg-ollo-accent-light dark:text-ollo-deep",children:"Salvar"}),g.jsx("button",{onClick:W,className:"px-5 py-2.5 bg-gray-200 text-gray-700 rounded-lg text-sm font-semibold hover:bg-gray-300 transition-colors dark:bg-gray-600 dark:text-gray-100 dark:hover:bg-gray-700",children:"Cancelar"})]}):g.jsx("button",{onClick:z,className:"px-5 py-2.5 border-2 border-ollo-deep text-ollo-deep rounded-lg text-sm font-semibold hover:bg-ollo-deep hover:text-white transition-colors duration-150 dark:border-ollo-accent-light dark:text-ollo-accent-light dark:hover:bg-ollo-accent-light dark:hover:text-ollo-deep",children:"Editar Perfil"}):g.jsx("button",{onClick:ie,disabled:Re,className:`px-5 py-2.5 rounded-lg text-sm font-semibold transition-all duration-200 ease-in-out focus:outline-none focus:ring-4 shadow-md hover:shadow-lg flex items-center justify-center space-x-2 w-36 disabled:opacity-60 disabled:cursor-not-allowed 
                                ${Re?"bg-ollo-deep text-white dark:bg-ollo-accent-light dark:text-ollo-deep":ve?"bg-transparent border-2 border-gray-400 text-gray-500 hover:border-gray-500 hover:text-gray-700 focus:ring-gray-400/30 dark:border-gray-500 dark:text-gray-400 dark:hover:border-gray-400 dark:hover:text-gray-300 dark:focus:ring-gray-500/30":"bg-ollo-deep text-white hover:bg-opacity-90 focus:ring-ollo-deep/30 dark:bg-ollo-accent-light dark:text-ollo-deep dark:hover:bg-opacity-90 dark:focus:ring-ollo-accent-light/30"}`,children:Re?g.jsx(_r,{className:"h-5 w-5 animate-spin"}):ve?g.jsxs(g.Fragment,{children:[g.jsx(A3,{className:"h-5 w-5"})," ",g.jsx("span",{children:"Seguindo"})]}):g.jsxs(g.Fragment,{children:[g.jsx(tN,{className:"h-5 w-5"})," ",g.jsx("span",{children:"Seguir"})]})})}),g.jsxs("div",{className:`mt-1 ${E?"max-w-lg mx-auto":"max-w-xl mx-auto text-center"}`,children:[(!E||!ke)&&g.jsxs("div",{className:"text-center mb-6",children:[g.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-ollo-deep dark:text-ollo-accent-light mb-2 tracking-tight",children:m.name}),g.jsx("p",{className:"text-base text-gray-700 dark:text-gray-300 mt-2 max-w-lg mx-auto leading-relaxed",children:m.bio})]}),E&&ke&&g.jsxs("div",{className:"space-y-5 mb-8",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"profileName",className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1.5",children:"Nome"}),g.jsx("input",{type:"text",id:"profileName",value:I,onChange:he=>V(he.target.value),className:"w-full p-3 rounded-lg text-base shadow-sm transition-colors bg-white/70 border-gray-300 text-gray-900 focus:ring-ollo-deep focus:border-ollo-deep dark:bg-gray-800/70 dark:border-gray-600 dark:text-white focus:dark:ring-ollo-accent-light focus:dark:border-ollo-accent-light"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"profileBio",className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1.5",children:"Bio"}),g.jsx("textarea",{id:"profileBio",rows:"5",value:R,onChange:he=>K(he.target.value),className:"w-full p-3 rounded-lg text-base shadow-sm transition-colors bg-white/70 border-gray-300 text-gray-900 focus:ring-ollo-deep focus:border-ollo-deep dark:bg-gray-800/70 dark:border-gray-600 dark:text-white focus:dark:ring-ollo-accent-light focus:dark:border-ollo-accent-light"})]})]}),g.jsxs("div",{className:"flex flex-wrap justify-center gap-x-6 sm:gap-x-10 gap-y-3 text-sm",children:[g.jsxs("div",{className:"text-center",children:[" ",g.jsx("span",{className:"block font-bold text-xl sm:text-2xl text-ollo-deep dark:text-ollo-accent-light",children:Ge.length})," ",g.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Posts"})," "]}),g.jsxs("div",{className:"text-center",children:[" ",g.jsx("span",{className:"block font-bold text-xl sm:text-2xl text-ollo-deep dark:text-ollo-accent-light",children:$e})," ",g.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Seguidores"})," "]}),g.jsxs("div",{className:"text-center",children:[" ",g.jsx("span",{className:"block font-bold text-xl sm:text-2xl text-ollo-deep dark:text-ollo-accent-light",children:m.stats.following})," ",g.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Seguindo"})," "]})]})]})]})]}),g.jsx("div",{className:"mb-6 sm:mb-8 border-b border-gray-200/80 dark:border-gray-700/50",children:g.jsxs("nav",{className:"-mb-px flex justify-center sm:justify-start space-x-2 sm:space-x-6 lg:space-x-8","aria-label":"Tabs",children:[g.jsx("button",{onClick:()=>je("posts"),className:sr("posts"),children:"Posts"}),g.jsx("button",{onClick:()=>je("comments"),className:sr("comments"),children:"Comentários"}),g.jsx("button",{onClick:()=>je("likes"),className:sr("likes"),children:"Curtidas"})]})}),g.jsxs("div",{className:"max-w-xl mx-auto w-full px-4 sm:px-0 pb-12",children:[Ve==="posts"&&g.jsxs("div",{className:"space-y-8",children:[" ",Ge.length>0?Ge.map(he=>g.jsx(Od,{postData:he,onCommentSubmit:e},he.postId)):g.jsxs("div",{className:"rounded-xl p-8 sm:p-10 text-center shadow-xl mt-4 bg-white/60 dark:bg-ollo-slate/70",children:[" ",g.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400 dark:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{vectorEffect:"non-scaling-stroke",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})})," ",g.jsx("h3",{className:"mt-4 text-xl font-semibold text-ollo-deep dark:text-white",children:"Sem posts por aqui ainda..."})," ",g.jsxs("p",{className:"mt-2 text-base text-gray-500 dark:text-gray-400",children:["Quando ",m.name," compartilhar algo, seus posts aparecerão aqui."]})," "]})," "]}),Ve==="comments"&&g.jsxs("div",{className:"space-y-6",children:[" ",L.length>0?L.map(he=>g.jsxs("div",{className:"bg-white/80 dark:bg-ollo-slate/90 p-5 rounded-xl shadow-lg border border-gray-200/50 dark:border-gray-700/50",children:[" ",g.jsxs("p",{className:"text-base text-ollo-deep dark:text-white mb-3",children:['"',he.text,'"']})," ",g.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 border-t border-gray-200/80 dark:border-gray-700/50 pt-3",children:[" ",g.jsxs("p",{children:["Comentado em"," ",g.jsx("span",{className:"font-semibold",children:he.timestamp||"data indisponível"})]})," ",g.jsxs("p",{className:"mt-1",children:["No post:"," ",g.jsxs("span",{className:"italic",children:['"',he.originalPost.contentPreview,'"']})]})," "]})," "]},he.id)):g.jsxs("div",{className:"rounded-xl p-8 sm:p-10 text-center shadow-xl bg-white/60 dark:bg-ollo-slate/70",children:[" ",g.jsx(E3,{className:"mx-auto h-16 w-16 text-gray-400 dark:text-gray-600"})," ",g.jsx("h3",{className:"mt-4 text-xl font-semibold text-ollo-deep dark:text-white",children:"Nenhum comentário encontrado."})," ",g.jsxs("p",{className:"mt-2 text-base text-gray-500 dark:text-gray-400",children:["Quando ",m.name," comentar, seus comentários aparecerão aqui."]})," "]})," "]}),Ve==="likes"&&g.jsxs("div",{className:"space-y-8",children:[" ",rr.length>0?rr.map(he=>g.jsx(Od,{postData:he,onCommentSubmit:e},he.postId)):g.jsxs("div",{className:"rounded-xl p-8 sm:p-10 text-center shadow-xl mt-4 bg-white/60 dark:bg-ollo-slate/70",children:[" ",g.jsx(iw,{className:"mx-auto h-16 w-16 text-gray-400 dark:text-gray-600"})," ",g.jsx("h3",{className:"mt-4 text-xl font-semibold text-ollo-deep dark:text-white",children:"Nenhuma curtida por aqui..."})," ",g.jsxs("p",{className:"mt-2 text-base text-gray-500 dark:text-gray-400",children:["Quando ",m.name," curtir algo, aparecerá aqui."]})," "]})," "]})]})]})}const SD=t=>{const e="h-5 w-5 text-ollo-deep dark:text-ollo-accent-light";switch(t){case"like":return g.jsx(Wb,{className:e});case"comment":return g.jsx(B6,{className:e});case"follow":return g.jsx(W6,{className:e});case"system":return g.jsx(Y6,{className:e});default:return g.jsx(Xb,{className:e})}};function TD(){const t=fn(),e=[{id:1,type:"like",user:"Usuário OLLO",target:'seu post "Explorando OLLO"',timestamp:"5m atrás",postId:"ollo-exploration",unread:!0},{id:2,type:"comment",user:"Dev Entusiasta",target:'seu post "Minhas Ideias"',text:"Excelente ponto de vista! Concordo totalmente.",timestamp:"1h atrás",postId:"my-ideas-post",unread:!1},{id:3,type:"follow",user:"Gemini Auxiliar",timestamp:"3h atrás",profileId:"gemini-aux",unread:!0},{id:4,type:"like",user:"Designer Criativo",target:"sua foto de perfil",timestamp:"ontem",profileId:"meu-perfil",unread:!1},{id:5,type:"comment",user:"Marketing Digital",target:'seu post "Explorando OLLO"',text:"Adorei a plataforma! Como posso colaborar?",timestamp:"ontem",postId:"ollo-exploration",unread:!0},{id:6,type:"system",user:"Plataforma OLLO",target:"Novos Termos de Serviço",text:"Atualizamos nossos termos, confira as novidades.",timestamp:"2 dias atrás",link:"/terms",unread:!1}],[n,s]=y.useState(e),a=l=>{let u=null;l.postId?u=`/posts/${l.postId}`:l.profileId?u=`/profile/${l.profileId}`:l.link&&(u=l.link),u&&t(u),l.unread&&s(f=>f.map(m=>m.id===l.id?{...m,unread:!1}:m))};return g.jsx("div",{className:"min-h-full py-8 sm:py-12",children:g.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-8 sm:mb-10 tracking-tight text-center text-ollo-deep dark:text-ollo-accent-light",children:"Notificações"}),g.jsx("div",{className:"space-y-3 sm:space-y-4",children:n.length>0?n.map(l=>g.jsxs("div",{onClick:()=>a(l),className:`
                  rounded-xl shadow-lg transition-all duration-200 ease-in-out cursor-pointer 
                  border-l-4 flex items-start space-x-3 sm:space-x-4 p-4
                  ${l.unread?"bg-white hover:bg-gray-50/80 border-ollo-accent-light dark:bg-gray-800 dark:hover:bg-gray-700/80":"bg-white/70 hover:bg-gray-50/70 border-gray-300 dark:bg-gray-800/50 dark:hover:bg-gray-700/70 dark:border-gray-700"}
                `,children:[g.jsx("div",{className:`flex-shrink-0 mt-0.5 p-2 rounded-full 
                              ${l.unread?"bg-ollo-accent-light/20 dark:bg-ollo-accent-light/10":"bg-gray-200/70 dark:bg-gray-700/60"}`,children:SD(l.type)}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-100 leading-relaxed",children:[g.jsx("span",{className:"font-semibold text-ollo-deep dark:text-white hover:underline",children:l.user}),l.type==="like"&&` curtiu ${l.target}.`,l.type==="comment"&&g.jsxs(g.Fragment,{children:[" ","comentou em ",l.target,":"," ",g.jsxs("span",{className:"italic text-gray-600 dark:text-gray-300",children:['"',l.text,'"']})]}),l.type==="follow"&&" começou a seguir você.",l.type==="system"&&g.jsxs(g.Fragment,{children:[" ",g.jsx("span",{className:"font-semibold",children:l.target})," ",g.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:l.text})]})]}),g.jsx("p",{className:`text-xs mt-1 
                                ${l.unread?"font-medium text-ollo-deep dark:text-ollo-accent-light":"text-gray-500 dark:text-gray-400"}`,children:l.timestamp})]})]},l.id)):g.jsxs("div",{className:"text-center py-16 px-6 text-gray-400 dark:text-gray-500",children:[g.jsx(Xb,{className:"mx-auto h-16 w-16 mb-4 text-gray-400 dark:text-gray-600"}),g.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-700 dark:text-gray-300",children:"Tudo Limpo por Aqui!"}),g.jsx("p",{children:"Você não tem nenhuma notificação nova no momento."})]})})]})})}const ND=({darkMode:t,allPosts:e=[]})=>{const{postId:n}=o0(),s=fn();console.log("--- Iniciando busca pelo post ---"),console.log(`Procurando pelo postId: |${n}|`),console.log(`Total de posts para pesquisar: ${e.length}`);const a=e.find(f=>{const m=f.postId===n;return console.log(`Comparando: |${f.postId}| com |${n}|. Resultado: ${m}`),m});console.log("--- Fim da busca ---");const l=e.findIndex(f=>f.postId===n),u=l>-1&&l<e.length-1?e[l+1]:null;return a?g.jsxs("div",{className:`p-4 sm:p-6 lg:p-8 rounded-lg shadow-md ${t?"bg-gray-800 text-ollo-bg-light":"bg-white text-ollo-deep"}`,children:[g.jsxs("button",{onClick:()=>s(-1),className:`flex items-center gap-2 mb-6 text-sm font-semibold ${t?"text-ollo-accent-light hover:text-white":"text-ollo-deep hover:text-black"}`,children:[g.jsx(M6,{className:"h-5 w-5"}),"Voltar"]}),g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx(Z6,{className:`h-10 w-10 ${t?"text-gray-400":"text-gray-500"}`}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold",children:a.userName}),g.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[g.jsx(z6,{className:"h-3 w-3"}),g.jsx("span",{children:a.timestamp})]})]})]}),g.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none",children:g.jsx("p",{children:a.content})}),g.jsx("div",{className:"mt-8 pt-4 border-t border-gray-300 dark:border-gray-700 flex justify-end",children:u?g.jsxs("button",{onClick:()=>s(`/posts/${u.postId}`),className:`flex items-center gap-2 text-sm font-semibold ${t?"text-ollo-accent-light hover:text-white":"text-ollo-deep hover:text-black"}`,children:["Próximo Post",g.jsx(L6,{className:"h-5 w-5"})]}):g.jsx("p",{className:"text-sm text-gray-500",children:"Você está no último post."})})]}):g.jsxs("div",{className:`p-4 sm:p-6 lg:p-8 rounded-lg shadow-md text-center ${t?"bg-gray-800 text-ollo-bg-light":"bg-white text-ollo-deep"}`,children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Post Não Encontrado"}),g.jsx("p",{children:"O post que você está procurando não existe ou foi removido. (Verifique o console para detalhes da busca)."}),g.jsx("button",{onClick:()=>s("/"),className:`mt-6 inline-block px-4 py-2 rounded-lg font-semibold ${t?"bg-ollo-accent-light text-ollo-deep":"bg-ollo-deep text-ollo-bg-light"}`,children:"Voltar para a Página Inicial"})]})},AD=({darkMode:t})=>g.jsxs("div",{className:`p-4 sm:p-6 lg:p-8 rounded-lg shadow-md ${t?"bg-gray-800 text-ollo-bg-light":"bg-white text-ollo-deep"}`,children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Termos de Serviço"}),g.jsx("p",{children:"Esta é a página de Termos de Serviço da OLLO."}),g.jsx("p",{className:"mt-4",children:"O conteúdo completo será adicionado aqui futuramente."})]});let kD={data:""},CD=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||kD,RD=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,OD=/\/\*[^]*?\*\/|  +/g,Sb=/\n+/g,Vs=(t,e)=>{let n="",s="",a="";for(let l in t){let u=t[l];l[0]=="@"?l[1]=="i"?n=l+" "+u+";":s+=l[1]=="f"?Vs(u,l):l+"{"+Vs(u,l[1]=="k"?"":e)+"}":typeof u=="object"?s+=Vs(u,e?e.replace(/([^,])+/g,f=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,f):f?f+" "+m:m)):l):u!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Vs.p?Vs.p(l,u):l+":"+u+";")}return n+(e&&a?e+"{"+a+"}":a)+s},Hr={},G4=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+G4(t[n]);return e}return t},DD=(t,e,n,s,a)=>{let l=G4(t),u=Hr[l]||(Hr[l]=(m=>{let p=0,x=11;for(;p<m.length;)x=101*x+m.charCodeAt(p++)>>>0;return"go"+x})(l));if(!Hr[u]){let m=l!==t?t:(p=>{let x,b,E=[{}];for(;x=RD.exec(p.replace(OD,""));)x[4]?E.shift():x[3]?(b=x[3].replace(Sb," ").trim(),E.unshift(E[0][b]=E[0][b]||{})):E[0][x[1]]=x[2].replace(Sb," ").trim();return E[0]})(t);Hr[u]=Vs(a?{["@keyframes "+u]:m}:m,n?"":"."+u)}let f=n&&Hr.g?Hr.g:null;return n&&(Hr.g=Hr[u]),((m,p,x,b)=>{b?p.data=p.data.replace(b,m):p.data.indexOf(m)===-1&&(p.data=x?m+p.data:p.data+m)})(Hr[u],e,s,f),u},jD=(t,e,n)=>t.reduce((s,a,l)=>{let u=e[l];if(u&&u.call){let f=u(n),m=f&&f.props&&f.props.className||/^go/.test(f)&&f;u=m?"."+m:f&&typeof f=="object"?f.props?"":Vs(f,""):f===!1?"":f}return s+a+(u??"")},"");function xh(t){let e=this||{},n=t.call?t(e.p):t;return DD(n.unshift?n.raw?jD(n,[].slice.call(arguments,1),e.p):n.reduce((s,a)=>Object.assign(s,a&&a.call?a(e.p):a),{}):n,CD(e.target),e.g,e.o,e.k)}let K4,t0,n0;xh.bind({g:1});let ts=xh.bind({k:1});function MD(t,e,n,s){Vs.p=e,K4=t,t0=n,n0=s}function ti(t,e){let n=this||{};return function(){let s=arguments;function a(l,u){let f=Object.assign({},l),m=f.className||a.className;n.p=Object.assign({theme:t0&&t0()},f),n.o=/ *go\d+/.test(m),f.className=xh.apply(n,s)+(m?" "+m:"");let p=t;return t[0]&&(p=f.as||t,delete f.as),n0&&p[0]&&n0(f),K4(p,f)}return a}}var ID=t=>typeof t=="function",Dd=(t,e)=>ID(t)?t(e):t,LD=(()=>{let t=0;return()=>(++t).toString()})(),Y4=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),UD=20,Q4=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,UD)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:n}=e;return Q4(t,{type:t.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},ad=[],Ti={toasts:[],pausedAt:void 0},Fi=t=>{Ti=Q4(Ti,t),ad.forEach(e=>{e(Ti)})},VD={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},BD=(t={})=>{let[e,n]=y.useState(Ti),s=y.useRef(Ti);y.useEffect(()=>(s.current!==Ti&&n(Ti),ad.push(n),()=>{let l=ad.indexOf(n);l>-1&&ad.splice(l,1)}),[]);let a=e.toasts.map(l=>{var u,f,m;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((u=t[l.type])==null?void 0:u.removeDelay)||(t==null?void 0:t.removeDelay),duration:l.duration||((f=t[l.type])==null?void 0:f.duration)||(t==null?void 0:t.duration)||VD[l.type],style:{...t.style,...(m=t[l.type])==null?void 0:m.style,...l.style}}});return{...e,toasts:a}},PD=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||LD()}),Sc=t=>(e,n)=>{let s=PD(e,t,n);return Fi({type:2,toast:s}),s.id},dn=(t,e)=>Sc("blank")(t,e);dn.error=Sc("error");dn.success=Sc("success");dn.loading=Sc("loading");dn.custom=Sc("custom");dn.dismiss=t=>{Fi({type:3,toastId:t})};dn.remove=t=>Fi({type:4,toastId:t});dn.promise=(t,e,n)=>{let s=dn.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let l=e.success?Dd(e.success,a):void 0;return l?dn.success(l,{id:s,...n,...n==null?void 0:n.success}):dn.dismiss(s),a}).catch(a=>{let l=e.error?Dd(e.error,a):void 0;l?dn.error(l,{id:s,...n,...n==null?void 0:n.error}):dn.dismiss(s)}),t};var zD=(t,e)=>{Fi({type:1,toast:{id:t,height:e}})},HD=()=>{Fi({type:5,time:Date.now()})},Ol=new Map,FD=1e3,qD=(t,e=FD)=>{if(Ol.has(t))return;let n=setTimeout(()=>{Ol.delete(t),Fi({type:4,toastId:t})},e);Ol.set(t,n)},$D=t=>{let{toasts:e,pausedAt:n}=BD(t);y.useEffect(()=>{if(n)return;let l=Date.now(),u=e.map(f=>{if(f.duration===1/0)return;let m=(f.duration||0)+f.pauseDuration-(l-f.createdAt);if(m<0){f.visible&&dn.dismiss(f.id);return}return setTimeout(()=>dn.dismiss(f.id),m)});return()=>{u.forEach(f=>f&&clearTimeout(f))}},[e,n]);let s=y.useCallback(()=>{n&&Fi({type:6,time:Date.now()})},[n]),a=y.useCallback((l,u)=>{let{reverseOrder:f=!1,gutter:m=8,defaultPosition:p}=u||{},x=e.filter(N=>(N.position||p)===(l.position||p)&&N.height),b=x.findIndex(N=>N.id===l.id),E=x.filter((N,I)=>I<b&&N.visible).length;return x.filter(N=>N.visible).slice(...f?[E+1]:[0,E]).reduce((N,I)=>N+(I.height||0)+m,0)},[e]);return y.useEffect(()=>{e.forEach(l=>{if(l.dismissed)qD(l.id,l.removeDelay);else{let u=Ol.get(l.id);u&&(clearTimeout(u),Ol.delete(l.id))}})},[e]),{toasts:e,handlers:{updateHeight:zD,startPause:HD,endPause:s,calculateOffset:a}}},GD=ts`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,KD=ts`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,YD=ts`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,QD=ti("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${GD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${KD} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${YD} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ZD=ts`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,XD=ti("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${ZD} 1s linear infinite;
`,WD=ts`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,JD=ts`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ej=ti("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${WD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${JD} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,tj=ti("div")`
  position: absolute;
`,nj=ti("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,rj=ts`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,sj=ti("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${rj} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ij=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?y.createElement(sj,null,e):e:n==="blank"?null:y.createElement(nj,null,y.createElement(XD,{...s}),n!=="loading"&&y.createElement(tj,null,n==="error"?y.createElement(QD,{...s}):y.createElement(ej,{...s})))},aj=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,oj=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,lj="0%{opacity:0;} 100%{opacity:1;}",cj="0%{opacity:1;} 100%{opacity:0;}",uj=ti("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,dj=ti("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,hj=(t,e)=>{let n=t.includes("top")?1:-1,[s,a]=Y4()?[lj,cj]:[aj(n),oj(n)];return{animation:e?`${ts(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ts(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},fj=y.memo(({toast:t,position:e,style:n,children:s})=>{let a=t.height?hj(t.position||e||"top-center",t.visible):{opacity:0},l=y.createElement(ij,{toast:t}),u=y.createElement(dj,{...t.ariaProps},Dd(t.message,t));return y.createElement(uj,{className:t.className,style:{...a,...n,...t.style}},typeof s=="function"?s({icon:l,message:u}):y.createElement(y.Fragment,null,l,u))});MD(y.createElement);var mj=({id:t,className:e,style:n,onHeightUpdate:s,children:a})=>{let l=y.useCallback(u=>{if(u){let f=()=>{let m=u.getBoundingClientRect().height;s(t,m)};f(),new MutationObserver(f).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return y.createElement("div",{ref:l,className:e,style:n},a)},gj=(t,e)=>{let n=t.includes("top"),s=n?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Y4()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...a}},pj=xh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Qu=16,qi=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:s,children:a,containerStyle:l,containerClassName:u})=>{let{toasts:f,handlers:m}=$D(n);return y.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Qu,left:Qu,right:Qu,bottom:Qu,pointerEvents:"none",...l},className:u,onMouseEnter:m.startPause,onMouseLeave:m.endPause},f.map(p=>{let x=p.position||e,b=m.calculateOffset(p,{reverseOrder:t,gutter:s,defaultPosition:e}),E=gj(x,b);return y.createElement(mj,{id:p.id,key:p.id,onHeightUpdate:m.updateHeight,className:p.visible?pj:"",style:E},p.type==="custom"?Dd(p.message,p):a?a(p):y.createElement(fj,{toast:p,position:x}))}))},jt=dn;const yj=()=>{const[t,e]=y.useState(""),[n,s]=y.useState(""),[a,l]=y.useState(!1),[u,f]=y.useState(!1),{loginWithEmail:m}=ei(),p=fn(),x=E=>{switch(E){case"auth/invalid-email":return"E-mail inválido. Verifique o formato.";case"auth/user-disabled":return"Esta conta está desativada.";case"auth/user-not-found":return"Nenhuma conta encontrada com este e-mail.";case"auth/wrong-password":return"Senha incorreta. Tente novamente.";case"auth/too-many-requests":return"Muitas tentativas. Tente mais tarde.";default:return"Erro ao fazer login. Tente novamente."}},b=async E=>{if(E.preventDefault(),!t||!n){jt.error("Preencha todos os campos");return}f(!0);try{if(!(await m(t,n)).user.emailVerified){jt("Verifique seu e-mail para ativar sua conta",{icon:"✉️",duration:5e3}),p("/verify-email");return}jt.success("Bem-vindo de volta!"),p("/",{replace:!0})}catch(N){console.error("Erro no login:",N);const I=x(N.code);jt.error(I,{position:"top-center"})}finally{f(!1)}};return g.jsxs(g.Fragment,{children:[g.jsx(qi,{position:"top-center"}),g.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-gray-50 dark:bg-gray-900",children:[g.jsxs("div",{className:"w-full max-w-md p-8 rounded-xl bg-white dark:bg-gray-800 shadow-lg border border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("img",{src:"/images/logo_ollo.jpeg",alt:"Logo OLLO",className:"h-16 mx-auto rounded-full mb-4"}),g.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Acesse sua conta"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Entre para continuar no OLLO"})]}),g.jsxs("form",{onSubmit:b,className:"space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"E-mail"}),g.jsx("input",{type:"email",id:"email",value:t,onChange:E=>e(E.target.value),placeholder:"seu@email.com",required:!0,autoComplete:"email",inputMode:"email",className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none transition-colors"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Senha"}),g.jsx("input",{type:a?"text":"password",id:"password",value:n,onChange:E=>s(E.target.value),placeholder:"••••••••",required:!0,autoComplete:"current-password",className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none transition-colors pr-10"}),g.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute top-10 right-3 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300","aria-label":a?"Ocultar senha":"Mostrar senha",children:a?g.jsx(Ll,{className:"h-5 w-5"}):g.jsx(Ul,{className:"h-5 w-5"})})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-ollo-deep dark:text-ollo-accent-light focus:ring-ollo-deep dark:focus:ring-ollo-accent-light"}),g.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Lembrar-me"})]}),g.jsx(wn,{to:"/forgot-password",className:"text-sm text-ollo-deep dark:text-ollo-accent-light hover:underline",children:"Esqueceu a senha?"})]}),g.jsx("div",{children:g.jsx("button",{type:"submit",disabled:u,className:"w-full py-3 px-4 rounded-lg bg-ollo-deep dark:bg-ollo-accent-light text-white dark:text-gray-900 font-semibold hover:bg-opacity-90 dark:hover:bg-opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center",children:u?g.jsxs(g.Fragment,{children:[g.jsx(_r,{className:"animate-spin h-5 w-5 mr-2"}),"Entrando..."]}):"Entrar"})})]}),g.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:g.jsxs("p",{className:"text-sm text-center text-gray-600 dark:text-gray-400",children:["Novo no OLLO?"," ",g.jsx(wn,{to:"/register",className:"font-medium text-ollo-deep dark:text-ollo-accent-light hover:underline",children:"Criar uma conta"})]})})]}),g.jsxs("footer",{className:"mt-8 text-xs text-gray-500 dark:text-gray-400",children:["© ",new Date().getFullYear()," OLLO. Todos os direitos reservados."]})]})]})};var Tc=t=>t.type==="checkbox",Ni=t=>t instanceof Date,un=t=>t==null;const Z4=t=>typeof t=="object";var wt=t=>!un(t)&&!Array.isArray(t)&&Z4(t)&&!Ni(t),vj=t=>wt(t)&&t.target?Tc(t.target)?t.target.checked:t.target.value:t,xj=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,bj=(t,e)=>t.has(xj(e)),wj=t=>{const e=t.constructor&&t.constructor.prototype;return wt(e)&&e.hasOwnProperty("isPrototypeOf")},Ip=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Jt(t){let e;const n=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Ip&&(t instanceof Blob||s))&&(n||wt(t)))if(e=n?[]:{},!n&&!wj(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=Jt(t[a]));else return t;return e}var bh=t=>Array.isArray(t)?t.filter(Boolean):[],Nt=t=>t===void 0,oe=(t,e,n)=>{if(!e||!wt(t))return n;const s=bh(e.split(/[,[\].]+?/)).reduce((a,l)=>un(a)?a:a[l],t);return Nt(s)||s===t?Nt(t[e])?n:t[e]:s},hr=t=>typeof t=="boolean",Lp=t=>/^\w*$/.test(t),X4=t=>bh(t.replace(/["|']|\]/g,"").split(/\.|\[/)),st=(t,e,n)=>{let s=-1;const a=Lp(e)?[e]:X4(e),l=a.length,u=l-1;for(;++s<l;){const f=a[s];let m=n;if(s!==u){const p=t[f];m=wt(p)||Array.isArray(p)?p:isNaN(+a[s+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;t[f]=m,t=t[f]}};const Tb={BLUR:"blur",FOCUS_OUT:"focusout"},Xn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Fr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};On.createContext(null);var Ej=(t,e,n,s=!0)=>{const a={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(a,l,{get:()=>{const u=l;return e._proxyFormState[u]!==Xn.all&&(e._proxyFormState[u]=!s||Xn.all),t[u]}});return a};const _j=typeof window<"u"?y.useLayoutEffect:y.useEffect;var vr=t=>typeof t=="string",Sj=(t,e,n,s,a)=>vr(t)?(s&&e.watch.add(t),oe(n,t,a)):Array.isArray(t)?t.map(l=>(s&&e.watch.add(l),oe(n,l))):(s&&(e.watchAll=!0),n),Tj=(t,e,n,s,a)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:a||!0}}:{},Dl=t=>Array.isArray(t)?t:[t],Nb=()=>{let t=[];return{get observers(){return t},next:a=>{for(const l of t)l.next&&l.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(l=>l!==a)}}),unsubscribe:()=>{t=[]}}},r0=t=>un(t)||!Z4(t);function Bs(t,e){if(r0(t)||r0(e))return t===e;if(Ni(t)&&Ni(e))return t.getTime()===e.getTime();const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(const a of n){const l=t[a];if(!s.includes(a))return!1;if(a!=="ref"){const u=e[a];if(Ni(l)&&Ni(u)||wt(l)&&wt(u)||Array.isArray(l)&&Array.isArray(u)?!Bs(l,u):l!==u)return!1}}return!0}var bn=t=>wt(t)&&!Object.keys(t).length,Up=t=>t.type==="file",Wn=t=>typeof t=="function",jd=t=>{if(!Ip)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},W4=t=>t.type==="select-multiple",Vp=t=>t.type==="radio",Nj=t=>Vp(t)||Tc(t),hg=t=>jd(t)&&t.isConnected;function Aj(t,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)t=Nt(t)?s++:t[e[s++]];return t}function kj(t){for(const e in t)if(t.hasOwnProperty(e)&&!Nt(t[e]))return!1;return!0}function Dt(t,e){const n=Array.isArray(e)?e:Lp(e)?[e]:X4(e),s=n.length===1?t:Aj(t,n),a=n.length-1,l=n[a];return s&&delete s[l],a!==0&&(wt(s)&&bn(s)||Array.isArray(s)&&kj(s))&&Dt(t,n.slice(0,-1)),t}var J4=t=>{for(const e in t)if(Wn(t[e]))return!0;return!1};function Md(t,e={}){const n=Array.isArray(t);if(wt(t)||n)for(const s in t)Array.isArray(t[s])||wt(t[s])&&!J4(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Md(t[s],e[s])):un(t[s])||(e[s]=!0);return e}function e_(t,e,n){const s=Array.isArray(t);if(wt(t)||s)for(const a in t)Array.isArray(t[a])||wt(t[a])&&!J4(t[a])?Nt(e)||r0(n[a])?n[a]=Array.isArray(t[a])?Md(t[a],[]):{...Md(t[a])}:e_(t[a],un(e)?{}:e[a],n[a]):n[a]=!Bs(t[a],e[a]);return n}var pl=(t,e)=>e_(t,e,Md(e));const Ab={value:!1,isValid:!1},kb={value:!0,isValid:!0};var t_=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Nt(t[0].attributes.value)?Nt(t[0].value)||t[0].value===""?kb:{value:t[0].value,isValid:!0}:kb:Ab}return Ab},n_=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>Nt(t)?t:e?t===""?NaN:t&&+t:n&&vr(t)?new Date(t):s?s(t):t;const Cb={isValid:!1,value:null};var r_=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Cb):Cb;function Rb(t){const e=t.ref;return Up(e)?e.files:Vp(e)?r_(t.refs).value:W4(e)?[...e.selectedOptions].map(({value:n})=>n):Tc(e)?t_(t.refs).value:n_(Nt(e.value)?t.ref.value:e.value,t)}var Cj=(t,e,n,s)=>{const a={};for(const l of t){const u=oe(e,l);u&&st(a,l,u._f)}return{criteriaMode:n,names:[...t],fields:a,shouldUseNativeValidation:s}},Id=t=>t instanceof RegExp,yl=t=>Nt(t)?t:Id(t)?t.source:wt(t)?Id(t.value)?t.value.source:t.value:t,Ob=t=>({isOnSubmit:!t||t===Xn.onSubmit,isOnBlur:t===Xn.onBlur,isOnChange:t===Xn.onChange,isOnAll:t===Xn.all,isOnTouch:t===Xn.onTouched});const Db="AsyncFunction";var Rj=t=>!!t&&!!t.validate&&!!(Wn(t.validate)&&t.validate.constructor.name===Db||wt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Db)),Oj=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),jb=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const jl=(t,e,n,s)=>{for(const a of n||Object.keys(t)){const l=oe(t,a);if(l){const{_f:u,...f}=l;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],a)&&!s)return!0;if(u.ref&&e(u.ref,u.name)&&!s)return!0;if(jl(f,e))break}else if(wt(f)&&jl(f,e))break}}};function Mb(t,e,n){const s=oe(t,n);if(s||Lp(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const l=a.join("."),u=oe(e,l),f=oe(t,l);if(u&&!Array.isArray(u)&&n!==l)return{name:n};if(f&&f.type)return{name:l,error:f};if(f&&f.root&&f.root.type)return{name:`${l}.root`,error:f.root};a.pop()}return{name:n}}var Dj=(t,e,n,s)=>{n(t);const{name:a,...l}=t;return bn(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(u=>e[u]===(!s||Xn.all))},jj=(t,e,n)=>!t||!e||t===e||Dl(t).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),Mj=(t,e,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(e||t):(n?s.isOnBlur:a.isOnBlur)?!t:(n?s.isOnChange:a.isOnChange)?t:!0,Ij=(t,e)=>!bh(oe(t,e)).length&&Dt(t,e),Lj=(t,e,n)=>{const s=Dl(oe(t,n));return st(s,"root",e[n]),st(t,n,s),t},od=t=>vr(t);function Ib(t,e,n="validate"){if(od(t)||Array.isArray(t)&&t.every(od)||hr(t)&&!t)return{type:n,message:od(t)?t:"",ref:e}}var ja=t=>wt(t)&&!Id(t)?t:{value:t,message:""},Lb=async(t,e,n,s,a,l)=>{const{ref:u,refs:f,required:m,maxLength:p,minLength:x,min:b,max:E,pattern:N,validate:I,name:V,valueAsNumber:R,mount:K}=t._f,U=oe(n,V);if(!K||e.has(V))return{};const $=f?f[0]:u,G=ue=>{a&&$.reportValidity&&($.setCustomValidity(hr(ue)?"":ue||""),$.reportValidity())},Z={},ve=Vp(u),Ae=Tc(u),Re=ve||Ae,Ee=(R||Up(u))&&Nt(u.value)&&Nt(U)||jd(u)&&u.value===""||U===""||Array.isArray(U)&&!U.length,$e=Tj.bind(null,V,s,Z),Ie=(ue,Oe,Ve,je=Fr.maxLength,L=Fr.minLength)=>{const Q=ue?Oe:Ve;Z[V]={type:ue?je:L,message:Q,ref:u,...$e(ue?je:L,Q)}};if(l?!Array.isArray(U)||!U.length:m&&(!Re&&(Ee||un(U))||hr(U)&&!U||Ae&&!t_(f).isValid||ve&&!r_(f).isValid)){const{value:ue,message:Oe}=od(m)?{value:!!m,message:m}:ja(m);if(ue&&(Z[V]={type:Fr.required,message:Oe,ref:$,...$e(Fr.required,Oe)},!s))return G(Oe),Z}if(!Ee&&(!un(b)||!un(E))){let ue,Oe;const Ve=ja(E),je=ja(b);if(!un(U)&&!isNaN(U)){const L=u.valueAsNumber||U&&+U;un(Ve.value)||(ue=L>Ve.value),un(je.value)||(Oe=L<je.value)}else{const L=u.valueAsDate||new Date(U),Q=S=>new Date(new Date().toDateString()+" "+S),ne=u.type=="time",de=u.type=="week";vr(Ve.value)&&U&&(ue=ne?Q(U)>Q(Ve.value):de?U>Ve.value:L>new Date(Ve.value)),vr(je.value)&&U&&(Oe=ne?Q(U)<Q(je.value):de?U<je.value:L<new Date(je.value))}if((ue||Oe)&&(Ie(!!ue,Ve.message,je.message,Fr.max,Fr.min),!s))return G(Z[V].message),Z}if((p||x)&&!Ee&&(vr(U)||l&&Array.isArray(U))){const ue=ja(p),Oe=ja(x),Ve=!un(ue.value)&&U.length>+ue.value,je=!un(Oe.value)&&U.length<+Oe.value;if((Ve||je)&&(Ie(Ve,ue.message,Oe.message),!s))return G(Z[V].message),Z}if(N&&!Ee&&vr(U)){const{value:ue,message:Oe}=ja(N);if(Id(ue)&&!U.match(ue)&&(Z[V]={type:Fr.pattern,message:Oe,ref:u,...$e(Fr.pattern,Oe)},!s))return G(Oe),Z}if(I){if(Wn(I)){const ue=await I(U,n),Oe=Ib(ue,$);if(Oe&&(Z[V]={...Oe,...$e(Fr.validate,Oe.message)},!s))return G(Oe.message),Z}else if(wt(I)){let ue={};for(const Oe in I){if(!bn(ue)&&!s)break;const Ve=Ib(await I[Oe](U,n),$,Oe);Ve&&(ue={...Ve,...$e(Oe,Ve.message)},G(Ve.message),s&&(Z[V]=ue))}if(!bn(ue)&&(Z[V]={ref:$,...ue},!s))return Z}}return G(!0),Z};const Uj={mode:Xn.onSubmit,reValidateMode:Xn.onChange,shouldFocusError:!0};function Vj(t={}){let e={...Uj,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Wn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const s={};let a=wt(e.defaultValues)||wt(e.values)?Jt(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:Jt(a),u={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,p=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={...x};const E={array:Nb(),state:Nb()},N=e.criteriaMode===Xn.all,I=T=>D=>{clearTimeout(p),p=setTimeout(T,D)},V=async T=>{if(!e.disabled&&(x.isValid||b.isValid||T)){const D=e.resolver?bn((await Ae()).errors):await Ee(s,!0);D!==n.isValid&&E.state.next({isValid:D})}},R=(T,D)=>{!e.disabled&&(x.isValidating||x.validatingFields||b.isValidating||b.validatingFields)&&((T||Array.from(f.mount)).forEach(P=>{P&&(D?st(n.validatingFields,P,D):Dt(n.validatingFields,P))}),E.state.next({validatingFields:n.validatingFields,isValidating:!bn(n.validatingFields)}))},K=(T,D=[],P,re,ee=!0,X=!0)=>{if(re&&P&&!e.disabled){if(u.action=!0,X&&Array.isArray(oe(s,T))){const le=P(oe(s,T),re.argA,re.argB);ee&&st(s,T,le)}if(X&&Array.isArray(oe(n.errors,T))){const le=P(oe(n.errors,T),re.argA,re.argB);ee&&st(n.errors,T,le),Ij(n.errors,T)}if((x.touchedFields||b.touchedFields)&&X&&Array.isArray(oe(n.touchedFields,T))){const le=P(oe(n.touchedFields,T),re.argA,re.argB);ee&&st(n.touchedFields,T,le)}(x.dirtyFields||b.dirtyFields)&&(n.dirtyFields=pl(a,l)),E.state.next({name:T,isDirty:Ie(T,D),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else st(l,T,D)},U=(T,D)=>{st(n.errors,T,D),E.state.next({errors:n.errors})},$=T=>{n.errors=T,E.state.next({errors:n.errors,isValid:!1})},G=(T,D,P,re)=>{const ee=oe(s,T);if(ee){const X=oe(l,T,Nt(P)?oe(a,T):P);Nt(X)||re&&re.defaultChecked||D?st(l,T,D?X:Rb(ee._f)):Ve(T,X),u.mount&&V()}},Z=(T,D,P,re,ee)=>{let X=!1,le=!1;const Te={name:T};if(!e.disabled){if(!P||re){(x.isDirty||b.isDirty)&&(le=n.isDirty,n.isDirty=Te.isDirty=Ie(),X=le!==Te.isDirty);const Pe=Bs(oe(a,T),D);le=!!oe(n.dirtyFields,T),Pe?Dt(n.dirtyFields,T):st(n.dirtyFields,T,!0),Te.dirtyFields=n.dirtyFields,X=X||(x.dirtyFields||b.dirtyFields)&&le!==!Pe}if(P){const Pe=oe(n.touchedFields,T);Pe||(st(n.touchedFields,T,P),Te.touchedFields=n.touchedFields,X=X||(x.touchedFields||b.touchedFields)&&Pe!==P)}X&&ee&&E.state.next(Te)}return X?Te:{}},ve=(T,D,P,re)=>{const ee=oe(n.errors,T),X=(x.isValid||b.isValid)&&hr(D)&&n.isValid!==D;if(e.delayError&&P?(m=I(()=>U(T,P)),m(e.delayError)):(clearTimeout(p),m=null,P?st(n.errors,T,P):Dt(n.errors,T)),(P?!Bs(ee,P):ee)||!bn(re)||X){const le={...re,...X&&hr(D)?{isValid:D}:{},errors:n.errors,name:T};n={...n,...le},E.state.next(le)}},Ae=async T=>{R(T,!0);const D=await e.resolver(l,e.context,Cj(T||f.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return R(T),D},Re=async T=>{const{errors:D}=await Ae(T);if(T)for(const P of T){const re=oe(D,P);re?st(n.errors,P,re):Dt(n.errors,P)}else n.errors=D;return D},Ee=async(T,D,P={valid:!0})=>{for(const re in T){const ee=T[re];if(ee){const{_f:X,...le}=ee;if(X){const Te=f.array.has(X.name),Pe=ee._f&&Rj(ee._f);Pe&&x.validatingFields&&R([re],!0);const nt=await Lb(ee,f.disabled,l,N,e.shouldUseNativeValidation&&!D,Te);if(Pe&&x.validatingFields&&R([re]),nt[X.name]&&(P.valid=!1,D))break;!D&&(oe(nt,X.name)?Te?Lj(n.errors,nt,X.name):st(n.errors,X.name,nt[X.name]):Dt(n.errors,X.name))}!bn(le)&&await Ee(le,D,P)}}return P.valid},$e=()=>{for(const T of f.unMount){const D=oe(s,T);D&&(D._f.refs?D._f.refs.every(P=>!hg(P)):!hg(D._f.ref))&&Ct(T)}f.unMount=new Set},Ie=(T,D)=>!e.disabled&&(T&&D&&st(l,T,D),!Bs(S(),a)),ue=(T,D,P)=>Sj(T,f,{...u.mount?l:Nt(D)?a:vr(T)?{[T]:D}:D},P,D),Oe=T=>bh(oe(u.mount?l:a,T,e.shouldUnregister?oe(a,T,[]):[])),Ve=(T,D,P={})=>{const re=oe(s,T);let ee=D;if(re){const X=re._f;X&&(!X.disabled&&st(l,T,n_(D,X)),ee=jd(X.ref)&&un(D)?"":D,W4(X.ref)?[...X.ref.options].forEach(le=>le.selected=ee.includes(le.value)):X.refs?Tc(X.ref)?X.refs.forEach(le=>{(!le.defaultChecked||!le.disabled)&&(Array.isArray(ee)?le.checked=!!ee.find(Te=>Te===le.value):le.checked=ee===le.value||!!ee)}):X.refs.forEach(le=>le.checked=le.value===ee):Up(X.ref)?X.ref.value="":(X.ref.value=ee,X.ref.type||E.state.next({name:T,values:Jt(l)})))}(P.shouldDirty||P.shouldTouch)&&Z(T,ee,P.shouldTouch,P.shouldDirty,!0),P.shouldValidate&&de(T)},je=(T,D,P)=>{for(const re in D){if(!D.hasOwnProperty(re))return;const ee=D[re],X=T+"."+re,le=oe(s,X);(f.array.has(T)||wt(ee)||le&&!le._f)&&!Ni(ee)?je(X,ee,P):Ve(X,ee,P)}},L=(T,D,P={})=>{const re=oe(s,T),ee=f.array.has(T),X=Jt(D);st(l,T,X),ee?(E.array.next({name:T,values:Jt(l)}),(x.isDirty||x.dirtyFields||b.isDirty||b.dirtyFields)&&P.shouldDirty&&E.state.next({name:T,dirtyFields:pl(a,l),isDirty:Ie(T,X)})):re&&!re._f&&!un(X)?je(T,X,P):Ve(T,X,P),jb(T,f)&&E.state.next({...n}),E.state.next({name:u.mount?T:void 0,values:Jt(l)})},Q=async T=>{u.mount=!0;const D=T.target;let P=D.name,re=!0;const ee=oe(s,P),X=Pe=>{re=Number.isNaN(Pe)||Ni(Pe)&&isNaN(Pe.getTime())||Bs(Pe,oe(l,P,Pe))},le=Ob(e.mode),Te=Ob(e.reValidateMode);if(ee){let Pe,nt;const $i=D.type?Rb(ee._f):vj(T),ir=T.type===Tb.BLUR||T.type===Tb.FOCUS_OUT,Eh=!Oj(ee._f)&&!e.resolver&&!oe(n.errors,P)&&!ee._f.deps||Mj(ir,oe(n.touchedFields,P),n.isSubmitted,Te,le),os=jb(P,f,ir);st(l,P,$i),ir?(ee._f.onBlur&&ee._f.onBlur(T),m&&m(0)):ee._f.onChange&&ee._f.onChange(T);const ls=Z(P,$i,ir),Nr=!bn(ls)||os;if(!ir&&E.state.next({name:P,type:T.type,values:Jt(l)}),Eh)return(x.isValid||b.isValid)&&(e.mode==="onBlur"?ir&&V():ir||V()),Nr&&E.state.next({name:P,...os?{}:ls});if(!ir&&os&&E.state.next({...n}),e.resolver){const{errors:ni}=await Ae([P]);if(X($i),re){const ri=Mb(n.errors,s,P),Nc=Mb(ni,s,ri.name||P);Pe=Nc.error,P=Nc.name,nt=bn(ni)}}else R([P],!0),Pe=(await Lb(ee,f.disabled,l,N,e.shouldUseNativeValidation))[P],R([P]),X($i),re&&(Pe?nt=!1:(x.isValid||b.isValid)&&(nt=await Ee(s,!0)));re&&(ee._f.deps&&de(ee._f.deps),ve(P,nt,Pe,ls))}},ne=(T,D)=>{if(oe(n.errors,D)&&T.focus)return T.focus(),1},de=async(T,D={})=>{let P,re;const ee=Dl(T);if(e.resolver){const X=await Re(Nt(T)?T:ee);P=bn(X),re=T?!ee.some(le=>oe(X,le)):P}else T?(re=(await Promise.all(ee.map(async X=>{const le=oe(s,X);return await Ee(le&&le._f?{[X]:le}:le)}))).every(Boolean),!(!re&&!n.isValid)&&V()):re=P=await Ee(s);return E.state.next({...!vr(T)||(x.isValid||b.isValid)&&P!==n.isValid?{}:{name:T},...e.resolver||!T?{isValid:P}:{},errors:n.errors}),D.shouldFocus&&!re&&jl(s,ne,T?ee:f.mount),re},S=T=>{const D={...u.mount?l:a};return Nt(T)?D:vr(T)?oe(D,T):T.map(P=>oe(D,P))},z=(T,D)=>({invalid:!!oe((D||n).errors,T),isDirty:!!oe((D||n).dirtyFields,T),error:oe((D||n).errors,T),isValidating:!!oe(n.validatingFields,T),isTouched:!!oe((D||n).touchedFields,T)}),J=T=>{T&&Dl(T).forEach(D=>Dt(n.errors,D)),E.state.next({errors:T?n.errors:{}})},W=(T,D,P)=>{const re=(oe(s,T,{_f:{}})._f||{}).ref,ee=oe(n.errors,T)||{},{ref:X,message:le,type:Te,...Pe}=ee;st(n.errors,T,{...Pe,...D,ref:re}),E.state.next({name:T,errors:n.errors,isValid:!1}),P&&P.shouldFocus&&re&&re.focus&&re.focus()},ie=(T,D)=>Wn(T)?E.state.subscribe({next:P=>T(ue(void 0,D),P)}):ue(T,D,!0),ke=T=>E.state.subscribe({next:D=>{jj(T.name,D.name,T.exact)&&Dj(D,T.formState||x,In,T.reRenderRoot)&&T.callback({values:{...l},...n,...D})}}).unsubscribe,xe=T=>(u.mount=!0,b={...b,...T.formState},ke({...T,formState:b})),Ct=(T,D={})=>{for(const P of T?Dl(T):f.mount)f.mount.delete(P),f.array.delete(P),D.keepValue||(Dt(s,P),Dt(l,P)),!D.keepError&&Dt(n.errors,P),!D.keepDirty&&Dt(n.dirtyFields,P),!D.keepTouched&&Dt(n.touchedFields,P),!D.keepIsValidating&&Dt(n.validatingFields,P),!e.shouldUnregister&&!D.keepDefaultValue&&Dt(a,P);E.state.next({values:Jt(l)}),E.state.next({...n,...D.keepDirty?{isDirty:Ie()}:{}}),!D.keepIsValid&&V()},Ge=({disabled:T,name:D})=>{(hr(T)&&u.mount||T||f.disabled.has(D))&&(T?f.disabled.add(D):f.disabled.delete(D))},mn=(T,D={})=>{let P=oe(s,T);const re=hr(D.disabled)||hr(e.disabled);return st(s,T,{...P||{},_f:{...P&&P._f?P._f:{ref:{name:T}},name:T,mount:!0,...D}}),f.mount.add(T),P?Ge({disabled:hr(D.disabled)?D.disabled:e.disabled,name:T}):G(T,!0,D.value),{...re?{disabled:D.disabled||e.disabled}:{},...e.progressive?{required:!!D.required,min:yl(D.min),max:yl(D.max),minLength:yl(D.minLength),maxLength:yl(D.maxLength),pattern:yl(D.pattern)}:{},name:T,onChange:Q,onBlur:Q,ref:ee=>{if(ee){mn(T,D),P=oe(s,T);const X=Nt(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,le=Nj(X),Te=P._f.refs||[];if(le?Te.find(Pe=>Pe===X):X===P._f.ref)return;st(s,T,{_f:{...P._f,...le?{refs:[...Te.filter(hg),X,...Array.isArray(oe(a,T))?[{}]:[]],ref:{type:X.type,name:T}}:{ref:X}}}),G(T,!1,void 0,X)}else P=oe(s,T,{}),P._f&&(P._f.mount=!1),(e.shouldUnregister||D.shouldUnregister)&&!(bj(f.array,T)&&u.action)&&f.unMount.add(T)}}},rr=()=>e.shouldFocusError&&jl(s,ne,f.mount),sr=T=>{hr(T)&&(E.state.next({disabled:T}),jl(s,(D,P)=>{const re=oe(s,P);re&&(D.disabled=re._f.disabled||T,Array.isArray(re._f.refs)&&re._f.refs.forEach(ee=>{ee.disabled=re._f.disabled||T}))},0,!1))},he=(T,D)=>async P=>{let re;P&&(P.preventDefault&&P.preventDefault(),P.persist&&P.persist());let ee=Jt(l);if(E.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:le}=await Ae();n.errors=X,ee=le}else await Ee(s);if(f.disabled.size)for(const X of f.disabled)st(ee,X,void 0);if(Dt(n.errors,"root"),bn(n.errors)){E.state.next({errors:{}});try{await T(ee,P)}catch(X){re=X}}else D&&await D({...n.errors},P),rr(),setTimeout(rr);if(E.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:bn(n.errors)&&!re,submitCount:n.submitCount+1,errors:n.errors}),re)throw re},lt=(T,D={})=>{oe(s,T)&&(Nt(D.defaultValue)?L(T,Jt(oe(a,T))):(L(T,D.defaultValue),st(a,T,Jt(D.defaultValue))),D.keepTouched||Dt(n.touchedFields,T),D.keepDirty||(Dt(n.dirtyFields,T),n.isDirty=D.defaultValue?Ie(T,Jt(oe(a,T))):Ie()),D.keepError||(Dt(n.errors,T),x.isValid&&V()),E.state.next({...n}))},ft=(T,D={})=>{const P=T?Jt(T):a,re=Jt(P),ee=bn(T),X=ee?a:re;if(D.keepDefaultValues||(a=P),!D.keepValues){if(D.keepDirtyValues){const le=new Set([...f.mount,...Object.keys(pl(a,l))]);for(const Te of Array.from(le))oe(n.dirtyFields,Te)?st(X,Te,oe(l,Te)):L(Te,oe(X,Te))}else{if(Ip&&Nt(T))for(const le of f.mount){const Te=oe(s,le);if(Te&&Te._f){const Pe=Array.isArray(Te._f.refs)?Te._f.refs[0]:Te._f.ref;if(jd(Pe)){const nt=Pe.closest("form");if(nt){nt.reset();break}}}}for(const le of f.mount)L(le,oe(X,le))}l=Jt(X),E.array.next({values:{...X}}),E.state.next({values:{...X}})}f={mount:D.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!x.isValid||!!D.keepIsValid||!!D.keepDirtyValues,u.watch=!!e.shouldUnregister,E.state.next({submitCount:D.keepSubmitCount?n.submitCount:0,isDirty:ee?!1:D.keepDirty?n.isDirty:!!(D.keepDefaultValues&&!Bs(T,a)),isSubmitted:D.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ee?{}:D.keepDirtyValues?D.keepDefaultValues&&l?pl(a,l):n.dirtyFields:D.keepDefaultValues&&T?pl(a,T):D.keepDirty?n.dirtyFields:{},touchedFields:D.keepTouched?n.touchedFields:{},errors:D.keepErrors?n.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},_n=(T,D)=>ft(Wn(T)?T(l):T,D),mo=(T,D={})=>{const P=oe(s,T),re=P&&P._f;if(re){const ee=re.refs?re.refs[0]:re.ref;ee.focus&&(ee.focus(),D.shouldSelect&&Wn(ee.select)&&ee.select())}},In=T=>{n={...n,...T}},go={control:{register:mn,unregister:Ct,getFieldState:z,handleSubmit:he,setError:W,_subscribe:ke,_runSchema:Ae,_focusError:rr,_getWatch:ue,_getDirty:Ie,_setValid:V,_setFieldArray:K,_setDisabledField:Ge,_setErrors:$,_getFieldArray:Oe,_reset:ft,_resetDefaultValues:()=>Wn(e.defaultValues)&&e.defaultValues().then(T=>{_n(T,e.resetOptions),E.state.next({isLoading:!1})}),_removeUnmounted:$e,_disableForm:sr,_subjects:E,_proxyFormState:x,get _fields(){return s},get _formValues(){return l},get _state(){return u},set _state(T){u=T},get _defaultValues(){return a},get _names(){return f},set _names(T){f=T},get _formState(){return n},get _options(){return e},set _options(T){e={...e,...T}}},subscribe:xe,trigger:de,register:mn,handleSubmit:he,watch:ie,setValue:L,getValues:S,reset:_n,resetField:lt,clearErrors:J,unregister:Ct,setError:W,setFocus:mo,getFieldState:z};return{...go,formControl:go}}function wh(t={}){const e=On.useRef(void 0),n=On.useRef(void 0),[s,a]=On.useState({isDirty:!1,isValidating:!1,isLoading:Wn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Wn(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:Vj(t),formState:s},t.formControl&&t.defaultValues&&!Wn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const l=e.current.control;return l._options=t,_j(()=>{const u=l._subscribe({formState:l._proxyFormState,callback:()=>a({...l._formState}),reRenderRoot:!0});return a(f=>({...f,isReady:!0})),l._formState.isReady=!0,u},[l]),On.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),On.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),On.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),On.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),On.useEffect(()=>{if(l._proxyFormState.isDirty){const u=l._getDirty();u!==s.isDirty&&l._subjects.state.next({isDirty:u})}},[l,s.isDirty]),On.useEffect(()=>{t.values&&!Bs(t.values,n.current)?(l._reset(t.values,l._options.resetOptions),n.current=t.values,a(u=>({...u}))):l._resetDefaultValues()},[l,t.values]),On.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=Ej(s,l),e.current}const Bj=()=>{const{forgotPassword:t}=ei(),e=fn(),[n,s]=y.useState(!1),[a,l]=y.useState(!1),[u,f]=y.useState(""),{register:m,handleSubmit:p,formState:{errors:x},reset:b}=wh(),E=I=>{switch(I){case"auth/invalid-email":return"O e-mail fornecido é inválido.";case"auth/user-not-found":return"Nenhuma conta encontrada com este e-mail.";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente mais tarde.";default:return"Ocorreu um erro ao enviar o e-mail. Tente novamente."}},N=async({email:I})=>{s(!0);const V={url:`${window.location.origin}/reset-password`,handleCodeInApp:!0};try{await t(I,V),f(I),l(!0),b(),jt.success("E-mail enviado com sucesso!",{position:"top-center",duration:4e3})}catch(R){console.error("Erro ao enviar e-mail:",R);const K=E(R.code);jt.error(K,{position:"top-center",duration:5e3})}finally{s(!1)}};return a?g.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-gray-100 dark:bg-gray-900",children:g.jsxs("div",{className:"w-full max-w-md p-8 rounded-xl shadow-xl bg-white dark:bg-gray-800 text-center",children:[g.jsx(l0,{className:"h-16 w-16 mx-auto text-green-500 mb-4"}),g.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"E-mail Enviado!"}),g.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:["Enviamos um link de redefinição para ",g.jsx("strong",{children:u}),". Verifique sua caixa de entrada e a pasta de spam."]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("button",{onClick:()=>{l(!1),f("")},className:"w-full py-2.5 px-4 rounded-md text-white bg-ollo-deep hover:bg-opacity-90 transition font-medium",children:"Enviar novo e-mail"}),g.jsx("button",{onClick:()=>e("/login"),className:"w-full py-2.5 px-4 rounded-md border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition font-medium",children:"Voltar para o Login"})]})]})}):g.jsxs(g.Fragment,{children:[g.jsx(qi,{position:"top-center"}),g.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-gray-100 dark:bg-gray-900",children:g.jsxs("div",{className:"w-full max-w-md p-8 rounded-xl shadow-xl bg-white dark:bg-gray-800",children:[g.jsxs("div",{className:"text-center mb-6",children:[g.jsx("img",{src:"/images/logo_ollo.jpeg",alt:"Logo OLLO",className:"h-16 mx-auto rounded-full"}),g.jsx("h2",{className:"text-2xl font-bold mt-4 text-gray-800 dark:text-white",children:"Recuperação de Senha"})]}),g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx(O3,{className:"h-10 w-10 text-ollo-deep dark:text-ollo-accent-light"})}),g.jsx("p",{className:"text-center text-sm text-gray-600 dark:text-gray-300 mb-6",children:"Digite seu e-mail cadastrado e enviaremos um link seguro para redefinir sua senha."}),g.jsxs("form",{onSubmit:p(N),className:"space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Endereço de E-mail"}),g.jsx("input",{id:"email",type:"email",...m("email",{required:"E-mail é obrigatório",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Formato de e-mail inválido"}}),className:"w-full px-4 py-3 border rounded-md shadow-sm bg-white/70 dark:bg-gray-700 text-black dark:text-white placeholder-gray-500 dark:placeholder-gray-400 border-gray-300 dark:border-gray-600 focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none transition-colors duration-150",placeholder:"seu@email.com",autoComplete:"email",inputMode:"email"}),x.email&&g.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:x.email.message})]}),g.jsx("button",{type:"submit",disabled:n,className:"w-full py-3 px-4 rounded-md text-white bg-ollo-deep hover:bg-opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center font-semibold",children:n?g.jsxs(g.Fragment,{children:[g.jsx(_r,{className:"animate-spin h-5 w-5 mr-2"}),"Enviando..."]}):"Enviar Link de Recuperação"})]}),g.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:g.jsxs("p",{className:"text-sm text-center text-gray-600 dark:text-gray-400",children:["Lembrou sua senha?"," ",g.jsx(wn,{to:"/login",className:"font-medium text-ollo-deep dark:text-ollo-accent-light hover:underline",children:"Fazer login"})]})})]})})]})},Pj=()=>{const t=fn(),{register:e,handleSubmit:n,watch:s,formState:{errors:a},reset:l}=wh(),{registerWithEmail:u}=ei(),[f,m]=y.useState(!1),[p,x]=y.useState(!1),[b,E]=y.useState(!1),[N,I]=y.useState(!1),[V,R]=y.useState(!1),K=$=>{switch($){case"auth/email-already-in-use":return"Este e-mail já está em uso. Tente recuperar sua conta ou use outro e-mail.";case"auth/invalid-email":return"Formato de e-mail inválido. Verifique e tente novamente.";case"auth/weak-password":return"Senha muito fraca. Use no mínimo 6 caracteres.";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente mais tarde.";default:return"Ocorreu um erro no cadastro. Tente novamente."}},U=async $=>{m(!0);const G={name:`${$.firstName} ${$.lastName}`,username:$.username.toLowerCase()};try{(await u($.email,$.password,G)).success&&(R(!0),l(),jt.success("Verifique seu e-mail para ativar sua conta!",{duration:6e3,position:"top-center"}))}catch(Z){console.error("Registration error:",Z);const ve=K(Z.code);jt.error(ve,{duration:5e3,position:"top-center"})}finally{m(!1)}};return V?g.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50 dark:bg-gray-900",children:g.jsxs("div",{className:"w-full max-w-md p-8 rounded-xl bg-white dark:bg-gray-800 shadow-lg border border-gray-200 dark:border-gray-700 text-center",children:[g.jsx(l0,{className:"h-16 w-16 mx-auto text-green-500 mb-4"}),g.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Cadastro Concluído!"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Enviamos um link de verificação para seu e-mail. Confirme sua conta para começar a usar o OLLO."}),g.jsx("button",{onClick:()=>t("/login"),className:"w-full py-2.5 px-4 rounded-md bg-ollo-deep dark:bg-ollo-accent-light text-white dark:text-gray-900 font-medium hover:bg-opacity-90 transition",children:"Ir para o Login"})]})}):g.jsxs(g.Fragment,{children:[g.jsx(qi,{position:"top-center"}),g.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50 dark:bg-gray-900",children:g.jsxs("div",{className:"w-full max-w-lg p-8 rounded-xl bg-white dark:bg-gray-800 shadow-lg border border-gray-200 dark:border-gray-700",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("img",{src:"/images/logo_ollo.jpeg",alt:"Logo OLLO",className:"h-16 mx-auto rounded-full mb-4"}),g.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Junte-se à Comunidade OLLO"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Crie sua conta para começar a explorar"})]}),g.jsxs("form",{onSubmit:n(U),className:"space-y-5",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome"}),g.jsx("input",{id:"firstName",type:"text",...e("firstName",{required:"Nome é obrigatório",minLength:{value:2,message:"Nome deve ter pelo menos 2 caracteres"}}),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none transition-colors",placeholder:"Seu nome",autoComplete:"given-name"}),a.firstName&&g.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:a.firstName.message})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sobrenome"}),g.jsx("input",{id:"lastName",type:"text",...e("lastName",{required:"Sobrenome é obrigatório",minLength:{value:2,message:"Sobrenome deve ter pelo menos 2 caracteres"}}),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none transition-colors",placeholder:"Seu sobrenome",autoComplete:"family-name"}),a.lastName&&g.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:a.lastName.message})]})]}),g.jsxs("div",{className:"relative",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome de usuário"}),g.jsx("button",{type:"button",onClick:()=>I(!N),className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300","aria-label":"Mostrar regras para nome de usuário",children:g.jsx(Y2,{className:"h-5 w-5"})})]}),g.jsx("input",{id:"username",type:"text",...e("username",{required:"Nome de usuário é obrigatório",pattern:{value:/^[a-z0-9_.]+$/,message:"Use apenas letras minúsculas, números, ponto ou underline"},minLength:{value:3,message:"Mínimo 3 caracteres"},maxLength:{value:20,message:"Máximo 20 caracteres"}}),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none transition-colors",placeholder:"ex: maria.silva",autoComplete:"username"}),N&&g.jsx("div",{className:"absolute z-10 mt-2 w-full p-3 bg-gray-800 text-white text-sm rounded-lg shadow-lg",children:g.jsxs("div",{className:"flex items-start",children:[g.jsx(Y2,{className:"h-5 w-5 mr-2 flex-shrink-0 text-blue-400"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold mb-1",children:"Regras para nome de usuário:"}),g.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[g.jsx("li",{children:"3-20 caracteres"}),g.jsx("li",{children:"Letras minúsculas (a-z) e números (0-9)"}),g.jsx("li",{children:"Ponto (.) ou underline (_) permitidos"}),g.jsx("li",{children:"Exemplos: ana.silva, joao_2023"})]})]})]})}),a.username&&g.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:a.username.message})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"E-mail"}),g.jsx("input",{id:"email",type:"email",...e("email",{required:"E-mail é obrigatório",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Formato de e-mail inválido"}}),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none transition-colors",placeholder:"seu@email.com",autoComplete:"email",inputMode:"email"}),a.email&&g.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:a.email.message})]}),g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Senha"}),g.jsx("input",{id:"password",type:p?"text":"password",...e("password",{required:"Senha é obrigatória",minLength:{value:6,message:"Mínimo 6 caracteres"}}),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none transition-colors pr-10",placeholder:"••••••••",autoComplete:"new-password"}),g.jsx("button",{type:"button",onClick:()=>x(!p),className:"absolute top-10 right-3 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300","aria-label":p?"Ocultar senha":"Mostrar senha",children:p?g.jsx(Ll,{className:"h-5 w-5"}):g.jsx(Ul,{className:"h-5 w-5"})}),a.password&&g.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:a.password.message})]}),g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirmar Senha"}),g.jsx("input",{id:"confirmPassword",type:b?"text":"password",...e("confirmPassword",{required:"Confirme sua senha",validate:$=>$===s("password")||"As senhas não coincidem"}),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none transition-colors pr-10",placeholder:"••••••••",autoComplete:"new-password"}),g.jsx("button",{type:"button",onClick:()=>E(!b),className:"absolute top-10 right-3 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300","aria-label":b?"Ocultar senha":"Mostrar senha",children:b?g.jsx(Ll,{className:"h-5 w-5"}):g.jsx(Ul,{className:"h-5 w-5"})}),a.confirmPassword&&g.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:a.confirmPassword.message})]}),g.jsx("div",{className:"pt-2",children:g.jsx("button",{type:"submit",disabled:f,className:"w-full py-3 px-4 rounded-lg bg-ollo-deep dark:bg-ollo-accent-light text-white dark:text-gray-900 font-semibold hover:bg-opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center",children:f?g.jsxs(g.Fragment,{children:[g.jsx(_r,{className:"animate-spin h-5 w-5 mr-2"}),"Criando conta..."]}):"Criar Conta"})})]}),g.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:g.jsxs("p",{className:"text-sm text-center text-gray-600 dark:text-gray-400",children:["Já tem uma conta?"," ",g.jsx(wn,{to:"/login",className:"font-medium text-ollo-deep dark:text-ollo-accent-light hover:underline",children:"Fazer login"})]})})]})})]})};function zj({listing:t,onDelete:e}){if(!t)return null;const{id:n,title:s,price:a,category:l,imageUrls:u}=t,f=u&&u.length>0?u[0]:`https://placehold.co/400x300/E0E1DD/0D1B2A?text=${encodeURIComponent(s||"Sem Imagem")}`,m=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a||0),p=l?l.charAt(0).toUpperCase()+l.slice(1):"",x=E=>{E.stopPropagation(),E.preventDefault(),e&&e(n)},b=E=>{E.stopPropagation(),E.preventDefault(),alert(`Navegando para a página de edição de ${n} (funcionalidade a ser implementada)`)};return g.jsxs(wn,{to:`/marketplace/detalhes/${n}`,className:"group flex flex-col overflow-hidden rounded-xl border border-gray-200/80 dark:border-gray-700/60 bg-white dark:bg-ollo-slate shadow-md transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[g.jsxs("div",{className:"relative h-48 sm:h-56",children:[g.jsx("img",{src:f,alt:`Imagem de ${s}`,className:"absolute inset-0 h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}),p&&g.jsx("span",{className:"absolute top-3 right-3 bg-ollo-accent dark:bg-ollo-accent-light text-white dark:text-ollo-deep text-xs font-semibold px-2.5 py-1 rounded-full z-10",children:p})]}),g.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[g.jsxs("div",{className:"flex-grow",children:[g.jsx("h3",{className:"text-lg font-bold text-ollo-deep dark:text-ollo-light truncate",title:s,children:s||"Anúncio sem título"}),g.jsx("p",{className:"mt-2 text-xl font-black text-ollo-accent dark:text-ollo-accent-light",children:m})]}),g.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700/50 flex justify-end space-x-2",children:[g.jsx("button",{onClick:b,className:"p-2 text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",title:"Editar Anúncio",children:g.jsx(Vl,{className:"h-5 w-5"})}),g.jsx("button",{onClick:x,className:"p-2 text-gray-500 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",title:"Excluir Anúncio",children:g.jsx(aw,{className:"h-5 w-5"})})]})]})]})}function Hj(){const[t,e]=y.useState([]),[n,s]=y.useState(!0),[a,l]=y.useState(null);y.useEffect(()=>{(async()=>{s(!0);try{const p=d4(to,"listagens"),x=F8(p,q8("createdAt","desc")),E=(await Y8(x)).docs.map(N=>({id:N.id,...N.data()}));e(E),l(null)}catch(p){console.error("Erro ao buscar anúncios:",p),l("Não foi possível carregar os produtos. Tente novamente mais tarde.")}finally{s(!1)}})()},[]);const u=async m=>{if(window.confirm("Tem certeza que deseja excluir este anúncio? Esta ação não pode ser desfeita."))try{const p=rc(to,"listagens",m);await Z8(p),e(x=>x.filter(b=>b.id!==m)),console.log(`Anúncio ${m} excluído com sucesso!`)}catch(p){console.error("Erro ao excluir anúncio:",p),alert("Ocorreu um erro ao tentar excluir o anúncio. Tente novamente.")}},f=()=>n?g.jsxs("div",{className:"flex justify-center items-center py-20",children:[g.jsx(_r,{className:"h-8 w-8 animate-spin text-ollo-accent dark:text-ollo-accent-light"}),g.jsx("p",{className:"ml-3 text-lg text-gray-500 dark:text-gray-400",children:"Carregando produtos..."})]}):a?g.jsx("div",{className:"text-center py-20",children:g.jsx("p",{className:"text-red-500 dark:text-red-400",children:a})}):t.length===0?g.jsx("div",{className:"text-center py-20",children:g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum produto encontrado no momento."})}):g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(m=>g.jsx(zj,{listing:m,onDelete:u},m.id))});return g.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[g.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 gap-4",children:[g.jsx("h1",{className:"text-3xl font-bold text-ollo-deep dark:text-ollo-accent-light",children:"Marketplace OLLO"}),g.jsx(wn,{to:"/marketplace/criar",className:"w-full sm:w-auto flex justify-center py-2 px-6 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-ollo-accent hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ollo-accent-light transition-transform active:scale-95",children:"Anunciar Produto"})]}),g.jsx("main",{children:f()})]})}const Gt=[];for(let t=0;t<256;++t)Gt.push((t+256).toString(16).slice(1));function Fj(t,e=0){return(Gt[t[e+0]]+Gt[t[e+1]]+Gt[t[e+2]]+Gt[t[e+3]]+"-"+Gt[t[e+4]]+Gt[t[e+5]]+"-"+Gt[t[e+6]]+Gt[t[e+7]]+"-"+Gt[t[e+8]]+Gt[t[e+9]]+"-"+Gt[t[e+10]]+Gt[t[e+11]]+Gt[t[e+12]]+Gt[t[e+13]]+Gt[t[e+14]]+Gt[t[e+15]]).toLowerCase()}let fg;const qj=new Uint8Array(16);function $j(){if(!fg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");fg=crypto.getRandomValues.bind(crypto)}return fg(qj)}const Gj=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ub={randomUUID:Gj};function Kj(t,e,n){var a;if(Ub.randomUUID&&!t)return Ub.randomUUID();t=t||{};const s=t.random??((a=t.rng)==null?void 0:a.call(t))??$j();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Fj(s)}const Yj=()=>{const{register:t,handleSubmit:e,formState:{errors:n,isSubmitting:s}}=wh(),a=fn(),{currentUser:l}=ei(),[u,f]=y.useState(""),[m,p]=y.useState([]),[x,b]=y.useState([]),E=R=>{if(R.target.files){const U=Array.from(R.target.files).slice(0,5-m.length);p(G=>[...G,...U]);const $=U.map(G=>URL.createObjectURL(G));b(G=>[...G,...$]),R.target.value=null}},N=R=>{p(K=>K.filter((U,$)=>$!==R)),URL.revokeObjectURL(x[R]),b(K=>K.filter((U,$)=>$!==R))},I=async R=>{if(!l){f("Você precisa estar logado para criar um anúncio.");return}if(m.length===0){f("Por favor, adicione pelo menos uma imagem.");return}f("");try{const K=await Promise.all(m.map(async U=>{const $=lD(mD,`listings/${l.uid}/${Kj()}-${U.name}`);return await aD($,U),oD($)}));await X8(d4(to,"listagens"),{title:R.title,description:R.description,price:R.price,category:R.category.toLowerCase(),imageUrls:K,sellerId:l.uid,sellerName:l.name,status:"active",isPromoted:!1,createdAt:A4()}),console.log("Anúncio e imagens salvos com sucesso!"),a("/marketplace")}catch(K){console.error("Erro ao criar anúncio:",K),K.code==="permission-denied"?f("Você não tem permissão para criar anúncios. Verifique suas regras de segurança no Firebase."):f("Ocorreu um erro ao criar seu anúncio. Tente novamente.")}},V=R=>`mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 bg-white/50 dark:bg-gray-800/50 shadow-sm focus:ring-opacity-50 pl-10 ${n[R]?"border-red-500 dark:border-red-500 focus:border-red-500 dark:focus:border-red-500 focus:ring-red-500":"focus:border-ollo-deep dark:focus:border-ollo-accent-light focus:ring-ollo-deep dark:focus:ring-ollo-accent-light"}`;return g.jsxs("div",{className:"container mx-auto p-4 max-w-3xl",children:[g.jsx("h1",{className:"text-3xl font-bold text-center text-ollo-deep dark:text-ollo-accent-light mb-8",children:"Anunciar Novo Item"}),g.jsxs("form",{onSubmit:e(I),className:"space-y-6 bg-white dark:bg-ollo-slate p-6 sm:p-8 rounded-xl shadow-2xl border border-gray-200/50 dark:border-gray-700/50",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Imagens do Produto (até 5)"}),g.jsx("div",{className:"mt-2 flex justify-center rounded-lg border border-dashed border-gray-900/25 dark:border-gray-100/25 px-6 py-10",children:g.jsxs("div",{className:"text-center",children:[g.jsx(K3,{className:"mx-auto h-12 w-12 text-gray-300 dark:text-gray-500"}),g.jsxs("div",{className:"mt-4 flex text-sm leading-6 text-gray-600 dark:text-gray-400",children:[g.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md bg-transparent font-semibold text-ollo-accent dark:text-ollo-accent-light focus-within:outline-none focus-within:ring-2 focus-within:ring-ollo-accent focus-within:ring-offset-2 dark:focus-within:ring-offset-gray-900 hover:text-ollo-deep dark:hover:text-white",children:[g.jsx("span",{children:"Carregue os arquivos"}),g.jsx("input",{id:"file-upload",name:"file-upload",type:"file",multiple:!0,accept:"image/*",className:"sr-only",onChange:E,disabled:m.length>=5})]}),g.jsx("p",{className:"pl-1",children:"ou arraste e solte"})]}),g.jsx("p",{className:"text-xs leading-5 text-gray-600 dark:text-gray-500",children:"PNG, JPG, GIF até 5MB"})]})}),x.length>0&&g.jsx("div",{className:"mt-4 grid grid-cols-3 sm:grid-cols-5 gap-4",children:x.map((R,K)=>g.jsxs("div",{className:"relative group",children:[g.jsx("img",{src:R,alt:`Preview ${K}`,className:"h-24 w-full object-cover rounded-md"}),g.jsx("button",{type:"button",onClick:()=>N(K),className:"absolute top-1 right-1 p-0.5 rounded-full bg-red-600 text-white opacity-0 group-hover:opacity-100 transition-opacity focus:outline-none focus:ring-2 focus:ring-red-500",children:g.jsx(rN,{className:"h-5 w-5"})})]},K))})]}),g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Título do Anúncio"}),g.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pt-6 pointer-events-none",children:g.jsx(Vl,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),g.jsx("input",{id:"title",type:"text",...t("title",{required:"O título é obrigatório"}),className:V("title"),placeholder:"Ex: Bicicleta Caloi Aro 29"}),n.title&&g.jsx("p",{className:"mt-2 text-sm text-red-500",children:n.title.message})]}),g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Descrição"}),g.jsx("div",{className:"absolute top-9 left-0 flex items-center pl-3 pointer-events-none",children:g.jsx(Vl,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),g.jsx("textarea",{id:"description",rows:"5",...t("description",{required:"A descrição é obrigatória"}),className:V("description"),placeholder:"Detalhe seu produto..."}),n.description&&g.jsx("p",{className:"mt-2 text-sm text-red-500",children:n.description.message})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Preço (R$)"}),g.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pt-6 pointer-events-none",children:g.jsx(C3,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),g.jsx("input",{id:"price",type:"number",step:"0.01",...t("price",{required:"O preço é obrigatório",valueAsNumber:!0,min:{value:.01,message:"O preço deve ser maior que zero."}}),className:V("price"),placeholder:"0,00"}),n.price&&g.jsx("p",{className:"mt-2 text-sm text-red-500",children:n.price.message})]}),g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Categoria"}),g.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pt-6 pointer-events-none",children:g.jsx(X3,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),g.jsxs("select",{id:"category",...t("category",{required:"A categoria é obrigatória"}),className:V("category"),children:[g.jsx("option",{value:"",children:"Selecione..."}),g.jsx("option",{value:"tecnologia",children:"Tecnologia"}),g.jsx("option",{value:"casa",children:"Casa e Jardim"}),g.jsx("option",{value:"esportes",children:"Esportes e Lazer"}),g.jsx("option",{value:"veiculos",children:"Veículos"}),g.jsx("option",{value:"moda",children:"Moda e Beleza"})]}),n.category&&g.jsx("p",{className:"mt-2 text-sm text-red-500",children:n.category.message})]})]}),u&&g.jsx("p",{className:"text-center text-sm text-red-500 py-2",children:u}),g.jsx("div",{className:"pt-4",children:g.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white dark:text-ollo-deep bg-ollo-accent dark:bg-ollo-accent-light hover:bg-opacity-90 disabled:opacity-50 disabled:cursor-wait focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-ollo-slate focus:ring-ollo-accent-light",children:s?g.jsxs(g.Fragment,{children:[g.jsx(_r,{className:"animate-spin h-5 w-5 mr-3"})," ","Publicando..."]}):"Criar Anúncio"})})]})]})};function Qj(){const{listingId:t}=o0(),[e,n]=y.useState(null),[s,a]=y.useState(!0),[l,u]=y.useState(null),[f,m]=y.useState("");if(y.useEffect(()=>{(async()=>{if(!t){u("ID do anúncio não encontrado."),a(!1);return}a(!0);try{const b=rc(to,"listagens",t),E=await T4(b);if(E.exists()){const N={id:E.id,...E.data()};n(N),N.imageUrls&&N.imageUrls.length>0&&m(N.imageUrls[0])}else u("Anúncio não encontrado.")}catch{u("Ocorreu um erro ao carregar o anúncio.")}finally{a(!1)}})()},[t]),s)return g.jsxs("div",{className:"flex justify-center items-center h-screen",children:[g.jsx(_r,{className:"h-10 w-10 animate-spin text-ollo-accent"}),g.jsx("span",{className:"ml-4 text-xl text-gray-600 dark:text-gray-400",children:"Carregando detalhes..."})]});if(l)return g.jsxs("div",{className:"flex flex-col justify-center items-center h-screen text-center p-4",children:[g.jsx(sw,{className:"h-12 w-12 text-red-500 mb-4"}),g.jsx("h2",{className:"text-2xl font-bold text-ollo-deep dark:text-ollo-light mb-2",children:"Erro ao Carregar"}),g.jsx("p",{className:"text-red-500 dark:text-red-400 mb-6",children:l}),g.jsx(wn,{to:"/marketplace",className:"px-4 py-2 bg-ollo-accent text-white rounded-lg hover:bg-opacity-90",children:"Voltar para o Marketplace"})]});if(!e)return null;const p=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.price||0);return g.jsx("div",{className:"max-w-6xl mx-auto p-4 sm:p-6 lg:p-8",children:g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8 lg:gap-12",children:[g.jsxs("div",{className:"lg:col-span-3",children:[g.jsx("div",{className:"aspect-w-16 aspect-h-12 bg-gray-200 dark:bg-gray-800 rounded-lg overflow-hidden mb-4 shadow-lg",children:g.jsx("img",{src:f||"https://placehold.co/800x600/E0E1DD/0D1B2A?text=Sem+Imagem",alt:`Imagem principal de ${e.title}`,className:"w-full h-full object-cover transition-opacity duration-300"})}),e.imageUrls&&e.imageUrls.length>1&&g.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:e.imageUrls.map((x,b)=>g.jsx("button",{onClick:()=>m(x),className:`flex-shrink-0 w-20 h-20 sm:w-24 sm:h-24 rounded-md overflow-hidden transition-all duration-200
                                                border-2 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-ollo-deep
                                                ${f===x?"border-ollo-accent dark:border-ollo-accent-light ring-2 ring-ollo-accent dark:ring-ollo-accent-light":"border-transparent hover:border-gray-400 dark:hover:border-gray-500"}`,children:g.jsx("img",{src:x,alt:`Miniatura ${b+1}`,className:"w-full h-full object-cover"})},b))})]}),g.jsx("div",{className:"lg:col-span-2",children:g.jsxs("div",{className:"bg-white dark:bg-ollo-slate p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[g.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-ollo-deep dark:text-ollo-light mb-2",children:e.title}),g.jsx("p",{className:"text-3xl lg:text-4xl font-black text-ollo-accent dark:text-ollo-accent-light mb-4",children:p}),g.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700/50 my-4"}),g.jsx("h2",{className:"text-lg font-semibold text-ollo-deep dark:text-ollo-light mb-2",children:"Descrição"}),g.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap leading-relaxed mb-6",children:e.description}),g.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800/50 p-4 rounded-lg",children:[g.jsx("h3",{className:"text-md font-semibold text-ollo-deep dark:text-ollo-light mb-3",children:"Informações do Vendedor"}),g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(ow,{className:"h-10 w-10 text-gray-400 dark:text-gray-500"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:e.sellerName||"Vendedor OLLO"}),g.jsx(wn,{to:`/profile/${e.sellerId}`,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"Ver perfil"})]})]})]}),g.jsx("button",{className:"mt-6 w-full py-3 px-6 bg-ollo-accent hover:bg-opacity-90 text-white font-bold rounded-lg shadow-lg transition-transform active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ollo-accent-light",children:"Entrar em Contato"})]})})]})})}const Zj=()=>{const{logout:t}=ei(),e=fn(),[n,s]=y.useState(mr.currentUser);y.useEffect(()=>{const u=Kw(mr,f=>{f?(s(f),f.emailVerified&&(jt.success("Email verificado com sucesso! Redirecionando..."),setTimeout(()=>e("/"),2e3))):(s(null),e("/login"))});return()=>u()},[e]);const a=async()=>{if(!n){jt.error("Ocorreu um erro. Por favor, faça login novamente.");return}try{await Gw(n),jt.success("Um novo link de verificação foi enviado para o seu e-mail!")}catch{jt.error("Ocorreu um erro ao reenviar o e-mail. Tente novamente mais tarde.")}},l=async()=>{await t(),e("/login")};return n?g.jsxs(g.Fragment,{children:[g.jsx(qi,{}),g.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:g.jsxs("div",{className:"max-w-md w-full p-8 space-y-6 bg-white dark:bg-gray-800 rounded-lg shadow-md text-center",children:[g.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:g.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),g.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Confirme seu e-mail"}),g.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Enviamos um link de verificação para"," ",g.jsx("strong",{children:n.email}),". Por favor, verifique sua caixa de entrada (e a pasta de spam) para ativar sua conta."]}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Após verificar, você pode fazer o login."}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[g.jsx("button",{onClick:a,className:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-white bg-ollo-primary hover:bg-ollo-primary-dark rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ollo-primary",children:"Reenviar e-mail"}),g.jsx("button",{onClick:l,className:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-md",children:"Fazer logout"})]})]})})]}):g.jsx("div",{className:"flex items-center justify-center min-h-screen bg-white dark:bg-ollo-deep",children:g.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Carregando..."})})},Xj=()=>{const t=fn(),e=ss(),{register:n,handleSubmit:s,watch:a,formState:{errors:l}}=wh(),[u,f]=y.useState(!0),[m,p]=y.useState(!1),[x,b]=y.useState(""),[E,N]=y.useState(!1),[I,V]=y.useState(""),[R,K]=y.useState(""),[U,$]=y.useState(!1),[G,Z]=y.useState(!1),ve=a("password"),Ae=Ee=>{switch(Ee){case"auth/expired-action-code":return"Link expirado. Solicite uma nova redefinição.";case"auth/invalid-action-code":return"Código inválido ou já utilizado.";case"auth/user-disabled":return"Esta conta está desativada.";case"auth/user-not-found":return"Usuário não encontrado.";case"auth/weak-password":return"Senha muito fraca (mínimo 6 caracteres).";default:return"Ocorreu um erro. Tente novamente."}};y.useEffect(()=>{const $e=new URLSearchParams(e.search).get("oobCode");if(!$e){b("Link inválido. Utilize o link recebido por e-mail."),f(!1),t("/forgot-password",{state:{error:"invalid_link"}});return}f(!0),Nk(mr,$e).then(Ie=>{V($e),K(Ie),jt.success(`Redefinindo senha para: ${Ie}`),f(!1)}).catch(Ie=>{console.error("Erro na verificação:",Ie);const ue=Ae(Ie.code);b(ue),jt.error(ue),f(!1),t("/forgot-password",{state:{error:Ie.code}})})},[e.search,t]);const Re=async Ee=>{if(!I){jt.error("Código de redefinição inválido.");return}p(!0),b("");try{await _k(mr,I,Ee.password),jt.success("Senha alterada com sucesso!"),N(!0),setTimeout(()=>{t("/login",{replace:!0,state:{email:R,passwordReset:!0}})},3e3)}catch($e){console.error("Erro na redefinição:",$e);const Ie=Ae($e.code);b(Ie),jt.error(Ie)}finally{p(!1)}};return u?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:g.jsxs("div",{className:"text-center",children:[g.jsx(_r,{className:"h-12 w-12 mx-auto animate-spin text-ollo-deep"}),g.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Verificando o link de redefinição..."})]})}):E?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:g.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white dark:bg-gray-800 rounded-lg shadow-md text-center",children:[g.jsx(l0,{className:"w-16 h-16 mx-auto text-green-500"}),g.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Senha Redefinida!"}),g.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Sua senha foi alterada com sucesso para a conta"," ",g.jsx("strong",{children:R}),"."]}),g.jsx("div",{className:"pt-4",children:g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Você será redirecionado automaticamente..."})})]})}):g.jsxs(g.Fragment,{children:[g.jsx(qi,{position:"top-center"}),g.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-gray-100 dark:bg-gray-900",children:g.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg",children:[g.jsxs("div",{className:"text-center mb-6",children:[g.jsx("img",{src:"/images/logo_ollo.jpeg",alt:"Logo OLLO",className:"h-16 mx-auto rounded-full"}),g.jsx("h2",{className:"text-2xl font-bold mt-4 text-gray-900 dark:text-white",children:"Redefinir Senha"}),g.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:["Para: ",g.jsx("span",{className:"font-medium",children:R})]})]}),x&&g.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-md",children:g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center",children:x})}),g.jsxs("form",{onSubmit:s(Re),className:"space-y-5",children:[g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nova Senha"}),g.jsx("input",{id:"password",type:U?"text":"password",...n("password",{required:"A nova senha é obrigatória",minLength:{value:6,message:"A senha deve ter no mínimo 6 caracteres"}}),placeholder:"••••••••",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none bg-white/70 dark:bg-gray-700 text-black dark:text-white pr-10",autoComplete:"new-password"}),g.jsx("button",{type:"button",onClick:()=>$(!U),className:"absolute top-9 right-3 text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-200","aria-label":U?"Ocultar senha":"Mostrar senha",children:U?g.jsx(Ll,{className:"h-5 w-5"}):g.jsx(Ul,{className:"h-5 w-5"})}),l.password&&g.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.password.message})]}),g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirmar Nova Senha"}),g.jsx("input",{id:"confirmPassword",type:G?"text":"password",...n("confirmPassword",{required:"Confirme sua nova senha",validate:Ee=>Ee===ve||"As senhas não coincidem"}),placeholder:"••••••••",className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none bg-white/70 dark:bg-gray-700 text-black dark:text-white pr-10",autoComplete:"new-password"}),g.jsx("button",{type:"button",onClick:()=>Z(!G),className:"absolute top-9 right-3 text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-200","aria-label":G?"Ocultar senha":"Mostrar senha",children:G?g.jsx(Ll,{className:"h-5 w-5"}):g.jsx(Ul,{className:"h-5 w-5"})}),l.confirmPassword&&g.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.confirmPassword.message})]}),g.jsx("button",{type:"submit",disabled:m||!I,className:"w-full bg-ollo-deep text-white py-3 rounded-md font-semibold hover:bg-opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center",children:m?g.jsxs(g.Fragment,{children:[g.jsx(_r,{className:"animate-spin h-5 w-5 mr-2"}),"Salvando..."]}):"Salvar Nova Senha"})]}),g.jsx("div",{className:"mt-4 text-center",children:g.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Lembrou sua senha?"," ",g.jsx(wn,{to:"/login",className:"font-medium text-ollo-deep hover:text-opacity-80",children:"Faça login"})]})})]})})]})},Zu=({children:t})=>{const{currentUser:e,loading:n}=ei(),s=ss();return console.log("🔍 ProtectedRoute Debug:",{loading:n,currentUser:e?{email:e.email,emailVerified:e.emailVerified,uid:e.uid}:null,pathname:s.pathname}),n?(console.log("⏳ ProtectedRoute: Ainda carregando..."),g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Carregando..."})):e?e.emailVerified?(console.log("✅ ProtectedRoute: Usuário autenticado e verificado, permitindo acesso"),t):(console.log("📧 ProtectedRoute: Email não verificado, redirecionando para /verify-email"),g.jsx(q2,{to:"/verify-email",replace:!0})):(console.log("❌ ProtectedRoute: Usuário não autenticado, redirecionando para /login"),g.jsx(q2,{to:"/login",state:{from:s},replace:!0}))},Wj=()=>{const t=fn(),[e]=R6();y.useEffect(()=>{const s=e.get("mode"),a=e.get("oobCode");if(!a){t("/login");return}switch(s){case"verifyEmail":n(a);break;case"resetPassword":t(`/reset-password?oobCode=${a}`);break;default:t("/login")}},[e,t]);const n=async s=>{try{await Sk(mr,s),jt.success("E-mail verificado com sucesso! Você já pode fazer o login.",{duration:5e3}),t("/login")}catch{jt.error("Link de verificação inválido ou expirado. Tente fazer login para reenviar."),t("/login")}};return g.jsxs(g.Fragment,{children:[g.jsx(qi,{}),g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:g.jsxs("div",{className:"text-center p-6 bg-white rounded shadow-md",children:[g.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Processando..."}),g.jsx("p",{children:"Por favor, aguarde enquanto processamos sua solicitação."})]})})]})};function Jj(){const[t,e]=y.useState(()=>localStorage.getItem("darkMode")==="true"),[n,s]=y.useState({}),[a,l]=y.useState([{id:1,postId:"bem-vindo-ollo",userName:"Usuário OLLO",comments:[],likeCount:Math.floor(Math.random()*101),content:"Bem-vindo ao OLLO! Uma nova plataforma para conectar e compartilhar. Explore, crie e divirta-se!"}]),[u,f]=y.useState(!1);y.useEffect(()=>{localStorage.setItem("darkMode",t),window.document.documentElement.classList.toggle("dark",t)},[t]);const m=()=>e(!t),p=()=>f(!0),x=()=>f(!1),b={openCreatePostModal:p,toggleTheme:m,darkMode:t},E=t?"bg-gray-900 text-gray-100":"bg-gray-50 text-gray-900";return g.jsxs("div",{className:`min-h-screen flex flex-col font-sans transition-colors duration-300 ${E}`,children:[g.jsx(qi,{position:"top-center",toastOptions:{duration:4e3,style:{background:t?"#1f2937":"#ffffff",color:t?"#f3f4f6":"#111827",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"}}}),g.jsxs(p6,{children:[g.jsx($t,{path:"/login",element:g.jsx(yj,{})}),g.jsx($t,{path:"/register",element:g.jsx(Pj,{})}),g.jsx($t,{path:"/forgot-password",element:g.jsx(Bj,{})}),g.jsx($t,{path:"/verify-email",element:g.jsx(Zj,{})}),g.jsx($t,{path:"/reset-password",element:g.jsx(Xj,{})}),g.jsx($t,{path:"/actions",element:g.jsx(Wj,{})}),g.jsx($t,{path:"/",element:g.jsx(dr,{...b,children:g.jsx(bD,{posts:a,onTriggerCreatePost:p,onCommentSubmit:()=>{},onDeletePost:()=>{}})})}),g.jsx($t,{path:"/explore",element:g.jsx(dr,{...b,children:g.jsx(wD,{allPosts:a,onCommentSubmit:()=>{}})})}),g.jsx($t,{path:"/marketplace",element:g.jsx(dr,{...b,children:g.jsx(Hj,{})})}),g.jsx($t,{path:"/marketplace/detalhes/:listingId",element:g.jsx(dr,{...b,children:g.jsx(Qj,{})})}),g.jsx($t,{path:"/posts/:postId",element:g.jsx(dr,{...b,children:g.jsx(ND,{allPosts:a})})}),g.jsx($t,{path:"/terms",element:g.jsx(dr,{...b,children:g.jsx(AD,{})})}),g.jsx($t,{path:"/profile",element:g.jsx(Zu,{children:g.jsx(dr,{...b,children:g.jsx(_b,{allPosts:a,onCommentSubmit:()=>{},sessionFollowStatus:n,setSessionFollowStatus:s})})})}),g.jsx($t,{path:"/profile/:profileId",element:g.jsx(Zu,{children:g.jsx(dr,{...b,children:g.jsx(_b,{allPosts:a,onCommentSubmit:()=>{},sessionFollowStatus:n,setSessionFollowStatus:s})})})}),g.jsx($t,{path:"/marketplace/criar",element:g.jsx(Zu,{children:g.jsx(dr,{...b,children:g.jsx(Yj,{})})})}),g.jsx($t,{path:"/notifications",element:g.jsx(Zu,{children:g.jsx(dr,{...b,children:g.jsx(TD,{})})})})]}),g.jsx(D6,{darkMode:t}),u&&g.jsx(rw,{onClose:x,onAddPost:N=>{l([N,...a]),x()},darkMode:t})]})}AT.createRoot(document.getElementById("root")).render(g.jsx(On.StrictMode,{children:g.jsx(T6,{children:g.jsx(gD,{children:g.jsx(Jj,{})})})}));
