function uN(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Dw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Om={exports:{}},cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tx;function cN(){if(Tx)return cl;Tx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return cl.Fragment=e,cl.jsx=n,cl.jsxs=n,cl}var Nx;function dN(){return Nx||(Nx=1,Om.exports=cN()),Om.exports}var g=dN(),Dm={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax;function hN(){if(Ax)return Ae;Ax=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function E(S){return S===null||typeof S!="object"?null:(S=w&&S[w]||S["@@iterator"],typeof S=="function"?S:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,V={};function O(S,P,J){this.props=S,this.context=P,this.refs=V,this.updater=J||A}O.prototype.isReactComponent={},O.prototype.setState=function(S,P){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,P,"setState")},O.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function Y(){}Y.prototype=O.prototype;function U(S,P,J){this.props=S,this.context=P,this.refs=V,this.updater=J||A}var G=U.prototype=new Y;G.constructor=U,L(G,O.prototype),G.isPureReactComponent=!0;var $=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},Ee=Object.prototype.hasOwnProperty;function Re(S,P,J,W,ie,Ne){return J=Ne.ref,{$$typeof:t,type:S,key:P,ref:J!==void 0?J:null,props:Ne}}function Oe(S,P){return Re(S.type,P,void 0,void 0,void 0,S.props)}function De(S){return typeof S=="object"&&S!==null&&S.$$typeof===t}function ot(S){var P={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(J){return P[J]})}var Je=/\/+/g;function fe(S,P){return typeof S=="object"&&S!==null&&S.key!=null?ot(""+S.key):P.toString(36)}function ke(){}function Ue(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(ke,ke):(S.status="pending",S.then(function(P){S.status==="pending"&&(S.status="fulfilled",S.value=P)},function(P){S.status==="pending"&&(S.status="rejected",S.reason=P)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function je(S,P,J,W,ie){var Ne=typeof S;(Ne==="undefined"||Ne==="boolean")&&(S=null);var ve=!1;if(S===null)ve=!0;else switch(Ne){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(S.$$typeof){case t:case e:ve=!0;break;case v:return ve=S._init,je(ve(S._payload),P,J,W,ie)}}if(ve)return ie=ie(S),ve=W===""?"."+fe(S,0):W,$(ie)?(J="",ve!=null&&(J=ve.replace(Je,"$&/")+"/"),je(ie,P,J,"",function(fn){return fn})):ie!=null&&(De(ie)&&(ie=Oe(ie,J+(ie.key==null||S&&S.key===ie.key?"":(""+ie.key).replace(Je,"$&/")+"/")+ve)),P.push(ie)),1;ve=0;var Ct=W===""?".":W+":";if($(S))for(var He=0;He<S.length;He++)W=S[He],Ne=Ct+fe(W,He),ve+=je(W,P,J,Ne,ie);else if(He=E(S),typeof He=="function")for(S=He.call(S),He=0;!(W=S.next()).done;)W=W.value,Ne=Ct+fe(W,He++),ve+=je(W,P,J,Ne,ie);else if(Ne==="object"){if(typeof S.then=="function")return je(Ue(S),P,J,W,ie);throw P=String(S),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ve}function M(S,P,J){if(S==null)return S;var W=[],ie=0;return je(S,W,"","",function(Ne){return P.call(J,Ne,ie++)}),W}function Q(S){if(S._status===-1){var P=S._result;P=P(),P.then(function(J){(S._status===0||S._status===-1)&&(S._status=1,S._result=J)},function(J){(S._status===0||S._status===-1)&&(S._status=2,S._result=J)}),S._status===-1&&(S._status=0,S._result=P)}if(S._status===1)return S._result.default;throw S._result}var ne=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function ce(){}return Ae.Children={map:M,forEach:function(S,P,J){M(S,function(){P.apply(this,arguments)},J)},count:function(S){var P=0;return M(S,function(){P++}),P},toArray:function(S){return M(S,function(P){return P})||[]},only:function(S){if(!De(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},Ae.Component=O,Ae.Fragment=n,Ae.Profiler=a,Ae.PureComponent=U,Ae.StrictMode=s,Ae.Suspense=m,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(S){return Z.H.useMemoCache(S)}},Ae.cache=function(S){return function(){return S.apply(null,arguments)}},Ae.cloneElement=function(S,P,J){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var W=L({},S.props),ie=S.key,Ne=void 0;if(P!=null)for(ve in P.ref!==void 0&&(Ne=void 0),P.key!==void 0&&(ie=""+P.key),P)!Ee.call(P,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&P.ref===void 0||(W[ve]=P[ve]);var ve=arguments.length-2;if(ve===1)W.children=J;else if(1<ve){for(var Ct=Array(ve),He=0;He<ve;He++)Ct[He]=arguments[He+2];W.children=Ct}return Re(S.type,ie,void 0,void 0,Ne,W)},Ae.createContext=function(S){return S={$$typeof:c,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:l,_context:S},S},Ae.createElement=function(S,P,J){var W,ie={},Ne=null;if(P!=null)for(W in P.key!==void 0&&(Ne=""+P.key),P)Ee.call(P,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ie[W]=P[W]);var ve=arguments.length-2;if(ve===1)ie.children=J;else if(1<ve){for(var Ct=Array(ve),He=0;He<ve;He++)Ct[He]=arguments[He+2];ie.children=Ct}if(S&&S.defaultProps)for(W in ve=S.defaultProps,ve)ie[W]===void 0&&(ie[W]=ve[W]);return Re(S,Ne,void 0,void 0,null,ie)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(S){return{$$typeof:f,render:S}},Ae.isValidElement=De,Ae.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:Q}},Ae.memo=function(S,P){return{$$typeof:p,type:S,compare:P===void 0?null:P}},Ae.startTransition=function(S){var P=Z.T,J={};Z.T=J;try{var W=S(),ie=Z.S;ie!==null&&ie(J,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(ce,ne)}catch(Ne){ne(Ne)}finally{Z.T=P}},Ae.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ae.use=function(S){return Z.H.use(S)},Ae.useActionState=function(S,P,J){return Z.H.useActionState(S,P,J)},Ae.useCallback=function(S,P){return Z.H.useCallback(S,P)},Ae.useContext=function(S){return Z.H.useContext(S)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(S,P){return Z.H.useDeferredValue(S,P)},Ae.useEffect=function(S,P,J){var W=Z.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(S,P)},Ae.useId=function(){return Z.H.useId()},Ae.useImperativeHandle=function(S,P,J){return Z.H.useImperativeHandle(S,P,J)},Ae.useInsertionEffect=function(S,P){return Z.H.useInsertionEffect(S,P)},Ae.useLayoutEffect=function(S,P){return Z.H.useLayoutEffect(S,P)},Ae.useMemo=function(S,P){return Z.H.useMemo(S,P)},Ae.useOptimistic=function(S,P){return Z.H.useOptimistic(S,P)},Ae.useReducer=function(S,P,J){return Z.H.useReducer(S,P,J)},Ae.useRef=function(S){return Z.H.useRef(S)},Ae.useState=function(S){return Z.H.useState(S)},Ae.useSyncExternalStore=function(S,P,J){return Z.H.useSyncExternalStore(S,P,J)},Ae.useTransition=function(){return Z.H.useTransition()},Ae.version="19.1.0",Ae}var kx;function ep(){return kx||(kx=1,Dm.exports=hN()),Dm.exports}var x=ep();const Rn=Dw(x),fN=uN({__proto__:null,default:Rn},[x]);var jm={exports:{}},dl={},Im={exports:{}},Mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cx;function mN(){return Cx||(Cx=1,function(t){function e(M,Q){var ne=M.length;M.push(Q);e:for(;0<ne;){var ce=ne-1>>>1,S=M[ce];if(0<a(S,Q))M[ce]=Q,M[ne]=S,ne=ce;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var Q=M[0],ne=M.pop();if(ne!==Q){M[0]=ne;e:for(var ce=0,S=M.length,P=S>>>1;ce<P;){var J=2*(ce+1)-1,W=M[J],ie=J+1,Ne=M[ie];if(0>a(W,ne))ie<S&&0>a(Ne,W)?(M[ce]=Ne,M[ie]=ne,ce=ie):(M[ce]=W,M[J]=ne,ce=J);else if(ie<S&&0>a(Ne,ne))M[ce]=Ne,M[ie]=ne,ce=ie;else break e}}return Q}function a(M,Q){var ne=M.sortIndex-Q.sortIndex;return ne!==0?ne:M.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],p=[],v=1,w=null,E=3,A=!1,L=!1,V=!1,O=!1,Y=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function $(M){for(var Q=n(p);Q!==null;){if(Q.callback===null)s(p);else if(Q.startTime<=M)s(p),Q.sortIndex=Q.expirationTime,e(m,Q);else break;Q=n(p)}}function Z(M){if(V=!1,$(M),!L)if(n(m)!==null)L=!0,Ee||(Ee=!0,fe());else{var Q=n(p);Q!==null&&je(Z,Q.startTime-M)}}var Ee=!1,Re=-1,Oe=5,De=-1;function ot(){return O?!0:!(t.unstable_now()-De<Oe)}function Je(){if(O=!1,Ee){var M=t.unstable_now();De=M;var Q=!0;try{e:{L=!1,V&&(V=!1,U(Re),Re=-1),A=!0;var ne=E;try{t:{for($(M),w=n(m);w!==null&&!(w.expirationTime>M&&ot());){var ce=w.callback;if(typeof ce=="function"){w.callback=null,E=w.priorityLevel;var S=ce(w.expirationTime<=M);if(M=t.unstable_now(),typeof S=="function"){w.callback=S,$(M),Q=!0;break t}w===n(m)&&s(m),$(M)}else s(m);w=n(m)}if(w!==null)Q=!0;else{var P=n(p);P!==null&&je(Z,P.startTime-M),Q=!1}}break e}finally{w=null,E=ne,A=!1}Q=void 0}}finally{Q?fe():Ee=!1}}}var fe;if(typeof G=="function")fe=function(){G(Je)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Ue=ke.port2;ke.port1.onmessage=Je,fe=function(){Ue.postMessage(null)}}else fe=function(){Y(Je,0)};function je(M,Q){Re=Y(function(){M(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Oe=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(M){switch(E){case 1:case 2:case 3:var Q=3;break;default:Q=E}var ne=E;E=Q;try{return M()}finally{E=ne}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(M,Q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ne=E;E=M;try{return Q()}finally{E=ne}},t.unstable_scheduleCallback=function(M,Q,ne){var ce=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ce+ne:ce):ne=ce,M){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=ne+S,M={id:v++,callback:Q,priorityLevel:M,startTime:ne,expirationTime:S,sortIndex:-1},ne>ce?(M.sortIndex=ne,e(p,M),n(m)===null&&M===n(p)&&(V?(U(Re),Re=-1):V=!0,je(Z,ne-ce))):(M.sortIndex=S,e(m,M),L||A||(L=!0,Ee||(Ee=!0,fe()))),M},t.unstable_shouldYield=ot,t.unstable_wrapCallback=function(M){var Q=E;return function(){var ne=E;E=Q;try{return M.apply(this,arguments)}finally{E=ne}}}}(Mm)),Mm}var Rx;function gN(){return Rx||(Rx=1,Im.exports=mN()),Im.exports}var Lm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ox;function pN(){if(Ox)return Xt;Ox=1;var t=ep();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:m,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},Xt.flushSync=function(m){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=v,s.d.f()}},Xt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},Xt.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Xt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,w=f(v,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:E,fetchPriority:A}):v==="script"&&s.d.X(m,{crossOrigin:w,integrity:E,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},Xt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,w=f(v,p.crossOrigin);s.d.L(m,v,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xt.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},Xt.requestFormReset=function(m){s.d.r(m)},Xt.unstable_batchedUpdates=function(m,p){return m(p)},Xt.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},Xt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Xt.version="19.1.0",Xt}var Dx;function jw(){if(Dx)return Lm.exports;Dx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lm.exports=pN(),Lm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jx;function yN(){if(jx)return dl;jx=1;var t=gN(),e=ep(),n=jw();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function f(r){if(l(r)!==r)throw Error(s(188))}function m(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,u=i;;){var d=o.return;if(d===null)break;var h=d.alternate;if(h===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===o)return f(d),r;if(h===u)return f(d),i;h=h.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=h;else{for(var y=!1,b=d.child;b;){if(b===o){y=!0,o=d,u=h;break}if(b===u){y=!0,u=d,o=h;break}b=b.sibling}if(!y){for(b=h.child;b;){if(b===o){y=!0,o=h,u=d;break}if(b===u){y=!0,u=h,o=d;break}b=b.sibling}if(!y)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function p(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=p(r),i!==null)return i;r=r.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),G=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),Oe=Symbol.for("react.lazy"),De=Symbol.for("react.activity"),ot=Symbol.for("react.memo_cache_sentinel"),Je=Symbol.iterator;function fe(r){return r===null||typeof r!="object"?null:(r=Je&&r[Je]||r["@@iterator"],typeof r=="function"?r:null)}var ke=Symbol.for("react.client.reference");function Ue(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ke?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case L:return"Fragment";case O:return"Profiler";case V:return"StrictMode";case Z:return"Suspense";case Ee:return"SuspenseList";case De:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case A:return"Portal";case G:return(r.displayName||"Context")+".Provider";case U:return(r._context.displayName||"Context")+".Consumer";case $:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Re:return i=r.displayName||null,i!==null?i:Ue(r.type)||"Memo";case Oe:i=r._payload,r=r._init;try{return Ue(r(i))}catch{}}return null}var je=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},ce=[],S=-1;function P(r){return{current:r}}function J(r){0>S||(r.current=ce[S],ce[S]=null,S--)}function W(r,i){S++,ce[S]=r.current,r.current=i}var ie=P(null),Ne=P(null),ve=P(null),Ct=P(null);function He(r,i){switch(W(ve,i),W(Ne,r),W(ie,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?J1(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=J1(i),r=ex(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}J(ie),W(ie,r)}function fn(){J(ie),J(Ne),J(ve)}function rr(r){r.memoizedState!==null&&W(Ct,r);var i=ie.current,o=ex(i,r.type);i!==o&&(W(Ne,r),W(ie,o))}function sr(r){Ne.current===r&&(J(ie),J(Ne)),Ct.current===r&&(J(Ct),il._currentValue=ne)}var de=Object.prototype.hasOwnProperty,lt=t.unstable_scheduleCallback,ft=t.unstable_cancelCallback,En=t.unstable_shouldYield,fo=t.unstable_requestPaint,In=t.unstable_now,M0=t.unstable_getCurrentPriorityLevel,mo=t.unstable_ImmediatePriority,T=t.unstable_UserBlockingPriority,D=t.unstable_NormalPriority,z=t.unstable_LowPriority,re=t.unstable_IdlePriority,ee=t.log,X=t.unstable_setDisableYieldValue,le=null,Se=null;function Be(r){if(typeof ee=="function"&&X(r),Se&&typeof Se.setStrictMode=="function")try{Se.setStrictMode(le,r)}catch{}}var tt=Math.clz32?Math.clz32:vh,Hi=Math.log,ir=Math.LN2;function vh(r){return r>>>=0,r===0?32:31-(Hi(r)/ir|0)|0}var as=256,os=4194304;function Tr(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ti(r,i,o){var u=r.pendingLanes;if(u===0)return 0;var d=0,h=r.suspendedLanes,y=r.pingedLanes;r=r.warmLanes;var b=u&134217727;return b!==0?(u=b&~h,u!==0?d=Tr(u):(y&=b,y!==0?d=Tr(y):o||(o=b&~r,o!==0&&(d=Tr(o))))):(b=u&~h,b!==0?d=Tr(b):y!==0?d=Tr(y):o||(o=u&~r,o!==0&&(d=Tr(o)))),d===0?0:i!==0&&i!==d&&(i&h)===0&&(h=d&-d,o=i&-i,h>=o||h===32&&(o&4194048)!==0)?i:d}function ni(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function _u(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L0(){var r=as;return as<<=1,(as&4194048)===0&&(as=256),r}function U0(){var r=os;return os<<=1,(os&62914560)===0&&(os=4194304),r}function xh(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function go(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ZS(r,i,o,u,d,h){var y=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var b=r.entanglements,_=r.expirationTimes,R=r.hiddenUpdates;for(o=y&~o;0<o;){var B=31-tt(o),F=1<<B;b[B]=0,_[B]=-1;var j=R[B];if(j!==null)for(R[B]=null,B=0;B<j.length;B++){var I=j[B];I!==null&&(I.lane&=-536870913)}o&=~F}u!==0&&V0(r,u,0),h!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=h&~(y&~i))}function V0(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-tt(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function B0(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var u=31-tt(o),d=1<<u;d&i|r[u]&i&&(r[u]|=i),o&=~d}}function bh(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function wh(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function z0(){var r=Q.p;return r!==0?r:(r=window.event,r===void 0?32:xx(r.type))}function WS(r,i){var o=Q.p;try{return Q.p=r,i()}finally{Q.p=o}}var ls=Math.random().toString(36).slice(2),Yt="__reactFiber$"+ls,mn="__reactProps$"+ls,$i="__reactContainer$"+ls,Eh="__reactEvents$"+ls,JS="__reactListeners$"+ls,eT="__reactHandles$"+ls,P0="__reactResources$"+ls,po="__reactMarker$"+ls;function _h(r){delete r[Yt],delete r[mn],delete r[Eh],delete r[JS],delete r[eT]}function Gi(r){var i=r[Yt];if(i)return i;for(var o=r.parentNode;o;){if(i=o[$i]||o[Yt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=sx(r);r!==null;){if(o=r[Yt])return o;r=sx(r)}return i}r=o,o=r.parentNode}return null}function Ki(r){if(r=r[Yt]||r[$i]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function yo(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function Yi(r){var i=r[P0];return i||(i=r[P0]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function It(r){r[po]=!0}var q0=new Set,F0={};function ri(r,i){Qi(r,i),Qi(r+"Capture",i)}function Qi(r,i){for(F0[r]=i,r=0;r<i.length;r++)q0.add(i[r])}var tT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),H0={},$0={};function nT(r){return de.call($0,r)?!0:de.call(H0,r)?!1:tT.test(r)?$0[r]=!0:(H0[r]=!0,!1)}function Su(r,i,o){if(nT(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function Tu(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function Nr(r,i,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+u)}}var Sh,G0;function Xi(r){if(Sh===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Sh=i&&i[1]||"",G0=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sh+r+G0}var Th=!1;function Nh(r,i){if(!r||Th)return"";Th=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(I){var j=I}Reflect.construct(r,[],F)}else{try{F.call()}catch(I){j=I}r.call(F.prototype)}}else{try{throw Error()}catch(I){j=I}(F=r())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(I){if(I&&j&&typeof I.stack=="string")return[I.stack,j.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=u.DetermineComponentFrameRoot(),y=h[0],b=h[1];if(y&&b){var _=y.split(`
`),R=b.split(`
`);for(d=u=0;u<_.length&&!_[u].includes("DetermineComponentFrameRoot");)u++;for(;d<R.length&&!R[d].includes("DetermineComponentFrameRoot");)d++;if(u===_.length||d===R.length)for(u=_.length-1,d=R.length-1;1<=u&&0<=d&&_[u]!==R[d];)d--;for(;1<=u&&0<=d;u--,d--)if(_[u]!==R[d]){if(u!==1||d!==1)do if(u--,d--,0>d||_[u]!==R[d]){var B=`
`+_[u].replace(" at new "," at ");return r.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",r.displayName)),B}while(1<=u&&0<=d);break}}}finally{Th=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Xi(o):""}function rT(r){switch(r.tag){case 26:case 27:case 5:return Xi(r.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 15:return Nh(r.type,!1);case 11:return Nh(r.type.render,!1);case 1:return Nh(r.type,!0);case 31:return Xi("Activity");default:return""}}function K0(r){try{var i="";do i+=rT(r),r=r.return;while(r);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Mn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Y0(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function sT(r){var i=Y0(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),u=""+r[i];if(!r.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,h=o.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return d.call(this)},set:function(y){u=""+y,h.call(this,y)}}),Object.defineProperty(r,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Nu(r){r._valueTracker||(r._valueTracker=sT(r))}function Q0(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return r&&(u=Y0(r)?r.checked?"true":"false":r.value),r=u,r!==o?(i.setValue(r),!0):!1}function Au(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var iT=/[\n"\\]/g;function Ln(r){return r.replace(iT,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ah(r,i,o,u,d,h,y,b){r.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?r.type=y:r.removeAttribute("type"),i!=null?y==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Mn(i)):r.value!==""+Mn(i)&&(r.value=""+Mn(i)):y!=="submit"&&y!=="reset"||r.removeAttribute("value"),i!=null?kh(r,y,Mn(i)):o!=null?kh(r,y,Mn(o)):u!=null&&r.removeAttribute("value"),d==null&&h!=null&&(r.defaultChecked=!!h),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.name=""+Mn(b):r.removeAttribute("name")}function X0(r,i,o,u,d,h,y,b){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(r.type=h),i!=null||o!=null){if(!(h!=="submit"&&h!=="reset"||i!=null))return;o=o!=null?""+Mn(o):"",i=i!=null?""+Mn(i):o,b||i===r.value||(r.value=i),r.defaultValue=i}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=b?r.checked:!!u,r.defaultChecked=!!u,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.name=y)}function kh(r,i,o){i==="number"&&Au(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Zi(r,i,o,u){if(r=r.options,i){i={};for(var d=0;d<o.length;d++)i["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=i.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Mn(o),i=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}i!==null||r[d].disabled||(i=r[d])}i!==null&&(i.selected=!0)}}function Z0(r,i,o){if(i!=null&&(i=""+Mn(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+Mn(o):""}function W0(r,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(s(92));if(je(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=Mn(i),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Wi(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var aT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function J0(r,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,o):typeof o!="number"||o===0||aT.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function ey(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var d in i)u=i[d],i.hasOwnProperty(d)&&o[d]!==u&&J0(r,d,u)}else for(var h in i)i.hasOwnProperty(h)&&J0(r,h,i[h])}function Ch(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ku(r){return lT.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Rh=null;function Oh(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ji=null,ea=null;function ty(r){var i=Ki(r);if(i&&(r=i.stateNode)){var o=r[mn]||null;e:switch(r=i.stateNode,i.type){case"input":if(Ah(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ln(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==r&&u.form===r.form){var d=u[mn]||null;if(!d)throw Error(s(90));Ah(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===r.form&&Q0(u)}break e;case"textarea":Z0(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Zi(r,!!o.multiple,i,!1)}}}var Dh=!1;function ny(r,i,o){if(Dh)return r(i,o);Dh=!0;try{var u=r(i);return u}finally{if(Dh=!1,(Ji!==null||ea!==null)&&(fc(),Ji&&(i=Ji,r=ea,ea=Ji=null,ty(i),r)))for(i=0;i<r.length;i++)ty(r[i])}}function vo(r,i){var o=r.stateNode;if(o===null)return null;var u=o[mn]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jh=!1;if(Ar)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){jh=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{jh=!1}var us=null,Ih=null,Cu=null;function ry(){if(Cu)return Cu;var r,i=Ih,o=i.length,u,d="value"in us?us.value:us.textContent,h=d.length;for(r=0;r<o&&i[r]===d[r];r++);var y=o-r;for(u=1;u<=y&&i[o-u]===d[h-u];u++);return Cu=d.slice(r,1<u?1-u:void 0)}function Ru(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Ou(){return!0}function sy(){return!1}function gn(r){function i(o,u,d,h,y){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var b in r)r.hasOwnProperty(b)&&(o=r[b],this[b]=o?o(h):h[b]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ou:sy,this.isPropagationStopped=sy,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ou)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ou)},persist:function(){},isPersistent:Ou}),i}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Du=gn(si),bo=v({},si,{view:0,detail:0}),uT=gn(bo),Mh,Lh,wo,ju=v({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vh,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==wo&&(wo&&r.type==="mousemove"?(Mh=r.screenX-wo.screenX,Lh=r.screenY-wo.screenY):Lh=Mh=0,wo=r),Mh)},movementY:function(r){return"movementY"in r?r.movementY:Lh}}),iy=gn(ju),cT=v({},ju,{dataTransfer:0}),dT=gn(cT),hT=v({},bo,{relatedTarget:0}),Uh=gn(hT),fT=v({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),mT=gn(fT),gT=v({},si,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),pT=gn(gT),yT=v({},si,{data:0}),ay=gn(yT),vT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wT(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=bT[r])?!!i[r]:!1}function Vh(){return wT}var ET=v({},bo,{key:function(r){if(r.key){var i=vT[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Ru(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?xT[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vh,charCode:function(r){return r.type==="keypress"?Ru(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ru(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),_T=gn(ET),ST=v({},ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oy=gn(ST),TT=v({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vh}),NT=gn(TT),AT=v({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),kT=gn(AT),CT=v({},ju,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),RT=gn(CT),OT=v({},si,{newState:0,oldState:0}),DT=gn(OT),jT=[9,13,27,32],Bh=Ar&&"CompositionEvent"in window,Eo=null;Ar&&"documentMode"in document&&(Eo=document.documentMode);var IT=Ar&&"TextEvent"in window&&!Eo,ly=Ar&&(!Bh||Eo&&8<Eo&&11>=Eo),uy=" ",cy=!1;function dy(r,i){switch(r){case"keyup":return jT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hy(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ta=!1;function MT(r,i){switch(r){case"compositionend":return hy(i);case"keypress":return i.which!==32?null:(cy=!0,uy);case"textInput":return r=i.data,r===uy&&cy?null:r;default:return null}}function LT(r,i){if(ta)return r==="compositionend"||!Bh&&dy(r,i)?(r=ry(),Cu=Ih=us=null,ta=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ly&&i.locale!=="ko"?null:i.data;default:return null}}var UT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fy(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!UT[r.type]:i==="textarea"}function my(r,i,o,u){Ji?ea?ea.push(u):ea=[u]:Ji=u,i=xc(i,"onChange"),0<i.length&&(o=new Du("onChange","change",null,o,u),r.push({event:o,listeners:i}))}var _o=null,So=null;function VT(r){Y1(r,0)}function Iu(r){var i=yo(r);if(Q0(i))return r}function gy(r,i){if(r==="change")return i}var py=!1;if(Ar){var zh;if(Ar){var Ph="oninput"in document;if(!Ph){var yy=document.createElement("div");yy.setAttribute("oninput","return;"),Ph=typeof yy.oninput=="function"}zh=Ph}else zh=!1;py=zh&&(!document.documentMode||9<document.documentMode)}function vy(){_o&&(_o.detachEvent("onpropertychange",xy),So=_o=null)}function xy(r){if(r.propertyName==="value"&&Iu(So)){var i=[];my(i,So,r,Oh(r)),ny(VT,i)}}function BT(r,i,o){r==="focusin"?(vy(),_o=i,So=o,_o.attachEvent("onpropertychange",xy)):r==="focusout"&&vy()}function zT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Iu(So)}function PT(r,i){if(r==="click")return Iu(i)}function qT(r,i){if(r==="input"||r==="change")return Iu(i)}function FT(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var _n=typeof Object.is=="function"?Object.is:FT;function To(r,i){if(_n(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!de.call(i,d)||!_n(r[d],i[d]))return!1}return!0}function by(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function wy(r,i){var o=by(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=i&&u>=i)return{node:o,offset:i-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=by(o)}}function Ey(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Ey(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function _y(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Au(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=Au(r.document)}return i}function qh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var HT=Ar&&"documentMode"in document&&11>=document.documentMode,na=null,Fh=null,No=null,Hh=!1;function Sy(r,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Hh||na==null||na!==Au(u)||(u=na,"selectionStart"in u&&qh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),No&&To(No,u)||(No=u,u=xc(Fh,"onSelect"),0<u.length&&(i=new Du("onSelect","select",null,i,o),r.push({event:i,listeners:u}),i.target=na)))}function ii(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var ra={animationend:ii("Animation","AnimationEnd"),animationiteration:ii("Animation","AnimationIteration"),animationstart:ii("Animation","AnimationStart"),transitionrun:ii("Transition","TransitionRun"),transitionstart:ii("Transition","TransitionStart"),transitioncancel:ii("Transition","TransitionCancel"),transitionend:ii("Transition","TransitionEnd")},$h={},Ty={};Ar&&(Ty=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function ai(r){if($h[r])return $h[r];if(!ra[r])return r;var i=ra[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in Ty)return $h[r]=i[o];return r}var Ny=ai("animationend"),Ay=ai("animationiteration"),ky=ai("animationstart"),$T=ai("transitionrun"),GT=ai("transitionstart"),KT=ai("transitioncancel"),Cy=ai("transitionend"),Ry=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function Kn(r,i){Ry.set(r,i),ri(i,[r])}var Oy=new WeakMap;function Un(r,i){if(typeof r=="object"&&r!==null){var o=Oy.get(r);return o!==void 0?o:(i={value:r,source:i,stack:K0(i)},Oy.set(r,i),i)}return{value:r,source:i,stack:K0(i)}}var Vn=[],sa=0,Kh=0;function Mu(){for(var r=sa,i=Kh=sa=0;i<r;){var o=Vn[i];Vn[i++]=null;var u=Vn[i];Vn[i++]=null;var d=Vn[i];Vn[i++]=null;var h=Vn[i];if(Vn[i++]=null,u!==null&&d!==null){var y=u.pending;y===null?d.next=d:(d.next=y.next,y.next=d),u.pending=d}h!==0&&Dy(o,d,h)}}function Lu(r,i,o,u){Vn[sa++]=r,Vn[sa++]=i,Vn[sa++]=o,Vn[sa++]=u,Kh|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Yh(r,i,o,u){return Lu(r,i,o,u),Uu(r)}function ia(r,i){return Lu(r,null,null,i),Uu(r)}function Dy(r,i,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var d=!1,h=r.return;h!==null;)h.childLanes|=o,u=h.alternate,u!==null&&(u.childLanes|=o),h.tag===22&&(r=h.stateNode,r===null||r._visibility&1||(d=!0)),r=h,h=h.return;return r.tag===3?(h=r.stateNode,d&&i!==null&&(d=31-tt(o),r=h.hiddenUpdates,u=r[d],u===null?r[d]=[i]:u.push(i),i.lane=o|536870912),h):null}function Uu(r){if(50<Zo)throw Zo=0,tm=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var aa={};function YT(r,i,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(r,i,o,u){return new YT(r,i,o,u)}function Qh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function kr(r,i){var o=r.alternate;return o===null?(o=Sn(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function jy(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Vu(r,i,o,u,d,h){var y=0;if(u=r,typeof r=="function")Qh(r)&&(y=1);else if(typeof r=="string")y=X5(r,o,ie.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case De:return r=Sn(31,o,i,d),r.elementType=De,r.lanes=h,r;case L:return oi(o.children,d,h,i);case V:y=8,d|=24;break;case O:return r=Sn(12,o,i,d|2),r.elementType=O,r.lanes=h,r;case Z:return r=Sn(13,o,i,d),r.elementType=Z,r.lanes=h,r;case Ee:return r=Sn(19,o,i,d),r.elementType=Ee,r.lanes=h,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Y:case G:y=10;break e;case U:y=9;break e;case $:y=11;break e;case Re:y=14;break e;case Oe:y=16,u=null;break e}y=29,o=Error(s(130,r===null?"null":typeof r,"")),u=null}return i=Sn(y,o,i,d),i.elementType=r,i.type=u,i.lanes=h,i}function oi(r,i,o,u){return r=Sn(7,r,u,i),r.lanes=o,r}function Xh(r,i,o){return r=Sn(6,r,null,i),r.lanes=o,r}function Zh(r,i,o){return i=Sn(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var oa=[],la=0,Bu=null,zu=0,Bn=[],zn=0,li=null,Cr=1,Rr="";function ui(r,i){oa[la++]=zu,oa[la++]=Bu,Bu=r,zu=i}function Iy(r,i,o){Bn[zn++]=Cr,Bn[zn++]=Rr,Bn[zn++]=li,li=r;var u=Cr;r=Rr;var d=32-tt(u)-1;u&=~(1<<d),o+=1;var h=32-tt(i)+d;if(30<h){var y=d-d%5;h=(u&(1<<y)-1).toString(32),u>>=y,d-=y,Cr=1<<32-tt(i)+d|o<<d|u,Rr=h+r}else Cr=1<<h|o<<d|u,Rr=r}function Wh(r){r.return!==null&&(ui(r,1),Iy(r,1,0))}function Jh(r){for(;r===Bu;)Bu=oa[--la],oa[la]=null,zu=oa[--la],oa[la]=null;for(;r===li;)li=Bn[--zn],Bn[zn]=null,Rr=Bn[--zn],Bn[zn]=null,Cr=Bn[--zn],Bn[zn]=null}var ln=null,mt=null,$e=!1,ci=null,ar=!1,ef=Error(s(519));function di(r){var i=Error(s(418,""));throw Co(Un(i,r)),ef}function My(r){var i=r.stateNode,o=r.type,u=r.memoizedProps;switch(i[Yt]=r,i[mn]=u,o){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(o=0;o<Jo.length;o++)Le(Jo[o],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Le("invalid",i),X0(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Nu(i);break;case"select":Le("invalid",i);break;case"textarea":Le("invalid",i),W0(i,u.value,u.defaultValue,u.children),Nu(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||W1(i.textContent,o)?(u.popover!=null&&(Le("beforetoggle",i),Le("toggle",i)),u.onScroll!=null&&Le("scroll",i),u.onScrollEnd!=null&&Le("scrollend",i),u.onClick!=null&&(i.onclick=bc),i=!0):i=!1,i||di(r)}function Ly(r){for(ln=r.return;ln;)switch(ln.tag){case 5:case 13:ar=!1;return;case 27:case 3:ar=!0;return;default:ln=ln.return}}function Ao(r){if(r!==ln)return!1;if(!$e)return Ly(r),$e=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||ym(r.type,r.memoizedProps)),o=!o),o&&mt&&di(r),Ly(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(i===0){mt=Qn(r.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;r=r.nextSibling}mt=null}}else i===27?(i=mt,Ts(r.type)?(r=wm,wm=null,mt=r):mt=i):mt=ln?Qn(r.stateNode.nextSibling):null;return!0}function ko(){mt=ln=null,$e=!1}function Uy(){var r=ci;return r!==null&&(vn===null?vn=r:vn.push.apply(vn,r),ci=null),r}function Co(r){ci===null?ci=[r]:ci.push(r)}var tf=P(null),hi=null,Or=null;function cs(r,i,o){W(tf,i._currentValue),i._currentValue=o}function Dr(r){r._currentValue=tf.current,J(tf)}function nf(r,i,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===o)break;r=r.return}}function rf(r,i,o,u){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var h=d.dependencies;if(h!==null){var y=d.child;h=h.firstContext;e:for(;h!==null;){var b=h;h=d;for(var _=0;_<i.length;_++)if(b.context===i[_]){h.lanes|=o,b=h.alternate,b!==null&&(b.lanes|=o),nf(h.return,o,r),u||(y=null);break e}h=b.next}}else if(d.tag===18){if(y=d.return,y===null)throw Error(s(341));y.lanes|=o,h=y.alternate,h!==null&&(h.lanes|=o),nf(y,o,r),y=null}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===r){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}}function Ro(r,i,o,u){r=null;for(var d=i,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var y=d.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var b=d.type;_n(d.pendingProps.value,y.value)||(r!==null?r.push(b):r=[b])}}else if(d===Ct.current){if(y=d.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(il):r=[il])}d=d.return}r!==null&&rf(i,r,o,u),i.flags|=262144}function Pu(r){for(r=r.firstContext;r!==null;){if(!_n(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function fi(r){hi=r,Or=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Qt(r){return Vy(hi,r)}function qu(r,i){return hi===null&&fi(r),Vy(r,i)}function Vy(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Or===null){if(r===null)throw Error(s(308));Or=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Or=Or.next=i;return o}var QT=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},XT=t.unstable_scheduleCallback,ZT=t.unstable_NormalPriority,Rt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new QT,data:new Map,refCount:0}}function Oo(r){r.refCount--,r.refCount===0&&XT(ZT,function(){r.controller.abort()})}var Do=null,af=0,ua=0,ca=null;function WT(r,i){if(Do===null){var o=Do=[];af=0,ua=lm(),ca={status:"pending",value:void 0,then:function(u){o.push(u)}}}return af++,i.then(By,By),i}function By(){if(--af===0&&Do!==null){ca!==null&&(ca.status="fulfilled");var r=Do;Do=null,ua=0,ca=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function JT(r,i){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var d=0;d<o.length;d++)(0,o[d])(i)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var zy=M.S;M.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&WT(r,i),zy!==null&&zy(r,i)};var mi=P(null);function of(){var r=mi.current;return r!==null?r:nt.pooledCache}function Fu(r,i){i===null?W(mi,mi.current):W(mi,i.pool)}function Py(){var r=of();return r===null?null:{parent:Rt._currentValue,pool:r}}var jo=Error(s(460)),qy=Error(s(474)),Hu=Error(s(542)),lf={then:function(){}};function Fy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function $u(){}function Hy(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then($u,$u),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Gy(r),r;default:if(typeof i.status=="string")i.then($u,$u);else{if(r=nt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=u}},function(u){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Gy(r),r}throw Io=i,jo}}var Io=null;function $y(){if(Io===null)throw Error(s(459));var r=Io;return Io=null,r}function Gy(r){if(r===jo||r===Hu)throw Error(s(483))}var ds=!1;function uf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function hs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function fs(r,i,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Ke&2)!==0){var d=u.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),u.pending=i,i=Uu(r),Dy(r,null,o),i}return Lu(r,u,i,o),Uu(r)}function Mo(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,B0(r,o)}}function df(r,i){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var y={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};h===null?d=h=y:h=h.next=y,o=o.next}while(o!==null);h===null?d=h=i:h=h.next=i}else d=h=i;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var hf=!1;function Lo(){if(hf){var r=ca;if(r!==null)throw r}}function Uo(r,i,o,u){hf=!1;var d=r.updateQueue;ds=!1;var h=d.firstBaseUpdate,y=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var _=b,R=_.next;_.next=null,y===null?h=R:y.next=R,y=_;var B=r.alternate;B!==null&&(B=B.updateQueue,b=B.lastBaseUpdate,b!==y&&(b===null?B.firstBaseUpdate=R:b.next=R,B.lastBaseUpdate=_))}if(h!==null){var F=d.baseState;y=0,B=R=_=null,b=h;do{var j=b.lane&-536870913,I=j!==b.lane;if(I?(ze&j)===j:(u&j)===j){j!==0&&j===ua&&(hf=!0),B!==null&&(B=B.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var xe=r,pe=b;j=i;var We=o;switch(pe.tag){case 1:if(xe=pe.payload,typeof xe=="function"){F=xe.call(We,F,j);break e}F=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=pe.payload,j=typeof xe=="function"?xe.call(We,F,j):xe,j==null)break e;F=v({},F,j);break e;case 2:ds=!0}}j=b.callback,j!==null&&(r.flags|=64,I&&(r.flags|=8192),I=d.callbacks,I===null?d.callbacks=[j]:I.push(j))}else I={lane:j,tag:b.tag,payload:b.payload,callback:b.callback,next:null},B===null?(R=B=I,_=F):B=B.next=I,y|=j;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;I=b,b=I.next,I.next=null,d.lastBaseUpdate=I,d.shared.pending=null}}while(!0);B===null&&(_=F),d.baseState=_,d.firstBaseUpdate=R,d.lastBaseUpdate=B,h===null&&(d.shared.lanes=0),ws|=y,r.lanes=y,r.memoizedState=F}}function Ky(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function Yy(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Ky(o[r],i)}var da=P(null),Gu=P(0);function Qy(r,i){r=Br,W(Gu,r),W(da,i),Br=r|i.baseLanes}function ff(){W(Gu,Br),W(da,da.current)}function mf(){Br=Gu.current,J(da),J(Gu)}var ms=0,Ce=null,Xe=null,Et=null,Ku=!1,ha=!1,gi=!1,Yu=0,Vo=0,fa=null,e5=0;function xt(){throw Error(s(321))}function gf(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!_n(r[o],i[o]))return!1;return!0}function pf(r,i,o,u,d,h){return ms=h,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,M.H=r===null||r.memoizedState===null?Dv:jv,gi=!1,h=o(u,d),gi=!1,ha&&(h=Zy(i,o,u,d)),Xy(r),h}function Xy(r){M.H=ec;var i=Xe!==null&&Xe.next!==null;if(ms=0,Et=Xe=Ce=null,Ku=!1,Vo=0,fa=null,i)throw Error(s(300));r===null||Mt||(r=r.dependencies,r!==null&&Pu(r)&&(Mt=!0))}function Zy(r,i,o,u){Ce=r;var d=0;do{if(ha&&(fa=null),Vo=0,ha=!1,25<=d)throw Error(s(301));if(d+=1,Et=Xe=null,r.updateQueue!=null){var h=r.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}M.H=o5,h=i(o,u)}while(ha);return h}function t5(){var r=M.H,i=r.useState()[0];return i=typeof i.then=="function"?Bo(i):i,r=r.useState()[0],(Xe!==null?Xe.memoizedState:null)!==r&&(Ce.flags|=1024),i}function yf(){var r=Yu!==0;return Yu=0,r}function vf(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function xf(r){if(Ku){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ku=!1}ms=0,Et=Xe=Ce=null,ha=!1,Vo=Yu=0,fa=null}function pn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ce.memoizedState=Et=r:Et=Et.next=r,Et}function _t(){if(Xe===null){var r=Ce.alternate;r=r!==null?r.memoizedState:null}else r=Xe.next;var i=Et===null?Ce.memoizedState:Et.next;if(i!==null)Et=i,Xe=r;else{if(r===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Xe=r,r={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Et===null?Ce.memoizedState=Et=r:Et=Et.next=r}return Et}function bf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bo(r){var i=Vo;return Vo+=1,fa===null&&(fa=[]),r=Hy(fa,r,i),i=Ce,(Et===null?i.memoizedState:Et.next)===null&&(i=i.alternate,M.H=i===null||i.memoizedState===null?Dv:jv),r}function Qu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Bo(r);if(r.$$typeof===G)return Qt(r)}throw Error(s(438,String(r)))}function wf(r){var i=null,o=Ce.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=bf(),Ce.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),u=0;u<r;u++)o[u]=ot;return i.index++,o}function jr(r,i){return typeof i=="function"?i(r):i}function Xu(r){var i=_t();return Ef(i,Xe,r)}function Ef(r,i,o){var u=r.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=r.baseQueue,h=u.pending;if(h!==null){if(d!==null){var y=d.next;d.next=h.next,h.next=y}i.baseQueue=d=h,u.pending=null}if(h=r.baseState,d===null)r.memoizedState=h;else{i=d.next;var b=y=null,_=null,R=i,B=!1;do{var F=R.lane&-536870913;if(F!==R.lane?(ze&F)===F:(ms&F)===F){var j=R.revertLane;if(j===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),F===ua&&(B=!0);else if((ms&j)===j){R=R.next,j===ua&&(B=!0);continue}else F={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},_===null?(b=_=F,y=h):_=_.next=F,Ce.lanes|=j,ws|=j;F=R.action,gi&&o(h,F),h=R.hasEagerState?R.eagerState:o(h,F)}else j={lane:F,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},_===null?(b=_=j,y=h):_=_.next=j,Ce.lanes|=F,ws|=F;R=R.next}while(R!==null&&R!==i);if(_===null?y=h:_.next=b,!_n(h,r.memoizedState)&&(Mt=!0,B&&(o=ca,o!==null)))throw o;r.memoizedState=h,r.baseState=y,r.baseQueue=_,u.lastRenderedState=h}return d===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function _f(r){var i=_t(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var u=o.dispatch,d=o.pending,h=i.memoizedState;if(d!==null){o.pending=null;var y=d=d.next;do h=r(h,y.action),y=y.next;while(y!==d);_n(h,i.memoizedState)||(Mt=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),o.lastRenderedState=h}return[h,u]}function Wy(r,i,o){var u=Ce,d=_t(),h=$e;if(h){if(o===void 0)throw Error(s(407));o=o()}else o=i();var y=!_n((Xe||d).memoizedState,o);y&&(d.memoizedState=o,Mt=!0),d=d.queue;var b=tv.bind(null,u,d,r);if(zo(2048,8,b,[r]),d.getSnapshot!==i||y||Et!==null&&Et.memoizedState.tag&1){if(u.flags|=2048,ma(9,Zu(),ev.bind(null,u,d,o,i),null),nt===null)throw Error(s(349));h||(ms&124)!==0||Jy(u,i,o)}return o}function Jy(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=Ce.updateQueue,i===null?(i=bf(),Ce.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function ev(r,i,o,u){i.value=o,i.getSnapshot=u,nv(i)&&rv(r)}function tv(r,i,o){return o(function(){nv(i)&&rv(r)})}function nv(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!_n(r,o)}catch{return!0}}function rv(r){var i=ia(r,2);i!==null&&Cn(i,r,2)}function Sf(r){var i=pn();if(typeof r=="function"){var o=r;if(r=o(),gi){Be(!0);try{o()}finally{Be(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:r},i}function sv(r,i,o,u){return r.baseState=o,Ef(r,Xe,typeof u=="function"?u:jr)}function n5(r,i,o,u,d){if(Ju(r))throw Error(s(485));if(r=i.action,r!==null){var h={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};M.T!==null?o(!0):h.isTransition=!1,u(h),o=i.pending,o===null?(h.next=i.pending=h,iv(i,h)):(h.next=o.next,i.pending=o.next=h)}}function iv(r,i){var o=i.action,u=i.payload,d=r.state;if(i.isTransition){var h=M.T,y={};M.T=y;try{var b=o(d,u),_=M.S;_!==null&&_(y,b),av(r,i,b)}catch(R){Tf(r,i,R)}finally{M.T=h}}else try{h=o(d,u),av(r,i,h)}catch(R){Tf(r,i,R)}}function av(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){ov(r,i,u)},function(u){return Tf(r,i,u)}):ov(r,i,o)}function ov(r,i,o){i.status="fulfilled",i.value=o,lv(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,iv(r,o)))}function Tf(r,i,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,lv(i),i=i.next;while(i!==u)}r.action=null}function lv(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function uv(r,i){return i}function cv(r,i){if($e){var o=nt.formState;if(o!==null){e:{var u=Ce;if($e){if(mt){t:{for(var d=mt,h=ar;d.nodeType!==8;){if(!h){d=null;break t}if(d=Qn(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){mt=Qn(d.nextSibling),u=d.data==="F!";break e}}di(u)}u=!1}u&&(i=o[0])}}return o=pn(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uv,lastRenderedState:i},o.queue=u,o=Cv.bind(null,Ce,u),u.dispatch=o,u=Sf(!1),h=Rf.bind(null,Ce,!1,u.queue),u=pn(),d={state:i,dispatch:null,action:r,pending:null},u.queue=d,o=n5.bind(null,Ce,d,h,o),d.dispatch=o,u.memoizedState=r,[i,o,!1]}function dv(r){var i=_t();return hv(i,Xe,r)}function hv(r,i,o){if(i=Ef(r,i,uv)[0],r=Xu(jr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Bo(i)}catch(y){throw y===jo?Hu:y}else u=i;i=_t();var d=i.queue,h=d.dispatch;return o!==i.memoizedState&&(Ce.flags|=2048,ma(9,Zu(),r5.bind(null,d,o),null)),[u,h,r]}function r5(r,i){r.action=i}function fv(r){var i=_t(),o=Xe;if(o!==null)return hv(i,o,r);_t(),i=i.memoizedState,o=_t();var u=o.queue.dispatch;return o.memoizedState=r,[i,u,!1]}function ma(r,i,o,u){return r={tag:r,create:o,deps:u,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=bf(),Ce.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,i.lastEffect=r),r}function Zu(){return{destroy:void 0,resource:void 0}}function mv(){return _t().memoizedState}function Wu(r,i,o,u){var d=pn();u=u===void 0?null:u,Ce.flags|=r,d.memoizedState=ma(1|i,Zu(),o,u)}function zo(r,i,o,u){var d=_t();u=u===void 0?null:u;var h=d.memoizedState.inst;Xe!==null&&u!==null&&gf(u,Xe.memoizedState.deps)?d.memoizedState=ma(i,h,o,u):(Ce.flags|=r,d.memoizedState=ma(1|i,h,o,u))}function gv(r,i){Wu(8390656,8,r,i)}function pv(r,i){zo(2048,8,r,i)}function yv(r,i){return zo(4,2,r,i)}function vv(r,i){return zo(4,4,r,i)}function xv(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function bv(r,i,o){o=o!=null?o.concat([r]):null,zo(4,4,xv.bind(null,i,r),o)}function Nf(){}function wv(r,i){var o=_t();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&gf(i,u[1])?u[0]:(o.memoizedState=[r,i],r)}function Ev(r,i){var o=_t();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&gf(i,u[1]))return u[0];if(u=r(),gi){Be(!0);try{r()}finally{Be(!1)}}return o.memoizedState=[u,i],u}function Af(r,i,o){return o===void 0||(ms&1073741824)!==0?r.memoizedState=i:(r.memoizedState=o,r=T1(),Ce.lanes|=r,ws|=r,o)}function _v(r,i,o,u){return _n(o,i)?o:da.current!==null?(r=Af(r,o,u),_n(r,i)||(Mt=!0),r):(ms&42)===0?(Mt=!0,r.memoizedState=o):(r=T1(),Ce.lanes|=r,ws|=r,i)}function Sv(r,i,o,u,d){var h=Q.p;Q.p=h!==0&&8>h?h:8;var y=M.T,b={};M.T=b,Rf(r,!1,i,o);try{var _=d(),R=M.S;if(R!==null&&R(b,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var B=JT(_,u);Po(r,i,B,kn(r))}else Po(r,i,u,kn(r))}catch(F){Po(r,i,{then:function(){},status:"rejected",reason:F},kn())}finally{Q.p=h,M.T=y}}function s5(){}function kf(r,i,o,u){if(r.tag!==5)throw Error(s(476));var d=Tv(r).queue;Sv(r,d,i,ne,o===null?s5:function(){return Nv(r),o(u)})}function Tv(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:ne},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Nv(r){var i=Tv(r).next.queue;Po(r,i,{},kn())}function Cf(){return Qt(il)}function Av(){return _t().memoizedState}function kv(){return _t().memoizedState}function i5(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=kn();r=hs(o);var u=fs(i,r,o);u!==null&&(Cn(u,i,o),Mo(u,i,o)),i={cache:sf()},r.payload=i;return}i=i.return}}function a5(r,i,o){var u=kn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ju(r)?Rv(i,o):(o=Yh(r,i,o,u),o!==null&&(Cn(o,r,u),Ov(o,i,u)))}function Cv(r,i,o){var u=kn();Po(r,i,o,u)}function Po(r,i,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ju(r))Rv(i,d);else{var h=r.alternate;if(r.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var y=i.lastRenderedState,b=h(y,o);if(d.hasEagerState=!0,d.eagerState=b,_n(b,y))return Lu(r,i,d,0),nt===null&&Mu(),!1}catch{}finally{}if(o=Yh(r,i,d,u),o!==null)return Cn(o,r,u),Ov(o,i,u),!0}return!1}function Rf(r,i,o,u){if(u={lane:2,revertLane:lm(),action:u,hasEagerState:!1,eagerState:null,next:null},Ju(r)){if(i)throw Error(s(479))}else i=Yh(r,o,u,2),i!==null&&Cn(i,r,2)}function Ju(r){var i=r.alternate;return r===Ce||i!==null&&i===Ce}function Rv(r,i){ha=Ku=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function Ov(r,i,o){if((o&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,B0(r,o)}}var ec={readContext:Qt,use:Qu,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},Dv={readContext:Qt,use:Qu,useCallback:function(r,i){return pn().memoizedState=[r,i===void 0?null:i],r},useContext:Qt,useEffect:gv,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,Wu(4194308,4,xv.bind(null,i,r),o)},useLayoutEffect:function(r,i){return Wu(4194308,4,r,i)},useInsertionEffect:function(r,i){Wu(4,2,r,i)},useMemo:function(r,i){var o=pn();i=i===void 0?null:i;var u=r();if(gi){Be(!0);try{r()}finally{Be(!1)}}return o.memoizedState=[u,i],u},useReducer:function(r,i,o){var u=pn();if(o!==void 0){var d=o(i);if(gi){Be(!0);try{o(i)}finally{Be(!1)}}}else d=i;return u.memoizedState=u.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},u.queue=r,r=r.dispatch=a5.bind(null,Ce,r),[u.memoizedState,r]},useRef:function(r){var i=pn();return r={current:r},i.memoizedState=r},useState:function(r){r=Sf(r);var i=r.queue,o=Cv.bind(null,Ce,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:Nf,useDeferredValue:function(r,i){var o=pn();return Af(o,r,i)},useTransition:function(){var r=Sf(!1);return r=Sv.bind(null,Ce,r.queue,!0,!1),pn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var u=Ce,d=pn();if($e){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),nt===null)throw Error(s(349));(ze&124)!==0||Jy(u,i,o)}d.memoizedState=o;var h={value:o,getSnapshot:i};return d.queue=h,gv(tv.bind(null,u,h,r),[r]),u.flags|=2048,ma(9,Zu(),ev.bind(null,u,h,o,i),null),o},useId:function(){var r=pn(),i=nt.identifierPrefix;if($e){var o=Rr,u=Cr;o=(u&~(1<<32-tt(u)-1)).toString(32)+o,i="«"+i+"R"+o,o=Yu++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=e5++,i="«"+i+"r"+o.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:Cf,useFormState:cv,useActionState:cv,useOptimistic:function(r){var i=pn();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Rf.bind(null,Ce,!0,o),o.dispatch=i,[r,i]},useMemoCache:wf,useCacheRefresh:function(){return pn().memoizedState=i5.bind(null,Ce)}},jv={readContext:Qt,use:Qu,useCallback:wv,useContext:Qt,useEffect:pv,useImperativeHandle:bv,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:Ev,useReducer:Xu,useRef:mv,useState:function(){return Xu(jr)},useDebugValue:Nf,useDeferredValue:function(r,i){var o=_t();return _v(o,Xe.memoizedState,r,i)},useTransition:function(){var r=Xu(jr)[0],i=_t().memoizedState;return[typeof r=="boolean"?r:Bo(r),i]},useSyncExternalStore:Wy,useId:Av,useHostTransitionStatus:Cf,useFormState:dv,useActionState:dv,useOptimistic:function(r,i){var o=_t();return sv(o,Xe,r,i)},useMemoCache:wf,useCacheRefresh:kv},o5={readContext:Qt,use:Qu,useCallback:wv,useContext:Qt,useEffect:pv,useImperativeHandle:bv,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:Ev,useReducer:_f,useRef:mv,useState:function(){return _f(jr)},useDebugValue:Nf,useDeferredValue:function(r,i){var o=_t();return Xe===null?Af(o,r,i):_v(o,Xe.memoizedState,r,i)},useTransition:function(){var r=_f(jr)[0],i=_t().memoizedState;return[typeof r=="boolean"?r:Bo(r),i]},useSyncExternalStore:Wy,useId:Av,useHostTransitionStatus:Cf,useFormState:fv,useActionState:fv,useOptimistic:function(r,i){var o=_t();return Xe!==null?sv(o,Xe,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:wf,useCacheRefresh:kv},ga=null,qo=0;function tc(r){var i=qo;return qo+=1,ga===null&&(ga=[]),Hy(ga,r,i)}function Fo(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function nc(r,i){throw i.$$typeof===w?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Iv(r){var i=r._init;return i(r._payload)}function Mv(r){function i(k,N){if(r){var C=k.deletions;C===null?(k.deletions=[N],k.flags|=16):C.push(N)}}function o(k,N){if(!r)return null;for(;N!==null;)i(k,N),N=N.sibling;return null}function u(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function d(k,N){return k=kr(k,N),k.index=0,k.sibling=null,k}function h(k,N,C){return k.index=C,r?(C=k.alternate,C!==null?(C=C.index,C<N?(k.flags|=67108866,N):C):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function y(k){return r&&k.alternate===null&&(k.flags|=67108866),k}function b(k,N,C,q){return N===null||N.tag!==6?(N=Xh(C,k.mode,q),N.return=k,N):(N=d(N,C),N.return=k,N)}function _(k,N,C,q){var ae=C.type;return ae===L?B(k,N,C.props.children,q,C.key):N!==null&&(N.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Oe&&Iv(ae)===N.type)?(N=d(N,C.props),Fo(N,C),N.return=k,N):(N=Vu(C.type,C.key,C.props,null,k.mode,q),Fo(N,C),N.return=k,N)}function R(k,N,C,q){return N===null||N.tag!==4||N.stateNode.containerInfo!==C.containerInfo||N.stateNode.implementation!==C.implementation?(N=Zh(C,k.mode,q),N.return=k,N):(N=d(N,C.children||[]),N.return=k,N)}function B(k,N,C,q,ae){return N===null||N.tag!==7?(N=oi(C,k.mode,q,ae),N.return=k,N):(N=d(N,C),N.return=k,N)}function F(k,N,C){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Xh(""+N,k.mode,C),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case E:return C=Vu(N.type,N.key,N.props,null,k.mode,C),Fo(C,N),C.return=k,C;case A:return N=Zh(N,k.mode,C),N.return=k,N;case Oe:var q=N._init;return N=q(N._payload),F(k,N,C)}if(je(N)||fe(N))return N=oi(N,k.mode,C,null),N.return=k,N;if(typeof N.then=="function")return F(k,tc(N),C);if(N.$$typeof===G)return F(k,qu(k,N),C);nc(k,N)}return null}function j(k,N,C,q){var ae=N!==null?N.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return ae!==null?null:b(k,N,""+C,q);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case E:return C.key===ae?_(k,N,C,q):null;case A:return C.key===ae?R(k,N,C,q):null;case Oe:return ae=C._init,C=ae(C._payload),j(k,N,C,q)}if(je(C)||fe(C))return ae!==null?null:B(k,N,C,q,null);if(typeof C.then=="function")return j(k,N,tc(C),q);if(C.$$typeof===G)return j(k,N,qu(k,C),q);nc(k,C)}return null}function I(k,N,C,q,ae){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return k=k.get(C)||null,b(N,k,""+q,ae);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return k=k.get(q.key===null?C:q.key)||null,_(N,k,q,ae);case A:return k=k.get(q.key===null?C:q.key)||null,R(N,k,q,ae);case Oe:var Ie=q._init;return q=Ie(q._payload),I(k,N,C,q,ae)}if(je(q)||fe(q))return k=k.get(C)||null,B(N,k,q,ae,null);if(typeof q.then=="function")return I(k,N,C,tc(q),ae);if(q.$$typeof===G)return I(k,N,C,qu(N,q),ae);nc(N,q)}return null}function xe(k,N,C,q){for(var ae=null,Ie=null,he=N,ye=N=0,Ut=null;he!==null&&ye<C.length;ye++){he.index>ye?(Ut=he,he=null):Ut=he.sibling;var qe=j(k,he,C[ye],q);if(qe===null){he===null&&(he=Ut);break}r&&he&&qe.alternate===null&&i(k,he),N=h(qe,N,ye),Ie===null?ae=qe:Ie.sibling=qe,Ie=qe,he=Ut}if(ye===C.length)return o(k,he),$e&&ui(k,ye),ae;if(he===null){for(;ye<C.length;ye++)he=F(k,C[ye],q),he!==null&&(N=h(he,N,ye),Ie===null?ae=he:Ie.sibling=he,Ie=he);return $e&&ui(k,ye),ae}for(he=u(he);ye<C.length;ye++)Ut=I(he,k,ye,C[ye],q),Ut!==null&&(r&&Ut.alternate!==null&&he.delete(Ut.key===null?ye:Ut.key),N=h(Ut,N,ye),Ie===null?ae=Ut:Ie.sibling=Ut,Ie=Ut);return r&&he.forEach(function(Rs){return i(k,Rs)}),$e&&ui(k,ye),ae}function pe(k,N,C,q){if(C==null)throw Error(s(151));for(var ae=null,Ie=null,he=N,ye=N=0,Ut=null,qe=C.next();he!==null&&!qe.done;ye++,qe=C.next()){he.index>ye?(Ut=he,he=null):Ut=he.sibling;var Rs=j(k,he,qe.value,q);if(Rs===null){he===null&&(he=Ut);break}r&&he&&Rs.alternate===null&&i(k,he),N=h(Rs,N,ye),Ie===null?ae=Rs:Ie.sibling=Rs,Ie=Rs,he=Ut}if(qe.done)return o(k,he),$e&&ui(k,ye),ae;if(he===null){for(;!qe.done;ye++,qe=C.next())qe=F(k,qe.value,q),qe!==null&&(N=h(qe,N,ye),Ie===null?ae=qe:Ie.sibling=qe,Ie=qe);return $e&&ui(k,ye),ae}for(he=u(he);!qe.done;ye++,qe=C.next())qe=I(he,k,ye,qe.value,q),qe!==null&&(r&&qe.alternate!==null&&he.delete(qe.key===null?ye:qe.key),N=h(qe,N,ye),Ie===null?ae=qe:Ie.sibling=qe,Ie=qe);return r&&he.forEach(function(lN){return i(k,lN)}),$e&&ui(k,ye),ae}function We(k,N,C,q){if(typeof C=="object"&&C!==null&&C.type===L&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case E:e:{for(var ae=C.key;N!==null;){if(N.key===ae){if(ae=C.type,ae===L){if(N.tag===7){o(k,N.sibling),q=d(N,C.props.children),q.return=k,k=q;break e}}else if(N.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Oe&&Iv(ae)===N.type){o(k,N.sibling),q=d(N,C.props),Fo(q,C),q.return=k,k=q;break e}o(k,N);break}else i(k,N);N=N.sibling}C.type===L?(q=oi(C.props.children,k.mode,q,C.key),q.return=k,k=q):(q=Vu(C.type,C.key,C.props,null,k.mode,q),Fo(q,C),q.return=k,k=q)}return y(k);case A:e:{for(ae=C.key;N!==null;){if(N.key===ae)if(N.tag===4&&N.stateNode.containerInfo===C.containerInfo&&N.stateNode.implementation===C.implementation){o(k,N.sibling),q=d(N,C.children||[]),q.return=k,k=q;break e}else{o(k,N);break}else i(k,N);N=N.sibling}q=Zh(C,k.mode,q),q.return=k,k=q}return y(k);case Oe:return ae=C._init,C=ae(C._payload),We(k,N,C,q)}if(je(C))return xe(k,N,C,q);if(fe(C)){if(ae=fe(C),typeof ae!="function")throw Error(s(150));return C=ae.call(C),pe(k,N,C,q)}if(typeof C.then=="function")return We(k,N,tc(C),q);if(C.$$typeof===G)return We(k,N,qu(k,C),q);nc(k,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,N!==null&&N.tag===6?(o(k,N.sibling),q=d(N,C),q.return=k,k=q):(o(k,N),q=Xh(C,k.mode,q),q.return=k,k=q),y(k)):o(k,N)}return function(k,N,C,q){try{qo=0;var ae=We(k,N,C,q);return ga=null,ae}catch(he){if(he===jo||he===Hu)throw he;var Ie=Sn(29,he,null,k.mode);return Ie.lanes=q,Ie.return=k,Ie}finally{}}}var pa=Mv(!0),Lv=Mv(!1),Pn=P(null),or=null;function gs(r){var i=r.alternate;W(Ot,Ot.current&1),W(Pn,r),or===null&&(i===null||da.current!==null||i.memoizedState!==null)&&(or=r)}function Uv(r){if(r.tag===22){if(W(Ot,Ot.current),W(Pn,r),or===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(or=r)}}else ps()}function ps(){W(Ot,Ot.current),W(Pn,Pn.current)}function Ir(r){J(Pn),or===r&&(or=null),J(Ot)}var Ot=P(0);function rc(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||bm(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Of(r,i,o,u){i=r.memoizedState,o=o(u,i),o=o==null?i:v({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Df={enqueueSetState:function(r,i,o){r=r._reactInternals;var u=kn(),d=hs(u);d.payload=i,o!=null&&(d.callback=o),i=fs(r,d,u),i!==null&&(Cn(i,r,u),Mo(i,r,u))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var u=kn(),d=hs(u);d.tag=1,d.payload=i,o!=null&&(d.callback=o),i=fs(r,d,u),i!==null&&(Cn(i,r,u),Mo(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=kn(),u=hs(o);u.tag=2,i!=null&&(u.callback=i),i=fs(r,u,o),i!==null&&(Cn(i,r,o),Mo(i,r,o))}};function Vv(r,i,o,u,d,h,y){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,h,y):i.prototype&&i.prototype.isPureReactComponent?!To(o,u)||!To(d,h):!0}function Bv(r,i,o,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==r&&Df.enqueueReplaceState(i,i.state,null)}function pi(r,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(r=r.defaultProps){o===i&&(o=v({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var sc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function zv(r){sc(r)}function Pv(r){console.error(r)}function qv(r){sc(r)}function ic(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Fv(r,i,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function jf(r,i,o){return o=hs(o),o.tag=3,o.payload={element:null},o.callback=function(){ic(r,i)},o}function Hv(r){return r=hs(r),r.tag=3,r}function $v(r,i,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var h=u.value;r.payload=function(){return d(h)},r.callback=function(){Fv(i,o,u)}}var y=o.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(r.callback=function(){Fv(i,o,u),typeof d!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function l5(r,i,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Ro(i,o,d,!0),o=Pn.current,o!==null){switch(o.tag){case 13:return or===null?rm():o.alternate===null&&gt===0&&(gt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===lf?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),im(r,u,d)),!1;case 22:return o.flags|=65536,u===lf?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),im(r,u,d)),!1}throw Error(s(435,o.tag))}return im(r,u,d),rm(),!1}if($e)return i=Pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,u!==ef&&(r=Error(s(422),{cause:u}),Co(Un(r,o)))):(u!==ef&&(i=Error(s(423),{cause:u}),Co(Un(i,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,u=Un(u,o),d=jf(r.stateNode,u,d),df(r,d),gt!==4&&(gt=2)),!1;var h=Error(s(520),{cause:u});if(h=Un(h,o),Xo===null?Xo=[h]:Xo.push(h),gt!==4&&(gt=2),i===null)return!0;u=Un(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=jf(o.stateNode,u,r),df(o,r),!1;case 1:if(i=o.type,h=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Es===null||!Es.has(h))))return o.flags|=65536,d&=-d,o.lanes|=d,d=Hv(d),$v(d,r,o,u),df(o,d),!1}o=o.return}while(o!==null);return!1}var Gv=Error(s(461)),Mt=!1;function Pt(r,i,o,u){i.child=r===null?Lv(i,null,o,u):pa(i,r.child,o,u)}function Kv(r,i,o,u,d){o=o.render;var h=i.ref;if("ref"in u){var y={};for(var b in u)b!=="ref"&&(y[b]=u[b])}else y=u;return fi(i),u=pf(r,i,o,y,h,d),b=yf(),r!==null&&!Mt?(vf(r,i,d),Mr(r,i,d)):($e&&b&&Wh(i),i.flags|=1,Pt(r,i,u,d),i.child)}function Yv(r,i,o,u,d){if(r===null){var h=o.type;return typeof h=="function"&&!Qh(h)&&h.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=h,Qv(r,i,h,u,d)):(r=Vu(o.type,null,u,i,i.mode,d),r.ref=i.ref,r.return=i,i.child=r)}if(h=r.child,!Pf(r,d)){var y=h.memoizedProps;if(o=o.compare,o=o!==null?o:To,o(y,u)&&r.ref===i.ref)return Mr(r,i,d)}return i.flags|=1,r=kr(h,u),r.ref=i.ref,r.return=i,i.child=r}function Qv(r,i,o,u,d){if(r!==null){var h=r.memoizedProps;if(To(h,u)&&r.ref===i.ref)if(Mt=!1,i.pendingProps=u=h,Pf(r,d))(r.flags&131072)!==0&&(Mt=!0);else return i.lanes=r.lanes,Mr(r,i,d)}return If(r,i,o,u,d)}function Xv(r,i,o){var u=i.pendingProps,d=u.children,h=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=h!==null?h.baseLanes|o:o,r!==null){for(d=i.child=r.child,h=0;d!==null;)h=h|d.lanes|d.childLanes,d=d.sibling;i.childLanes=h&~u}else i.childLanes=0,i.child=null;return Zv(r,i,u,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Fu(i,h!==null?h.cachePool:null),h!==null?Qy(i,h):ff(),Uv(i);else return i.lanes=i.childLanes=536870912,Zv(r,i,h!==null?h.baseLanes|o:o,o)}else h!==null?(Fu(i,h.cachePool),Qy(i,h),ps(),i.memoizedState=null):(r!==null&&Fu(i,null),ff(),ps());return Pt(r,i,d,o),i.child}function Zv(r,i,o,u){var d=of();return d=d===null?null:{parent:Rt._currentValue,pool:d},i.memoizedState={baseLanes:o,cachePool:d},r!==null&&Fu(i,null),ff(),Uv(i),r!==null&&Ro(r,i,u,!0),null}function ac(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function If(r,i,o,u,d){return fi(i),o=pf(r,i,o,u,void 0,d),u=yf(),r!==null&&!Mt?(vf(r,i,d),Mr(r,i,d)):($e&&u&&Wh(i),i.flags|=1,Pt(r,i,o,d),i.child)}function Wv(r,i,o,u,d,h){return fi(i),i.updateQueue=null,o=Zy(i,u,o,d),Xy(r),u=yf(),r!==null&&!Mt?(vf(r,i,h),Mr(r,i,h)):($e&&u&&Wh(i),i.flags|=1,Pt(r,i,o,h),i.child)}function Jv(r,i,o,u,d){if(fi(i),i.stateNode===null){var h=aa,y=o.contextType;typeof y=="object"&&y!==null&&(h=Qt(y)),h=new o(u,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Df,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=u,h.state=i.memoizedState,h.refs={},uf(i),y=o.contextType,h.context=typeof y=="object"&&y!==null?Qt(y):aa,h.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(Of(i,o,y,u),h.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&Df.enqueueReplaceState(h,h.state,null),Uo(i,u,h,d),Lo(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){h=i.stateNode;var b=i.memoizedProps,_=pi(o,b);h.props=_;var R=h.context,B=o.contextType;y=aa,typeof B=="object"&&B!==null&&(y=Qt(B));var F=o.getDerivedStateFromProps;B=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,B||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b||R!==y)&&Bv(i,h,u,y),ds=!1;var j=i.memoizedState;h.state=j,Uo(i,u,h,d),Lo(),R=i.memoizedState,b||j!==R||ds?(typeof F=="function"&&(Of(i,o,F,u),R=i.memoizedState),(_=ds||Vv(i,o,_,u,j,R,y))?(B||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=R),h.props=u,h.state=R,h.context=y,u=_):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{h=i.stateNode,cf(r,i),y=i.memoizedProps,B=pi(o,y),h.props=B,F=i.pendingProps,j=h.context,R=o.contextType,_=aa,typeof R=="object"&&R!==null&&(_=Qt(R)),b=o.getDerivedStateFromProps,(R=typeof b=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==F||j!==_)&&Bv(i,h,u,_),ds=!1,j=i.memoizedState,h.state=j,Uo(i,u,h,d),Lo();var I=i.memoizedState;y!==F||j!==I||ds||r!==null&&r.dependencies!==null&&Pu(r.dependencies)?(typeof b=="function"&&(Of(i,o,b,u),I=i.memoizedState),(B=ds||Vv(i,o,B,u,j,I,_)||r!==null&&r.dependencies!==null&&Pu(r.dependencies))?(R||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(u,I,_),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(u,I,_)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===r.memoizedProps&&j===r.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===r.memoizedProps&&j===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=I),h.props=u,h.state=I,h.context=_,u=B):(typeof h.componentDidUpdate!="function"||y===r.memoizedProps&&j===r.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===r.memoizedProps&&j===r.memoizedState||(i.flags|=1024),u=!1)}return h=u,ac(r,i),u=(i.flags&128)!==0,h||u?(h=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,r!==null&&u?(i.child=pa(i,r.child,null,d),i.child=pa(i,null,o,d)):Pt(r,i,o,d),i.memoizedState=h.state,r=i.child):r=Mr(r,i,d),r}function e1(r,i,o,u){return ko(),i.flags|=256,Pt(r,i,o,u),i.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(r){return{baseLanes:r,cachePool:Py()}}function Uf(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=qn),r}function t1(r,i,o){var u=i.pendingProps,d=!1,h=(i.flags&128)!==0,y;if((y=h)||(y=r!==null&&r.memoizedState===null?!1:(Ot.current&2)!==0),y&&(d=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,r===null){if($e){if(d?gs(i):ps(),$e){var b=mt,_;if(_=b){e:{for(_=b,b=ar;_.nodeType!==8;){if(!b){b=null;break e}if(_=Qn(_.nextSibling),_===null){b=null;break e}}b=_}b!==null?(i.memoizedState={dehydrated:b,treeContext:li!==null?{id:Cr,overflow:Rr}:null,retryLane:536870912,hydrationErrors:null},_=Sn(18,null,null,0),_.stateNode=b,_.return=i,i.child=_,ln=i,mt=null,_=!0):_=!1}_||di(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return bm(b)?i.lanes=32:i.lanes=536870912,null;Ir(i)}return b=u.children,u=u.fallback,d?(ps(),d=i.mode,b=oc({mode:"hidden",children:b},d),u=oi(u,d,o,null),b.return=i,u.return=i,b.sibling=u,i.child=b,d=i.child,d.memoizedState=Lf(o),d.childLanes=Uf(r,y,o),i.memoizedState=Mf,u):(gs(i),Vf(i,b))}if(_=r.memoizedState,_!==null&&(b=_.dehydrated,b!==null)){if(h)i.flags&256?(gs(i),i.flags&=-257,i=Bf(r,i,o)):i.memoizedState!==null?(ps(),i.child=r.child,i.flags|=128,i=null):(ps(),d=u.fallback,b=i.mode,u=oc({mode:"visible",children:u.children},b),d=oi(d,b,o,null),d.flags|=2,u.return=i,d.return=i,u.sibling=d,i.child=u,pa(i,r.child,null,o),u=i.child,u.memoizedState=Lf(o),u.childLanes=Uf(r,y,o),i.memoizedState=Mf,i=d);else if(gs(i),bm(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var R=y.dgst;y=R,u=Error(s(419)),u.stack="",u.digest=y,Co({value:u,source:null,stack:null}),i=Bf(r,i,o)}else if(Mt||Ro(r,i,o,!1),y=(o&r.childLanes)!==0,Mt||y){if(y=nt,y!==null&&(u=o&-o,u=(u&42)!==0?1:bh(u),u=(u&(y.suspendedLanes|o))!==0?0:u,u!==0&&u!==_.retryLane))throw _.retryLane=u,ia(r,u),Cn(y,r,u),Gv;b.data==="$?"||rm(),i=Bf(r,i,o)}else b.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=_.treeContext,mt=Qn(b.nextSibling),ln=i,$e=!0,ci=null,ar=!1,r!==null&&(Bn[zn++]=Cr,Bn[zn++]=Rr,Bn[zn++]=li,Cr=r.id,Rr=r.overflow,li=i),i=Vf(i,u.children),i.flags|=4096);return i}return d?(ps(),d=u.fallback,b=i.mode,_=r.child,R=_.sibling,u=kr(_,{mode:"hidden",children:u.children}),u.subtreeFlags=_.subtreeFlags&65011712,R!==null?d=kr(R,d):(d=oi(d,b,o,null),d.flags|=2),d.return=i,u.return=i,u.sibling=d,i.child=u,u=d,d=i.child,b=r.child.memoizedState,b===null?b=Lf(o):(_=b.cachePool,_!==null?(R=Rt._currentValue,_=_.parent!==R?{parent:R,pool:R}:_):_=Py(),b={baseLanes:b.baseLanes|o,cachePool:_}),d.memoizedState=b,d.childLanes=Uf(r,y,o),i.memoizedState=Mf,u):(gs(i),o=r.child,r=o.sibling,o=kr(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,r!==null&&(y=i.deletions,y===null?(i.deletions=[r],i.flags|=16):y.push(r)),i.child=o,i.memoizedState=null,o)}function Vf(r,i){return i=oc({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function oc(r,i){return r=Sn(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Bf(r,i,o){return pa(i,r.child,null,o),r=Vf(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function n1(r,i,o){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),nf(r.return,i,o)}function zf(r,i,o,u,d){var h=r.memoizedState;h===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(h.isBackwards=i,h.rendering=null,h.renderingStartTime=0,h.last=u,h.tail=o,h.tailMode=d)}function r1(r,i,o){var u=i.pendingProps,d=u.revealOrder,h=u.tail;if(Pt(r,i,u.children,o),u=Ot.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&n1(r,o,i);else if(r.tag===19)n1(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(W(Ot,u),d){case"forwards":for(o=i.child,d=null;o!==null;)r=o.alternate,r!==null&&rc(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=i.child,i.child=null):(d=o.sibling,o.sibling=null),zf(i,!1,d,o,h);break;case"backwards":for(o=null,d=i.child,i.child=null;d!==null;){if(r=d.alternate,r!==null&&rc(r)===null){i.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}zf(i,!0,o,null,h);break;case"together":zf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Mr(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),ws|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(Ro(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=kr(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=kr(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function Pf(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Pu(r)))}function u5(r,i,o){switch(i.tag){case 3:He(i,i.stateNode.containerInfo),cs(i,Rt,r.memoizedState.cache),ko();break;case 27:case 5:rr(i);break;case 4:He(i,i.stateNode.containerInfo);break;case 10:cs(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(gs(i),i.flags|=128,null):(o&i.child.childLanes)!==0?t1(r,i,o):(gs(i),r=Mr(r,i,o),r!==null?r.sibling:null);gs(i);break;case 19:var d=(r.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Ro(r,i,o,!1),u=(o&i.childLanes)!==0),d){if(u)return r1(r,i,o);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),W(Ot,Ot.current),u)break;return null;case 22:case 23:return i.lanes=0,Xv(r,i,o);case 24:cs(i,Rt,r.memoizedState.cache)}return Mr(r,i,o)}function s1(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)Mt=!0;else{if(!Pf(r,o)&&(i.flags&128)===0)return Mt=!1,u5(r,i,o);Mt=(r.flags&131072)!==0}else Mt=!1,$e&&(i.flags&1048576)!==0&&Iy(i,zu,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var u=i.elementType,d=u._init;if(u=d(u._payload),i.type=u,typeof u=="function")Qh(u)?(r=pi(u,r),i.tag=1,i=Jv(null,i,u,r,o)):(i.tag=0,i=If(null,i,u,r,o));else{if(u!=null){if(d=u.$$typeof,d===$){i.tag=11,i=Kv(null,i,u,r,o);break e}else if(d===Re){i.tag=14,i=Yv(null,i,u,r,o);break e}}throw i=Ue(u)||u,Error(s(306,i,""))}}return i;case 0:return If(r,i,i.type,i.pendingProps,o);case 1:return u=i.type,d=pi(u,i.pendingProps),Jv(r,i,u,d,o);case 3:e:{if(He(i,i.stateNode.containerInfo),r===null)throw Error(s(387));u=i.pendingProps;var h=i.memoizedState;d=h.element,cf(r,i),Uo(i,u,null,o);var y=i.memoizedState;if(u=y.cache,cs(i,Rt,u),u!==h.cache&&rf(i,[Rt],o,!0),Lo(),u=y.element,h.isDehydrated)if(h={element:u,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=e1(r,i,u,o);break e}else if(u!==d){d=Un(Error(s(424)),i),Co(d),i=e1(r,i,u,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(mt=Qn(r.firstChild),ln=i,$e=!0,ci=null,ar=!0,o=Lv(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ko(),u===d){i=Mr(r,i,o);break e}Pt(r,i,u,o)}i=i.child}return i;case 26:return ac(r,i),r===null?(o=lx(i.type,null,i.pendingProps,null))?i.memoizedState=o:$e||(o=i.type,r=i.pendingProps,u=wc(ve.current).createElement(o),u[Yt]=i,u[mn]=r,Ft(u,o,r),It(u),i.stateNode=u):i.memoizedState=lx(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return rr(i),r===null&&$e&&(u=i.stateNode=ix(i.type,i.pendingProps,ve.current),ln=i,ar=!0,d=mt,Ts(i.type)?(wm=d,mt=Qn(u.firstChild)):mt=d),Pt(r,i,i.pendingProps.children,o),ac(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&$e&&((d=u=mt)&&(u=U5(u,i.type,i.pendingProps,ar),u!==null?(i.stateNode=u,ln=i,mt=Qn(u.firstChild),ar=!1,d=!0):d=!1),d||di(i)),rr(i),d=i.type,h=i.pendingProps,y=r!==null?r.memoizedProps:null,u=h.children,ym(d,h)?u=null:y!==null&&ym(d,y)&&(i.flags|=32),i.memoizedState!==null&&(d=pf(r,i,t5,null,null,o),il._currentValue=d),ac(r,i),Pt(r,i,u,o),i.child;case 6:return r===null&&$e&&((r=o=mt)&&(o=V5(o,i.pendingProps,ar),o!==null?(i.stateNode=o,ln=i,mt=null,r=!0):r=!1),r||di(i)),null;case 13:return t1(r,i,o);case 4:return He(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=pa(i,null,u,o):Pt(r,i,u,o),i.child;case 11:return Kv(r,i,i.type,i.pendingProps,o);case 7:return Pt(r,i,i.pendingProps,o),i.child;case 8:return Pt(r,i,i.pendingProps.children,o),i.child;case 12:return Pt(r,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,cs(i,i.type,u.value),Pt(r,i,u.children,o),i.child;case 9:return d=i.type._context,u=i.pendingProps.children,fi(i),d=Qt(d),u=u(d),i.flags|=1,Pt(r,i,u,o),i.child;case 14:return Yv(r,i,i.type,i.pendingProps,o);case 15:return Qv(r,i,i.type,i.pendingProps,o);case 19:return r1(r,i,o);case 31:return u=i.pendingProps,o=i.mode,u={mode:u.mode,children:u.children},r===null?(o=oc(u,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=kr(r.child,u),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return Xv(r,i,o);case 24:return fi(i),u=Qt(Rt),r===null?(d=of(),d===null&&(d=nt,h=sf(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=o),d=h),i.memoizedState={parent:u,cache:d},uf(i),cs(i,Rt,d)):((r.lanes&o)!==0&&(cf(r,i),Uo(i,null,null,o),Lo()),d=r.memoizedState,h=i.memoizedState,d.parent!==u?(d={parent:u,cache:u},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),cs(i,Rt,u)):(u=h.cache,cs(i,Rt,u),u!==d.cache&&rf(i,[Rt],o,!0))),Pt(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Lr(r){r.flags|=4}function i1(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!fx(i)){if(i=Pn.current,i!==null&&((ze&4194048)===ze?or!==null:(ze&62914560)!==ze&&(ze&536870912)===0||i!==or))throw Io=lf,qy;r.flags|=8192}}function lc(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?U0():536870912,r.lanes|=i,ba|=i)}function Ho(r,i){if(!$e)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function dt(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(i)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=o,i}function c5(r,i,o){var u=i.pendingProps;switch(Jh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(i),null;case 1:return dt(i),null;case 3:return o=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Dr(Rt),fn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Ao(i)?Lr(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Uy())),dt(i),null;case 26:return o=i.memoizedState,r===null?(Lr(i),o!==null?(dt(i),i1(i,o)):(dt(i),i.flags&=-16777217)):o?o!==r.memoizedState?(Lr(i),dt(i),i1(i,o)):(dt(i),i.flags&=-16777217):(r.memoizedProps!==u&&Lr(i),dt(i),i.flags&=-16777217),null;case 27:sr(i),o=ve.current;var d=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Lr(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return dt(i),null}r=ie.current,Ao(i)?My(i):(r=ix(d,u,o),i.stateNode=r,Lr(i))}return dt(i),null;case 5:if(sr(i),o=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Lr(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return dt(i),null}if(r=ie.current,Ao(i))My(i);else{switch(d=wc(ve.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}r[Yt]=i,r[mn]=u;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=r;e:switch(Ft(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Lr(i)}}return dt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&Lr(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(r=ve.current,Ao(i)){if(r=i.stateNode,o=i.memoizedProps,u=null,d=ln,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}r[Yt]=i,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||W1(r.nodeValue,o)),r||di(i)}else r=wc(r).createTextNode(u),r[Yt]=i,i.stateNode=r}return dt(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=Ao(i),u!==null&&u.dehydrated!==null){if(r===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Yt]=i}else ko(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),d=!1}else d=Uy(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Ir(i),i):(Ir(i),null)}if(Ir(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=i.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var h=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(h=u.memoizedState.cachePool.pool),h!==d&&(u.flags|=2048)}return o!==r&&o&&(i.child.flags|=8192),lc(i,i.updateQueue),dt(i),null;case 4:return fn(),r===null&&hm(i.stateNode.containerInfo),dt(i),null;case 10:return Dr(i.type),dt(i),null;case 19:if(J(Ot),d=i.memoizedState,d===null)return dt(i),null;if(u=(i.flags&128)!==0,h=d.rendering,h===null)if(u)Ho(d,!1);else{if(gt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(h=rc(r),h!==null){for(i.flags|=128,Ho(d,!1),r=h.updateQueue,i.updateQueue=r,lc(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)jy(o,r),o=o.sibling;return W(Ot,Ot.current&1|2),i.child}r=r.sibling}d.tail!==null&&In()>dc&&(i.flags|=128,u=!0,Ho(d,!1),i.lanes=4194304)}else{if(!u)if(r=rc(h),r!==null){if(i.flags|=128,u=!0,r=r.updateQueue,i.updateQueue=r,lc(i,r),Ho(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!$e)return dt(i),null}else 2*In()-d.renderingStartTime>dc&&o!==536870912&&(i.flags|=128,u=!0,Ho(d,!1),i.lanes=4194304);d.isBackwards?(h.sibling=i.child,i.child=h):(r=d.last,r!==null?r.sibling=h:i.child=h,d.last=h)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=In(),i.sibling=null,r=Ot.current,W(Ot,u?r&1|2:r&1),i):(dt(i),null);case 22:case 23:return Ir(i),mf(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(dt(i),i.subtreeFlags&6&&(i.flags|=8192)):dt(i),o=i.updateQueue,o!==null&&lc(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),r!==null&&J(mi),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Dr(Rt),dt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function d5(r,i){switch(Jh(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Dr(Rt),fn(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return sr(i),null;case 13:if(Ir(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ko()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return J(Ot),null;case 4:return fn(),null;case 10:return Dr(i.type),null;case 22:case 23:return Ir(i),mf(),r!==null&&J(mi),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Dr(Rt),null;case 25:return null;default:return null}}function a1(r,i){switch(Jh(i),i.tag){case 3:Dr(Rt),fn();break;case 26:case 27:case 5:sr(i);break;case 4:fn();break;case 13:Ir(i);break;case 19:J(Ot);break;case 10:Dr(i.type);break;case 22:case 23:Ir(i),mf(),r!==null&&J(mi);break;case 24:Dr(Rt)}}function $o(r,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&r)===r){u=void 0;var h=o.create,y=o.inst;u=h(),y.destroy=u}o=o.next}while(o!==d)}}catch(b){et(i,i.return,b)}}function ys(r,i,o){try{var u=i.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var h=d.next;u=h;do{if((u.tag&r)===r){var y=u.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,d=i;var _=o,R=b;try{R()}catch(B){et(d,_,B)}}}u=u.next}while(u!==h)}}catch(B){et(i,i.return,B)}}function o1(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{Yy(i,o)}catch(u){et(r,r.return,u)}}}function l1(r,i,o){o.props=pi(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){et(r,i,u)}}function Go(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(d){et(r,i,d)}}function lr(r,i){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){et(r,i,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){et(r,i,d)}else o.current=null}function u1(r){var i=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){et(r,r.return,d)}}function qf(r,i,o){try{var u=r.stateNode;D5(u,r.type,o,i),u[mn]=i}catch(d){et(r,r.return,d)}}function c1(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ts(r.type)||r.tag===4}function Ff(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||c1(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ts(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Hf(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=bc));else if(u!==4&&(u===27&&Ts(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(Hf(r,i,o),r=r.sibling;r!==null;)Hf(r,i,o),r=r.sibling}function uc(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(u!==4&&(u===27&&Ts(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(uc(r,i,o),r=r.sibling;r!==null;)uc(r,i,o),r=r.sibling}function d1(r){var i=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Ft(i,u,o),i[Yt]=r,i[mn]=o}catch(h){et(r,r.return,h)}}var Ur=!1,bt=!1,$f=!1,h1=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function h5(r,i){if(r=r.containerInfo,gm=Ac,r=_y(r),qh(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var y=0,b=-1,_=-1,R=0,B=0,F=r,j=null;t:for(;;){for(var I;F!==o||d!==0&&F.nodeType!==3||(b=y+d),F!==h||u!==0&&F.nodeType!==3||(_=y+u),F.nodeType===3&&(y+=F.nodeValue.length),(I=F.firstChild)!==null;)j=F,F=I;for(;;){if(F===r)break t;if(j===o&&++R===d&&(b=y),j===h&&++B===u&&(_=y),(I=F.nextSibling)!==null)break;F=j,j=F.parentNode}F=I}o=b===-1||_===-1?null:{start:b,end:_}}else o=null}o=o||{start:0,end:0}}else o=null;for(pm={focusedElem:r,selectionRange:o},Ac=!1,Lt=i;Lt!==null;)if(i=Lt,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,Lt=r;else for(;Lt!==null;){switch(i=Lt,h=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&h!==null){r=void 0,o=i,d=h.memoizedProps,h=h.memoizedState,u=o.stateNode;try{var xe=pi(o.type,d,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(xe,h),u.__reactInternalSnapshotBeforeUpdate=r}catch(pe){et(o,o.return,pe)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)xm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":xm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Lt=r;break}Lt=i.return}}function f1(r,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:vs(r,o),u&4&&$o(5,o);break;case 1:if(vs(r,o),u&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(y){et(o,o.return,y)}else{var d=pi(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(d,i,r.__reactInternalSnapshotBeforeUpdate)}catch(y){et(o,o.return,y)}}u&64&&o1(o),u&512&&Go(o,o.return);break;case 3:if(vs(r,o),u&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Yy(r,i)}catch(y){et(o,o.return,y)}}break;case 27:i===null&&u&4&&d1(o);case 26:case 5:vs(r,o),i===null&&u&4&&u1(o),u&512&&Go(o,o.return);break;case 12:vs(r,o);break;case 13:vs(r,o),u&4&&p1(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=w5.bind(null,o),B5(r,o))));break;case 22:if(u=o.memoizedState!==null||Ur,!u){i=i!==null&&i.memoizedState!==null||bt,d=Ur;var h=bt;Ur=u,(bt=i)&&!h?xs(r,o,(o.subtreeFlags&8772)!==0):vs(r,o),Ur=d,bt=h}break;case 30:break;default:vs(r,o)}}function m1(r){var i=r.alternate;i!==null&&(r.alternate=null,m1(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&_h(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ut=null,yn=!1;function Vr(r,i,o){for(o=o.child;o!==null;)g1(r,i,o),o=o.sibling}function g1(r,i,o){if(Se&&typeof Se.onCommitFiberUnmount=="function")try{Se.onCommitFiberUnmount(le,o)}catch{}switch(o.tag){case 26:bt||lr(o,i),Vr(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:bt||lr(o,i);var u=ut,d=yn;Ts(o.type)&&(ut=o.stateNode,yn=!1),Vr(r,i,o),tl(o.stateNode),ut=u,yn=d;break;case 5:bt||lr(o,i);case 6:if(u=ut,d=yn,ut=null,Vr(r,i,o),ut=u,yn=d,ut!==null)if(yn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(o.stateNode)}catch(h){et(o,i,h)}else try{ut.removeChild(o.stateNode)}catch(h){et(o,i,h)}break;case 18:ut!==null&&(yn?(r=ut,rx(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),ul(r)):rx(ut,o.stateNode));break;case 4:u=ut,d=yn,ut=o.stateNode.containerInfo,yn=!0,Vr(r,i,o),ut=u,yn=d;break;case 0:case 11:case 14:case 15:bt||ys(2,o,i),bt||ys(4,o,i),Vr(r,i,o);break;case 1:bt||(lr(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&l1(o,i,u)),Vr(r,i,o);break;case 21:Vr(r,i,o);break;case 22:bt=(u=bt)||o.memoizedState!==null,Vr(r,i,o),bt=u;break;default:Vr(r,i,o)}}function p1(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ul(r)}catch(o){et(i,i.return,o)}}function f5(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new h1),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new h1),i;default:throw Error(s(435,r.tag))}}function Gf(r,i){var o=f5(r);i.forEach(function(u){var d=E5.bind(null,r,u);o.has(u)||(o.add(u),u.then(d,d))})}function Tn(r,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],h=r,y=i,b=y;e:for(;b!==null;){switch(b.tag){case 27:if(Ts(b.type)){ut=b.stateNode,yn=!1;break e}break;case 5:ut=b.stateNode,yn=!1;break e;case 3:case 4:ut=b.stateNode.containerInfo,yn=!0;break e}b=b.return}if(ut===null)throw Error(s(160));g1(h,y,d),ut=null,yn=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)y1(i,r),i=i.sibling}var Yn=null;function y1(r,i){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Tn(i,r),Nn(r),u&4&&(ys(3,r,r.return),$o(3,r),ys(5,r,r.return));break;case 1:Tn(i,r),Nn(r),u&512&&(bt||o===null||lr(o,o.return)),u&64&&Ur&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=Yn;if(Tn(i,r),Nn(r),u&512&&(bt||o===null||lr(o,o.return)),u&4){var h=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":h=d.getElementsByTagName("title")[0],(!h||h[po]||h[Yt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(u),d.head.insertBefore(h,d.querySelector("head > title"))),Ft(h,u,o),h[Yt]=r,It(h),u=h;break e;case"link":var y=dx("link","href",d).get(u+(o.href||""));if(y){for(var b=0;b<y.length;b++)if(h=y[b],h.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&h.getAttribute("rel")===(o.rel==null?null:o.rel)&&h.getAttribute("title")===(o.title==null?null:o.title)&&h.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){y.splice(b,1);break t}}h=d.createElement(u),Ft(h,u,o),d.head.appendChild(h);break;case"meta":if(y=dx("meta","content",d).get(u+(o.content||""))){for(b=0;b<y.length;b++)if(h=y[b],h.getAttribute("content")===(o.content==null?null:""+o.content)&&h.getAttribute("name")===(o.name==null?null:o.name)&&h.getAttribute("property")===(o.property==null?null:o.property)&&h.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&h.getAttribute("charset")===(o.charSet==null?null:o.charSet)){y.splice(b,1);break t}}h=d.createElement(u),Ft(h,u,o),d.head.appendChild(h);break;default:throw Error(s(468,u))}h[Yt]=r,It(h),u=h}r.stateNode=u}else hx(d,r.type,r.stateNode);else r.stateNode=cx(d,u,r.memoizedProps);else h!==u?(h===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):h.count--,u===null?hx(d,r.type,r.stateNode):cx(d,u,r.memoizedProps)):u===null&&r.stateNode!==null&&qf(r,r.memoizedProps,o.memoizedProps)}break;case 27:Tn(i,r),Nn(r),u&512&&(bt||o===null||lr(o,o.return)),o!==null&&u&4&&qf(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Tn(i,r),Nn(r),u&512&&(bt||o===null||lr(o,o.return)),r.flags&32){d=r.stateNode;try{Wi(d,"")}catch(I){et(r,r.return,I)}}u&4&&r.stateNode!=null&&(d=r.memoizedProps,qf(r,d,o!==null?o.memoizedProps:d)),u&1024&&($f=!0);break;case 6:if(Tn(i,r),Nn(r),u&4){if(r.stateNode===null)throw Error(s(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(I){et(r,r.return,I)}}break;case 3:if(Sc=null,d=Yn,Yn=Ec(i.containerInfo),Tn(i,r),Yn=d,Nn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ul(i.containerInfo)}catch(I){et(r,r.return,I)}$f&&($f=!1,v1(r));break;case 4:u=Yn,Yn=Ec(r.stateNode.containerInfo),Tn(i,r),Nn(r),Yn=u;break;case 12:Tn(i,r),Nn(r);break;case 13:Tn(i,r),Nn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Wf=In()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Gf(r,u)));break;case 22:d=r.memoizedState!==null;var _=o!==null&&o.memoizedState!==null,R=Ur,B=bt;if(Ur=R||d,bt=B||_,Tn(i,r),bt=B,Ur=R,Nn(r),u&8192)e:for(i=r.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(o===null||_||Ur||bt||yi(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){_=o=i;try{if(h=_.stateNode,d)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=_.stateNode;var F=_.memoizedProps.style,j=F!=null&&F.hasOwnProperty("display")?F.display:null;b.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(I){et(_,_.return,I)}}}else if(i.tag===6){if(o===null){_=i;try{_.stateNode.nodeValue=d?"":_.memoizedProps}catch(I){et(_,_.return,I)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Gf(r,o))));break;case 19:Tn(i,r),Nn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Gf(r,u)));break;case 30:break;case 21:break;default:Tn(i,r),Nn(r)}}function Nn(r){var i=r.flags;if(i&2){try{for(var o,u=r.return;u!==null;){if(c1(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,h=Ff(r);uc(r,h,d);break;case 5:var y=o.stateNode;o.flags&32&&(Wi(y,""),o.flags&=-33);var b=Ff(r);uc(r,b,y);break;case 3:case 4:var _=o.stateNode.containerInfo,R=Ff(r);Hf(r,R,_);break;default:throw Error(s(161))}}catch(B){et(r,r.return,B)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function v1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;v1(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function vs(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)f1(r,i.alternate,i),i=i.sibling}function yi(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:ys(4,i,i.return),yi(i);break;case 1:lr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&l1(i,i.return,o),yi(i);break;case 27:tl(i.stateNode);case 26:case 5:lr(i,i.return),yi(i);break;case 22:i.memoizedState===null&&yi(i);break;case 30:yi(i);break;default:yi(i)}r=r.sibling}}function xs(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,d=r,h=i,y=h.flags;switch(h.tag){case 0:case 11:case 15:xs(d,h,o),$o(4,h);break;case 1:if(xs(d,h,o),u=h,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(R){et(u,u.return,R)}if(u=h,d=u.updateQueue,d!==null){var b=u.stateNode;try{var _=d.shared.hiddenCallbacks;if(_!==null)for(d.shared.hiddenCallbacks=null,d=0;d<_.length;d++)Ky(_[d],b)}catch(R){et(u,u.return,R)}}o&&y&64&&o1(h),Go(h,h.return);break;case 27:d1(h);case 26:case 5:xs(d,h,o),o&&u===null&&y&4&&u1(h),Go(h,h.return);break;case 12:xs(d,h,o);break;case 13:xs(d,h,o),o&&y&4&&p1(d,h);break;case 22:h.memoizedState===null&&xs(d,h,o),Go(h,h.return);break;case 30:break;default:xs(d,h,o)}i=i.sibling}}function Kf(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Oo(o))}function Yf(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Oo(r))}function ur(r,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)x1(r,i,o,u),i=i.sibling}function x1(r,i,o,u){var d=i.flags;switch(i.tag){case 0:case 11:case 15:ur(r,i,o,u),d&2048&&$o(9,i);break;case 1:ur(r,i,o,u);break;case 3:ur(r,i,o,u),d&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Oo(r)));break;case 12:if(d&2048){ur(r,i,o,u),r=i.stateNode;try{var h=i.memoizedProps,y=h.id,b=h.onPostCommit;typeof b=="function"&&b(y,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(_){et(i,i.return,_)}}else ur(r,i,o,u);break;case 13:ur(r,i,o,u);break;case 23:break;case 22:h=i.stateNode,y=i.alternate,i.memoizedState!==null?h._visibility&2?ur(r,i,o,u):Ko(r,i):h._visibility&2?ur(r,i,o,u):(h._visibility|=2,ya(r,i,o,u,(i.subtreeFlags&10256)!==0)),d&2048&&Kf(y,i);break;case 24:ur(r,i,o,u),d&2048&&Yf(i.alternate,i);break;default:ur(r,i,o,u)}}function ya(r,i,o,u,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var h=r,y=i,b=o,_=u,R=y.flags;switch(y.tag){case 0:case 11:case 15:ya(h,y,b,_,d),$o(8,y);break;case 23:break;case 22:var B=y.stateNode;y.memoizedState!==null?B._visibility&2?ya(h,y,b,_,d):Ko(h,y):(B._visibility|=2,ya(h,y,b,_,d)),d&&R&2048&&Kf(y.alternate,y);break;case 24:ya(h,y,b,_,d),d&&R&2048&&Yf(y.alternate,y);break;default:ya(h,y,b,_,d)}i=i.sibling}}function Ko(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,u=i,d=u.flags;switch(u.tag){case 22:Ko(o,u),d&2048&&Kf(u.alternate,u);break;case 24:Ko(o,u),d&2048&&Yf(u.alternate,u);break;default:Ko(o,u)}i=i.sibling}}var Yo=8192;function va(r){if(r.subtreeFlags&Yo)for(r=r.child;r!==null;)b1(r),r=r.sibling}function b1(r){switch(r.tag){case 26:va(r),r.flags&Yo&&r.memoizedState!==null&&W5(Yn,r.memoizedState,r.memoizedProps);break;case 5:va(r);break;case 3:case 4:var i=Yn;Yn=Ec(r.stateNode.containerInfo),va(r),Yn=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Yo,Yo=16777216,va(r),Yo=i):va(r));break;default:va(r)}}function w1(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Qo(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Lt=u,_1(u,r)}w1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)E1(r),r=r.sibling}function E1(r){switch(r.tag){case 0:case 11:case 15:Qo(r),r.flags&2048&&ys(9,r,r.return);break;case 3:Qo(r);break;case 12:Qo(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,cc(r)):Qo(r);break;default:Qo(r)}}function cc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Lt=u,_1(u,r)}w1(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:ys(8,i,i.return),cc(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,cc(i));break;default:cc(i)}r=r.sibling}}function _1(r,i){for(;Lt!==null;){var o=Lt;switch(o.tag){case 0:case 11:case 15:ys(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Oo(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Lt=u;else e:for(o=r;Lt!==null;){u=Lt;var d=u.sibling,h=u.return;if(m1(u),u===o){Lt=null;break e}if(d!==null){d.return=h,Lt=d;break e}Lt=h}}}var m5={getCacheForType:function(r){var i=Qt(Rt),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o}},g5=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,Me=null,ze=0,Ye=0,An=null,bs=!1,xa=!1,Qf=!1,Br=0,gt=0,ws=0,vi=0,Xf=0,qn=0,ba=0,Xo=null,vn=null,Zf=!1,Wf=0,dc=1/0,hc=null,Es=null,qt=0,_s=null,wa=null,Ea=0,Jf=0,em=null,S1=null,Zo=0,tm=null;function kn(){if((Ke&2)!==0&&ze!==0)return ze&-ze;if(M.T!==null){var r=ua;return r!==0?r:lm()}return z0()}function T1(){qn===0&&(qn=(ze&536870912)===0||$e?L0():536870912);var r=Pn.current;return r!==null&&(r.flags|=32),qn}function Cn(r,i,o){(r===nt&&(Ye===2||Ye===9)||r.cancelPendingCommit!==null)&&(_a(r,0),Ss(r,ze,qn,!1)),go(r,o),((Ke&2)===0||r!==nt)&&(r===nt&&((Ke&2)===0&&(vi|=o),gt===4&&Ss(r,ze,qn,!1)),cr(r))}function N1(r,i,o){if((Ke&6)!==0)throw Error(s(327));var u=!o&&(i&124)===0&&(i&r.expiredLanes)===0||ni(r,i),d=u?v5(r,i):sm(r,i,!0),h=u;do{if(d===0){xa&&!u&&Ss(r,i,0,!1);break}else{if(o=r.current.alternate,h&&!p5(o)){d=sm(r,i,!1),h=!1;continue}if(d===2){if(h=i,r.errorRecoveryDisabledLanes&h)var y=0;else y=r.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;e:{var b=r;d=Xo;var _=b.current.memoizedState.isDehydrated;if(_&&(_a(b,y).flags|=256),y=sm(b,y,!1),y!==2){if(Qf&&!_){b.errorRecoveryDisabledLanes|=h,vi|=h,d=4;break e}h=vn,vn=d,h!==null&&(vn===null?vn=h:vn.push.apply(vn,h))}d=y}if(h=!1,d!==2)continue}}if(d===1){_a(r,0),Ss(r,i,0,!0);break}e:{switch(u=r,h=d,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ss(u,i,qn,!bs);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=Wf+300-In(),10<d)){if(Ss(u,i,qn,!bs),ti(u,0,!0)!==0)break e;u.timeoutHandle=tx(A1.bind(null,u,o,vn,hc,Zf,i,qn,vi,ba,bs,h,2,-0,0),d);break e}A1(u,o,vn,hc,Zf,i,qn,vi,ba,bs,h,0,-0,0)}}break}while(!0);cr(r)}function A1(r,i,o,u,d,h,y,b,_,R,B,F,j,I){if(r.timeoutHandle=-1,F=i.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(sl={stylesheets:null,count:0,unsuspend:Z5},b1(i),F=J5(),F!==null)){r.cancelPendingCommit=F(I1.bind(null,r,i,h,o,u,d,y,b,_,B,1,j,I)),Ss(r,h,y,!R);return}I1(r,i,h,o,u,d,y,b,_)}function p5(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],h=d.getSnapshot;d=d.value;try{if(!_n(h(),d))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ss(r,i,o,u){i&=~Xf,i&=~vi,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var d=i;0<d;){var h=31-tt(d),y=1<<h;u[h]=-1,d&=~y}o!==0&&V0(r,o,i)}function fc(){return(Ke&6)===0?(Wo(0),!1):!0}function nm(){if(Me!==null){if(Ye===0)var r=Me.return;else r=Me,Or=hi=null,xf(r),ga=null,qo=0,r=Me;for(;r!==null;)a1(r.alternate,r),r=r.return;Me=null}}function _a(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,I5(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),nm(),nt=r,Me=o=kr(r.current,null),ze=i,Ye=0,An=null,bs=!1,xa=ni(r,i),Qf=!1,ba=qn=Xf=vi=ws=gt=0,vn=Xo=null,Zf=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var d=31-tt(u),h=1<<d;i|=r[d],u&=~h}return Br=i,Mu(),o}function k1(r,i){Ce=null,M.H=ec,i===jo||i===Hu?(i=$y(),Ye=3):i===qy?(i=$y(),Ye=4):Ye=i===Gv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,Me===null&&(gt=1,ic(r,Un(i,r.current)))}function C1(){var r=M.H;return M.H=ec,r===null?ec:r}function R1(){var r=M.A;return M.A=m5,r}function rm(){gt=4,bs||(ze&4194048)!==ze&&Pn.current!==null||(xa=!0),(ws&134217727)===0&&(vi&134217727)===0||nt===null||Ss(nt,ze,qn,!1)}function sm(r,i,o){var u=Ke;Ke|=2;var d=C1(),h=R1();(nt!==r||ze!==i)&&(hc=null,_a(r,i)),i=!1;var y=gt;e:do try{if(Ye!==0&&Me!==null){var b=Me,_=An;switch(Ye){case 8:nm(),y=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(i=!0);var R=Ye;if(Ye=0,An=null,Sa(r,b,_,R),o&&xa){y=0;break e}break;default:R=Ye,Ye=0,An=null,Sa(r,b,_,R)}}y5(),y=gt;break}catch(B){k1(r,B)}while(!0);return i&&r.shellSuspendCounter++,Or=hi=null,Ke=u,M.H=d,M.A=h,Me===null&&(nt=null,ze=0,Mu()),y}function y5(){for(;Me!==null;)O1(Me)}function v5(r,i){var o=Ke;Ke|=2;var u=C1(),d=R1();nt!==r||ze!==i?(hc=null,dc=In()+500,_a(r,i)):xa=ni(r,i);e:do try{if(Ye!==0&&Me!==null){i=Me;var h=An;t:switch(Ye){case 1:Ye=0,An=null,Sa(r,i,h,1);break;case 2:case 9:if(Fy(h)){Ye=0,An=null,D1(i);break}i=function(){Ye!==2&&Ye!==9||nt!==r||(Ye=7),cr(r)},h.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Fy(h)?(Ye=0,An=null,D1(i)):(Ye=0,An=null,Sa(r,i,h,7));break;case 5:var y=null;switch(Me.tag){case 26:y=Me.memoizedState;case 5:case 27:var b=Me;if(!y||fx(y)){Ye=0,An=null;var _=b.sibling;if(_!==null)Me=_;else{var R=b.return;R!==null?(Me=R,mc(R)):Me=null}break t}}Ye=0,An=null,Sa(r,i,h,5);break;case 6:Ye=0,An=null,Sa(r,i,h,6);break;case 8:nm(),gt=6;break e;default:throw Error(s(462))}}x5();break}catch(B){k1(r,B)}while(!0);return Or=hi=null,M.H=u,M.A=d,Ke=o,Me!==null?0:(nt=null,ze=0,Mu(),gt)}function x5(){for(;Me!==null&&!En();)O1(Me)}function O1(r){var i=s1(r.alternate,r,Br);r.memoizedProps=r.pendingProps,i===null?mc(r):Me=i}function D1(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=Wv(o,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=Wv(o,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:xf(i);default:a1(o,i),i=Me=jy(i,Br),i=s1(o,i,Br)}r.memoizedProps=r.pendingProps,i===null?mc(r):Me=i}function Sa(r,i,o,u){Or=hi=null,xf(i),ga=null,qo=0;var d=i.return;try{if(l5(r,d,i,o,ze)){gt=1,ic(r,Un(o,r.current)),Me=null;return}}catch(h){if(d!==null)throw Me=d,h;gt=1,ic(r,Un(o,r.current)),Me=null;return}i.flags&32768?($e||u===1?r=!0:xa||(ze&536870912)!==0?r=!1:(bs=r=!0,(u===2||u===9||u===3||u===6)&&(u=Pn.current,u!==null&&u.tag===13&&(u.flags|=16384))),j1(i,r)):mc(i)}function mc(r){var i=r;do{if((i.flags&32768)!==0){j1(i,bs);return}r=i.return;var o=c5(i.alternate,i,Br);if(o!==null){Me=o;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=r}while(i!==null);gt===0&&(gt=5)}function j1(r,i){do{var o=d5(r.alternate,r);if(o!==null){o.flags&=32767,Me=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){Me=r;return}Me=r=o}while(r!==null);gt=6,Me=null}function I1(r,i,o,u,d,h,y,b,_){r.cancelPendingCommit=null;do gc();while(qt!==0);if((Ke&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(h=i.lanes|i.childLanes,h|=Kh,ZS(r,o,h,y,b,_),r===nt&&(Me=nt=null,ze=0),wa=i,_s=r,Ea=o,Jf=h,em=d,S1=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,_5(D,function(){return B1(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=M.T,M.T=null,d=Q.p,Q.p=2,y=Ke,Ke|=4;try{h5(r,i,o)}finally{Ke=y,Q.p=d,M.T=u}}qt=1,M1(),L1(),U1()}}function M1(){if(qt===1){qt=0;var r=_s,i=wa,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=M.T,M.T=null;var u=Q.p;Q.p=2;var d=Ke;Ke|=4;try{y1(i,r);var h=pm,y=_y(r.containerInfo),b=h.focusedElem,_=h.selectionRange;if(y!==b&&b&&b.ownerDocument&&Ey(b.ownerDocument.documentElement,b)){if(_!==null&&qh(b)){var R=_.start,B=_.end;if(B===void 0&&(B=R),"selectionStart"in b)b.selectionStart=R,b.selectionEnd=Math.min(B,b.value.length);else{var F=b.ownerDocument||document,j=F&&F.defaultView||window;if(j.getSelection){var I=j.getSelection(),xe=b.textContent.length,pe=Math.min(_.start,xe),We=_.end===void 0?pe:Math.min(_.end,xe);!I.extend&&pe>We&&(y=We,We=pe,pe=y);var k=wy(b,pe),N=wy(b,We);if(k&&N&&(I.rangeCount!==1||I.anchorNode!==k.node||I.anchorOffset!==k.offset||I.focusNode!==N.node||I.focusOffset!==N.offset)){var C=F.createRange();C.setStart(k.node,k.offset),I.removeAllRanges(),pe>We?(I.addRange(C),I.extend(N.node,N.offset)):(C.setEnd(N.node,N.offset),I.addRange(C))}}}}for(F=[],I=b;I=I.parentNode;)I.nodeType===1&&F.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<F.length;b++){var q=F[b];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Ac=!!gm,pm=gm=null}finally{Ke=d,Q.p=u,M.T=o}}r.current=i,qt=2}}function L1(){if(qt===2){qt=0;var r=_s,i=wa,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=M.T,M.T=null;var u=Q.p;Q.p=2;var d=Ke;Ke|=4;try{f1(r,i.alternate,i)}finally{Ke=d,Q.p=u,M.T=o}}qt=3}}function U1(){if(qt===4||qt===3){qt=0,fo();var r=_s,i=wa,o=Ea,u=S1;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?qt=5:(qt=0,wa=_s=null,V1(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(Es=null),wh(o),i=i.stateNode,Se&&typeof Se.onCommitFiberRoot=="function")try{Se.onCommitFiberRoot(le,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=M.T,d=Q.p,Q.p=2,M.T=null;try{for(var h=r.onRecoverableError,y=0;y<u.length;y++){var b=u[y];h(b.value,{componentStack:b.stack})}}finally{M.T=i,Q.p=d}}(Ea&3)!==0&&gc(),cr(r),d=r.pendingLanes,(o&4194090)!==0&&(d&42)!==0?r===tm?Zo++:(Zo=0,tm=r):Zo=0,Wo(0)}}function V1(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Oo(i)))}function gc(r){return M1(),L1(),U1(),B1()}function B1(){if(qt!==5)return!1;var r=_s,i=Jf;Jf=0;var o=wh(Ea),u=M.T,d=Q.p;try{Q.p=32>o?32:o,M.T=null,o=em,em=null;var h=_s,y=Ea;if(qt=0,wa=_s=null,Ea=0,(Ke&6)!==0)throw Error(s(331));var b=Ke;if(Ke|=4,E1(h.current),x1(h,h.current,y,o),Ke=b,Wo(0,!1),Se&&typeof Se.onPostCommitFiberRoot=="function")try{Se.onPostCommitFiberRoot(le,h)}catch{}return!0}finally{Q.p=d,M.T=u,V1(r,i)}}function z1(r,i,o){i=Un(o,i),i=jf(r.stateNode,i,2),r=fs(r,i,2),r!==null&&(go(r,2),cr(r))}function et(r,i,o){if(r.tag===3)z1(r,r,o);else for(;i!==null;){if(i.tag===3){z1(i,r,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Es===null||!Es.has(u))){r=Un(o,r),o=Hv(2),u=fs(i,o,2),u!==null&&($v(o,u,i,r),go(u,2),cr(u));break}}i=i.return}}function im(r,i,o){var u=r.pingCache;if(u===null){u=r.pingCache=new g5;var d=new Set;u.set(i,d)}else d=u.get(i),d===void 0&&(d=new Set,u.set(i,d));d.has(o)||(Qf=!0,d.add(o),r=b5.bind(null,r,i,o),i.then(r,r))}function b5(r,i,o){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,nt===r&&(ze&o)===o&&(gt===4||gt===3&&(ze&62914560)===ze&&300>In()-Wf?(Ke&2)===0&&_a(r,0):Xf|=o,ba===ze&&(ba=0)),cr(r)}function P1(r,i){i===0&&(i=U0()),r=ia(r,i),r!==null&&(go(r,i),cr(r))}function w5(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),P1(r,o)}function E5(r,i){var o=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),P1(r,o)}function _5(r,i){return lt(r,i)}var pc=null,Ta=null,am=!1,yc=!1,om=!1,xi=0;function cr(r){r!==Ta&&r.next===null&&(Ta===null?pc=Ta=r:Ta=Ta.next=r),yc=!0,am||(am=!0,T5())}function Wo(r,i){if(!om&&yc){om=!0;do for(var o=!1,u=pc;u!==null;){if(r!==0){var d=u.pendingLanes;if(d===0)var h=0;else{var y=u.suspendedLanes,b=u.pingedLanes;h=(1<<31-tt(42|r)+1)-1,h&=d&~(y&~b),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(o=!0,$1(u,h))}else h=ze,h=ti(u,u===nt?h:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(h&3)===0||ni(u,h)||(o=!0,$1(u,h));u=u.next}while(o);om=!1}}function S5(){q1()}function q1(){yc=am=!1;var r=0;xi!==0&&(j5()&&(r=xi),xi=0);for(var i=In(),o=null,u=pc;u!==null;){var d=u.next,h=F1(u,i);h===0?(u.next=null,o===null?pc=d:o.next=d,d===null&&(Ta=o)):(o=u,(r!==0||(h&3)!==0)&&(yc=!0)),u=d}Wo(r)}function F1(r,i){for(var o=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,h=r.pendingLanes&-62914561;0<h;){var y=31-tt(h),b=1<<y,_=d[y];_===-1?((b&o)===0||(b&u)!==0)&&(d[y]=_u(b,i)):_<=i&&(r.expiredLanes|=b),h&=~b}if(i=nt,o=ze,o=ti(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===i&&(Ye===2||Ye===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&ft(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||ni(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(u!==null&&ft(u),wh(o)){case 2:case 8:o=T;break;case 32:o=D;break;case 268435456:o=re;break;default:o=D}return u=H1.bind(null,r),o=lt(o,u),r.callbackPriority=i,r.callbackNode=o,i}return u!==null&&u!==null&&ft(u),r.callbackPriority=2,r.callbackNode=null,2}function H1(r,i){if(qt!==0&&qt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(gc()&&r.callbackNode!==o)return null;var u=ze;return u=ti(r,r===nt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(N1(r,u,i),F1(r,In()),r.callbackNode!=null&&r.callbackNode===o?H1.bind(null,r):null)}function $1(r,i){if(gc())return null;N1(r,i,!0)}function T5(){M5(function(){(Ke&6)!==0?lt(mo,S5):q1()})}function lm(){return xi===0&&(xi=L0()),xi}function G1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ku(""+r)}function K1(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function N5(r,i,o,u,d){if(i==="submit"&&o&&o.stateNode===d){var h=G1((d[mn]||null).action),y=u.submitter;y&&(i=(i=y[mn]||null)?G1(i.formAction):y.getAttribute("formAction"),i!==null&&(h=i,y=null));var b=new Du("action","action",null,u,d);r.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(xi!==0){var _=y?K1(d,y):new FormData(d);kf(o,{pending:!0,data:_,method:d.method,action:h},null,_)}}else typeof h=="function"&&(b.preventDefault(),_=y?K1(d,y):new FormData(d),kf(o,{pending:!0,data:_,method:d.method,action:h},h,_))},currentTarget:d}]})}}for(var um=0;um<Gh.length;um++){var cm=Gh[um],A5=cm.toLowerCase(),k5=cm[0].toUpperCase()+cm.slice(1);Kn(A5,"on"+k5)}Kn(Ny,"onAnimationEnd"),Kn(Ay,"onAnimationIteration"),Kn(ky,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn($T,"onTransitionRun"),Kn(GT,"onTransitionStart"),Kn(KT,"onTransitionCancel"),Kn(Cy,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function Y1(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],d=u.event;u=u.listeners;e:{var h=void 0;if(i)for(var y=u.length-1;0<=y;y--){var b=u[y],_=b.instance,R=b.currentTarget;if(b=b.listener,_!==h&&d.isPropagationStopped())break e;h=b,d.currentTarget=R;try{h(d)}catch(B){sc(B)}d.currentTarget=null,h=_}else for(y=0;y<u.length;y++){if(b=u[y],_=b.instance,R=b.currentTarget,b=b.listener,_!==h&&d.isPropagationStopped())break e;h=b,d.currentTarget=R;try{h(d)}catch(B){sc(B)}d.currentTarget=null,h=_}}}}function Le(r,i){var o=i[Eh];o===void 0&&(o=i[Eh]=new Set);var u=r+"__bubble";o.has(u)||(Q1(i,r,2,!1),o.add(u))}function dm(r,i,o){var u=0;i&&(u|=4),Q1(o,r,u,i)}var vc="_reactListening"+Math.random().toString(36).slice(2);function hm(r){if(!r[vc]){r[vc]=!0,q0.forEach(function(o){o!=="selectionchange"&&(C5.has(o)||dm(o,!1,r),dm(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[vc]||(i[vc]=!0,dm("selectionchange",!1,i))}}function Q1(r,i,o,u){switch(xx(i)){case 2:var d=nN;break;case 8:d=rN;break;default:d=Nm}o=d.bind(null,i,o,r),d=void 0,!jh||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(i,o,{capture:!0,passive:d}):r.addEventListener(i,o,!0):d!==void 0?r.addEventListener(i,o,{passive:d}):r.addEventListener(i,o,!1)}function fm(r,i,o,u,d){var h=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var b=u.stateNode.containerInfo;if(b===d)break;if(y===4)for(y=u.return;y!==null;){var _=y.tag;if((_===3||_===4)&&y.stateNode.containerInfo===d)return;y=y.return}for(;b!==null;){if(y=Gi(b),y===null)return;if(_=y.tag,_===5||_===6||_===26||_===27){u=h=y;continue e}b=b.parentNode}}u=u.return}ny(function(){var R=h,B=Oh(o),F=[];e:{var j=Ry.get(r);if(j!==void 0){var I=Du,xe=r;switch(r){case"keypress":if(Ru(o)===0)break e;case"keydown":case"keyup":I=_T;break;case"focusin":xe="focus",I=Uh;break;case"focusout":xe="blur",I=Uh;break;case"beforeblur":case"afterblur":I=Uh;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=dT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=NT;break;case Ny:case Ay:case ky:I=mT;break;case Cy:I=kT;break;case"scroll":case"scrollend":I=uT;break;case"wheel":I=RT;break;case"copy":case"cut":case"paste":I=pT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=oy;break;case"toggle":case"beforetoggle":I=DT}var pe=(i&4)!==0,We=!pe&&(r==="scroll"||r==="scrollend"),k=pe?j!==null?j+"Capture":null:j;pe=[];for(var N=R,C;N!==null;){var q=N;if(C=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||C===null||k===null||(q=vo(N,k),q!=null&&pe.push(el(N,q,C))),We)break;N=N.return}0<pe.length&&(j=new I(j,xe,null,o,B),F.push({event:j,listeners:pe}))}}if((i&7)===0){e:{if(j=r==="mouseover"||r==="pointerover",I=r==="mouseout"||r==="pointerout",j&&o!==Rh&&(xe=o.relatedTarget||o.fromElement)&&(Gi(xe)||xe[$i]))break e;if((I||j)&&(j=B.window===B?B:(j=B.ownerDocument)?j.defaultView||j.parentWindow:window,I?(xe=o.relatedTarget||o.toElement,I=R,xe=xe?Gi(xe):null,xe!==null&&(We=l(xe),pe=xe.tag,xe!==We||pe!==5&&pe!==27&&pe!==6)&&(xe=null)):(I=null,xe=R),I!==xe)){if(pe=iy,q="onMouseLeave",k="onMouseEnter",N="mouse",(r==="pointerout"||r==="pointerover")&&(pe=oy,q="onPointerLeave",k="onPointerEnter",N="pointer"),We=I==null?j:yo(I),C=xe==null?j:yo(xe),j=new pe(q,N+"leave",I,o,B),j.target=We,j.relatedTarget=C,q=null,Gi(B)===R&&(pe=new pe(k,N+"enter",xe,o,B),pe.target=C,pe.relatedTarget=We,q=pe),We=q,I&&xe)t:{for(pe=I,k=xe,N=0,C=pe;C;C=Na(C))N++;for(C=0,q=k;q;q=Na(q))C++;for(;0<N-C;)pe=Na(pe),N--;for(;0<C-N;)k=Na(k),C--;for(;N--;){if(pe===k||k!==null&&pe===k.alternate)break t;pe=Na(pe),k=Na(k)}pe=null}else pe=null;I!==null&&X1(F,j,I,pe,!1),xe!==null&&We!==null&&X1(F,We,xe,pe,!0)}}e:{if(j=R?yo(R):window,I=j.nodeName&&j.nodeName.toLowerCase(),I==="select"||I==="input"&&j.type==="file")var ae=gy;else if(fy(j))if(py)ae=qT;else{ae=zT;var Ie=BT}else I=j.nodeName,!I||I.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?R&&Ch(R.elementType)&&(ae=gy):ae=PT;if(ae&&(ae=ae(r,R))){my(F,ae,o,B);break e}Ie&&Ie(r,j,R),r==="focusout"&&R&&j.type==="number"&&R.memoizedProps.value!=null&&kh(j,"number",j.value)}switch(Ie=R?yo(R):window,r){case"focusin":(fy(Ie)||Ie.contentEditable==="true")&&(na=Ie,Fh=R,No=null);break;case"focusout":No=Fh=na=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Sy(F,o,B);break;case"selectionchange":if(HT)break;case"keydown":case"keyup":Sy(F,o,B)}var he;if(Bh)e:{switch(r){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else ta?dy(r,o)&&(ye="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(ye="onCompositionStart");ye&&(ly&&o.locale!=="ko"&&(ta||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&ta&&(he=ry()):(us=B,Ih="value"in us?us.value:us.textContent,ta=!0)),Ie=xc(R,ye),0<Ie.length&&(ye=new ay(ye,r,null,o,B),F.push({event:ye,listeners:Ie}),he?ye.data=he:(he=hy(o),he!==null&&(ye.data=he)))),(he=IT?MT(r,o):LT(r,o))&&(ye=xc(R,"onBeforeInput"),0<ye.length&&(Ie=new ay("onBeforeInput","beforeinput",null,o,B),F.push({event:Ie,listeners:ye}),Ie.data=he)),N5(F,r,R,o,B)}Y1(F,i)})}function el(r,i,o){return{instance:r,listener:i,currentTarget:o}}function xc(r,i){for(var o=i+"Capture",u=[];r!==null;){var d=r,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=vo(r,o),d!=null&&u.unshift(el(r,d,h)),d=vo(r,i),d!=null&&u.push(el(r,d,h))),r.tag===3)return u;r=r.return}return[]}function Na(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function X1(r,i,o,u,d){for(var h=i._reactName,y=[];o!==null&&o!==u;){var b=o,_=b.alternate,R=b.stateNode;if(b=b.tag,_!==null&&_===u)break;b!==5&&b!==26&&b!==27||R===null||(_=R,d?(R=vo(o,h),R!=null&&y.unshift(el(o,R,_))):d||(R=vo(o,h),R!=null&&y.push(el(o,R,_)))),o=o.return}y.length!==0&&r.push({event:i,listeners:y})}var R5=/\r\n?/g,O5=/\u0000|\uFFFD/g;function Z1(r){return(typeof r=="string"?r:""+r).replace(R5,`
`).replace(O5,"")}function W1(r,i){return i=Z1(i),Z1(r)===i}function bc(){}function Ze(r,i,o,u,d,h){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Wi(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Wi(r,""+u);break;case"className":Tu(r,"class",u);break;case"tabIndex":Tu(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Tu(r,o,u);break;case"style":ey(r,u,h);break;case"data":if(i!=="object"){Tu(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=ku(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(o==="formAction"?(i!=="input"&&Ze(r,i,"name",d.name,d,null),Ze(r,i,"formEncType",d.formEncType,d,null),Ze(r,i,"formMethod",d.formMethod,d,null),Ze(r,i,"formTarget",d.formTarget,d,null)):(Ze(r,i,"encType",d.encType,d,null),Ze(r,i,"method",d.method,d,null),Ze(r,i,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=ku(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=bc);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=ku(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Le("beforetoggle",r),Le("toggle",r),Su(r,"popover",u);break;case"xlinkActuate":Nr(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Nr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Nr(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Nr(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Nr(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Nr(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Nr(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Nr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Nr(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Su(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=oT.get(o)||o,Su(r,o,u))}}function mm(r,i,o,u,d,h){switch(o){case"style":ey(r,u,h);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Wi(r,u):(typeof u=="number"||typeof u=="bigint")&&Wi(r,""+u);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"onClick":u!=null&&(r.onclick=bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!F0.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),i=o.slice(2,d?o.length-7:void 0),h=r[mn]||null,h=h!=null?h[o]:null,typeof h=="function"&&r.removeEventListener(i,h,d),typeof u=="function")){typeof h!="function"&&h!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,u,d);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Su(r,o,u)}}}function Ft(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",r),Le("load",r);var u=!1,d=!1,h;for(h in o)if(o.hasOwnProperty(h)){var y=o[h];if(y!=null)switch(h){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(r,i,h,y,o,null)}}d&&Ze(r,i,"srcSet",o.srcSet,o,null),u&&Ze(r,i,"src",o.src,o,null);return;case"input":Le("invalid",r);var b=h=y=d=null,_=null,R=null;for(u in o)if(o.hasOwnProperty(u)){var B=o[u];if(B!=null)switch(u){case"name":d=B;break;case"type":y=B;break;case"checked":_=B;break;case"defaultChecked":R=B;break;case"value":h=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Ze(r,i,u,B,o,null)}}X0(r,h,b,_,R,y,d,!1),Nu(r);return;case"select":Le("invalid",r),u=y=h=null;for(d in o)if(o.hasOwnProperty(d)&&(b=o[d],b!=null))switch(d){case"value":h=b;break;case"defaultValue":y=b;break;case"multiple":u=b;default:Ze(r,i,d,b,o,null)}i=h,o=y,r.multiple=!!u,i!=null?Zi(r,!!u,i,!1):o!=null&&Zi(r,!!u,o,!0);return;case"textarea":Le("invalid",r),h=d=u=null;for(y in o)if(o.hasOwnProperty(y)&&(b=o[y],b!=null))switch(y){case"value":u=b;break;case"defaultValue":d=b;break;case"children":h=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ze(r,i,y,b,o,null)}W0(r,u,d,h),Nu(r);return;case"option":for(_ in o)if(o.hasOwnProperty(_)&&(u=o[_],u!=null))switch(_){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ze(r,i,_,u,o,null)}return;case"dialog":Le("beforetoggle",r),Le("toggle",r),Le("cancel",r),Le("close",r);break;case"iframe":case"object":Le("load",r);break;case"video":case"audio":for(u=0;u<Jo.length;u++)Le(Jo[u],r);break;case"image":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"embed":case"source":case"link":Le("error",r),Le("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in o)if(o.hasOwnProperty(R)&&(u=o[R],u!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(r,i,R,u,o,null)}return;default:if(Ch(i)){for(B in o)o.hasOwnProperty(B)&&(u=o[B],u!==void 0&&mm(r,i,B,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&Ze(r,i,b,u,o,null))}function D5(r,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,y=null,b=null,_=null,R=null,B=null;for(I in o){var F=o[I];if(o.hasOwnProperty(I)&&F!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":_=F;default:u.hasOwnProperty(I)||Ze(r,i,I,null,u,F)}}for(var j in u){var I=u[j];if(F=o[j],u.hasOwnProperty(j)&&(I!=null||F!=null))switch(j){case"type":h=I;break;case"name":d=I;break;case"checked":R=I;break;case"defaultChecked":B=I;break;case"value":y=I;break;case"defaultValue":b=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,i));break;default:I!==F&&Ze(r,i,j,I,u,F)}}Ah(r,y,b,_,R,B,h,d);return;case"select":I=y=b=j=null;for(h in o)if(_=o[h],o.hasOwnProperty(h)&&_!=null)switch(h){case"value":break;case"multiple":I=_;default:u.hasOwnProperty(h)||Ze(r,i,h,null,u,_)}for(d in u)if(h=u[d],_=o[d],u.hasOwnProperty(d)&&(h!=null||_!=null))switch(d){case"value":j=h;break;case"defaultValue":b=h;break;case"multiple":y=h;default:h!==_&&Ze(r,i,d,h,u,_)}i=b,o=y,u=I,j!=null?Zi(r,!!o,j,!1):!!u!=!!o&&(i!=null?Zi(r,!!o,i,!0):Zi(r,!!o,o?[]:"",!1));return;case"textarea":I=j=null;for(b in o)if(d=o[b],o.hasOwnProperty(b)&&d!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ze(r,i,b,null,u,d)}for(y in u)if(d=u[y],h=o[y],u.hasOwnProperty(y)&&(d!=null||h!=null))switch(y){case"value":j=d;break;case"defaultValue":I=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==h&&Ze(r,i,y,d,u,h)}Z0(r,j,I);return;case"option":for(var xe in o)if(j=o[xe],o.hasOwnProperty(xe)&&j!=null&&!u.hasOwnProperty(xe))switch(xe){case"selected":r.selected=!1;break;default:Ze(r,i,xe,null,u,j)}for(_ in u)if(j=u[_],I=o[_],u.hasOwnProperty(_)&&j!==I&&(j!=null||I!=null))switch(_){case"selected":r.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Ze(r,i,_,j,u,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in o)j=o[pe],o.hasOwnProperty(pe)&&j!=null&&!u.hasOwnProperty(pe)&&Ze(r,i,pe,null,u,j);for(R in u)if(j=u[R],I=o[R],u.hasOwnProperty(R)&&j!==I&&(j!=null||I!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Ze(r,i,R,j,u,I)}return;default:if(Ch(i)){for(var We in o)j=o[We],o.hasOwnProperty(We)&&j!==void 0&&!u.hasOwnProperty(We)&&mm(r,i,We,void 0,u,j);for(B in u)j=u[B],I=o[B],!u.hasOwnProperty(B)||j===I||j===void 0&&I===void 0||mm(r,i,B,j,u,I);return}}for(var k in o)j=o[k],o.hasOwnProperty(k)&&j!=null&&!u.hasOwnProperty(k)&&Ze(r,i,k,null,u,j);for(F in u)j=u[F],I=o[F],!u.hasOwnProperty(F)||j===I||j==null&&I==null||Ze(r,i,F,j,u,I)}var gm=null,pm=null;function wc(r){return r.nodeType===9?r:r.ownerDocument}function J1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ex(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function ym(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vm=null;function j5(){var r=window.event;return r&&r.type==="popstate"?r===vm?!1:(vm=r,!0):(vm=null,!1)}var tx=typeof setTimeout=="function"?setTimeout:void 0,I5=typeof clearTimeout=="function"?clearTimeout:void 0,nx=typeof Promise=="function"?Promise:void 0,M5=typeof queueMicrotask=="function"?queueMicrotask:typeof nx<"u"?function(r){return nx.resolve(null).then(r).catch(L5)}:tx;function L5(r){setTimeout(function(){throw r})}function Ts(r){return r==="head"}function rx(r,i){var o=i,u=0,d=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(0<u&&8>u){o=u;var y=r.ownerDocument;if(o&1&&tl(y.documentElement),o&2&&tl(y.body),o&4)for(o=y.head,tl(o),y=o.firstChild;y;){var b=y.nextSibling,_=y.nodeName;y[po]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=b}}if(d===0){r.removeChild(h),ul(i);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=h}while(o);ul(i)}function xm(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":xm(o),_h(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function U5(r,i,o,u){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[po])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(h=r.getAttribute("rel"),h==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(h!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(h=r.getAttribute("src"),(h!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===h)return r}else return r;if(r=Qn(r.nextSibling),r===null)break}return null}function V5(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Qn(r.nextSibling),r===null))return null;return r}function bm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function B5(r,i){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Qn(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var wm=null;function sx(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return r;i--}else o==="/$"&&i++}r=r.previousSibling}return null}function ix(r,i,o){switch(i=wc(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function tl(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);_h(r)}var Fn=new Map,ax=new Set;function Ec(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var zr=Q.d;Q.d={f:z5,r:P5,D:q5,C:F5,L:H5,m:$5,X:K5,S:G5,M:Y5};function z5(){var r=zr.f(),i=fc();return r||i}function P5(r){var i=Ki(r);i!==null&&i.tag===5&&i.type==="form"?Nv(i):zr.r(r)}var Aa=typeof document>"u"?null:document;function ox(r,i,o){var u=Aa;if(u&&typeof i=="string"&&i){var d=Ln(i);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),ax.has(d)||(ax.add(d),r={rel:r,crossOrigin:o,href:i},u.querySelector(d)===null&&(i=u.createElement("link"),Ft(i,"link",r),It(i),u.head.appendChild(i)))}}function q5(r){zr.D(r),ox("dns-prefetch",r,null)}function F5(r,i){zr.C(r,i),ox("preconnect",r,i)}function H5(r,i,o){zr.L(r,i,o);var u=Aa;if(u&&r&&i){var d='link[rel="preload"][as="'+Ln(i)+'"]';i==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Ln(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Ln(o.imageSizes)+'"]')):d+='[href="'+Ln(r)+'"]';var h=d;switch(i){case"style":h=ka(r);break;case"script":h=Ca(r)}Fn.has(h)||(r=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),Fn.set(h,r),u.querySelector(d)!==null||i==="style"&&u.querySelector(nl(h))||i==="script"&&u.querySelector(rl(h))||(i=u.createElement("link"),Ft(i,"link",r),It(i),u.head.appendChild(i)))}}function $5(r,i){zr.m(r,i);var o=Aa;if(o&&r){var u=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Ln(u)+'"][href="'+Ln(r)+'"]',h=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Ca(r)}if(!Fn.has(h)&&(r=v({rel:"modulepreload",href:r},i),Fn.set(h,r),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(rl(h)))return}u=o.createElement("link"),Ft(u,"link",r),It(u),o.head.appendChild(u)}}}function G5(r,i,o){zr.S(r,i,o);var u=Aa;if(u&&r){var d=Yi(u).hoistableStyles,h=ka(r);i=i||"default";var y=d.get(h);if(!y){var b={loading:0,preload:null};if(y=u.querySelector(nl(h)))b.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":i},o),(o=Fn.get(h))&&Em(r,o);var _=y=u.createElement("link");It(_),Ft(_,"link",r),_._p=new Promise(function(R,B){_.onload=R,_.onerror=B}),_.addEventListener("load",function(){b.loading|=1}),_.addEventListener("error",function(){b.loading|=2}),b.loading|=4,_c(y,i,u)}y={type:"stylesheet",instance:y,count:1,state:b},d.set(h,y)}}}function K5(r,i){zr.X(r,i);var o=Aa;if(o&&r){var u=Yi(o).hoistableScripts,d=Ca(r),h=u.get(d);h||(h=o.querySelector(rl(d)),h||(r=v({src:r,async:!0},i),(i=Fn.get(d))&&_m(r,i),h=o.createElement("script"),It(h),Ft(h,"link",r),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(d,h))}}function Y5(r,i){zr.M(r,i);var o=Aa;if(o&&r){var u=Yi(o).hoistableScripts,d=Ca(r),h=u.get(d);h||(h=o.querySelector(rl(d)),h||(r=v({src:r,async:!0,type:"module"},i),(i=Fn.get(d))&&_m(r,i),h=o.createElement("script"),It(h),Ft(h,"link",r),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},u.set(d,h))}}function lx(r,i,o,u){var d=(d=ve.current)?Ec(d):null;if(!d)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=ka(o.href),o=Yi(d).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=ka(o.href);var h=Yi(d).hoistableStyles,y=h.get(r);if(y||(d=d.ownerDocument||d,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(r,y),(h=d.querySelector(nl(r)))&&!h._p&&(y.instance=h,y.state.loading=5),Fn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Fn.set(r,o),h||Q5(d,r,o,y.state))),i&&u===null)throw Error(s(528,""));return y}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ca(o),o=Yi(d).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function ka(r){return'href="'+Ln(r)+'"'}function nl(r){return'link[rel="stylesheet"]['+r+"]"}function ux(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function Q5(r,i,o,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Ft(i,"link",o),It(i),r.head.appendChild(i))}function Ca(r){return'[src="'+Ln(r)+'"]'}function rl(r){return"script[async]"+r}function cx(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+Ln(o.href)+'"]');if(u)return i.instance=u,It(u),u;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),It(u),Ft(u,"style",d),_c(u,o.precedence,r),i.instance=u;case"stylesheet":d=ka(o.href);var h=r.querySelector(nl(d));if(h)return i.state.loading|=4,i.instance=h,It(h),h;u=ux(o),(d=Fn.get(d))&&Em(u,d),h=(r.ownerDocument||r).createElement("link"),It(h);var y=h;return y._p=new Promise(function(b,_){y.onload=b,y.onerror=_}),Ft(h,"link",u),i.state.loading|=4,_c(h,o.precedence,r),i.instance=h;case"script":return h=Ca(o.src),(d=r.querySelector(rl(h)))?(i.instance=d,It(d),d):(u=o,(d=Fn.get(h))&&(u=v({},o),_m(u,d)),r=r.ownerDocument||r,d=r.createElement("script"),It(d),Ft(d,"link",u),r.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,_c(u,o.precedence,r));return i.instance}function _c(r,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,h=d,y=0;y<u.length;y++){var b=u[y];if(b.dataset.precedence===i)h=b;else if(h!==d)break}h?h.parentNode.insertBefore(r,h.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Em(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function _m(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Sc=null;function dx(r,i,o){if(Sc===null){var u=new Map,d=Sc=new Map;d.set(o,u)}else d=Sc,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var h=o[d];if(!(h[po]||h[Yt]||r==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(i)||"";y=r+y;var b=u.get(y);b?b.push(h):u.set(y,[h])}}return u}function hx(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function X5(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function fx(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var sl=null;function Z5(){}function W5(r,i,o){if(sl===null)throw Error(s(475));var u=sl;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=ka(o.href),h=r.querySelector(nl(d));if(h){r=h._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Tc.bind(u),r.then(u,u)),i.state.loading|=4,i.instance=h,It(h);return}h=r.ownerDocument||r,o=ux(o),(d=Fn.get(d))&&Em(o,d),h=h.createElement("link"),It(h);var y=h;y._p=new Promise(function(b,_){y.onload=b,y.onerror=_}),Ft(h,"link",o),i.instance=h}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Tc.bind(u),r.addEventListener("load",i),r.addEventListener("error",i))}}function J5(){if(sl===null)throw Error(s(475));var r=sl;return r.stylesheets&&r.count===0&&Sm(r,r.stylesheets),0<r.count?function(i){var o=setTimeout(function(){if(r.stylesheets&&Sm(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Tc(){if(this.count--,this.count===0){if(this.stylesheets)Sm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Nc=null;function Sm(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Nc=new Map,i.forEach(eN,r),Nc=null,Tc.call(r))}function eN(r,i){if(!(i.state.loading&4)){var o=Nc.get(r);if(o)var u=o.get(null);else{o=new Map,Nc.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var y=d[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(o.set(y.dataset.precedence,y),u=y)}u&&o.set(null,u)}d=i.instance,y=d.getAttribute("data-precedence"),h=o.get(y)||u,h===u&&o.set(null,d),o.set(y,d),this.count++,u=Tc.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),h?h.parentNode.insertBefore(d,h.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),i.state.loading|=4}}var il={$$typeof:G,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function tN(r,i,o,u,d,h,y,b){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xh(0),this.hiddenUpdates=xh(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function mx(r,i,o,u,d,h,y,b,_,R,B,F){return r=new tN(r,i,o,y,b,_,R,F),i=1,h===!0&&(i|=24),h=Sn(3,null,null,i),r.current=h,h.stateNode=r,i=sf(),i.refCount++,r.pooledCache=i,i.refCount++,h.memoizedState={element:u,isDehydrated:o,cache:i},uf(h),r}function gx(r){return r?(r=aa,r):aa}function px(r,i,o,u,d,h){d=gx(d),u.context===null?u.context=d:u.pendingContext=d,u=hs(i),u.payload={element:o},h=h===void 0?null:h,h!==null&&(u.callback=h),o=fs(r,u,i),o!==null&&(Cn(o,r,i),Mo(o,r,i))}function yx(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function Tm(r,i){yx(r,i),(r=r.alternate)&&yx(r,i)}function vx(r){if(r.tag===13){var i=ia(r,67108864);i!==null&&Cn(i,r,67108864),Tm(r,67108864)}}var Ac=!0;function nN(r,i,o,u){var d=M.T;M.T=null;var h=Q.p;try{Q.p=2,Nm(r,i,o,u)}finally{Q.p=h,M.T=d}}function rN(r,i,o,u){var d=M.T;M.T=null;var h=Q.p;try{Q.p=8,Nm(r,i,o,u)}finally{Q.p=h,M.T=d}}function Nm(r,i,o,u){if(Ac){var d=Am(u);if(d===null)fm(r,i,u,kc,o),bx(r,u);else if(iN(d,r,i,o,u))u.stopPropagation();else if(bx(r,u),i&4&&-1<sN.indexOf(r)){for(;d!==null;){var h=Ki(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=Tr(h.pendingLanes);if(y!==0){var b=h;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var _=1<<31-tt(y);b.entanglements[1]|=_,y&=~_}cr(h),(Ke&6)===0&&(dc=In()+500,Wo(0))}}break;case 13:b=ia(h,2),b!==null&&Cn(b,h,2),fc(),Tm(h,2)}if(h=Am(u),h===null&&fm(r,i,u,kc,o),h===d)break;d=h}d!==null&&u.stopPropagation()}else fm(r,i,u,null,o)}}function Am(r){return r=Oh(r),km(r)}var kc=null;function km(r){if(kc=null,r=Gi(r),r!==null){var i=l(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=c(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return kc=r,null}function xx(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(M0()){case mo:return 2;case T:return 8;case D:case z:return 32;case re:return 268435456;default:return 32}default:return 32}}var Cm=!1,Ns=null,As=null,ks=null,al=new Map,ol=new Map,Cs=[],sN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bx(r,i){switch(r){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":al.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(i.pointerId)}}function ll(r,i,o,u,d,h){return r===null||r.nativeEvent!==h?(r={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:h,targetContainers:[d]},i!==null&&(i=Ki(i),i!==null&&vx(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),r)}function iN(r,i,o,u,d){switch(i){case"focusin":return Ns=ll(Ns,r,i,o,u,d),!0;case"dragenter":return As=ll(As,r,i,o,u,d),!0;case"mouseover":return ks=ll(ks,r,i,o,u,d),!0;case"pointerover":var h=d.pointerId;return al.set(h,ll(al.get(h)||null,r,i,o,u,d)),!0;case"gotpointercapture":return h=d.pointerId,ol.set(h,ll(ol.get(h)||null,r,i,o,u,d)),!0}return!1}function wx(r){var i=Gi(r.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){r.blockedOn=i,WS(r.priority,function(){if(o.tag===13){var u=kn();u=bh(u);var d=ia(o,u);d!==null&&Cn(d,o,u),Tm(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Cc(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=Am(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Rh=u,o.target.dispatchEvent(u),Rh=null}else return i=Ki(o),i!==null&&vx(i),r.blockedOn=o,!1;i.shift()}return!0}function Ex(r,i,o){Cc(r)&&o.delete(i)}function aN(){Cm=!1,Ns!==null&&Cc(Ns)&&(Ns=null),As!==null&&Cc(As)&&(As=null),ks!==null&&Cc(ks)&&(ks=null),al.forEach(Ex),ol.forEach(Ex)}function Rc(r,i){r.blockedOn===i&&(r.blockedOn=null,Cm||(Cm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,aN)))}var Oc=null;function _x(r){Oc!==r&&(Oc=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Oc===r&&(Oc=null);for(var i=0;i<r.length;i+=3){var o=r[i],u=r[i+1],d=r[i+2];if(typeof u!="function"){if(km(u||o)===null)continue;break}var h=Ki(o);h!==null&&(r.splice(i,3),i-=3,kf(h,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function ul(r){function i(_){return Rc(_,r)}Ns!==null&&Rc(Ns,r),As!==null&&Rc(As,r),ks!==null&&Rc(ks,r),al.forEach(i),ol.forEach(i);for(var o=0;o<Cs.length;o++){var u=Cs[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Cs.length&&(o=Cs[0],o.blockedOn===null);)wx(o),o.blockedOn===null&&Cs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],h=o[u+1],y=d[mn]||null;if(typeof h=="function")y||_x(o);else if(y){var b=null;if(h&&h.hasAttribute("formAction")){if(d=h,y=h[mn]||null)b=y.formAction;else if(km(d)!==null)continue}else b=y.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),_x(o)}}}function Rm(r){this._internalRoot=r}Dc.prototype.render=Rm.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,u=kn();px(o,u,r,i,null,null)},Dc.prototype.unmount=Rm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;px(r.current,2,null,r,null,null),fc(),i[$i]=null}};function Dc(r){this._internalRoot=r}Dc.prototype.unstable_scheduleHydration=function(r){if(r){var i=z0();r={blockedOn:null,target:r,priority:i};for(var o=0;o<Cs.length&&i!==0&&i<Cs[o].priority;o++);Cs.splice(o,0,r),o===0&&wx(r)}};var Sx=e.version;if(Sx!=="19.1.0")throw Error(s(527,Sx,"19.1.0"));Q.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=m(i),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var oN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{le=jc.inject(oN),Se=jc}catch{}}return dl.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,u="",d=zv,h=Pv,y=qv,b=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=mx(r,1,!1,null,null,o,u,d,h,y,b,null),r[$i]=i.current,hm(r),new Rm(i)},dl.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var u=!1,d="",h=zv,y=Pv,b=qv,_=null,R=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(_=o.unstable_transitionCallbacks),o.formState!==void 0&&(R=o.formState)),i=mx(r,1,!0,i,o??null,u,d,h,y,b,_,R),i.context=gx(null),o=i.current,u=kn(),u=bh(u),d=hs(u),d.callback=null,fs(o,d,u),o=u,i.current.lanes=o,go(i,o),cr(i),r[$i]=i.current,hm(r),new Dc(i)},dl.version="19.1.0",dl}var Ix;function vN(){if(Ix)return jm.exports;Ix=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jm.exports=yN(),jm.exports}var xN=vN();const bN=Dw(xN);jw();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},jl.apply(this,arguments)}var Bs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bs||(Bs={}));const Mx="popstate";function wN(t){t===void 0&&(t={});function e(s,a){let{pathname:l,search:c,hash:f}=s.location;return cg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:id(a)}return _N(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Iw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EN(){return Math.random().toString(36).substr(2,8)}function Lx(t,e){return{usr:t.state,key:t.key,idx:e}}function cg(t,e,n,s){return n===void 0&&(n=null),jl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?to(e):e,{state:n,key:e&&e.key||s||EN()})}function id(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function to(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function _N(t,e,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f=Bs.Pop,m=null,p=v();p==null&&(p=0,c.replaceState(jl({},c.state,{idx:p}),""));function v(){return(c.state||{idx:null}).idx}function w(){f=Bs.Pop;let O=v(),Y=O==null?null:O-p;p=O,m&&m({action:f,location:V.location,delta:Y})}function E(O,Y){f=Bs.Push;let U=cg(V.location,O,Y);p=v()+1;let G=Lx(U,p),$=V.createHref(U);try{c.pushState(G,"",$)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;a.location.assign($)}l&&m&&m({action:f,location:V.location,delta:1})}function A(O,Y){f=Bs.Replace;let U=cg(V.location,O,Y);p=v();let G=Lx(U,p),$=V.createHref(U);c.replaceState(G,"",$),l&&m&&m({action:f,location:V.location,delta:0})}function L(O){let Y=a.location.origin!=="null"?a.location.origin:a.location.href,U=typeof O=="string"?O:id(O);return U=U.replace(/ $/,"%20"),ht(Y,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,Y)}let V={get action(){return f},get location(){return t(a,c)},listen(O){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Mx,w),m=O,()=>{a.removeEventListener(Mx,w),m=null}},createHref(O){return e(a,O)},createURL:L,encodeLocation(O){let Y=L(O);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:E,replace:A,go(O){return c.go(O)}};return V}var Ux;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ux||(Ux={}));function SN(t,e,n){return n===void 0&&(n="/"),TN(t,e,n)}function TN(t,e,n,s){let a=typeof e=="string"?to(e):e,l=Ha(a.pathname||"/",n);if(l==null)return null;let c=Mw(t);NN(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=UN(l);f=MN(c[m],p)}return f}function Mw(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(l,c,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(ht(m.relativePath.startsWith(s),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(s.length));let p=Ps([s,m.relativePath]),v=n.concat(m);l.children&&l.children.length>0&&(ht(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Mw(l.children,e,v,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:jN(p,l.index),routesMeta:v})};return t.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let m of Lw(l.path))a(l,c,m)}),e}function Lw(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=Lw(s.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function NN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:IN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const AN=/^:[\w-]+$/,kN=3,CN=2,RN=1,ON=10,DN=-2,Vx=t=>t==="*";function jN(t,e){let n=t.split("/"),s=n.length;return n.some(Vx)&&(s+=DN),e&&(s+=CN),n.filter(a=>!Vx(a)).reduce((a,l)=>a+(AN.test(l)?kN:l===""?RN:ON),s)}function IN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function MN(t,e,n){let{routesMeta:s}=t,a={},l="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",w=dg({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),E=m.route;if(!w)return null;Object.assign(a,w.params),c.push({params:a,pathname:Ps([l,w.pathname]),pathnameBase:PN(Ps([l,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(l=Ps([l,w.pathnameBase]))}return c}function dg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=LN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,v,w)=>{let{paramName:E,isOptional:A}=v;if(E==="*"){let V=f[w]||"";c=l.slice(0,l.length-V.length).replace(/(.)\/+$/,"$1")}const L=f[w];return A&&!L?p[E]=void 0:p[E]=(L||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function LN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Iw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function UN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Iw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ha(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function VN(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?to(t):t;return{pathname:n?n.startsWith("/")?n:BN(n,e):e,search:qN(s),hash:FN(a)}}function BN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Um(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tp(t,e){let n=zN(t);return e?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function np(t,e,n,s){s===void 0&&(s=!1);let a;typeof t=="string"?a=to(t):(a=jl({},t),ht(!a.pathname||!a.pathname.includes("?"),Um("?","pathname","search",a)),ht(!a.pathname||!a.pathname.includes("#"),Um("#","pathname","hash",a)),ht(!a.search||!a.search.includes("#"),Um("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let w=e.length-1;if(!s&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),w-=1;a.pathname=E.join("/")}f=w>=0?e[w]:"/"}let m=VN(a,f),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}const Ps=t=>t.join("/").replace(/\/\/+/g,"/"),PN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function HN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Uw=["post","put","patch","delete"];new Set(Uw);const $N=["get",...Uw];new Set($N);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Il.apply(this,arguments)}const jd=x.createContext(null),Vw=x.createContext(null),ts=x.createContext(null),Id=x.createContext(null),ns=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Bw=x.createContext(null);function GN(t,e){let{relative:n}=e===void 0?{}:e;no()||ht(!1);let{basename:s,navigator:a}=x.useContext(ts),{hash:l,pathname:c,search:f}=Md(t,{relative:n}),m=c;return s!=="/"&&(m=c==="/"?s:Ps([s,c])),a.createHref({pathname:m,search:f,hash:l})}function no(){return x.useContext(Id)!=null}function rs(){return no()||ht(!1),x.useContext(Id).location}function zw(t){x.useContext(ts).static||x.useLayoutEffect(t)}function wn(){let{isDataRoute:t}=x.useContext(ns);return t?iA():KN()}function KN(){no()||ht(!1);let t=x.useContext(jd),{basename:e,future:n,navigator:s}=x.useContext(ts),{matches:a}=x.useContext(ns),{pathname:l}=rs(),c=JSON.stringify(tp(a,n.v7_relativeSplatPath)),f=x.useRef(!1);return zw(()=>{f.current=!0}),x.useCallback(function(p,v){if(v===void 0&&(v={}),!f.current)return;if(typeof p=="number"){s.go(p);return}let w=np(p,JSON.parse(c),l,v.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Ps([e,w.pathname])),(v.replace?s.replace:s.push)(w,v.state,v)},[e,s,c,l,t])}function rp(){let{matches:t}=x.useContext(ns),e=t[t.length-1];return e?e.params:{}}function Md(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=x.useContext(ts),{matches:a}=x.useContext(ns),{pathname:l}=rs(),c=JSON.stringify(tp(a,s.v7_relativeSplatPath));return x.useMemo(()=>np(t,JSON.parse(c),l,n==="path"),[t,c,l,n])}function YN(t,e){return QN(t,e)}function QN(t,e,n,s){no()||ht(!1);let{navigator:a}=x.useContext(ts),{matches:l}=x.useContext(ns),c=l[l.length-1],f=c?c.params:{};c&&c.pathname;let m=c?c.pathnameBase:"/";c&&c.route;let p=rs(),v;if(e){var w;let O=typeof e=="string"?to(e):e;m==="/"||(w=O.pathname)!=null&&w.startsWith(m)||ht(!1),v=O}else v=p;let E=v.pathname||"/",A=E;if(m!=="/"){let O=m.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(O.length).join("/")}let L=SN(t,{pathname:A}),V=eA(L&&L.map(O=>Object.assign({},O,{params:Object.assign({},f,O.params),pathname:Ps([m,a.encodeLocation?a.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?m:Ps([m,a.encodeLocation?a.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),l,n,s);return e&&V?x.createElement(Id.Provider,{value:{location:Il({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Bs.Pop}},V):V}function XN(){let t=sA(),e=HN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:a},n):null,null)}const ZN=x.createElement(XN,null);class WN extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(ns.Provider,{value:this.props.routeContext},x.createElement(Bw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JN(t){let{routeContext:e,match:n,children:s}=t,a=x.useContext(jd);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(ns.Provider,{value:e},s)}function eA(t,e,n,s){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var l;if(!n)return null;if(n.errors)t=n.matches;else if((l=s)!=null&&l.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,f=(a=n)==null?void 0:a.errors;if(f!=null){let v=c.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);v>=0||ht(!1),c=c.slice(0,Math.min(c.length,v+1))}let m=!1,p=-1;if(n&&s&&s.v7_partialHydration)for(let v=0;v<c.length;v++){let w=c[v];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=v),w.route.id){let{loaderData:E,errors:A}=n,L=w.route.loader&&E[w.route.id]===void 0&&(!A||A[w.route.id]===void 0);if(w.route.lazy||L){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((v,w,E)=>{let A,L=!1,V=null,O=null;n&&(A=f&&w.route.id?f[w.route.id]:void 0,V=w.route.errorElement||ZN,m&&(p<0&&E===0?(aA("route-fallback"),L=!0,O=null):p===E&&(L=!0,O=w.route.hydrateFallbackElement||null)));let Y=e.concat(c.slice(0,E+1)),U=()=>{let G;return A?G=V:L?G=O:w.route.Component?G=x.createElement(w.route.Component,null):w.route.element?G=w.route.element:G=v,x.createElement(JN,{match:w,routeContext:{outlet:v,matches:Y,isDataRoute:n!=null},children:G})};return n&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?x.createElement(WN,{location:n.location,revalidation:n.revalidation,component:V,error:A,children:U(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):U()},null)}var Pw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Pw||{}),qw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qw||{});function tA(t){let e=x.useContext(jd);return e||ht(!1),e}function nA(t){let e=x.useContext(Vw);return e||ht(!1),e}function rA(t){let e=x.useContext(ns);return e||ht(!1),e}function Fw(t){let e=rA(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function sA(){var t;let e=x.useContext(Bw),n=nA(),s=Fw();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function iA(){let{router:t}=tA(Pw.UseNavigateStable),e=Fw(qw.UseNavigateStable),n=x.useRef(!1);return zw(()=>{n.current=!0}),x.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Il({fromRouteId:e},l)))},[t,e])}const Bx={};function aA(t,e,n){Bx[t]||(Bx[t]=!0)}function oA(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function zx(t){let{to:e,replace:n,state:s,relative:a}=t;no()||ht(!1);let{future:l,static:c}=x.useContext(ts),{matches:f}=x.useContext(ns),{pathname:m}=rs(),p=wn(),v=np(e,tp(f,l.v7_relativeSplatPath),m,a==="path"),w=JSON.stringify(v);return x.useEffect(()=>p(JSON.parse(w),{replace:n,state:s,relative:a}),[p,w,a,n,s]),null}function Ht(t){ht(!1)}function lA(t){let{basename:e="/",children:n=null,location:s,navigationType:a=Bs.Pop,navigator:l,static:c=!1,future:f}=t;no()&&ht(!1);let m=e.replace(/^\/*/,"/"),p=x.useMemo(()=>({basename:m,navigator:l,static:c,future:Il({v7_relativeSplatPath:!1},f)}),[m,f,l,c]);typeof s=="string"&&(s=to(s));let{pathname:v="/",search:w="",hash:E="",state:A=null,key:L="default"}=s,V=x.useMemo(()=>{let O=Ha(v,m);return O==null?null:{location:{pathname:O,search:w,hash:E,state:A,key:L},navigationType:a}},[m,v,w,E,A,L,a]);return V==null?null:x.createElement(ts.Provider,{value:p},x.createElement(Id.Provider,{children:n,value:V}))}function uA(t){let{children:e,location:n}=t;return YN(hg(e),n)}new Promise(()=>{});function hg(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(s,a)=>{if(!x.isValidElement(s))return;let l=[...e,a];if(s.type===x.Fragment){n.push.apply(n,hg(s.props.children,l));return}s.type!==Ht&&ht(!1),!s.props.index||!s.props.children||ht(!1);let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=hg(s.props.children,l)),n.push(c)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ad.apply(this,arguments)}function Hw(t,e){if(t==null)return{};var n={},s=Object.keys(t),a,l;for(l=0;l<s.length;l++)a=s[l],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function cA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dA(t,e){return t.button===0&&(!e||e==="_self")&&!cA(t)}function fg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function hA(t,e){let n=fg(t);return e&&e.forEach((s,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}const fA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mA=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],gA="6";try{window.__reactRouterVersion=gA}catch{}const pA=x.createContext({isTransitioning:!1}),yA="startTransition",Px=fN[yA];function vA(t){let{basename:e,children:n,future:s,window:a}=t,l=x.useRef();l.current==null&&(l.current=wN({window:a,v5Compat:!0}));let c=l.current,[f,m]=x.useState({action:c.action,location:c.location}),{v7_startTransition:p}=s||{},v=x.useCallback(w=>{p&&Px?Px(()=>m(w)):m(w)},[m,p]);return x.useLayoutEffect(()=>c.listen(v),[c,v]),x.useEffect(()=>oA(s),[s]),x.createElement(lA,{basename:e,children:n,location:f.location,navigationType:f.action,navigator:c,future:s})}const xA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nn=x.forwardRef(function(e,n){let{onClick:s,relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:v,viewTransition:w}=e,E=Hw(e,fA),{basename:A}=x.useContext(ts),L,V=!1;if(typeof p=="string"&&bA.test(p)&&(L=p,xA))try{let G=new URL(window.location.href),$=p.startsWith("//")?new URL(G.protocol+p):new URL(p),Z=Ha($.pathname,A);$.origin===G.origin&&Z!=null?p=Z+$.search+$.hash:V=!0}catch{}let O=GN(p,{relative:a}),Y=EA(p,{replace:c,state:f,target:m,preventScrollReset:v,relative:a,viewTransition:w});function U(G){s&&s(G),G.defaultPrevented||Y(G)}return x.createElement("a",ad({},E,{href:L||O,onClick:V||l?s:U,ref:n,target:m}))}),Ra=x.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:a=!1,className:l="",end:c=!1,style:f,to:m,viewTransition:p,children:v}=e,w=Hw(e,mA),E=Md(m,{relative:w.relative}),A=rs(),L=x.useContext(Vw),{navigator:V,basename:O}=x.useContext(ts),Y=L!=null&&SA(E)&&p===!0,U=V.encodeLocation?V.encodeLocation(E).pathname:E.pathname,G=A.pathname,$=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;a||(G=G.toLowerCase(),$=$?$.toLowerCase():null,U=U.toLowerCase()),$&&O&&($=Ha($,O)||$);const Z=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let Ee=G===U||!c&&G.startsWith(U)&&G.charAt(Z)==="/",Re=$!=null&&($===U||!c&&$.startsWith(U)&&$.charAt(U.length)==="/"),Oe={isActive:Ee,isPending:Re,isTransitioning:Y},De=Ee?s:void 0,ot;typeof l=="function"?ot=l(Oe):ot=[l,Ee?"active":null,Re?"pending":null,Y?"transitioning":null].filter(Boolean).join(" ");let Je=typeof f=="function"?f(Oe):f;return x.createElement(nn,ad({},w,{"aria-current":De,className:ot,ref:n,style:Je,to:m,viewTransition:p}),typeof v=="function"?v(Oe):v)});var mg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mg||(mg={}));var qx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qx||(qx={}));function wA(t){let e=x.useContext(jd);return e||ht(!1),e}function EA(t,e){let{target:n,replace:s,state:a,preventScrollReset:l,relative:c,viewTransition:f}=e===void 0?{}:e,m=wn(),p=rs(),v=Md(t,{relative:c});return x.useCallback(w=>{if(dA(w,n)){w.preventDefault();let E=s!==void 0?s:id(p)===id(v);m(t,{replace:E,state:a,preventScrollReset:l,relative:c,viewTransition:f})}},[p,m,v,s,a,n,t,l,c,f])}function _A(t){let e=x.useRef(fg(t)),n=x.useRef(!1),s=rs(),a=x.useMemo(()=>hA(s.search,n.current?null:e.current),[s.search]),l=wn(),c=x.useCallback((f,m)=>{const p=fg(typeof f=="function"?f(a):f);n.current=!0,l("?"+p,m)},[l,a]);return[a,c]}function SA(t,e){e===void 0&&(e={});let n=x.useContext(pA);n==null&&ht(!1);let{basename:s}=wA(mg.useViewTransitionState),a=Md(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Ha(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Ha(n.nextLocation.pathname,s)||n.nextLocation.pathname;return dg(a.pathname,c)!=null||dg(a.pathname,l)!=null}function TA({darkMode:t}){const e=new Date().getFullYear();return g.jsx("footer",{className:`w-full p-6 md:py-8 mt-auto
                  ${t?"bg-gray-950 text-gray-400 border-t border-gray-700/50":"bg-gray-100 text-gray-600 border-t border-gray-200"}`,children:g.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-center md:text-left",children:[g.jsxs("div",{className:"mb-4 md:mb-0",children:[g.jsx("h3",{className:`text-xl font-bold mb-1 ${t?"text-ollo-accent-light":"text-ollo-deep"}`,children:"OLLO"}),g.jsxs("p",{className:"text-xs",children:["© ",e," OLLO. Todos os direitos reservados."]})]}),g.jsxs("div",{className:"flex flex-col space-y-2 sm:space-y-0 sm:flex-row sm:space-x-4 md:space-x-6",children:[g.jsx(nn,{to:"/terms",className:`text-xs sm:text-sm hover:underline ${t?"hover:text-ollo-bg-light":"hover:text-ollo-deep"}`,children:"Termos de Serviço"}),g.jsx(nn,{to:"/privacy",className:`text-xs sm:text-sm hover:underline ${t?"hover:text-ollo-bg-light":"hover:text-ollo-deep"}`,children:"Política de Privacidade"}),g.jsx(nn,{to:"/help",className:`text-xs sm:text-sm hover:underline ${t?"hover:text-ollo-bg-light":"hover:text-ollo-deep"}`,children:"Ajuda"})]})]})})})}function NA({onAddPost:t}){const e="Usuário OLLO",[n,s]=x.useState(""),a=()=>{n.trim()&&(t(n),s(""))},l=()=>{const v=document.documentElement.classList.contains("dark"),w=v?"00A896":"0D1B2A",E=v?"0D1B2A":"E0E1DD";return`https://ui-avatars.com/api/?name=${encodeURIComponent(e)}&background=${w}&color=${E}&bold=true&size=128`},c=({title:v,path:w})=>g.jsx("button",{type:"button",title:v,className:`p-1 w-8 h-8 rounded-lg cursor-pointer transition-all duration-150 ease-in-out \r
                 text-gray-500 hover:text-ollo-deep hover:bg-gray-200/70\r
                 dark:text-gray-400 dark:hover:text-ollo-accent-light dark:hover:bg-gray-700/50`,children:g.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:w})})}),f=()=>g.jsx(c,{title:"Adicionar imagem",path:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"}),m=()=>g.jsx(c,{title:"Criar enquete",path:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"}),p=()=>g.jsx(c,{title:"Adicionar emoji",path:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"});return g.jsx("div",{className:"rounded-xl",children:g.jsxs("div",{className:"flex items-start space-x-3 sm:space-x-4",children:[g.jsx("img",{className:`h-10 w-10 sm:h-11 sm:w-11 rounded-full object-cover flex-shrink-0 \r
                     ring-2 ring-offset-2 ring-ollo-accent-light/80\r
                     ring-offset-ollo-light dark:ring-offset-ollo-deep`,src:l(),alt:"Seu avatar"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("textarea",{rows:"4",className:`w-full p-3 border rounded-xl shadow-sm resize-none \r
                       text-sm sm:text-base transition-colors duration-150 ease-in-out\r
                       bg-gray-50 dark:bg-gray-800/50 \r
                       border-gray-200 dark:border-gray-700\r
                       text-gray-800 dark:text-gray-200 \r
                       placeholder-gray-500 dark:placeholder-gray-400\r
                       focus:outline-none focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light\r
                       focus:border-transparent`,placeholder:`No que você está pensando, ${e}?`,value:n,onChange:v=>s(v.target.value)}),g.jsxs("div",{className:"flex items-center justify-between mt-3",children:[g.jsxs("div",{className:"flex space-x-1 sm:space-x-2",children:[g.jsx(f,{}),g.jsx(m,{}),g.jsx(p,{})]}),g.jsx("button",{onClick:a,disabled:!n.trim(),title:"Publicar seu Ollo",className:`inline-flex items-center px-5 py-2 rounded-lg text-sm font-semibold shadow-md\r
                         transition-all duration-150 ease-in-out active:scale-95 hover:bg-opacity-90 \r
                         disabled:opacity-60 disabled:cursor-not-allowed\r
                         bg-ollo-deep text-ollo-light \r
                         dark:bg-ollo-accent-light dark:text-ollo-deep\r
                         focus:outline-none focus:ring-2 focus:ring-offset-2 \r
                         focus:ring-ollo-deep dark:focus:ring-ollo-accent-light\r
                         focus:ring-offset-ollo-light dark:focus:ring-offset-ollo-deep`,children:"Postar"})]})]})]})})}function AA({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M11.03 3.97a.75.75 0 0 1 0 1.06l-6.22 6.22H21a.75.75 0 0 1 0 1.5H4.81l6.22 6.22a.75.75 0 1 1-1.06 1.06l-7.5-7.5a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const kA=x.forwardRef(AA);function CA({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const RA=x.forwardRef(CA);function OA({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const $w=x.forwardRef(OA);function DA({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-2.429 0-4.817.178-7.152.521C2.87 3.061 1.5 4.795 1.5 6.741v6.018c0 1.946 1.37 3.68 3.348 3.97.877.129 1.761.234 2.652.316V21a.75.75 0 0 0 1.28.53l4.184-4.183a.39.39 0 0 1 .266-.112c2.006-.05 3.982-.22 5.922-.506 1.978-.29 3.348-2.023 3.348-3.97V6.741c0-1.947-1.37-3.68-3.348-3.97A49.145 49.145 0 0 0 12 2.25ZM8.25 8.625a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25Zm2.625 1.125a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Zm4.875-1.125a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25Z",clipRule:"evenodd"}))}const jA=x.forwardRef(DA);function IA({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const MA=x.forwardRef(IA);function LA({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{d:"M15.73 5.5h1.035A7.465 7.465 0 0 1 18 9.625a7.465 7.465 0 0 1-1.235 4.125h-.148c-.806 0-1.534.446-2.031 1.08a9.04 9.04 0 0 1-2.861 2.4c-.723.384-1.35.956-1.653 1.715a4.499 4.499 0 0 0-.322 1.672v.633A.75.75 0 0 1 9 22a2.25 2.25 0 0 1-2.25-2.25c0-1.152.26-2.243.723-3.218.266-.558-.107-1.282-.725-1.282H3.622c-1.026 0-1.945-.694-2.054-1.715A12.137 12.137 0 0 1 1.5 12.25c0-2.848.992-5.464 2.649-7.521C4.537 4.247 5.136 4 5.754 4H9.77a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23ZM21.669 14.023c.536-1.362.831-2.845.831-4.398 0-1.22-.182-2.398-.52-3.507-.26-.85-1.084-1.368-1.973-1.368H19.1c-.445 0-.72.498-.523.898.591 1.2.924 2.55.924 3.977a8.958 8.958 0 0 1-1.302 4.666c-.245.403.028.959.5.959h1.053c.832 0 1.612-.453 1.918-1.227Z"}))}const UA=x.forwardRef(LA);function VA({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{d:"M7.493 18.5c-.425 0-.82-.236-.975-.632A7.48 7.48 0 0 1 6 15.125c0-1.75.599-3.358 1.602-4.634.151-.192.373-.309.6-.397.473-.183.89-.514 1.212-.924a9.042 9.042 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75A.75.75 0 0 1 15 2a2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H14.23c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23h-.777ZM2.331 10.727a11.969 11.969 0 0 0-.831 4.398 12 12 0 0 0 .52 3.507C2.28 19.482 3.105 20 3.994 20H4.9c.445 0 .72-.498.523-.898a8.963 8.963 0 0 1-.924-3.977c0-1.708.476-3.305 1.302-4.666.245-.403-.028-.959-.5-.959H4.25c-.832 0-1.612.453-1.918 1.227Z"}))}const BA=x.forwardRef(VA);function zA({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const Gw=x.forwardRef(zA);function PA({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const qA=x.forwardRef(PA);function FA({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const HA=x.forwardRef(FA);function $A({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{d:"M5.25 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM2.25 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM18.75 7.5a.75.75 0 0 0-1.5 0v2.25H15a.75.75 0 0 0 0 1.5h2.25v2.25a.75.75 0 0 0 1.5 0v-2.25H21a.75.75 0 0 0 0-1.5h-2.25V7.5Z"}))}const GA=x.forwardRef($A);function KA({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const YA=x.forwardRef(KA);function QA({onClose:t,onAddPost:e}){const n=x.useRef();return x.useEffect(()=>{const s=a=>{n.current&&!n.current.contains(a.target)&&t()};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[t]),x.useEffect(()=>{const s=a=>{a.key==="Escape"&&t()};return window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}},[t]),g.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-opacity duration-300 ease-in-out",role:"dialog","aria-modal":"true","aria-labelledby":"create-post-modal-title",children:g.jsxs("div",{ref:n,className:`w-full max-w-lg relative rounded-xl shadow-2xl p-6 \r
                   bg-ollo-light dark:bg-ollo-deep \r
                   border border-gray-300 dark:border-gray-700 \r
                   text-ollo-deep dark:text-gray-200`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{id:"create-post-modal-title",className:"text-2xl font-bold text-ollo-deep dark:text-ollo-accent-light",children:"Criar Nova Postagem"}),g.jsx("button",{onClick:t,className:`p-1.5 rounded-full transition-colors duration-150 ease-in-out\r
                       text-gray-500 hover:text-ollo-deep hover:bg-gray-200/50\r
                       dark:text-gray-400 dark:hover:text-ollo-accent-light dark:hover:bg-gray-700/50\r
                       focus:outline-none focus-visible:ring-2 focus-visible:ring-ollo-deep dark:focus-visible:ring-ollo-accent-light`,"aria-label":"Fechar modal",children:g.jsx(YA,{className:"h-6 w-6"})})]}),g.jsx(NA,{onAddPost:e})]})})}function XA({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"}))}const ZA=x.forwardRef(XA);function WA({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Gs=x.forwardRef(WA);function JA({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const e4=x.forwardRef(JA);function t4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const n4=x.forwardRef(t4);function r4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))}const s4=x.forwardRef(r4);function i4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const a4=x.forwardRef(i4);function o4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 9.75a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375m-13.5 3.01c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.184-4.183a1.14 1.14 0 0 1 .778-.332 48.294 48.294 0 0 0 5.83-.498c1.585-.233 2.708-1.626 2.708-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const l4=x.forwardRef(o4);function u4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const c4=x.forwardRef(u4);function d4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Kw=x.forwardRef(d4);function h4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const f4=x.forwardRef(h4);function m4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const g4=x.forwardRef(m4);function p4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const y4=x.forwardRef(p4);function v4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Yw=x.forwardRef(v4);function x4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Qw=x.forwardRef(x4);function b4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Xw=x.forwardRef(b4);function w4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.498 15.25H4.372c-1.026 0-1.945-.694-2.054-1.715a12.137 12.137 0 0 1-.068-1.285c0-2.848.992-5.464 2.649-7.521C5.287 4.247 5.886 4 6.504 4h4.016a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23h1.294M7.498 15.25c.618 0 .991.724.725 1.282A7.471 7.471 0 0 0 7.5 19.75 2.25 2.25 0 0 0 9.75 22a.75.75 0 0 0 .75-.75v-.633c0-.573.11-1.14.322-1.672.304-.76.93-1.33 1.653-1.715a9.04 9.04 0 0 0 2.86-2.4c.498-.634 1.226-1.08 2.032-1.08h.384m-10.253 1.5H9.7m8.075-9.75c.01.05.027.1.05.148.593 1.2.925 2.55.925 3.977 0 1.487-.36 2.89-.999 4.125m.023-8.25c-.076-.365.183-.75.575-.75h.908c.889 0 1.713.518 1.972 1.368.339 1.11.521 2.287.521 3.507 0 1.553-.295 3.036-.831 4.398-.306.774-1.086 1.227-1.918 1.227h-1.053c-.472 0-.745-.556-.5-.96a8.95 8.95 0 0 0 .303-.54"}))}const E4=x.forwardRef(w4);function _4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"}))}const S4=x.forwardRef(_4);function T4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const Zw=x.forwardRef(T4);function N4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const A4=x.forwardRef(N4);function k4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const C4=x.forwardRef(k4);function R4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const O4=x.forwardRef(R4);function D4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Ml=x.forwardRef(D4);function j4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const I4=x.forwardRef(j4);function M4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const L4=x.forwardRef(M4);function U4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const V4=x.forwardRef(U4);function B4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Ww=x.forwardRef(B4);function z4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Jw=x.forwardRef(z4);function P4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const q4=x.forwardRef(P4);function F4({title:t,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const H4=x.forwardRef(F4);var Fx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},$4=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},t2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,v=l>>2,w=(l&3)<<4|f>>4;let E=(f&15)<<2|p>>6,A=p&63;m||(A=64,c||(E=64)),s.push(n[v],n[w],n[E],n[A])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(e2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const w=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||w==null)throw new G4;const E=l<<2|f>>4;if(s.push(E),p!==64){const A=f<<4&240|p>>2;if(s.push(A),w!==64){const L=p<<6&192|w;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class G4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K4=function(t){const e=e2(t);return t2.encodeByteArray(e,!0)},od=function(t){return K4(t).replace(/\./g,"")},n2=function(t){try{return t2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=()=>Y4().__FIREBASE_DEFAULTS__,X4=()=>{if(typeof process>"u"||typeof Fx>"u")return;const t=Fx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Z4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&n2(t[1]);return e&&JSON.parse(e)},Ld=()=>{try{return Q4()||X4()||Z4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},r2=t=>{var e,n;return(n=(e=Ld())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},s2=t=>{const e=r2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},i2=()=>{var t;return(t=Ld())===null||t===void 0?void 0:t.config},a2=t=>{var e;return(e=Ld())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[od(JSON.stringify(n)),od(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function ek(){var t;const e=(t=Ld())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rk(){const t=an();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sk(){try{return typeof indexedDB=="object"}catch{return!1}}function ik(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="FirebaseError";class Sr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ak,Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?ok(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Sr(a,f,s)}}function ok(t,e){return t.replace(lk,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const lk=/\{\$([^}]+)}/g;function uk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ld(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(Hx(l)&&Hx(c)){if(!ld(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Hx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function yl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function vl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ck(t,e){const n=new dk(t,e);return n.subscribe.bind(n)}class dk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");hk(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Vm),a.error===void 0&&(a.error=Vm),a.complete===void 0&&(a.complete=Vm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class Ks{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new W4;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gk(e))try{this.getOrInitializeService({instanceIdentifier:bi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bi){return this.instances.has(e)}getOptions(e=bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mk(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=bi){return this.component?this.component.multipleInstances?e:bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mk(t){return t===bi?void 0:t}function gk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const yk={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},vk=Fe.INFO,xk={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},bk=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=xk[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sp{constructor(e){this.name=e,this._logLevel=vk,this._logHandler=bk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const wk=(t,e)=>e.some(n=>t instanceof n);let $x,Gx;function Ek(){return $x||($x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _k(){return Gx||(Gx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l2=new WeakMap,gg=new WeakMap,u2=new WeakMap,Bm=new WeakMap,ip=new WeakMap;function Sk(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(qs(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&l2.set(n,t)}).catch(()=>{}),ip.set(e,t),e}function Tk(t){if(gg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});gg.set(t,e)}let pg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||u2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Nk(t){pg=t(pg)}function Ak(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(zm(this),e,...n);return u2.set(s,e.sort?e.sort():[e]),qs(s)}:_k().includes(t)?function(...e){return t.apply(zm(this),e),qs(l2.get(this))}:function(...e){return qs(t.apply(zm(this),e))}}function kk(t){return typeof t=="function"?Ak(t):(t instanceof IDBTransaction&&Tk(t),wk(t,Ek())?new Proxy(t,pg):t)}function qs(t){if(t instanceof IDBRequest)return Sk(t);if(Bm.has(t))return Bm.get(t);const e=kk(t);return e!==t&&(Bm.set(t,e),ip.set(e,t)),e}const zm=t=>ip.get(t);function Ck(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=qs(c);return s&&c.addEventListener("upgradeneeded",m=>{s(qs(c.result),m.oldVersion,m.newVersion,qs(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const Rk=["get","getKey","getAll","getAllKeys","count"],Ok=["put","add","delete","clear"],Pm=new Map;function Kx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pm.get(e))return Pm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=Ok.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Rk.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return Pm.set(e,l),l}Nk(t=>({...t,get:(e,n,s)=>Kx(e,n)||t.get(e,n,s),has:(e,n)=>!!Kx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function jk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yg="@firebase/app",Yx="0.9.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new sp("@firebase/app"),Ik="@firebase/app-compat",Mk="@firebase/analytics-compat",Lk="@firebase/analytics",Uk="@firebase/app-check-compat",Vk="@firebase/app-check",Bk="@firebase/auth",zk="@firebase/auth-compat",Pk="@firebase/database",qk="@firebase/database-compat",Fk="@firebase/functions",Hk="@firebase/functions-compat",$k="@firebase/installations",Gk="@firebase/installations-compat",Kk="@firebase/messaging",Yk="@firebase/messaging-compat",Qk="@firebase/performance",Xk="@firebase/performance-compat",Zk="@firebase/remote-config",Wk="@firebase/remote-config-compat",Jk="@firebase/storage",eC="@firebase/storage-compat",tC="@firebase/firestore",nC="@firebase/firestore-compat",rC="firebase",sC="9.22.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="[DEFAULT]",iC={[yg]:"fire-core",[Ik]:"fire-core-compat",[Lk]:"fire-analytics",[Mk]:"fire-analytics-compat",[Vk]:"fire-app-check",[Uk]:"fire-app-check-compat",[Bk]:"fire-auth",[zk]:"fire-auth-compat",[Pk]:"fire-rtdb",[qk]:"fire-rtdb-compat",[Fk]:"fire-fn",[Hk]:"fire-fn-compat",[$k]:"fire-iid",[Gk]:"fire-iid-compat",[Kk]:"fire-fcm",[Yk]:"fire-fcm-compat",[Qk]:"fire-perf",[Xk]:"fire-perf-compat",[Zk]:"fire-rc",[Wk]:"fire-rc-compat",[Jk]:"fire-gcs",[eC]:"fire-gcs-compat",[tC]:"fire-fst",[nC]:"fire-fst-compat","fire-js":"fire-js",[rC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new Map,xg=new Map;function aC(t,e){try{t.container.addComponent(e)}catch(n){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ri(t){const e=t.name;if(xg.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;xg.set(e,t);for(const n of ud.values())aC(n,t);return!0}function Ud(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Fs=new tu("app","Firebase",oC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=sC;function c2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:vg,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Fs.create("bad-app-name",{appName:String(a)});if(n||(n=i2()),!n)throw Fs.create("no-options");const l=ud.get(a);if(l){if(ld(n,l.options)&&ld(s,l.config))return l;throw Fs.create("duplicate-app",{appName:a})}const c=new pk(a);for(const m of xg.values())c.addComponent(m);const f=new lC(n,s,c);return ud.set(a,f),f}function ap(t=vg){const e=ud.get(t);if(!e&&t===vg&&i2())return c2();if(!e)throw Fs.create("no-app",{appName:t});return e}function xr(t,e,n){var s;let a=(s=iC[t])!==null&&s!==void 0?s:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(f.join(" "));return}Ri(new Ks(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="firebase-heartbeat-database",cC=1,Ll="firebase-heartbeat-store";let qm=null;function d2(){return qm||(qm=Ck(uC,cC,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ll)}}}).catch(t=>{throw Fs.create("idb-open",{originalErrorMessage:t.message})})),qm}async function dC(t){try{return await(await d2()).transaction(Ll).objectStore(Ll).get(h2(t))}catch(e){if(e instanceof Sr)Ci.warn(e.message);else{const n=Fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ci.warn(n.message)}}}async function Qx(t,e){try{const s=(await d2()).transaction(Ll,"readwrite");await s.objectStore(Ll).put(e,h2(t)),await s.done}catch(n){if(n instanceof Sr)Ci.warn(n.message);else{const s=Fs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ci.warn(s.message)}}}function h2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=1024,fC=30*24*60*60*1e3;class mC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Xx();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=fC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Xx(),{heartbeatsToSend:n,unsentEntries:s}=gC(this._heartbeatsCache.heartbeats),a=od(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}}function Xx(){return new Date().toISOString().substring(0,10)}function gC(t,e=hC){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Zx(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Zx(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class pC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sk()?ik().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await dC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Qx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Qx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Zx(t){return od(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t){Ri(new Ks("platform-logger",e=>new Dk(e),"PRIVATE")),Ri(new Ks("heartbeat",e=>new mC(e),"PRIVATE")),xr(yg,Yx,t),xr(yg,Yx,"esm2017"),xr("fire-js","")}yC("");function op(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n}function f2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vC=f2,m2=new tu("auth","Firebase",f2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=new sp("@firebase/auth");function xC(t,...e){cd.logLevel<=Fe.WARN&&cd.warn(`Auth (${Ui}): ${t}`,...e)}function Yc(t,...e){cd.logLevel<=Fe.ERROR&&cd.error(`Auth (${Ui}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw lp(t,...e)}function br(t,...e){return lp(t,...e)}function bC(t,e,n){const s=Object.assign(Object.assign({},vC()),{[e]:n});return new tu("auth","Firebase",s).create(e,{appName:t.name})}function lp(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return m2.create(t,...e)}function me(t,e,...n){if(!t)throw lp(e,...n)}function Hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yc(e),new Error(e)}function Yr(t,e){t||Hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function wC(){return Wx()==="http:"||Wx()==="https:"}function Wx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wC()||tk()||"connection"in navigator)?navigator.onLine:!0}function _C(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yr(n>e,"Short delay should be less than long delay!"),this.isMobile=J4()||nk()}get(){return EC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(t,e){Yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=new ru(3e4,6e4);function ss(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function is(t,e,n,s,a={}){return p2(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const f=nu(Object.assign({key:t.config.apiKey},c)).slice(1),m=await t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),g2.fetch()(y2(t,t.config.apiHost,n,f),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))})}async function p2(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},SC),e);try{const a=new NC(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Ic(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Ic(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw Ic(t,"user-disabled",c);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw bC(t,v,p);Gn(t,v)}}catch(a){if(a instanceof Sr)throw a;Gn(t,"network-request-failed",{message:String(a)})}}async function su(t,e,n,s,a={}){const l=await is(t,e,n,s,a);return"mfaPendingCredential"in l&&Gn(t,"multi-factor-auth-required",{_serverResponse:l}),l}function y2(t,e,n,s){const a=`${e}${n}?${s}`;return t.config.emulator?up(t.config,a):`${t.config.apiScheme}://${a}`}class NC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(br(this.auth,"network-request-failed")),TC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ic(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=br(t,e,s);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(t,e){return is(t,"POST","/v1/accounts:delete",e)}async function kC(t,e){return is(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CC(t,e=!1){const n=ct(t),s=await n.getIdToken(e),a=cp(s);me(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Sl(Fm(a.auth_time)),issuedAtTime:Sl(Fm(a.iat)),expirationTime:Sl(Fm(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Fm(t){return Number(t)*1e3}function cp(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const a=n2(n);return a?JSON.parse(a):(Yc("Failed to decode base64 JWT payload"),null)}catch(a){return Yc("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function RC(t){const e=cp(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Sr&&OC(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function OC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(t){var e;const n=t.auth,s=await t.getIdToken(),a=await Ul(t,kC(n,{idToken:s}));me(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?MC(l.providerUserInfo):[],f=IC(t.providerData,c),m=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),v=m?p:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new v2(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(t,w)}async function jC(t){const e=ct(t);await dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IC(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function MC(t){return t.map(e=>{var{providerId:n}=e,s=op(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(t,e){const n=await p2(t,{},async()=>{const s=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=y2(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",g2.fetch()(c,{method:"POST",headers:f,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return me(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await LC(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Vl;return s&&(me(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(me(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(me(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ni{constructor(e){var{uid:n,auth:s,stsTokenManager:a}=e,l=op(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new v2(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return CC(this,e)}reload(){return jC(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await dd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ul(this,AC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,a,l,c,f,m,p,v;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,E=(a=n.email)!==null&&a!==void 0?a:void 0,A=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,L=(c=n.photoURL)!==null&&c!==void 0?c:void 0,V=(f=n.tenantId)!==null&&f!==void 0?f:void 0,O=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,Y=(p=n.createdAt)!==null&&p!==void 0?p:void 0,U=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:G,emailVerified:$,isAnonymous:Z,providerData:Ee,stsTokenManager:Re}=n;me(G&&Re,e,"internal-error");const Oe=Vl.fromJSON(this.name,Re);me(typeof G=="string",e,"internal-error"),Os(w,e.name),Os(E,e.name),me(typeof $=="boolean",e,"internal-error"),me(typeof Z=="boolean",e,"internal-error"),Os(A,e.name),Os(L,e.name),Os(V,e.name),Os(O,e.name),Os(Y,e.name),Os(U,e.name);const De=new Ni({uid:G,auth:e,email:E,emailVerified:$,displayName:w,isAnonymous:Z,photoURL:L,phoneNumber:A,tenantId:V,stsTokenManager:Oe,createdAt:Y,lastLoginAt:U});return Ee&&Array.isArray(Ee)&&(De.providerData=Ee.map(ot=>Object.assign({},ot))),O&&(De._redirectEventId=O),De}static async _fromIdTokenResponse(e,n,s=!1){const a=new Vl;a.updateFromServerResponse(n);const l=new Ni({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await dd(l),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=new Map;function $r(t){Yr(t instanceof Function,"Expected a class definition");let e=Jx.get(t);return e?(Yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Jx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}x2.type="NONE";const eb=x2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ua{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Qc(this.userKey,a.apiKey,l),this.fullPersistenceKey=Qc("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ni._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ua($r(eb),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||$r(eb);const c=Qc(s,e.config.apiKey,e.name);let f=null;for(const p of n)try{const v=await p._get(c);if(v){const w=Ni._fromJSON(e,v);p!==l&&(f=w),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Ua(l,e,s):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Ua(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S2(e))return"Blackberry";if(T2(e))return"Webos";if(dp(e))return"Safari";if((e.includes("chrome/")||w2(e))&&!e.includes("edge/"))return"Chrome";if(_2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function b2(t=an()){return/firefox\//i.test(t)}function dp(t=an()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w2(t=an()){return/crios\//i.test(t)}function E2(t=an()){return/iemobile/i.test(t)}function _2(t=an()){return/android/i.test(t)}function S2(t=an()){return/blackberry/i.test(t)}function T2(t=an()){return/webos/i.test(t)}function Vd(t=an()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UC(t=an()){var e;return Vd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function VC(){return rk()&&document.documentMode===10}function N2(t=an()){return Vd(t)||_2(t)||T2(t)||S2(t)||/windows phone/i.test(t)||E2(t)}function BC(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t,e=[]){let n;switch(t){case"Browser":n=tb(an());break;case"Worker":n=`${tb(an())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ui}/${s}`}async function k2(t,e){return is(t,"GET","/v2/recaptchaConfig",ss(t,e))}function nb(t){return t!==void 0&&t.enterprise!==void 0}class C2{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function R2(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=br("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",zC().appendChild(s)})}function PC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const qC="https://www.google.com/recaptcha/enterprise.js?render=",FC="recaptcha-enterprise",HC="NO_RECAPTCHA";class O2{constructor(e){this.type=FC,this.auth=Zs(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{k2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new C2(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;nb(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(HC)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,c)=>{s(this.auth).then(f=>{if(!n&&nb(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}R2(qC+f).then(()=>{a(f,l,c)}).catch(m=>{c(m)})}}).catch(f=>{c(f)})})}}async function $a(t,e,n,s=!1){const a=new O2(t);let l;try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c=Object.assign({},e);return s?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rb(this),this.idTokenSubscription=new rb(this),this.beforeStateQueue=new $C(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$r(n)),this._initializationPromise=this.queue(async()=>{var s,a;if(!this._deleted&&(this.persistenceManager=await Ua.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_C()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ct(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}async initializeRecaptchaConfig(){const e=await k2(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new C2(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new O2(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$r(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await Ua.create(this,[$r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n),c=this._isInitialized?Promise.resolve():this._initializationPromise;return me(c,this,"internal-error"),c.then(()=>l(this.currentUser)),typeof n=="function"?e.addObserver(n,s,a):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&xC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zs(t){return ct(t)}class rb{constructor(e){this.auth=e,this.observer=null,this.addObserver=ck(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t,e){const n=Ud(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(ld(l,e??{}))return a;Gn(a,"already-initialized")}return n.initialize({options:e})}function YC(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map($r);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function QC(t,e,n){const s=Zs(t);me(s._canInitEmulator,s,"emulator-config-failed"),me(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=D2(e),{host:c,port:f}=XC(e),m=f===null?"":`:${f}`;s.config.emulator={url:`${l}//${c}${m}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),ZC()}function D2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XC(t){const e=D2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:sb(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:sb(c)}}}function sb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ZC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,n){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(t,e){return is(t,"POST","/v1/accounts:resetPassword",ss(t,e))}async function WC(t,e){return is(t,"POST","/v1/accounts:update",e)}async function JC(t,e){return is(t,"POST","/v1/accounts:update",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hm(t,e){return su(t,"POST","/v1/accounts:signInWithPassword",ss(t,e))}async function I2(t,e){return is(t,"POST","/v1/accounts:sendOobCode",ss(t,e))}async function e3(t,e){return I2(t,e)}async function $m(t,e){return I2(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t3(t,e){return su(t,"POST","/v1/accounts:signInWithEmailLink",ss(t,e))}async function n3(t,e){return su(t,"POST","/v1/accounts:signInWithEmailLink",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends hp{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Bl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Bl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const a=await $a(e,s,"signInWithPassword");return Hm(e,a)}else return Hm(e,s).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const l=await $a(e,s,"signInWithPassword");return Hm(e,l)}else return Promise.reject(a)});case"emailLink":return t3(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return WC(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return n3(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(t,e){return su(t,"POST","/v1/accounts:signInWithIdp",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="http://localhost";class Oi extends hp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Oi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=n,l=op(n,["providerId","signInMethod"]);if(!s||!a)return null;const c=new Oi(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Va(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Va(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Va(e,n)}buildRequest(){const e={requestUri:r3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i3(t){const e=yl(vl(t)).link,n=e?yl(vl(e)).deep_link_id:null,s=yl(vl(t)).deep_link_id;return(s?yl(vl(s)).link:null)||s||n||e||t}class fp{constructor(e){var n,s,a,l,c,f;const m=yl(vl(e)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,v=(s=m.oobCode)!==null&&s!==void 0?s:null,w=s3((a=m.mode)!==null&&a!==void 0?a:null);me(p&&v&&w,"argument-error"),this.apiKey=p,this.operation=w,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=i3(e);try{return new fp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.providerId=ro.PROVIDER_ID}static credential(e,n){return Bl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=fp.parseLink(n);return me(s,"argument-error"),Bl._fromEmailAndCode(e,s.code,s.tenantId)}}ro.PROVIDER_ID="password";ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends M2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends iu{constructor(){super("facebook.com")}static credential(e){return Oi._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ds.credential(e.oauthAccessToken)}catch{return null}}}Ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Oi._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return js.credential(n,s)}catch{return null}}}js.GOOGLE_SIGN_IN_METHOD="google.com";js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends iu{constructor(){super("github.com")}static credential(e){return Oi._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com";Is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends iu{constructor(){super("twitter.com")}static credential(e,n){return Oi._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ms.credential(n,s)}catch{return null}}}Ms.TWITTER_SIGN_IN_METHOD="twitter.com";Ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gm(t,e){return su(t,"POST","/v1/accounts:signUp",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ni._fromIdTokenResponse(e,s,a),c=ib(s);return new Di({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=ib(s);return new Di({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function ib(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends Sr{constructor(e,n,s,a){var l;super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,hd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new hd(e,n,s,a)}}function L2(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?hd._fromErrorAndOperation(t,l,e,s):l})}async function a3(t,e,n=!1){const s=await Ul(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Di._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o3(t,e,n=!1){const{auth:s}=t,a="reauthenticate";try{const l=await Ul(t,L2(s,a,e,t),n);me(l.idToken,s,"internal-error");const c=cp(l.idToken);me(c,s,"internal-error");const{sub:f}=c;return me(t.uid===f,s,"user-mismatch"),Di._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Gn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(t,e,n=!1){const s="signIn",a=await L2(t,s,e),l=await Di._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function l3(t,e){return U2(Zs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?gp._fromServerResponse(e,n):"totpInfo"in n?pp._fromServerResponse(e,n):Gn(e,"internal-error")}}class gp extends mp{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new gp(n)}}class pp extends mp{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new pp(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t,e,n){var s;me(((s=n.url)===null||s===void 0?void 0:s.length)>0,t,"invalid-continue-uri"),me(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(me(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(me(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(t,e,n){var s;const a=Zs(t),l={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((s=a._getRecaptchaConfig())===null||s===void 0)&&s.emailPasswordEnabled){const c=await $a(a,l,"getOobCode",!0);n&&Xc(a,c,n),await $m(a,c)}else n&&Xc(a,l,n),await $m(a,l).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const f=await $a(a,l,"getOobCode",!0);n&&Xc(a,f,n),await $m(a,f)}else return Promise.reject(c)})}async function u3(t,e,n){await j2(ct(t),{oobCode:e,newPassword:n})}async function c3(t,e){await JC(ct(t),{oobCode:e})}async function d3(t,e){const n=ct(t),s=await j2(n,{oobCode:e}),a=s.requestType;switch(me(a,n,"internal-error"),a){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(s.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(s.mfaInfo,n,"internal-error");default:me(s.email,n,"internal-error")}let l=null;return s.mfaInfo&&(l=mp._fromServerResponse(Zs(n),s.mfaInfo)),{data:{email:(s.requestType==="VERIFY_AND_CHANGE_EMAIL"?s.newEmail:s.email)||null,previousEmail:(s.requestType==="VERIFY_AND_CHANGE_EMAIL"?s.email:s.newEmail)||null,multiFactorInfo:l},operation:a}}async function h3(t,e){const{data:n}=await d3(ct(t),e);return n.email}async function f3(t,e,n){var s;const a=Zs(t),l={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let c;if(!((s=a._getRecaptchaConfig())===null||s===void 0)&&s.emailPasswordEnabled){const p=await $a(a,l,"signUpPassword");c=Gm(a,p)}else c=Gm(a,l).catch(async p=>{if(p.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const v=await $a(a,l,"signUpPassword");return Gm(a,v)}else return Promise.reject(p)});const f=await c.catch(p=>Promise.reject(p)),m=await Di._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(m.user),m}function m3(t,e,n){return l3(ct(t),ro.credential(e,n))}async function B2(t,e){const n=ct(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Xc(n.auth,a,e);const{email:l}=await e3(n.auth,a);l!==t.email&&await t.reload()}function g3(t,e,n,s){return ct(t).onIdTokenChanged(e,n,s)}function p3(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}function z2(t,e,n,s){return ct(t).onAuthStateChanged(e,n,s)}function y3(t){return ct(t).signOut()}const fd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fd,"1"),this.storage.removeItem(fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(){const t=an();return dp(t)||Vd(t)}const x3=1e3,b3=10;class q2 extends P2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=v3()&&BC(),this.fallbackToPolling=N2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const s=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const c=this.storage.getItem(s);if(e.newValue!==c)e.newValue!==null?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!n)return}const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);VC()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,b3):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},x3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}q2.type="LOCAL";const w3=q2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2 extends P2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}F2.type="SESSION";const H2=F2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Bd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await E3(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=yp("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(w){const E=w;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function S3(t){wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function T3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function A3(){return $2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="firebaseLocalStorageDb",k3=1,md="firebaseLocalStorage",K2="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zd(t,e){return t.transaction([md],e?"readwrite":"readonly").objectStore(md)}function C3(){const t=indexedDB.deleteDatabase(G2);return new au(t).toPromise()}function wg(){const t=indexedDB.open(G2,k3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(md,{keyPath:K2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(md)?e(s):(s.close(),await C3(),e(await wg()))})})}async function ab(t,e,n){const s=zd(t,!0).put({[K2]:e,value:n});return new au(s).toPromise()}async function R3(t,e){const n=zd(t,!1).get(e),s=await new au(n).toPromise();return s===void 0?null:s.value}function ob(t,e){const n=zd(t,!0).delete(e);return new au(n).toPromise()}const O3=800,D3=3;class Y2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>D3)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bd._getInstance(A3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await T3(),!this.activeServiceWorker)return;this.sender=new _3(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wg();return await ab(e,fd,"1"),await ob(e,fd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>ab(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>R3(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ob(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=zd(a,!1).getAll();return new au(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),O3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y2.type="LOCAL";const j3=Y2;new ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t,e){return e?$r(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp extends hp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Va(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Va(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Va(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function M3(t){return U2(t.auth,new vp(t),t.bypassAuthState)}function L3(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),o3(n,new vp(t),t.bypassAuthState)}async function U3(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),a3(n,new vp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M3;case"linkViaPopup":case"linkViaRedirect":return U3;case"reauthViaPopup":case"reauthViaRedirect":return L3;default:Gn(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3=new ru(2e3,1e4);class Ma extends Q2{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Ma.currentPopupAction&&Ma.currentPopupAction.cancel(),Ma.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const e=yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ma.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,V3.get())};e()}}Ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3="pendingRedirect",Zc=new Map;class z3 extends Q2{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const s=await P3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function P3(t,e){const n=H3(e),s=F3(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function q3(t,e){Zc.set(t._key(),e)}function F3(t){return $r(t._redirectPersistence)}function H3(t){return Qc(B3,t.config.apiKey,t.name)}async function $3(t,e,n=!1){const s=Zs(t),a=I3(s,e),c=await new z3(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=10*60*1e3;class K3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!X2(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(br(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G3&&this.cachedEventUids.clear(),this.cachedEventUids.has(lb(e))}saveEventToCache(e){this.cachedEventUids.add(lb(e)),this.lastProcessedEventTime=Date.now()}}function lb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function X2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Y3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q3(t,e={}){return is(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z3=/^https?/;async function W3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Q3(t);for(const n of e)try{if(J3(n))return}catch{}Gn(t,"unauthorized-domain")}function J3(t){const e=bg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!Z3.test(n))return!1;if(X3.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=new ru(3e4,6e4);function ub(){const t=wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tR(t){return new Promise((e,n)=>{var s,a,l;function c(){ub(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ub(),n(br(t,"network-request-failed"))},timeout:eR.get()})}if(!((a=(s=wr().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=wr().gapi)===null||l===void 0)&&l.load)c();else{const f=PC("iframefcb");return wr()[f]=()=>{gapi.load?c():n(br(t,"network-request-failed"))},R2(`https://apis.google.com/js/api.js?onload=${f}`).catch(m=>n(m))}}).catch(e=>{throw Wc=null,e})}let Wc=null;function nR(t){return Wc=Wc||tR(t),Wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=new ru(5e3,15e3),sR="__/auth/iframe",iR="emulator/auth/iframe",aR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lR(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?up(e,iR):`https://${t.config.authDomain}/${sR}`,s={apiKey:e.apiKey,appName:t.name,v:Ui},a=oR.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${nu(s).slice(1)}`}async function uR(t){const e=await nR(t),n=wr().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:lR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aR,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=br(t,"network-request-failed"),f=wr().setTimeout(()=>{l(c)},rR.get());function m(){wr().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dR=500,hR=600,fR="_blank",mR="http://localhost";class cb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gR(t,e,n,s=dR,a=hR){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m=Object.assign(Object.assign({},cR),{width:s.toString(),height:a.toString(),top:l,left:c}),p=an().toLowerCase();n&&(f=w2(p)?fR:n),b2(p)&&(e=e||mR,m.scrollbars="yes");const v=Object.entries(m).reduce((E,[A,L])=>`${E}${A}=${L},`,"");if(UC(p)&&f!=="_self")return pR(e||"",f),new cb(null);const w=window.open(e||"",f,v);me(w,t,"popup-blocked");try{w.focus()}catch{}return new cb(w)}function pR(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="__/auth/handler",vR="emulator/auth/handler",xR=encodeURIComponent("fac");async function db(t,e,n,s,a,l){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ui,eventId:a};if(e instanceof M2){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",uk(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))c[v]=w}if(e instanceof iu){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await t._getAppCheckToken(),p=m?`#${xR}=${encodeURIComponent(m)}`:"";return`${bR(t)}?${nu(f).slice(1)}${p}`}function bR({config:t}){return t.emulator?up(t,vR):`https://${t.authDomain}/${yR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="webStorageSupport";class wR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H2,this._completeRedirectFn=$3,this._overrideRedirectResult=q3}async _openPopup(e,n,s,a){var l;Yr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await db(e,n,s,bg(),a);return gR(e,c,yp())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await db(e,n,s,bg(),a);return S3(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Yr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await uR(e),s=new K3(e);return n.register("authEvent",a=>(me(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Km,{type:Km},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Km];c!==void 0&&n(!!c),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=W3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return N2()||dp()||Vd()}}const ER=wR;var hb="@firebase/auth",fb="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function TR(t){Ri(new Ks("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;me(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A2(t)},p=new GC(s,a,l,m);return YC(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ri(new Ks("auth-internal",e=>{const n=Zs(e.getProvider("auth").getImmediate());return(s=>new _R(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(hb,fb,SR(t)),xr(hb,fb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=5*60,AR=a2("authIdTokenMaxAge")||NR;let mb=null;const kR=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>AR)return;const a=n==null?void 0:n.token;mb!==a&&(mb=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function CR(t=ap()){const e=Ud(t,"auth");if(e.isInitialized())return e.getImmediate();const n=KC(t,{popupRedirectResolver:ER,persistence:[j3,w3,H2]}),s=a2("authTokenSyncURL");if(s){const l=kR(s);p3(n,l,()=>l(n.currentUser)),g3(n,c=>l(c))}const a=r2("auth");return a&&QC(n,`http://${a}`),n}TR("Browser");var RR="firebase",OR="9.22.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(RR,OR,"app");var DR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},te,xp=xp||{},we=DR||self;function Pd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function qd(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function jR(t,e,n){return t.call.apply(t.bind,arguments)}function IR(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),t.apply(e,a)}}return function(){return t.apply(e,arguments)}}function rn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?rn=jR:rn=IR,rn.apply(null,arguments)}function Mc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function zt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(s,a,l){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[a].apply(s,c)}}function Ws(){this.s=this.s,this.o=this.o}var MR=0;Ws.prototype.s=!1;Ws.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),MR!=0)};Ws.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Z2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function bp(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function gb(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(Pd(s)){const a=t.length||0,l=s.length||0;t.length=a+l;for(let c=0;c<l;c++)t[a+c]=s[c]}else t.push(s)}}function sn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}sn.prototype.h=function(){this.defaultPrevented=!0};var LR=function(){if(!we.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{we.addEventListener("test",()=>{},e),we.removeEventListener("test",()=>{},e)}catch{}return t}();function zl(t){return/^[\s\xa0]*$/.test(t)}function Fd(){var t=we.navigator;return t&&(t=t.userAgent)?t:""}function fr(t){return Fd().indexOf(t)!=-1}function wp(t){return wp[" "](t),t}wp[" "]=function(){};function UR(t,e){var n=R6;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var VR=fr("Opera"),Ga=fr("Trident")||fr("MSIE"),W2=fr("Edge"),Eg=W2||Ga,J2=fr("Gecko")&&!(Fd().toLowerCase().indexOf("webkit")!=-1&&!fr("Edge"))&&!(fr("Trident")||fr("MSIE"))&&!fr("Edge"),BR=Fd().toLowerCase().indexOf("webkit")!=-1&&!fr("Edge");function eE(){var t=we.document;return t?t.documentMode:void 0}var _g;e:{var Ym="",Qm=function(){var t=Fd();if(J2)return/rv:([^\);]+)(\)|;)/.exec(t);if(W2)return/Edge\/([\d\.]+)/.exec(t);if(Ga)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(BR)return/WebKit\/(\S+)/.exec(t);if(VR)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Qm&&(Ym=Qm?Qm[1]:""),Ga){var Xm=eE();if(Xm!=null&&Xm>parseFloat(Ym)){_g=String(Xm);break e}}_g=Ym}var Sg;if(we.document&&Ga){var pb=eE();Sg=pb||parseInt(_g,10)||void 0}else Sg=void 0;var zR=Sg;function Pl(t,e){if(sn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(J2){e:{try{wp(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:PR[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Pl.$.h.call(this)}}zt(Pl,sn);var PR={2:"touch",3:"pen",4:"mouse"};Pl.prototype.h=function(){Pl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Hd="closure_listenable_"+(1e6*Math.random()|0),qR=0;function FR(t,e,n,s,a){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=a,this.key=++qR,this.fa=this.ia=!1}function $d(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ep(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function HR(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function tE(t){const e={};for(const n in t)e[n]=t[n];return e}const yb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nE(t,e){let n,s;for(let a=1;a<arguments.length;a++){s=arguments[a];for(n in s)t[n]=s[n];for(let l=0;l<yb.length;l++)n=yb[l],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function Gd(t){this.src=t,this.g={},this.h=0}Gd.prototype.add=function(t,e,n,s,a){var l=t.toString();t=this.g[l],t||(t=this.g[l]=[],this.h++);var c=Ng(t,e,s,a);return-1<c?(e=t[c],n||(e.ia=!1)):(e=new FR(e,this.src,l,!!s,a),e.ia=n,t.push(e)),e};function Tg(t,e){var n=e.type;if(n in t.g){var s=t.g[n],a=Z2(s,e),l;(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&($d(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ng(t,e,n,s){for(var a=0;a<t.length;++a){var l=t[a];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==s)return a}return-1}var _p="closure_lm_"+(1e6*Math.random()|0),Zm={};function rE(t,e,n,s,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)rE(t,e[l],n,s,a);return null}return n=aE(n),t&&t[Hd]?t.O(e,n,qd(s)?!!s.capture:!1,a):$R(t,e,n,!1,s,a)}function $R(t,e,n,s,a,l){if(!e)throw Error("Invalid event type");var c=qd(a)?!!a.capture:!!a,f=Tp(t);if(f||(t[_p]=f=new Gd(t)),n=f.add(e,n,s,c,l),n.proxy)return n;if(s=GR(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)LR||(a=c),a===void 0&&(a=!1),t.addEventListener(e.toString(),s,a);else if(t.attachEvent)t.attachEvent(iE(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function GR(){function t(n){return e.call(t.src,t.listener,n)}const e=KR;return t}function sE(t,e,n,s,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)sE(t,e[l],n,s,a);else s=qd(s)?!!s.capture:!!s,n=aE(n),t&&t[Hd]?(t=t.i,e=String(e).toString(),e in t.g&&(l=t.g[e],n=Ng(l,n,s,a),-1<n&&($d(l[n]),Array.prototype.splice.call(l,n,1),l.length==0&&(delete t.g[e],t.h--)))):t&&(t=Tp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ng(e,n,s,a)),(n=-1<t?e[t]:null)&&Sp(n))}function Sp(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Hd])Tg(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(iE(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Tp(e))?(Tg(n,t),n.h==0&&(n.src=null,e[_p]=null)):$d(t)}}}function iE(t){return t in Zm?Zm[t]:Zm[t]="on"+t}function KR(t,e){if(t.fa)t=!0;else{e=new Pl(e,this);var n=t.listener,s=t.la||t.src;t.ia&&Sp(t),t=n.call(s,e)}return t}function Tp(t){return t=t[_p],t instanceof Gd?t:null}var Wm="__closure_events_fn_"+(1e9*Math.random()>>>0);function aE(t){return typeof t=="function"?t:(t[Wm]||(t[Wm]=function(e){return t.handleEvent(e)}),t[Wm])}function Bt(){Ws.call(this),this.i=new Gd(this),this.S=this,this.J=null}zt(Bt,Ws);Bt.prototype[Hd]=!0;Bt.prototype.removeEventListener=function(t,e,n,s){sE(this,t,e,n,s)};function Kt(t,e){var n,s=t.J;if(s)for(n=[];s;s=s.J)n.push(s);if(t=t.S,s=e.type||e,typeof e=="string")e=new sn(e,t);else if(e instanceof sn)e.target=e.target||t;else{var a=e;e=new sn(s,t),nE(e,a)}if(a=!0,n)for(var l=n.length-1;0<=l;l--){var c=e.g=n[l];a=Lc(c,s,!0,e)&&a}if(c=e.g=t,a=Lc(c,s,!0,e)&&a,a=Lc(c,s,!1,e)&&a,n)for(l=0;l<n.length;l++)c=e.g=n[l],a=Lc(c,s,!1,e)&&a}Bt.prototype.N=function(){if(Bt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)$d(n[s]);delete t.g[e],t.h--}}this.J=null};Bt.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};Bt.prototype.P=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function Lc(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var c=e[l];if(c&&!c.fa&&c.capture==n){var f=c.listener,m=c.la||c.src;c.ia&&Tg(t.i,c),a=f.call(m,s)!==!1&&a}}return a&&!s.defaultPrevented}var Np=we.JSON.stringify;class YR{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function QR(){var t=Ap;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class XR{constructor(){this.h=this.g=null}add(e,n){const s=oE.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var oE=new YR(()=>new ZR,t=>t.reset());class ZR{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function WR(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function JR(t){we.setTimeout(()=>{throw t},0)}let ql,Fl=!1,Ap=new XR,lE=()=>{const t=we.Promise.resolve(void 0);ql=()=>{t.then(e6)}};var e6=()=>{for(var t;t=QR();){try{t.h.call(t.g)}catch(n){JR(n)}var e=oE;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Fl=!1};function Kd(t,e){Bt.call(this),this.h=t||1,this.g=e||we,this.j=rn(this.qb,this),this.l=Date.now()}zt(Kd,Bt);te=Kd.prototype;te.ga=!1;te.T=null;te.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kt(this,"tick"),this.ga&&(kp(this),this.start()))}};te.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function kp(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}te.N=function(){Kd.$.N.call(this),kp(this),delete this.g};function Cp(t,e,n){if(typeof t=="function")n&&(t=rn(t,n));else if(t&&typeof t.handleEvent=="function")t=rn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:we.setTimeout(t,e||0)}function uE(t){t.g=Cp(()=>{t.g=null,t.i&&(t.i=!1,uE(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class t6 extends Ws{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:uE(this)}N(){super.N(),this.g&&(we.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hl(t){Ws.call(this),this.h=t,this.g={}}zt(Hl,Ws);var vb=[];function cE(t,e,n,s){Array.isArray(n)||(n&&(vb[0]=n.toString()),n=vb);for(var a=0;a<n.length;a++){var l=rE(e,n[a],s||t.handleEvent,!1,t.h||t);if(!l)break;t.g[l.key]=l}}function dE(t){Ep(t.g,function(e,n){this.g.hasOwnProperty(n)&&Sp(e)},t),t.g={}}Hl.prototype.N=function(){Hl.$.N.call(this),dE(this)};Hl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Yd(){this.g=!0}Yd.prototype.Ea=function(){this.g=!1};function n6(t,e,n,s,a,l){t.info(function(){if(t.g)if(l)for(var c="",f=l.split("&"),m=0;m<f.length;m++){var p=f[m].split("=");if(1<p.length){var v=p[0];p=p[1];var w=v.split("_");c=2<=w.length&&w[1]=="type"?c+(v+"="+p+"&"):c+(v+"=redacted&")}}else c=null;else c=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+`
`+n+`
`+c})}function r6(t,e,n,s,a,l,c){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+`
`+n+`
`+l+" "+c})}function La(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+i6(t,n)+(s?" "+s:"")})}function s6(t,e){t.info(function(){return"TIMEOUT: "+e})}Yd.prototype.info=function(){};function i6(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if(l!="noop"&&l!="stop"&&l!="close")for(var c=1;c<a.length;c++)a[c]=""}}}}return Np(n)}catch{return e}}var Vi={},xb=null;function Qd(){return xb=xb||new Bt}Vi.Ta="serverreachability";function hE(t){sn.call(this,Vi.Ta,t)}zt(hE,sn);function $l(t){const e=Qd();Kt(e,new hE(e))}Vi.STAT_EVENT="statevent";function fE(t,e){sn.call(this,Vi.STAT_EVENT,t),this.stat=e}zt(fE,sn);function hn(t){const e=Qd();Kt(e,new fE(e,t))}Vi.Ua="timingevent";function mE(t,e){sn.call(this,Vi.Ua,t),this.size=e}zt(mE,sn);function ou(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return we.setTimeout(function(){t()},e)}var Xd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Rp(){}Rp.prototype.h=null;function bb(t){return t.h||(t.h=t.i())}function pE(){}var lu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Op(){sn.call(this,"d")}zt(Op,sn);function Dp(){sn.call(this,"c")}zt(Dp,sn);var Ag;function Zd(){}zt(Zd,Rp);Zd.prototype.g=function(){return new XMLHttpRequest};Zd.prototype.i=function(){return{}};Ag=new Zd;function uu(t,e,n,s){this.l=t,this.j=e,this.m=n,this.W=s||1,this.U=new Hl(this),this.P=a6,t=Eg?125:void 0,this.V=new Kd(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new yE}function yE(){this.i=null,this.g="",this.h=!1}var a6=45e3,kg={},gd={};te=uu.prototype;te.setTimeout=function(t){this.P=t};function Cg(t,e,n){t.L=1,t.v=Jd(Qr(e)),t.s=n,t.S=!0,vE(t,null)}function vE(t,e){t.G=Date.now(),cu(t),t.A=Qr(t.v);var n=t.A,s=t.W;Array.isArray(s)||(s=[String(s)]),NE(n.i,"t",s),t.C=0,n=t.l.J,t.h=new yE,t.g=KE(t.l,n?e:null,!t.s),0<t.O&&(t.M=new t6(rn(t.Pa,t,t.g),t.O)),cE(t.U,t.g,"readystatechange",t.nb),e=t.I?tE(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),$l(),n6(t.j,t.u,t.A,t.m,t.W,t.s)}te.nb=function(t){t=t.target;const e=this.M;e&&mr(t)==3?e.l():this.Pa(t)};te.Pa=function(t){try{if(t==this.g)e:{const v=mr(this.g);var e=this.g.Ia();const w=this.g.da();if(!(3>v)&&(v!=3||Eg||this.g&&(this.h.h||this.g.ja()||Sb(this.g)))){this.J||v!=4||e==7||(e==8||0>=w?$l(3):$l(2)),Wd(this);var n=this.g.da();this.ca=n;t:if(xE(this)){var s=Sb(this.g);t="";var a=s.length,l=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wi(this),Tl(this);var c="";break t}this.h.i=new we.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:l&&e==a-1});s.splice(0,a),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=n==200,r6(this.j,this.u,this.A,this.m,this.W,v,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zl(f)){var p=f;break t}}p=null}if(n=p)La(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rg(this,n);else{this.i=!1,this.o=3,hn(12),wi(this),Tl(this);break e}}this.S?(bE(this,v,c),Eg&&this.i&&v==3&&(cE(this.U,this.V,"tick",this.mb),this.V.start())):(La(this.j,this.m,c,null),Rg(this,c)),v==4&&wi(this),this.i&&!this.J&&(v==4?FE(this.l,this):(this.i=!1,cu(this)))}else A6(this.g),n==400&&0<c.indexOf("Unknown SID")?(this.o=3,hn(12)):(this.o=0,hn(13)),wi(this),Tl(this)}}}catch{}finally{}};function xE(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function bE(t,e,n){let s=!0,a;for(;!t.J&&t.C<n.length;)if(a=o6(t,n),a==gd){e==4&&(t.o=4,hn(14),s=!1),La(t.j,t.m,null,"[Incomplete Response]");break}else if(a==kg){t.o=4,hn(15),La(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else La(t.j,t.m,a,null),Rg(t,a);xE(t)&&a!=gd&&a!=kg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,hn(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vp(e),e.M=!0,hn(11))):(La(t.j,t.m,n,"[Invalid Chunked Response]"),wi(t),Tl(t))}te.mb=function(){if(this.g){var t=mr(this.g),e=this.g.ja();this.C<e.length&&(Wd(this),bE(this,t,e),this.i&&t!=4&&cu(this))}};function o6(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?gd:(n=Number(e.substring(n,s)),isNaN(n)?kg:(s+=1,s+n>e.length?gd:(e=e.slice(s,s+n),t.C=s+n,e)))}te.cancel=function(){this.J=!0,wi(this)};function cu(t){t.Y=Date.now()+t.P,wE(t,t.P)}function wE(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ou(rn(t.lb,t),e)}function Wd(t){t.B&&(we.clearTimeout(t.B),t.B=null)}te.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(s6(this.j,this.A),this.L!=2&&($l(),hn(17)),wi(this),this.o=2,Tl(this)):wE(this,this.Y-t)};function Tl(t){t.l.H==0||t.J||FE(t.l,t)}function wi(t){Wd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,kp(t.V),dE(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Rg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Og(n.i,t))){if(!t.K&&Og(n.i,t)&&n.H==3){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var a=s;if(a[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)vd(n),nh(n);else break e;Up(n),hn(18)}}else n.Fa=a[1],0<n.Fa-n.V&&37500>a[2]&&n.G&&n.A==0&&!n.v&&(n.v=ou(rn(n.ib,n),6e3));if(1>=CE(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ei(n,11)}else if((t.K||n.g==t)&&vd(n),!zl(e))for(a=n.Ja.g.parse(e),e=0;e<a.length;e++){let p=a[e];if(n.V=p[0],p=p[1],n.H==2)if(p[0]=="c"){n.K=p[1],n.pa=p[2];const v=p[3];v!=null&&(n.ra=v,n.l.info("VER="+n.ra));const w=p[4];w!=null&&(n.Ga=w,n.l.info("SVER="+n.Ga));const E=p[5];E!=null&&typeof E=="number"&&0<E&&(s=1.5*E,n.L=s,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const A=t.g;if(A){const L=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(L){var l=s.i;l.g||L.indexOf("spdy")==-1&&L.indexOf("quic")==-1&&L.indexOf("h2")==-1||(l.j=l.l,l.g=new Set,l.h&&(jp(l,l.h),l.h=null))}if(s.F){const V=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;V&&(s.Da=V,st(s.I,s.F,V))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),s=n;var c=t;if(s.wa=GE(s,s.J?s.pa:null,s.Y),c.K){RE(s.i,c);var f=c,m=s.L;m&&f.setTimeout(m),f.B&&(Wd(f),cu(f)),s.g=c}else PE(s);0<n.j.length&&rh(n)}else p[0]!="stop"&&p[0]!="close"||Ei(n,7);else n.H==3&&(p[0]=="stop"||p[0]=="close"?p[0]=="stop"?Ei(n,7):Lp(n):p[0]!="noop"&&n.h&&n.h.Aa(p),n.A=0)}}$l(4)}catch{}}function l6(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Pd(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function u6(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Pd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function EE(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Pd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=u6(t),s=l6(t),a=s.length,l=0;l<a;l++)e.call(void 0,s[l],n&&n[l],t)}var _E=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function c6(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),a=null;if(0<=s){var l=t[n].substring(0,s);a=t[n].substring(s+1)}else l=t[n];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}function Ai(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ai){this.h=t.h,pd(this,t.j),this.s=t.s,this.g=t.g,yd(this,t.m),this.l=t.l;var e=t.i,n=new Gl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),wb(this,n),this.o=t.o}else t&&(e=String(t).match(_E))?(this.h=!1,pd(this,e[1]||"",!0),this.s=xl(e[2]||""),this.g=xl(e[3]||"",!0),yd(this,e[4]),this.l=xl(e[5]||"",!0),wb(this,e[6]||"",!0),this.o=xl(e[7]||"")):(this.h=!1,this.i=new Gl(null,this.h))}Ai.prototype.toString=function(){var t=[],e=this.j;e&&t.push(bl(e,Eb,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(bl(e,Eb,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(bl(n,n.charAt(0)=="/"?f6:h6,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",bl(n,g6)),t.join("")};function Qr(t){return new Ai(t)}function pd(t,e,n){t.j=n?xl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function yd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function wb(t,e,n){e instanceof Gl?(t.i=e,p6(t.i,t.h)):(n||(e=bl(e,m6)),t.i=new Gl(e,t.h))}function st(t,e,n){t.i.set(e,n)}function Jd(t){return st(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function xl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function bl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,d6),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function d6(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Eb=/[#\/\?@]/g,h6=/[#\?:]/g,f6=/[#\?]/g,m6=/[#\?@]/g,g6=/#/g;function Gl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Js(t){t.g||(t.g=new Map,t.h=0,t.i&&c6(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}te=Gl.prototype;te.add=function(t,e){Js(this),this.i=null,t=so(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function SE(t,e){Js(t),e=so(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function TE(t,e){return Js(t),e=so(t,e),t.g.has(e)}te.forEach=function(t,e){Js(this),this.g.forEach(function(n,s){n.forEach(function(a){t.call(e,a,s,this)},this)},this)};te.ta=function(){Js(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const a=t[s];for(let l=0;l<a.length;l++)n.push(e[s])}return n};te.Z=function(t){Js(this);let e=[];if(typeof t=="string")TE(this,t)&&(e=e.concat(this.g.get(so(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};te.set=function(t,e){return Js(this),this.i=null,t=so(this,t),TE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};te.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function NE(t,e,n){SE(t,e),0<n.length&&(t.i=null,t.g.set(so(t,e),bp(n)),t.h+=n.length)}te.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const l=encodeURIComponent(String(s)),c=this.Z(s);for(s=0;s<c.length;s++){var a=l;c[s]!==""&&(a+="="+encodeURIComponent(String(c[s]))),t.push(a)}}return this.i=t.join("&")};function so(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function p6(t,e){e&&!t.j&&(Js(t),t.i=null,t.g.forEach(function(n,s){var a=s.toLowerCase();s!=a&&(SE(this,s),NE(this,a,n))},t)),t.j=e}var y6=class{constructor(t,e){this.g=t,this.map=e}};function AE(t){this.l=t||v6,we.PerformanceNavigationTiming?(t=we.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(we.g&&we.g.Ka&&we.g.Ka()&&we.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var v6=10;function kE(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function CE(t){return t.h?1:t.g?t.g.size:0}function Og(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function jp(t,e){t.g?t.g.add(e):t.h=e}function RE(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}AE.prototype.cancel=function(){if(this.i=OE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function OE(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return bp(t.i)}var x6=class{stringify(t){return we.JSON.stringify(t,void 0)}parse(t){return we.JSON.parse(t,void 0)}};function b6(){this.g=new x6}function w6(t,e,n){const s=n||"";try{EE(t,function(a,l){let c=a;qd(a)&&(c=Np(a)),e.push(s+l+"="+encodeURIComponent(c))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function E6(t,e){const n=new Yd;if(we.Image){const s=new Image;s.onload=Mc(Uc,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Mc(Uc,n,s,"TestLoadImage: error",!1,e),s.onabort=Mc(Uc,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Mc(Uc,n,s,"TestLoadImage: timeout",!1,e),we.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function Uc(t,e,n,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function du(t){this.l=t.fc||null,this.j=t.ob||!1}zt(du,Rp);du.prototype.g=function(){return new eh(this.l,this.j)};du.prototype.i=function(t){return function(){return t}}({});function eh(t,e){Bt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ip,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zt(eh,Bt);var Ip=0;te=eh.prototype;te.open=function(t,e){if(this.readyState!=Ip)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Kl(this)};te.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||we).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hu(this)),this.readyState=Ip};te.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Kl(this)),this.g&&(this.readyState=3,Kl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof we.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DE(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function DE(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}te.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?hu(this):Kl(this),this.readyState==3&&DE(this)}};te.Za=function(t){this.g&&(this.response=this.responseText=t,hu(this))};te.Ya=function(t){this.g&&(this.response=t,hu(this))};te.ka=function(){this.g&&hu(this)};function hu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Kl(t)}te.setRequestHeader=function(t,e){this.v.append(t,e)};te.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};te.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Kl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(eh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var _6=we.JSON.parse;function pt(t){Bt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=jE,this.L=this.M=!1}zt(pt,Bt);var jE="",S6=/^https?$/i,T6=["POST","PUT"];te=pt.prototype;te.Oa=function(t){this.M=t};te.ha=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ag.g(),this.C=this.u?bb(this.u):bb(Ag),this.g.onreadystatechange=rn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(l){_b(this,l);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)n.set(a,s[a]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const l of s.keys())n.set(l,s.get(l));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(l=>l.toLowerCase()=="content-type"),a=we.FormData&&t instanceof we.FormData,!(0<=Z2(T6,e))||s||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,c]of n)this.g.setRequestHeader(l,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{LE(this),0<this.B&&((this.L=N6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rn(this.ua,this)):this.A=Cp(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(l){_b(this,l)}};function N6(t){return Ga&&typeof t.timeout=="number"&&t.ontimeout!==void 0}te.ua=function(){typeof xp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kt(this,"timeout"),this.abort(8))};function _b(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,IE(t),th(t)}function IE(t){t.F||(t.F=!0,Kt(t,"complete"),Kt(t,"error"))}te.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Kt(this,"complete"),Kt(this,"abort"),th(this))};te.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),th(this,!0)),pt.$.N.call(this)};te.La=function(){this.s||(this.G||this.v||this.l?ME(this):this.kb())};te.kb=function(){ME(this)};function ME(t){if(t.h&&typeof xp<"u"&&(!t.C[1]||mr(t)!=4||t.da()!=2)){if(t.v&&mr(t)==4)Cp(t.La,0,t);else if(Kt(t,"readystatechange"),mr(t)==4){t.h=!1;try{const c=t.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=c===0){var a=String(t.I).match(_E)[1]||null;!a&&we.self&&we.self.location&&(a=we.self.location.protocol.slice(0,-1)),s=!S6.test(a?a.toLowerCase():"")}n=s}if(n)Kt(t,"complete"),Kt(t,"success");else{t.m=6;try{var l=2<mr(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.da()+"]",IE(t)}}finally{th(t)}}}}function th(t,e){if(t.g){LE(t);const n=t.g,s=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Kt(t,"ready");try{n.onreadystatechange=s}catch{}}}function LE(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(we.clearTimeout(t.A),t.A=null)}te.isActive=function(){return!!this.g};function mr(t){return t.g?t.g.readyState:0}te.da=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}};te.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};te.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),_6(e)}};function Sb(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case jE:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function A6(t){const e={};t=(t.g&&2<=mr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<t.length;s++){if(zl(t[s]))continue;var n=WR(t[s]);const a=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const l=e[a]||[];e[a]=l,l.push(n)}HR(e,function(s){return s.join(", ")})}te.Ia=function(){return this.m};te.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function UE(t){let e="";return Ep(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function Mp(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=UE(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):st(t,e,n))}function hl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function VE(t){this.Ga=0,this.j=[],this.l=new Yd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=hl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=hl("baseRetryDelayMs",5e3,t),this.hb=hl("retryDelaySeedMs",1e4,t),this.eb=hl("forwardChannelMaxRetries",2,t),this.xa=hl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new AE(t&&t.concurrentRequestLimit),this.Ja=new b6,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}te=VE.prototype;te.ra=8;te.H=1;function Lp(t){if(BE(t),t.H==3){var e=t.W++,n=Qr(t.I);if(st(n,"SID",t.K),st(n,"RID",e),st(n,"TYPE","terminate"),fu(t,n),e=new uu(t,t.l,e),e.L=2,e.v=Jd(Qr(n)),n=!1,we.navigator&&we.navigator.sendBeacon)try{n=we.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&we.Image&&(new Image().src=e.v,n=!0),n||(e.g=KE(e.l,null),e.g.ha(e.v)),e.G=Date.now(),cu(e)}$E(t)}function nh(t){t.g&&(Vp(t),t.g.cancel(),t.g=null)}function BE(t){nh(t),t.u&&(we.clearTimeout(t.u),t.u=null),vd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&we.clearTimeout(t.m),t.m=null)}function rh(t){if(!kE(t.i)&&!t.m){t.m=!0;var e=t.Na;ql||lE(),Fl||(ql(),Fl=!0),Ap.add(e,t),t.C=0}}function k6(t,e){return CE(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ou(rn(t.Na,t,e),HE(t,t.C)),t.C++,!0)}te.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const a=new uu(this,this.l,t);let l=this.s;if(this.U&&(l?(l=tE(l),nE(l,this.U)):l=this.U),this.o!==null||this.O||(a.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var s=this.j[n];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=zE(this,a,e),n=Qr(this.I),st(n,"RID",t),st(n,"CVER",22),this.F&&st(n,"X-HTTP-Session-Id",this.F),fu(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(UE(l)))+"&"+e:this.o&&Mp(n,this.o,l)),jp(this.i,a),this.bb&&st(n,"TYPE","init"),this.P?(st(n,"$req",e),st(n,"SID","null"),a.aa=!0,Cg(a,n,null)):Cg(a,n,e),this.H=2}}else this.H==3&&(t?Tb(this,t):this.j.length==0||kE(this.i)||Tb(this))};function Tb(t,e){var n;e?n=e.m:n=t.W++;const s=Qr(t.I);st(s,"SID",t.K),st(s,"RID",n),st(s,"AID",t.V),fu(t,s),t.o&&t.s&&Mp(s,t.o,t.s),n=new uu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=zE(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),jp(t.i,n),Cg(n,s,e)}function fu(t,e){t.na&&Ep(t.na,function(n,s){st(e,s,n)}),t.h&&EE({},function(n,s){st(e,s,n)})}function zE(t,e,n){n=Math.min(t.j.length,n);var s=t.h?rn(t.h.Va,t.h,t):null;e:{var a=t.j;let l=-1;for(;;){const c=["count="+n];l==-1?0<n?(l=a[0].g,c.push("ofs="+l)):l=0:c.push("ofs="+l);let f=!0;for(let m=0;m<n;m++){let p=a[m].g;const v=a[m].map;if(p-=l,0>p)l=Math.max(0,a[m].g-100),f=!1;else try{w6(v,c,"req"+p+"_")}catch{s&&s(v)}}if(f){s=c.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,s}function PE(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ql||lE(),Fl||(ql(),Fl=!0),Ap.add(e,t),t.A=0}}function Up(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ou(rn(t.Ma,t),HE(t,t.A)),t.A++,!0)}te.Ma=function(){if(this.u=null,qE(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ou(rn(this.jb,this),t)}};te.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,hn(10),nh(this),qE(this))};function Vp(t){t.B!=null&&(we.clearTimeout(t.B),t.B=null)}function qE(t){t.g=new uu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Qr(t.wa);st(e,"RID","rpc"),st(e,"SID",t.K),st(e,"AID",t.V),st(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&st(e,"TO",t.qa),st(e,"TYPE","xmlhttp"),fu(t,e),t.o&&t.s&&Mp(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Jd(Qr(e)),n.s=null,n.S=!0,vE(n,t)}te.ib=function(){this.v!=null&&(this.v=null,nh(this),Up(this),hn(19))};function vd(t){t.v!=null&&(we.clearTimeout(t.v),t.v=null)}function FE(t,e){var n=null;if(t.g==e){vd(t),Vp(t),t.g=null;var s=2}else if(Og(t.i,e))n=e.F,RE(t.i,e),s=1;else return;if(t.H!=0){if(e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var a=t.C;s=Qd(),Kt(s,new mE(s,n)),rh(t)}else PE(t);else if(a=e.o,a==3||a==0&&0<e.ca||!(s==1&&k6(t,e)||s==2&&Up(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),a){case 1:Ei(t,5);break;case 4:Ei(t,10);break;case 3:Ei(t,6);break;default:Ei(t,2)}}}function HE(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ei(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var s=rn(t.pb,t);n||(n=new Ai("//www.google.com/images/cleardot.gif"),we.location&&we.location.protocol=="http"||pd(n,"https"),Jd(n)),E6(n.toString(),s)}else hn(2);t.H=0,t.h&&t.h.za(e),$E(t),BE(t)}te.pb=function(t){t?(this.l.info("Successfully pinged google.com"),hn(2)):(this.l.info("Failed to ping google.com"),hn(1))};function $E(t){if(t.H=0,t.ma=[],t.h){const e=OE(t.i);(e.length!=0||t.j.length!=0)&&(gb(t.ma,e),gb(t.ma,t.j),t.i.i.length=0,bp(t.j),t.j.length=0),t.h.ya()}}function GE(t,e,n){var s=n instanceof Ai?Qr(n):new Ai(n);if(s.g!="")e&&(s.g=e+"."+s.g),yd(s,s.m);else{var a=we.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var l=new Ai(null);s&&pd(l,s),e&&(l.g=e),a&&yd(l,a),n&&(l.l=n),s=l}return n=t.F,e=t.Da,n&&e&&st(s,n,e),st(s,"VER",t.ra),fu(t,s),s}function KE(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new pt(new du({ob:!0})):new pt(t.va),e.Oa(t.J),e}te.isActive=function(){return!!this.h&&this.h.isActive(this)};function YE(){}te=YE.prototype;te.Ba=function(){};te.Aa=function(){};te.za=function(){};te.ya=function(){};te.isActive=function(){return!0};te.Va=function(){};function xd(){if(Ga&&!(10<=Number(zR)))throw Error("Environmental error: no available transport.")}xd.prototype.g=function(t,e){return new jn(t,e)};function jn(t,e){Bt.call(this),this.g=new VE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!zl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new io(this)}zt(jn,Bt);jn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;hn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=GE(t,null,t.Y),rh(t)};jn.prototype.close=function(){Lp(this.g)};jn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Np(t),t=n);e.j.push(new y6(e.fb++,t)),e.H==3&&rh(e)};jn.prototype.N=function(){this.g.h=null,delete this.j,Lp(this.g),delete this.g,jn.$.N.call(this)};function QE(t){Op.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}zt(QE,Op);function XE(){Dp.call(this),this.status=1}zt(XE,Dp);function io(t){this.g=t}zt(io,YE);io.prototype.Ba=function(){Kt(this.g,"a")};io.prototype.Aa=function(t){Kt(this.g,new QE(t))};io.prototype.za=function(t){Kt(this.g,new XE)};io.prototype.ya=function(){Kt(this.g,"b")};function C6(){this.blockSize=-1}function tr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}zt(tr,C6);tr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Jm(t,e,n){n||(n=0);var s=Array(16);if(typeof e=="string")for(var a=0;16>a;++a)s[a]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(a=0;16>a;++a)s[a]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],a=t.g[2];var l=t.g[3],c=e+(l^n&(a^l))+s[0]+3614090360&4294967295;e=n+(c<<7&4294967295|c>>>25),c=l+(a^e&(n^a))+s[1]+3905402710&4294967295,l=e+(c<<12&4294967295|c>>>20),c=a+(n^l&(e^n))+s[2]+606105819&4294967295,a=l+(c<<17&4294967295|c>>>15),c=n+(e^a&(l^e))+s[3]+3250441966&4294967295,n=a+(c<<22&4294967295|c>>>10),c=e+(l^n&(a^l))+s[4]+4118548399&4294967295,e=n+(c<<7&4294967295|c>>>25),c=l+(a^e&(n^a))+s[5]+1200080426&4294967295,l=e+(c<<12&4294967295|c>>>20),c=a+(n^l&(e^n))+s[6]+2821735955&4294967295,a=l+(c<<17&4294967295|c>>>15),c=n+(e^a&(l^e))+s[7]+4249261313&4294967295,n=a+(c<<22&4294967295|c>>>10),c=e+(l^n&(a^l))+s[8]+1770035416&4294967295,e=n+(c<<7&4294967295|c>>>25),c=l+(a^e&(n^a))+s[9]+2336552879&4294967295,l=e+(c<<12&4294967295|c>>>20),c=a+(n^l&(e^n))+s[10]+4294925233&4294967295,a=l+(c<<17&4294967295|c>>>15),c=n+(e^a&(l^e))+s[11]+2304563134&4294967295,n=a+(c<<22&4294967295|c>>>10),c=e+(l^n&(a^l))+s[12]+1804603682&4294967295,e=n+(c<<7&4294967295|c>>>25),c=l+(a^e&(n^a))+s[13]+4254626195&4294967295,l=e+(c<<12&4294967295|c>>>20),c=a+(n^l&(e^n))+s[14]+2792965006&4294967295,a=l+(c<<17&4294967295|c>>>15),c=n+(e^a&(l^e))+s[15]+1236535329&4294967295,n=a+(c<<22&4294967295|c>>>10),c=e+(a^l&(n^a))+s[1]+4129170786&4294967295,e=n+(c<<5&4294967295|c>>>27),c=l+(n^a&(e^n))+s[6]+3225465664&4294967295,l=e+(c<<9&4294967295|c>>>23),c=a+(e^n&(l^e))+s[11]+643717713&4294967295,a=l+(c<<14&4294967295|c>>>18),c=n+(l^e&(a^l))+s[0]+3921069994&4294967295,n=a+(c<<20&4294967295|c>>>12),c=e+(a^l&(n^a))+s[5]+3593408605&4294967295,e=n+(c<<5&4294967295|c>>>27),c=l+(n^a&(e^n))+s[10]+38016083&4294967295,l=e+(c<<9&4294967295|c>>>23),c=a+(e^n&(l^e))+s[15]+3634488961&4294967295,a=l+(c<<14&4294967295|c>>>18),c=n+(l^e&(a^l))+s[4]+3889429448&4294967295,n=a+(c<<20&4294967295|c>>>12),c=e+(a^l&(n^a))+s[9]+568446438&4294967295,e=n+(c<<5&4294967295|c>>>27),c=l+(n^a&(e^n))+s[14]+3275163606&4294967295,l=e+(c<<9&4294967295|c>>>23),c=a+(e^n&(l^e))+s[3]+4107603335&4294967295,a=l+(c<<14&4294967295|c>>>18),c=n+(l^e&(a^l))+s[8]+1163531501&4294967295,n=a+(c<<20&4294967295|c>>>12),c=e+(a^l&(n^a))+s[13]+2850285829&4294967295,e=n+(c<<5&4294967295|c>>>27),c=l+(n^a&(e^n))+s[2]+4243563512&4294967295,l=e+(c<<9&4294967295|c>>>23),c=a+(e^n&(l^e))+s[7]+1735328473&4294967295,a=l+(c<<14&4294967295|c>>>18),c=n+(l^e&(a^l))+s[12]+2368359562&4294967295,n=a+(c<<20&4294967295|c>>>12),c=e+(n^a^l)+s[5]+4294588738&4294967295,e=n+(c<<4&4294967295|c>>>28),c=l+(e^n^a)+s[8]+2272392833&4294967295,l=e+(c<<11&4294967295|c>>>21),c=a+(l^e^n)+s[11]+1839030562&4294967295,a=l+(c<<16&4294967295|c>>>16),c=n+(a^l^e)+s[14]+4259657740&4294967295,n=a+(c<<23&4294967295|c>>>9),c=e+(n^a^l)+s[1]+2763975236&4294967295,e=n+(c<<4&4294967295|c>>>28),c=l+(e^n^a)+s[4]+1272893353&4294967295,l=e+(c<<11&4294967295|c>>>21),c=a+(l^e^n)+s[7]+4139469664&4294967295,a=l+(c<<16&4294967295|c>>>16),c=n+(a^l^e)+s[10]+3200236656&4294967295,n=a+(c<<23&4294967295|c>>>9),c=e+(n^a^l)+s[13]+681279174&4294967295,e=n+(c<<4&4294967295|c>>>28),c=l+(e^n^a)+s[0]+3936430074&4294967295,l=e+(c<<11&4294967295|c>>>21),c=a+(l^e^n)+s[3]+3572445317&4294967295,a=l+(c<<16&4294967295|c>>>16),c=n+(a^l^e)+s[6]+76029189&4294967295,n=a+(c<<23&4294967295|c>>>9),c=e+(n^a^l)+s[9]+3654602809&4294967295,e=n+(c<<4&4294967295|c>>>28),c=l+(e^n^a)+s[12]+3873151461&4294967295,l=e+(c<<11&4294967295|c>>>21),c=a+(l^e^n)+s[15]+530742520&4294967295,a=l+(c<<16&4294967295|c>>>16),c=n+(a^l^e)+s[2]+3299628645&4294967295,n=a+(c<<23&4294967295|c>>>9),c=e+(a^(n|~l))+s[0]+4096336452&4294967295,e=n+(c<<6&4294967295|c>>>26),c=l+(n^(e|~a))+s[7]+1126891415&4294967295,l=e+(c<<10&4294967295|c>>>22),c=a+(e^(l|~n))+s[14]+2878612391&4294967295,a=l+(c<<15&4294967295|c>>>17),c=n+(l^(a|~e))+s[5]+4237533241&4294967295,n=a+(c<<21&4294967295|c>>>11),c=e+(a^(n|~l))+s[12]+1700485571&4294967295,e=n+(c<<6&4294967295|c>>>26),c=l+(n^(e|~a))+s[3]+2399980690&4294967295,l=e+(c<<10&4294967295|c>>>22),c=a+(e^(l|~n))+s[10]+4293915773&4294967295,a=l+(c<<15&4294967295|c>>>17),c=n+(l^(a|~e))+s[1]+2240044497&4294967295,n=a+(c<<21&4294967295|c>>>11),c=e+(a^(n|~l))+s[8]+1873313359&4294967295,e=n+(c<<6&4294967295|c>>>26),c=l+(n^(e|~a))+s[15]+4264355552&4294967295,l=e+(c<<10&4294967295|c>>>22),c=a+(e^(l|~n))+s[6]+2734768916&4294967295,a=l+(c<<15&4294967295|c>>>17),c=n+(l^(a|~e))+s[13]+1309151649&4294967295,n=a+(c<<21&4294967295|c>>>11),c=e+(a^(n|~l))+s[4]+4149444226&4294967295,e=n+(c<<6&4294967295|c>>>26),c=l+(n^(e|~a))+s[11]+3174756917&4294967295,l=e+(c<<10&4294967295|c>>>22),c=a+(e^(l|~n))+s[2]+718787259&4294967295,a=l+(c<<15&4294967295|c>>>17),c=n+(l^(a|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(a+(c<<21&4294967295|c>>>11))&4294967295,t.g[2]=t.g[2]+a&4294967295,t.g[3]=t.g[3]+l&4294967295}tr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,s=this.m,a=this.h,l=0;l<e;){if(a==0)for(;l<=n;)Jm(this,t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<e;)if(s[a++]=t.charCodeAt(l++),a==this.blockSize){Jm(this,s),a=0;break}}else for(;l<e;)if(s[a++]=t[l++],a==this.blockSize){Jm(this,s),a=0;break}}this.h=a,this.i+=e};tr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)t[n++]=this.g[e]>>>s&255;return t};function Qe(t,e){this.h=e;for(var n=[],s=!0,a=t.length-1;0<=a;a--){var l=t[a]|0;s&&l==e||(n[a]=l,s=!1)}this.g=n}var R6={};function Bp(t){return-128<=t&&128>t?UR(t,function(e){return new Qe([e|0],0>e?-1:0)}):new Qe([t|0],0>t?-1:0)}function gr(t){if(isNaN(t)||!isFinite(t))return Ba;if(0>t)return Gt(gr(-t));for(var e=[],n=1,s=0;t>=n;s++)e[s]=t/n|0,n*=Dg;return new Qe(e,0)}function ZE(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Gt(ZE(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=gr(Math.pow(e,8)),s=Ba,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+l),e);8>l?(l=gr(Math.pow(e,l)),s=s.R(l).add(gr(c))):(s=s.R(n),s=s.add(gr(c)))}return s}var Dg=4294967296,Ba=Bp(0),jg=Bp(1),Nb=Bp(16777216);te=Qe.prototype;te.ea=function(){if(Hn(this))return-Gt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);t+=(0<=s?s:Dg+s)*e,e*=Dg}return t};te.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Gr(this))return"0";if(Hn(this))return"-"+Gt(this).toString(t);for(var e=gr(Math.pow(t,6)),n=this,s="";;){var a=wd(n,e).g;n=bd(n,a.R(e));var l=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=a,Gr(n))return l+s;for(;6>l.length;)l="0"+l;s=l+s}};te.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Gr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Hn(t){return t.h==-1}te.X=function(t){return t=bd(this,t),Hn(t)?-1:Gr(t)?0:1};function Gt(t){for(var e=t.g.length,n=[],s=0;s<e;s++)n[s]=~t.g[s];return new Qe(n,~t.h).add(jg)}te.abs=function(){return Hn(this)?Gt(this):this};te.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0,a=0;a<=e;a++){var l=s+(this.D(a)&65535)+(t.D(a)&65535),c=(l>>>16)+(this.D(a)>>>16)+(t.D(a)>>>16);s=c>>>16,l&=65535,c&=65535,n[a]=c<<16|l}return new Qe(n,n[n.length-1]&-2147483648?-1:0)};function bd(t,e){return t.add(Gt(e))}te.R=function(t){if(Gr(this)||Gr(t))return Ba;if(Hn(this))return Hn(t)?Gt(this).R(Gt(t)):Gt(Gt(this).R(t));if(Hn(t))return Gt(this.R(Gt(t)));if(0>this.X(Nb)&&0>t.X(Nb))return gr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<t.g.length;a++){var l=this.D(s)>>>16,c=this.D(s)&65535,f=t.D(a)>>>16,m=t.D(a)&65535;n[2*s+2*a]+=c*m,Vc(n,2*s+2*a),n[2*s+2*a+1]+=l*m,Vc(n,2*s+2*a+1),n[2*s+2*a+1]+=c*f,Vc(n,2*s+2*a+1),n[2*s+2*a+2]+=l*f,Vc(n,2*s+2*a+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new Qe(n,0)};function Vc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function fl(t,e){this.g=t,this.h=e}function wd(t,e){if(Gr(e))throw Error("division by zero");if(Gr(t))return new fl(Ba,Ba);if(Hn(t))return e=wd(Gt(t),e),new fl(Gt(e.g),Gt(e.h));if(Hn(e))return e=wd(t,Gt(e)),new fl(Gt(e.g),e.h);if(30<t.g.length){if(Hn(t)||Hn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=jg,s=e;0>=s.X(t);)n=Ab(n),s=Ab(s);var a=Oa(n,1),l=Oa(s,1);for(s=Oa(s,2),n=Oa(n,2);!Gr(s);){var c=l.add(s);0>=c.X(t)&&(a=a.add(n),l=c),s=Oa(s,1),n=Oa(n,1)}return e=bd(t,a.R(e)),new fl(a,e)}for(a=Ba;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),l=gr(n),c=l.R(e);Hn(c)||0<c.X(t);)n-=s,l=gr(n),c=l.R(e);Gr(l)&&(l=jg),a=a.add(l),t=bd(t,c)}return new fl(a,t)}te.gb=function(t){return wd(this,t).h};te.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&t.D(s);return new Qe(n,this.h&t.h)};te.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|t.D(s);return new Qe(n,this.h|t.h)};te.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^t.D(s);return new Qe(n,this.h^t.h)};function Ab(t){for(var e=t.g.length+1,n=[],s=0;s<e;s++)n[s]=t.D(s)<<1|t.D(s-1)>>>31;return new Qe(n,t.h)}function Oa(t,e){var n=e>>5;e%=32;for(var s=t.g.length-n,a=[],l=0;l<s;l++)a[l]=0<e?t.D(l+n)>>>e|t.D(l+n+1)<<32-e:t.D(l+n);return new Qe(a,t.h)}xd.prototype.createWebChannel=xd.prototype.g;jn.prototype.send=jn.prototype.u;jn.prototype.open=jn.prototype.m;jn.prototype.close=jn.prototype.close;Xd.NO_ERROR=0;Xd.TIMEOUT=8;Xd.HTTP_ERROR=6;gE.COMPLETE="complete";pE.EventType=lu;lu.OPEN="a";lu.CLOSE="b";lu.ERROR="c";lu.MESSAGE="d";Bt.prototype.listen=Bt.prototype.O;pt.prototype.listenOnce=pt.prototype.P;pt.prototype.getLastError=pt.prototype.Sa;pt.prototype.getLastErrorCode=pt.prototype.Ia;pt.prototype.getStatus=pt.prototype.da;pt.prototype.getResponseJson=pt.prototype.Wa;pt.prototype.getResponseText=pt.prototype.ja;pt.prototype.send=pt.prototype.ha;pt.prototype.setWithCredentials=pt.prototype.Oa;tr.prototype.digest=tr.prototype.l;tr.prototype.reset=tr.prototype.reset;tr.prototype.update=tr.prototype.j;Qe.prototype.add=Qe.prototype.add;Qe.prototype.multiply=Qe.prototype.R;Qe.prototype.modulo=Qe.prototype.gb;Qe.prototype.compare=Qe.prototype.X;Qe.prototype.toNumber=Qe.prototype.ea;Qe.prototype.toString=Qe.prototype.toString;Qe.prototype.getBits=Qe.prototype.D;Qe.fromNumber=gr;Qe.fromString=ZE;var O6=function(){return new xd},D6=function(){return Qd()},eg=Xd,j6=gE,I6=Vi,kb={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},M6=du,Bc=pE,L6=pt,U6=tr,za=Qe;const Cb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="9.22.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new sp("@firebase/firestore");function Rb(){return ji.logLevel}function ue(t,...e){if(ji.logLevel<=Fe.DEBUG){const n=e.map(zp);ji.debug(`Firestore (${ao}): ${t}`,...n)}}function Xr(t,...e){if(ji.logLevel<=Fe.ERROR){const n=e.map(zp);ji.error(`Firestore (${ao}): ${t}`,...n)}}function Ka(t,...e){if(ji.logLevel<=Fe.WARN){const n=e.map(zp);ji.warn(`Firestore (${ao}): ${t}`,...n)}}function zp(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t="Unexpected state"){const e=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: `+t;throw Xr(e),new Error(e)}function at(t,e){t||be()}function Te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let se=class extends Sr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}let B6=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}};class z6{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Kr,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),c()};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Kr)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(at(typeof s.accessToken=="string"),new WE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new Jt(e)}}let P6=class{constructor(e,n,s){this.h=e,this.l=n,this.m=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}};class q6{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new P6(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}let F6=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},H6=class{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const s=l=>{l.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.T;return this.T=l.token,ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?a(l):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string"),this.T=n.token,new F6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=$6(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%e.length))}return s}}function Ge(t,e){return t<e?-1:t>e?1:0}function Ya(t,e,n){return t.length===e.length&&t.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new jt(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new jt(0,0))}static max(){return new _e(new jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(),s===void 0?s=e.length-n:s>e.length-n&&be(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Yl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yl?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=e.get(a),c=n.get(a);if(l<c)return-1;if(l>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class it extends Yl{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(H.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new it(n)}static emptyPath(){return new it([])}}const G6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Yl{construct(e,n,s){return new tn(e,n,s)}static isValidIdentifier(e){return G6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tn(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new se(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new se(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new se(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new se(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(it.fromString(e))}static fromName(e){return new ge(it.fromString(e).popFirst(5))}static empty(){return new ge(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new it(e.slice()))}}function K6(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=_e.fromTimestamp(s===1e9?new jt(n+1,0):new jt(n,s));return new Ys(a,ge.empty(),e)}function Y6(t){return new Ys(t.readTime,t.key,-1)}class Ys{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ys(_e.min(),ge.empty(),-1)}static max(){return new Ys(_e.max(),ge.empty(),-1)}}function Q6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==X6)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,s)=>{n(e)})}static reject(e){return new K((n,s)=>{s(e)})}static waitFor(e){return new K((n,s)=>{let a=0,l=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&n()},m=>s(m))}),c=!0,l===a&&n()})}static or(e){let n=K.resolve(!1);for(const s of e)n=n.next(a=>a?K.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,l)=>{s.push(n.call(this,a,l))}),this.waitFor(s)}static mapArray(e,n){return new K((s,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next(v=>{c[p]=v,++f,f===l&&s(c)},v=>a(v))}})}static doWhile(e,n){return new K((s,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):s()};l()})}}function gu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>n.writeSequenceNumber(s))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Pp.ct=-1;function sh(t){return t==null}function Ed(t){return t===0&&1/t==-1/0}function W6(t){return typeof t=="number"&&Number.isInteger(t)&&!Ed(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function e_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kt=class Ig{constructor(e,n){this.comparator=e,this.root=n||Hs.EMPTY}insert(e,n){return new Ig(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Hs.BLACK,null,null))}remove(e){return new Ig(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}};class zc{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}let Hs=class Fr{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??Fr.RED,this.left=a??Fr.EMPTY,this.right=l??Fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new Fr(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Fr.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}};Hs.EMPTY=null,Hs.RED=!0,Hs.BLACK=!1;Hs.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(t,e,n,s,a){return this}insert(t,e,n){return new Hs(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dn=class Mg{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Db(this.data.getIterator())}getIteratorFrom(e){return new Db(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Mg)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mg(this.comparator);return n.data=e,n}},Db=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new Dn(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ya(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new t_("Invalid base64 string: "+a):a}}(e);return new on(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const J6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(t){if(at(!!t),typeof t=="string"){let e=0;const n=J6.exec(t);if(at(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(t.seconds),nanos:Tt(t.nanos)}}function Tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ii(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Fp(t){const e=t.mapValue.fields.__previous_value__;return qp(e)?Fp(e):e}function Ql(t){const e=Qs(t.mapValue.fields.__local_write_time__.timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n,s,a,l,c,f,m,p){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p}}let n_=class Lg{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Lg("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Lg&&e.projectId===this.projectId&&e.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc={mapValue:{}};function Mi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qp(t)?4:tO(t)?9007199254740991:10:be()}function _r(t,e){if(t===e)return!0;const n=Mi(t);if(n!==Mi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ql(t).isEqual(Ql(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Qs(s.timestampValue),c=Qs(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return Ii(s.bytesValue).isEqual(Ii(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return Tt(s.geoPointValue.latitude)===Tt(a.geoPointValue.latitude)&&Tt(s.geoPointValue.longitude)===Tt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Tt(s.integerValue)===Tt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Tt(s.doubleValue),c=Tt(a.doubleValue);return l===c?Ed(l)===Ed(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return Ya(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(Ob(l)!==Ob(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!_r(l[f],c[f])))return!1;return!0}(t,e);default:return be()}}function Xl(t,e){return(t.values||[]).find(n=>_r(n,e))!==void 0}function Qa(t,e){if(t===e)return 0;const n=Mi(t),s=Mi(e);if(n!==s)return Ge(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(a,l){const c=Tt(a.integerValue||a.doubleValue),f=Tt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(t,e);case 3:return jb(t.timestampValue,e.timestampValue);case 4:return jb(Ql(t),Ql(e));case 5:return Ge(t.stringValue,e.stringValue);case 6:return function(a,l){const c=Ii(a),f=Ii(l);return c.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),f=l.split("/");for(let m=0;m<c.length&&m<f.length;m++){const p=Ge(c[m],f[m]);if(p!==0)return p}return Ge(c.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const c=Ge(Tt(a.latitude),Tt(l.latitude));return c!==0?c:Ge(Tt(a.longitude),Tt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(a,l){const c=a.values||[],f=l.values||[];for(let m=0;m<c.length&&m<f.length;++m){const p=Qa(c[m],f[m]);if(p)return p}return Ge(c.length,f.length)}(t.arrayValue,e.arrayValue);case 10:return function(a,l){if(a===Pc.mapValue&&l===Pc.mapValue)return 0;if(a===Pc.mapValue)return 1;if(l===Pc.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),m=l.fields||{},p=Object.keys(m);f.sort(),p.sort();for(let v=0;v<f.length&&v<p.length;++v){const w=Ge(f[v],p[v]);if(w!==0)return w;const E=Qa(c[f[v]],m[p[v]]);if(E!==0)return E}return Ge(f.length,p.length)}(t.mapValue,e.mapValue);default:throw be()}}function jb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=Qs(t),s=Qs(e),a=Ge(n.seconds,s.seconds);return a!==0?a:Ge(n.nanos,s.nanos)}function Xa(t){return Ug(t)}function Ug(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const a=Qs(s);return`time(${a.seconds},${a.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ii(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ge.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let a="[",l=!0;for(const c of s.values||[])l?l=!1:a+=",",a+=Ug(c);return a+"]"}(t.arrayValue):"mapValue"in t?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",c=!0;for(const f of a)c?c=!1:l+=",",l+=`${f}:${Ug(s.fields[f])}`;return l+"}"}(t.mapValue):be();var e,n}function Ib(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vg(t){return!!t&&"integerValue"in t}function Hp(t){return!!t&&"arrayValue"in t}function Mb(t){return!!t&&"nullValue"in t}function Lb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jc(t){return!!t&&"mapValue"in t}function Nl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return oo(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Nl(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function tO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(n)}setAll(e){let n=tn.emptyPath(),s={},a=[];e.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}c?s[f.lastSegment()]=Nl(c):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Jc(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){oo(n,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new $n(Nl(this.value))}}function r_(t){const e=[];return oo(t.fields,(n,s)=>{const a=new tn([n]);if(Jc(s)){const l=r_(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,s,a,l,c,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new en(e,0,_e.min(),_e.min(),_e.min(),$n.empty(),0)}static newFoundDocument(e,n,s,a){return new en(e,1,n,_e.min(),s,a,0)}static newNoDocument(e,n){return new en(e,2,n,_e.min(),_e.min(),$n.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,_e.min(),_e.min(),$n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n){this.position=e,this.inclusive=n}}function Ub(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=ge.comparator(ge.fromName(c.referenceValue),n.key):s=Qa(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Vb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n="asc"){this.field=e,this.dir=n}}function nO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{}class At extends s_{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new sO(e,n,s):n==="array-contains"?new oO(e,s):n==="in"?new lO(e,s):n==="not-in"?new uO(e,s):n==="array-contains-any"?new cO(e,s):new At(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new iO(e,s):new aO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qa(n,this.value)):n!==null&&Mi(this.value)===Mi(n)&&this.matchesComparison(Qa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class nr extends s_{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new nr(e,n)}matches(e){return i_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function i_(t){return t.op==="and"}function a_(t){return rO(t)&&i_(t)}function rO(t){for(const e of t.filters)if(e instanceof nr)return!1;return!0}function Bg(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+Xa(t.value);if(a_(t))return t.filters.map(e=>Bg(e)).join(",");{const e=t.filters.map(n=>Bg(n)).join(",");return`${t.op}(${e})`}}function o_(t,e){return t instanceof At?function(n,s){return s instanceof At&&n.op===s.op&&n.field.isEqual(s.field)&&_r(n.value,s.value)}(t,e):t instanceof nr?function(n,s){return s instanceof nr&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((a,l,c)=>a&&o_(l,s.filters[c]),!0):!1}(t,e):void be()}function l_(t){return t instanceof At?function(e){return`${e.field.canonicalString()} ${e.op} ${Xa(e.value)}`}(t):t instanceof nr?function(e){return e.op.toString()+" {"+e.getFilters().map(l_).join(" ,")+"}"}(t):"Filter"}class sO extends At{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class iO extends At{constructor(e,n){super(e,"in",n),this.keys=u_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class aO extends At{constructor(e,n){super(e,"not-in",n),this.keys=u_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function u_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class oO extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hp(n)&&Xl(n.arrayValue,this.value)}}class lO extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class uO extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xl(this.value.arrayValue,n)}}class cO extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Xl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n=null,s=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.dt=null}}function Bb(t,e=null,n=[],s=[],a=null,l=null,c=null){return new dO(t,e,n,s,a,l,c)}function $p(t){const e=Te(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Bg(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(a){return a.field.canonicalString()+a.dir}(s)).join(","),sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Xa(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Xa(s)).join(",")),e.dt=n}return e.dt}function Gp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!o_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vb(t.startAt,e.startAt)&&Vb(t.endAt,e.endAt)}function zg(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n=null,s=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.wt=null,this._t=null,this.startAt,this.endAt}}function hO(t,e,n,s,a,l,c,f){return new lo(t,e,n,s,a,l,c,f)}function Kp(t){return new lo(t)}function zb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Yp(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ih(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function c_(t){return t.collectionGroup!==null}function qa(t){const e=Te(t);if(e.wt===null){e.wt=[];const n=ih(e),s=Yp(e);if(n!==null&&s===null)n.isKeyField()||e.wt.push(new Pa(n)),e.wt.push(new Pa(tn.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Pa(tn.keyField(),l))}}}return e.wt}function Zr(t){const e=Te(t);if(!e._t)if(e.limitType==="F")e._t=Bb(e.path,e.collectionGroup,qa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of qa(e)){const c=l.dir==="desc"?"asc":"desc";n.push(new Pa(l.field,c))}const s=e.endAt?new _d(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new _d(e.startAt.position,e.startAt.inclusive):null;e._t=Bb(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e._t}function Pg(t,e){e.getFirstInequalityField(),ih(t);const n=t.filters.concat([e]);return new lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qg(t,e,n){return new lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ah(t,e){return Gp(Zr(t),Zr(e))&&t.limitType===e.limitType}function d_(t){return`${$p(Zr(t))}|lt:${t.limitType}`}function Fg(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>l_(s)).join(", ")}]`),sh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Xa(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Xa(s)).join(",")),`Target(${n})`}(Zr(t))}; limitType=${t.limitType})`}function oh(t,e){return e.isFoundDocument()&&function(n,s){const a=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ge.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,s){for(const a of qa(n))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const a of n.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(a,l,c){const f=Ub(a,l,c);return a.inclusive?f<=0:f<0}(n.startAt,qa(n),s)||n.endAt&&!function(a,l,c){const f=Ub(a,l,c);return a.inclusive?f>=0:f>0}(n.endAt,qa(n),s))}(t,e)}function fO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function h_(t){return(e,n)=>{let s=!1;for(const a of qa(t)){const l=mO(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function mO(t,e,n){const s=t.field.isKeyField()?ge.comparator(e.key,n.key):function(a,l,c){const f=l.data.field(a),m=c.data.field(a);return f!==null&&m!==null?Qa(f,m):be()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,(n,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return e_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new kt(ge.comparator);function Wr(){return gO}const f_=new kt(ge.comparator);function wl(...t){let e=f_;for(const n of t)e=e.insert(n.key,n);return e}function m_(t){let e=f_;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function _i(){return Al()}function g_(){return Al()}function Al(){return new uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const pO=new kt(ge.comparator),yO=new Dn(ge.comparator);function Ve(...t){let e=yO;for(const n of t)e=e.add(n);return e}const vO=new Dn(Ge);function xO(){return vO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ed(e)?"-0":e}}function y_(t){return{integerValue:""+t}}function bO(t,e){return W6(e)?y_(e):p_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(){this._=void 0}}function wO(t,e,n){return t instanceof Zl?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&qp(a)&&(a=Fp(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(n,e):t instanceof Wl?x_(t,e):t instanceof Jl?b_(t,e):function(s,a){const l=v_(s,a),c=Pb(l)+Pb(s.gt);return Vg(l)&&Vg(s.gt)?y_(c):p_(s.serializer,c)}(t,e)}function EO(t,e,n){return t instanceof Wl?x_(t,e):t instanceof Jl?b_(t,e):n}function v_(t,e){return t instanceof Sd?Vg(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class Zl extends lh{}class Wl extends lh{constructor(e){super(),this.elements=e}}function x_(t,e){const n=w_(e);for(const s of t.elements)n.some(a=>_r(a,s))||n.push(s);return{arrayValue:{values:n}}}class Jl extends lh{constructor(e){super(),this.elements=e}}function b_(t,e){let n=w_(e);for(const s of t.elements)n=n.filter(a=>!_r(a,s));return{arrayValue:{values:n}}}class Sd extends lh{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Pb(t){return Tt(t.integerValue||t.doubleValue)}function w_(t){return Hp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,n){this.field=e,this.transform=n}}function SO(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Wl&&s instanceof Wl||n instanceof Jl&&s instanceof Jl?Ya(n.elements,s.elements,_r):n instanceof Sd&&s instanceof Sd?_r(n.gt,s.gt):n instanceof Zl&&s instanceof Zl}(t.transform,e.transform)}class TO{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ed(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class uh{}function E_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qp(t.key,er.none()):new pu(t.key,t.data,er.none());{const n=t.data,s=$n.empty();let a=new Dn(tn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Bi(t.key,s,new Jn(a.toArray()),er.none())}}function NO(t,e,n){t instanceof pu?function(s,a,l){const c=s.value.clone(),f=Fb(s.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Bi?function(s,a,l){if(!ed(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=Fb(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(__(s)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function kl(t,e,n,s){return t instanceof pu?function(a,l,c,f){if(!ed(a.precondition,l))return c;const m=a.value.clone(),p=Hb(a.fieldTransforms,f,l);return m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null}(t,e,n,s):t instanceof Bi?function(a,l,c,f){if(!ed(a.precondition,l))return c;const m=Hb(a.fieldTransforms,f,l),p=l.data;return p.setAll(__(a)),p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(t,e,n,s):function(a,l,c){return ed(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function AO(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=v_(s.transform,a||null);l!=null&&(n===null&&(n=$n.empty()),n.set(s.field,l))}return n||null}function qb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Ya(n,s,(a,l)=>SO(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pu extends uh{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Bi extends uh{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function __(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Fb(t,e,n){const s=new Map;at(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);s.set(l.field,EO(c,f,n[a]))}return s}function Hb(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,wO(l,c,e))}return s}class Qp extends uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kO extends uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&NO(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=kl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=kl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=g_();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=E_(c,f);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(_e.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Ya(this.mutations,e.mutations,(n,s)=>qb(n,s))&&Ya(this.baseMutations,e.baseMutations,(n,s)=>qb(n,s))}}class Xp{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){at(e.mutations.length===s.length);let a=pO;const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Xp(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Pe;function DO(t){switch(t){default:return be();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function S_(t){if(t===void 0)return Xr("GRPC error has no .code"),H.UNKNOWN;switch(t){case St.OK:return H.OK;case St.CANCELLED:return H.CANCELLED;case St.UNKNOWN:return H.UNKNOWN;case St.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case St.INTERNAL:return H.INTERNAL;case St.UNAVAILABLE:return H.UNAVAILABLE;case St.UNAUTHENTICATED:return H.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case St.NOT_FOUND:return H.NOT_FOUND;case St.ALREADY_EXISTS:return H.ALREADY_EXISTS;case St.PERMISSION_DENIED:return H.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case St.ABORTED:return H.ABORTED;case St.OUT_OF_RANGE:return H.OUT_OF_RANGE;case St.UNIMPLEMENTED:return H.UNIMPLEMENTED;case St.DATA_LOSS:return H.DATA_LOSS;default:return be()}}(Pe=St||(St={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return qc}static getOrCreateInstance(){return qc===null&&(qc=new Zp),qc}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let qc=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=new za([4294967295,4294967295],0);function $b(t){const e=jO().encode(t),n=new U6;return n.update(e),new Uint8Array(n.digest())}function Gb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new za([n,s],0),new za([a,l],0)]}class Wp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new El(`Invalid padding: ${n}`);if(s<0)throw new El(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new El(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=za.fromNumber(this.It)}Et(e,n,s){let a=e.add(n.multiply(za.fromNumber(s)));return a.compare(IO)===1&&(a=new za([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=$b(e),[s,a]=Gb(n);for(let l=0;l<this.hashCount;l++){const c=this.Et(s,a,l);if(!this.At(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Wp(l,a,n);return s.forEach(f=>c.insert(f)),c}insert(e){if(this.It===0)return;const n=$b(e),[s,a]=Gb(n);for(let l=0;l<this.hashCount;l++){const c=this.Et(s,a,l);this.Rt(c)}}Rt(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ch(_e.min(),a,new kt(Ge),Wr(),Ve())}}class yu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new yu(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n,s,a){this.Pt=e,this.removedTargetIds=n,this.key=s,this.bt=a}}class T_{constructor(e,n){this.targetId=e,this.Vt=n}}class N_{constructor(e,n,s=on.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Kb{constructor(){this.St=0,this.Dt=Qb(),this.Ct=on.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ve(),n=Ve(),s=Ve();return this.Dt.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:be()}}),new yu(this.Ct,this.xt,e,n,s)}Ft(){this.Nt=!1,this.Dt=Qb()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class MO{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Wr(),this.zt=Yb(),this.Wt=new kt(Ge)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const s=this.Zt(n);switch(e.state){case 0:this.te(n)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(n);break;case 3:this.te(n)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),s.$t(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((s,a)=>{this.te(a)&&n(a)})}ne(e){var n;const s=e.targetId,a=e.Vt.count,l=this.se(s);if(l){const c=l.target;if(zg(c))if(a===0){const f=new ge(c.path);this.Yt(s,f,en.newNoDocument(f,_e.min()))}else at(a===1);else{const f=this.ie(s);if(f!==a){const m=this.re(e,f);if(m!==0){this.ee(s);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(s,p)}(n=Zp.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(p,v,w){var E,A,L,V,O,Y;const U={localCacheCount:v,existenceFilterCount:w.count},G=w.unchangedNames;return G&&(U.bloomFilter={applied:p===0,hashCount:(E=G==null?void 0:G.hashCount)!==null&&E!==void 0?E:0,bitmapLength:(V=(L=(A=G==null?void 0:G.bits)===null||A===void 0?void 0:A.bitmap)===null||L===void 0?void 0:L.length)!==null&&V!==void 0?V:0,padding:(Y=(O=G==null?void 0:G.bits)===null||O===void 0?void 0:O.padding)!==null&&Y!==void 0?Y:0}),U}(m,f,e.Vt))}}}}re(e,n){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:l="",padding:c=0},hashCount:f=0}=s;let m,p;try{m=Ii(l).toUint8Array()}catch(v){if(v instanceof t_)return Ka("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw v}try{p=new Wp(m,c,f)}catch(v){return Ka(v instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",v),1}return p.It===0?1:a!==n-this.oe(e.targetId,p)?2:0}oe(e,n){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(l=>{const c=this.Gt.ue(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;n.vt(f)||(this.Yt(e,l,null),a++)}),a}ce(e){const n=new Map;this.Qt.forEach((l,c)=>{const f=this.se(c);if(f){if(l.current&&zg(f.target)){const m=new ge(f.target.path);this.jt.get(m)!==null||this.ae(c,m)||this.Yt(c,m,en.newNoDocument(m,e))}l.Mt&&(n.set(c,l.Ot()),l.Ft())}});let s=Ve();this.zt.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const p=this.se(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(l))}),this.jt.forEach((l,c)=>c.setReadTime(e));const a=new ch(e,n,this.Wt,this.jt,s);return this.jt=Wr(),this.zt=Yb(),this.Wt=new kt(Ge),a}Jt(e,n){if(!this.te(e))return;const s=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,s),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,n)?a.Bt(n,1):a.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),s&&(this.jt=this.jt.insert(n,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Kb,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Dn(Ge),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Kb),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Yb(){return new kt(ge.comparator)}function Qb(){return new kt(ge.comparator)}const LO={asc:"ASCENDING",desc:"DESCENDING"},UO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VO={and:"AND",or:"OR"};class BO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hg(t,e){return t.useProto3Json||sh(e)?e:{value:e}}function Td(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function A_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zO(t,e){return Td(t,e.toTimestamp())}function Er(t){return at(!!t),_e.fromTimestamp(function(e){const n=Qs(e);return new jt(n.seconds,n.nanos)}(t))}function Jp(t,e){return function(n){return new it(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function k_(t){const e=it.fromString(t);return at(D_(e)),e}function $g(t,e){return Jp(t.databaseId,e.path)}function tg(t,e){const n=k_(e);if(n.get(1)!==t.databaseId.projectId)throw new se(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(C_(n))}function Gg(t,e){return Jp(t.databaseId,e)}function PO(t){const e=k_(t);return e.length===4?it.emptyPath():C_(e)}function Kg(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function C_(t){return at(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Xb(t,e,n){return{name:$g(t,e),fields:n.value.mapValue.fields}}function qO(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,p){return m.useProto3Json?(at(p===void 0||typeof p=="string"),on.fromBase64String(p||"")):(at(p===void 0||p instanceof Uint8Array),on.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const p=m.code===void 0?H.UNKNOWN:S_(m.code);return new se(p,m.message||"")}(c);n=new N_(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=tg(t,s.document.name),l=Er(s.document.updateTime),c=s.document.createTime?Er(s.document.createTime):_e.min(),f=new $n({mapValue:{fields:s.document.fields}}),m=en.newFoundDocument(a,l,c,f),p=s.targetIds||[],v=s.removedTargetIds||[];n=new td(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=tg(t,s.document),l=s.readTime?Er(s.readTime):_e.min(),c=en.newNoDocument(a,l),f=s.removedTargetIds||[];n=new td([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=tg(t,s.document),l=s.removedTargetIds||[];n=new td([],l,a,null)}else{if(!("filter"in e))return be();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new OO(a,l),f=s.targetId;n=new T_(f,c)}}return n}function FO(t,e){let n;if(e instanceof pu)n={update:Xb(t,e.key,e.value)};else if(e instanceof Qp)n={delete:$g(t,e.key)};else if(e instanceof Bi)n={update:Xb(t,e.key,e.data),updateMask:WO(e.fieldMask)};else{if(!(e instanceof kO))return be();n={verify:$g(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(a,l){const c=l.transform;if(c instanceof Zl)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Wl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Jl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Sd)return{fieldPath:l.field.canonicalString(),increment:c.gt};throw be()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:zO(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:be()}(t,e.precondition)),n}function HO(t,e){return t&&t.length>0?(at(e!==void 0),t.map(n=>function(s,a){let l=s.updateTime?Er(s.updateTime):Er(a);return l.isEqual(_e.min())&&(l=Er(a)),new TO(l,s.transformResults||[])}(n,e))):[]}function $O(t,e){return{documents:[Gg(t,e.path)]}}function GO(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=Gg(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Gg(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(m){if(m.length!==0)return O_(nr.create(m,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(m){if(m.length!==0)return m.map(p=>function(v){return{field:ja(v.field),direction:QO(v.dir)}}(p))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=Hg(t,e.limit);var f;return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),n}function KO(t){let e=PO(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){at(s===1);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=function(v){const w=R_(v);return w instanceof nr&&a_(w)?w.getFilters():[w]}(n.where));let c=[];n.orderBy&&(c=n.orderBy.map(v=>function(w){return new Pa(Ia(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(v)));let f=null;n.limit&&(f=function(v){let w;return w=typeof v=="object"?v.value:v,sh(w)?null:w}(n.limit));let m=null;n.startAt&&(m=function(v){const w=!!v.before,E=v.values||[];return new _d(E,w)}(n.startAt));let p=null;return n.endAt&&(p=function(v){const w=!v.before,E=v.values||[];return new _d(E,w)}(n.endAt)),hO(e,a,c,l,f,"F",m,p)}function YO(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function R_(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ia(e.unaryFilter.field);return At.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Ia(e.unaryFilter.field);return At.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ia(e.unaryFilter.field);return At.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ia(e.unaryFilter.field);return At.create(l,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(t):t.fieldFilter!==void 0?function(e){return At.create(Ia(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return nr.create(e.compositeFilter.filters.map(n=>R_(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return be()}}(e.compositeFilter.op))}(t):be()}function QO(t){return LO[t]}function XO(t){return UO[t]}function ZO(t){return VO[t]}function ja(t){return{fieldPath:t.canonicalString()}}function Ia(t){return tn.fromServerFormat(t.fieldPath)}function O_(t){return t instanceof At?function(e){if(e.op==="=="){if(Lb(e.value))return{unaryFilter:{field:ja(e.field),op:"IS_NAN"}};if(Mb(e.value))return{unaryFilter:{field:ja(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Lb(e.value))return{unaryFilter:{field:ja(e.field),op:"IS_NOT_NAN"}};if(Mb(e.value))return{unaryFilter:{field:ja(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(e.field),op:XO(e.op),value:e.value}}}(t):t instanceof nr?function(e){const n=e.getFilters().map(s=>O_(s));return n.length===1?n[0]:{compositeFilter:{op:ZO(e.op),filters:n}}}(t):be()}function WO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function D_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n,s,a,l=_e.min(),c=_e.min(),f=on.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.fe=e}}function eD(t){const e=KO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.rn=new nD}addToCollectionParentIndex(e,n){return this.rn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Ys.min())}updateCollectionGroup(e,n,s){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class nD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Dn(it.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Dn(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Za(0)}static Mn(){return new Za(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.changes=new uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?K.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&kl(s.mutation,a,Jn.empty(),jt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const a=_i();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(l=>{let c=wl();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const s=_i();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const a=[];return s.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(e,n,s,a){let l=Wr();const c=Al(),f=Al();return n.forEach((m,p)=>{const v=s.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof Bi)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),kl(v.mutation,p,v.mutation.getFieldMask(),jt.now())):c.set(p.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,v)=>c.set(p,v)),n.forEach((p,v)=>{var w;return f.set(p,new sD(v,(w=c.get(p))!==null&&w!==void 0?w:null))}),f))}recalculateAndSaveOverlays(e,n){const s=Al();let a=new kt((c,f)=>c-f),l=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const f of c)f.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let v=s.get(m)||Jn.empty();v=f.applyToLocalView(p,v),s.set(m,v);const w=(a.get(f.batchId)||Ve()).add(m);a=a.insert(f.batchId,w)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,v=m.value,w=g_();v.forEach(E=>{if(!l.has(E)){const A=E_(n.get(E),s.get(E));A!==null&&w.set(E,A),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,w))}return K.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(a){return ge.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):c_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):K.resolve(_i());let f=-1,m=l;return c.next(p=>K.forEach(p,(v,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),l.get(v)?K.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{m=m.insert(v,E)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,Ve())).next(v=>({batchId:f,changes:m_(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let a=wl();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const a=n.collectionGroup;let l=wl();return this.indexManager.getCollectionParents(e,a).next(c=>K.forEach(c,f=>{const m=function(p,v){return new lo(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,s).next(p=>{p.forEach((v,w)=>{l=l.insert(v,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,a))).next(l=>{a.forEach((f,m)=>{const p=m.getKey();l.get(p)===null&&(l=l.insert(p,en.newInvalidDocument(p)))});let c=wl();return l.forEach((f,m)=>{const p=a.get(f);p!==void 0&&kl(p.mutation,m,Jn.empty(),jt.now()),oh(n,m)&&(c=c.insert(f,m))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return K.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var s;return this.cs.set(n.id,{id:(s=n).id,version:s.version,createTime:Er(s.createTime)}),K.resolve()}getNamedQuery(e,n){return K.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(s){return{name:s.name,query:eD(s.bundledQuery),readTime:Er(s.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.overlays=new kt(ge.comparator),this.ls=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const s=_i();return K.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,l)=>{this.we(e,n,l)}),K.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.ls.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(s)),K.resolve()}getOverlaysForCollection(e,n,s){const a=_i(),l=n.length+1,c=new ge(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return K.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new kt((p,v)=>p-v);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let v=l.get(p.largestBatchId);v===null&&(v=_i(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=_i(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,v)=>f.set(p,v)),!(f.size()>=a)););return K.resolve(f)}we(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new RO(n,s));let l=this.ls.get(n);l===void 0&&(l=Ve(),this.ls.set(n,l)),this.ls.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(){this.fs=new Dn(Vt.ds),this.ws=new Dn(Vt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const s=new Vt(e,n);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.ys(new Vt(e,n))}ps(e,n){e.forEach(s=>this.removeReference(s,n))}Is(e){const n=new ge(new it([])),s=new Vt(n,e),a=new Vt(n,e+1),l=[];return this.ws.forEachInRange([s,a],c=>{this.ys(c),l.push(c.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ge(new it([])),s=new Vt(n,e),a=new Vt(n,e+1);let l=Ve();return this.ws.forEachInRange([s,a],c=>{l=l.add(c.key)}),l}containsKey(e){const n=new Vt(e,0),s=this.fs.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Vt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ge.comparator(e.key,n.key)||Ge(e.As,n.As)}static _s(e,n){return Ge(e.As,n.As)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Dn(Vt.ds)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new CO(l,n,s,a);this.mutationQueue.push(c);for(const f of a)this.Rs=this.Rs.add(new Vt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return K.resolve(c)}lookupMutationBatch(e,n){return K.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.bs(s),l=a<0?0:a;return K.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Vt(n,0),a=new Vt(n,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([s,a],c=>{const f=this.Ps(c.As);l.push(f)}),K.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Dn(Ge);return n.forEach(a=>{const l=new Vt(a,0),c=new Vt(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,c],f=>{s=s.add(f.As)})}),K.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;ge.isDocumentKey(l)||(l=l.child(""));const c=new Vt(new ge(l),0);let f=new Dn(Ge);return this.Rs.forEachWhile(m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.As)),!0)},c),K.resolve(this.Vs(f))}Vs(e){const n=[];return e.forEach(s=>{const a=this.Ps(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){at(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Rs;return K.forEach(n.mutations,a=>{const l=new Vt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,n){const s=new Vt(n,0),a=this.Rs.firstAfterOrEqual(s);return K.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.Ds=e,this.docs=new kt(ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.Ds(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return K.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=Wr();return n.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():en.newInvalidDocument(a))}),K.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Wr();const c=n.path,f=new ge(c.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||Q6(Y6(v),s)<=0||(a.has(v.key)||oh(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return K.resolve(l)}getAllFromCollectionGroup(e,n,s,a){be()}Cs(e,n){return K.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new cD(this)}getSize(e){return K.resolve(this.size)}}class cD extends rD{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),K.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.persistence=e,this.xs=new uo(n=>$p(n),Gp),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Ns=0,this.ks=new e0,this.targetCount=0,this.Ms=Za.kn()}forEachTarget(e,n){return this.xs.forEach((s,a)=>n(a)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Ns&&(this.Ns=n),K.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Za(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Fn(n),K.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.xs.forEach((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.xs.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),K.waitFor(l).next(()=>a)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const s=this.xs.get(n)||null;return K.resolve(s)}addMatchingKeys(e,n,s){return this.ks.gs(n,s),K.resolve()}removeMatchingKeys(e,n,s){this.ks.ps(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),K.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),K.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ks.Es(n);return K.resolve(s)}containsKey(e,n){return K.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n){this.$s={},this.overlays={},this.Os=new Pp(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new dD(this),this.indexManager=new tD,this.remoteDocumentCache=function(s){return new uD(s)}(s=>this.referenceDelegate.Ls(s)),this.serializer=new JO(n),this.qs=new aD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.$s[e.toKey()];return s||(s=new lD(n,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const a=new fD(this.Os.next());return this.referenceDelegate.Us(),s(a).next(l=>this.referenceDelegate.Ks(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Gs(e,n){return K.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,n)))}}class fD extends Z6{constructor(e){super(),this.currentSequenceNumber=e}}class t0{constructor(e){this.persistence=e,this.Qs=new e0,this.js=null}static zs(e){return new t0(e)}get Ws(){if(this.js)return this.js;throw be()}addReference(e,n,s){return this.Qs.addReference(s,n),this.Ws.delete(s.toString()),K.resolve()}removeReference(e,n,s){return this.Qs.removeReference(s,n),this.Ws.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),K.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.Ws.add(l.toString()))}).next(()=>s.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Ws,s=>{const a=ge.fromPath(s);return this.Hs(e,a).next(l=>{l||n.removeEntry(a,_e.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(s=>{s?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return K.or([()=>K.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Fi=s,this.Bi=a}static Li(e,n){let s=Ve(),a=Ve();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new n0(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,s,a){return this.Ki(e,n).next(l=>l||this.Gi(e,n,a,s)).next(l=>l||this.Qi(e,n))}Ki(e,n){if(zb(n))return K.resolve(null);let s=Zr(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=qg(n,null,"F"),s=Zr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=Ve(...l);return this.Ui.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,s).next(m=>{const p=this.ji(n,f);return this.zi(n,p,c,m.readTime)?this.Ki(e,qg(n,null,"F")):this.Wi(e,p,n,m)}))})))}Gi(e,n,s,a){return zb(n)||a.isEqual(_e.min())?this.Qi(e,n):this.Ui.getDocuments(e,s).next(l=>{const c=this.ji(n,l);return this.zi(n,c,s,a)?this.Qi(e,n):(Rb()<=Fe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Fg(n)),this.Wi(e,c,n,K6(a,-1)))})}ji(e,n){let s=new Dn(h_(e));return n.forEach((a,l)=>{oh(e,l)&&(s=s.add(l))}),s}zi(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Qi(e,n){return Rb()<=Fe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Fg(n)),this.Ui.getDocumentsMatchingQuery(e,n,Ys.min())}Wi(e,n,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n,s,a){this.persistence=e,this.Hi=n,this.serializer=a,this.Ji=new kt(Ge),this.Yi=new uo(l=>$p(l),Gp),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iD(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function pD(t,e,n,s){return new gD(t,e,n,s)}async function j_(t,e){const n=Te(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,n.tr(e),n.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],f=[];let m=Ve();for(const p of a){c.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){f.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next(p=>({er:p,removedBatchIds:c,addedBatchIds:f}))})})}function yD(t,e){const n=Te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=n.Zi.newChangeBuffer({trackRemovals:!0});return function(c,f,m,p){const v=m.batch,w=v.keys();let E=K.resolve();return w.forEach(A=>{E=E.next(()=>p.getEntry(f,A)).next(L=>{const V=m.docVersions.get(A);at(V!==null),L.version.compareTo(V)<0&&(v.applyToRemoteDocument(L,m),L.isValidDocument()&&(L.setReadTime(m.commitVersion),p.addEntry(L)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(f,v))}(n,s,e,l).next(()=>l.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(c){let f=Ve();for(let m=0;m<c.mutationResults.length;++m)c.mutationResults[m].transformResults.length>0&&(f=f.add(c.batch.mutations[m].key));return f}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function I_(t){const e=Te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function vD(t,e){const n=Te(t),s=e.snapshotVersion;let a=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Zi.newChangeBuffer({trackRemovals:!0});a=n.Ji;const f=[];e.targetChanges.forEach((v,w)=>{const E=a.get(w);if(!E)return;f.push(n.Bs.removeMatchingKeys(l,v.removedDocuments,w).next(()=>n.Bs.addMatchingKeys(l,v.addedDocuments,w)));let A=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?A=A.withResumeToken(on.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,s)),a=a.insert(w,A),function(L,V,O){return L.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(E,A,v)&&f.push(n.Bs.updateTargetData(l,A))});let m=Wr(),p=Ve();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))}),f.push(xD(l,c,e.documentUpdates).next(v=>{m=v.nr,p=v.sr})),!s.isEqual(_e.min())){const v=n.Bs.getLastRemoteSnapshotVersion(l).next(w=>n.Bs.setTargetsMetadata(l,l.currentSequenceNumber,s));f.push(v)}return K.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.Ji=a,l))}function xD(t,e,n){let s=Ve(),a=Ve();return n.forEach(l=>s=s.add(l)),e.getEntries(t,s).next(l=>{let c=Wr();return n.forEach((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(_e.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):ue("LocalStore","Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)}),{nr:c,sr:a}})}function bD(t,e){const n=Te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function wD(t,e){const n=Te(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Bs.getTargetData(s,e).next(l=>l?(a=l,K.resolve(a)):n.Bs.allocateTargetId(s).next(c=>(a=new zs(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Ji.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(s.targetId,s),n.Yi.set(e,s.targetId)),s})}async function Yg(t,e,n){const s=Te(t),a=s.Ji.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!gu(c))throw c;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}function Zb(t,e,n){const s=Te(t);let a=_e.min(),l=Ve();return s.persistence.runTransaction("Execute query","readonly",c=>function(f,m,p){const v=Te(f),w=v.Yi.get(p);return w!==void 0?K.resolve(v.Ji.get(w)):v.Bs.getTargetData(m,p)}(s,c,Zr(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>s.Hi.getDocumentsMatchingQuery(c,e,n?a:_e.min(),n?l:Ve())).next(f=>(ED(s,fO(e),f),{documents:f,ir:l})))}function ED(t,e,n){let s=t.Xi.get(e)||_e.min();n.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),t.Xi.set(e,s)}class Wb{constructor(){this.activeTargetIds=xO()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _D{constructor(){this.Hr=new Wb,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,s){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Wb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc=null;function ng(){return Fc===null?Fc=268435456+Math.round(2147483648*Math.random()):Fc++,"0x"+Fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class AD extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,s,a,l){const c=ng(),f=this.To(e,n);ue("RestConnection",`Sending RPC '${e}' ${c}:`,f,s);const m={};return this.Eo(m,a,l),this.Ao(e,f,m,s).then(p=>(ue("RestConnection",`Received RPC '${e}' ${c}: `,p),p),p=>{throw Ka("RestConnection",`RPC '${e}' ${c} failed with error: `,p,"url: ",f,"request:",s),p})}vo(e,n,s,a,l,c){return this.Io(e,n,s,a,l)}Eo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+ao,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}To(e,n){const s=TD[e];return`${this.mo}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,s,a){const l=ng();return new Promise((c,f)=>{const m=new L6;m.setWithCredentials(!0),m.listenOnce(j6.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case eg.NO_ERROR:const v=m.getResponseJson();ue(Zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case eg.TIMEOUT:ue(Zt,`RPC '${e}' ${l} timed out`),f(new se(H.DEADLINE_EXCEEDED,"Request time out"));break;case eg.HTTP_ERROR:const w=m.getStatus();if(ue(Zt,`RPC '${e}' ${l} failed with status:`,w,"response text:",m.getResponseText()),w>0){let E=m.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E==null?void 0:E.error;if(A&&A.status&&A.message){const L=function(V){const O=V.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(O)>=0?O:H.UNKNOWN}(A.status);f(new se(L,A.message))}else f(new se(H.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new se(H.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{ue(Zt,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(a);ue(Zt,`RPC '${e}' ${l} sending request:`,a),m.send(n,"POST",p,s,15)})}Ro(e,n,s){const a=ng(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=O6(),f=D6(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.xmlHttpFactory=new M6({})),this.Eo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=l.join("");ue(Zt,`Creating RPC '${e}' stream ${a}: ${v}`,m);const w=c.createWebChannel(v,m);let E=!1,A=!1;const L=new ND({ro:O=>{A?ue(Zt,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(E||(ue(Zt,`Opening RPC '${e}' stream ${a} transport.`),w.open(),E=!0),ue(Zt,`RPC '${e}' stream ${a} sending:`,O),w.send(O))},oo:()=>w.close()}),V=(O,Y,U)=>{O.listen(Y,G=>{try{U(G)}catch($){setTimeout(()=>{throw $},0)}})};return V(w,Bc.EventType.OPEN,()=>{A||ue(Zt,`RPC '${e}' stream ${a} transport opened.`)}),V(w,Bc.EventType.CLOSE,()=>{A||(A=!0,ue(Zt,`RPC '${e}' stream ${a} transport closed`),L.wo())}),V(w,Bc.EventType.ERROR,O=>{A||(A=!0,Ka(Zt,`RPC '${e}' stream ${a} transport errored:`,O),L.wo(new se(H.UNAVAILABLE,"The operation could not be completed")))}),V(w,Bc.EventType.MESSAGE,O=>{var Y;if(!A){const U=O.data[0];at(!!U);const G=U,$=G.error||((Y=G[0])===null||Y===void 0?void 0:Y.error);if($){ue(Zt,`RPC '${e}' stream ${a} received error:`,$);const Z=$.status;let Ee=function(Oe){const De=St[Oe];if(De!==void 0)return S_(De)}(Z),Re=$.message;Ee===void 0&&(Ee=H.INTERNAL,Re="Unknown error status: "+Z+" with message "+$.message),A=!0,L.wo(new se(Ee,Re)),w.close()}else ue(Zt,`RPC '${e}' stream ${a} received:`,U),L._o(U)}}),V(f,I6.STAT_EVENT,O=>{O.stat===kb.PROXY?ue(Zt,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===kb.NOPROXY&&ue(Zt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{L.fo()},0),L}}function rg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(t){return new BO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,n,s=1e3,a=1.5,l=6e4){this.ii=e,this.timerId=n,this.Po=s,this.bo=a,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,n-s);a>0&&ue("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n,s,a,l,c,f,m){this.ii=e,this.$o=s,this.Oo=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new M_(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Xr(n.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===n&&this.Zo(s,a)},s=>{e(()=>{const a=new se(H.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,n){const s=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kD extends L_{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=qO(this.serializer,e),s=function(a){if(!("targetChange"in a))return _e.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?_e.min():l.readTime?Er(l.readTime):_e.min()}(e);return this.listener.nu(n,s)}su(e){const n={};n.database=Kg(this.serializer),n.addTarget=function(a,l){let c;const f=l.target;if(c=zg(f)?{documents:$O(a,f)}:{query:GO(a,f)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=A_(a,l.resumeToken);const m=Hg(a,l.expectedCount);m!==null&&(c.expectedCount=m)}else if(l.snapshotVersion.compareTo(_e.min())>0){c.readTime=Td(a,l.snapshotVersion.toTimestamp());const m=Hg(a,l.expectedCount);m!==null&&(c.expectedCount=m)}return c}(this.serializer,e);const s=YO(this.serializer,e);s&&(n.labels=s),this.Wo(n)}iu(e){const n={};n.database=Kg(this.serializer),n.removeTarget=e,this.Wo(n)}}class CD extends L_{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=HO(e.writeResults,e.commitTime),s=Er(e.commitTime);return this.listener.cu(s,n)}return at(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Kg(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>FO(this.serializer,s))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new se(H.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Io(e,n,s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new se(H.UNKNOWN,a.toString())})}vo(e,n,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.vo(e,n,s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new se(H.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class OD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Xr(n),this.mu=!1):ue("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(c=>{s.enqueueAndForget(async()=>{zi(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(f){const m=Te(f);m.vu.add(4),await vu(m),m.bu.set("Unknown"),m.vu.delete(4),await hh(m)}(this))})}),this.bu=new OD(s,a)}}async function hh(t){if(zi(t))for(const e of t.Ru)await e(!0)}async function vu(t){for(const e of t.Ru)await e(!1)}function U_(t,e){const n=Te(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),i0(n)?s0(n):co(n).Ko()&&r0(n,e))}function V_(t,e){const n=Te(t),s=co(n);n.Au.delete(e),s.Ko()&&B_(n,e),n.Au.size===0&&(s.Ko()?s.jo():zi(n)&&n.bu.set("Unknown"))}function r0(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}co(t).su(e)}function B_(t,e){t.Vu.qt(e),co(t).iu(e)}function s0(t){t.Vu=new MO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),co(t).start(),t.bu.gu()}function i0(t){return zi(t)&&!co(t).Uo()&&t.Au.size>0}function zi(t){return Te(t).vu.size===0}function z_(t){t.Vu=void 0}async function jD(t){t.Au.forEach((e,n)=>{r0(t,e)})}async function ID(t,e){z_(t),i0(t)?(t.bu.Iu(e),s0(t)):t.bu.set("Unknown")}async function MD(t,e,n){if(t.bu.set("Online"),e instanceof N_&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Au.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Au.delete(c),s.Vu.removeTarget(c))}(t,e)}catch(s){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Nd(t,s)}else if(e instanceof td?t.Vu.Ht(e):e instanceof T_?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(_e.min()))try{const s=await I_(t.localStore);n.compareTo(s)>=0&&await function(a,l){const c=a.Vu.ce(l);return c.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const p=a.Au.get(m);p&&a.Au.set(m,p.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,m)=>{const p=a.Au.get(f);if(!p)return;a.Au.set(f,p.withResumeToken(on.EMPTY_BYTE_STRING,p.snapshotVersion)),B_(a,f);const v=new zs(p.target,f,m,p.sequenceNumber);r0(a,v)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(s){ue("RemoteStore","Failed to raise snapshot:",s),await Nd(t,s)}}async function Nd(t,e,n){if(!gu(e))throw e;t.vu.add(1),await vu(t),t.bu.set("Offline"),n||(n=()=>I_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await hh(t)})}function P_(t,e){return e().catch(n=>Nd(t,n,e))}async function fh(t){const e=Te(t),n=Xs(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;LD(e);)try{const a=await bD(e.localStore,s);if(a===null){e.Eu.length===0&&n.jo();break}s=a.batchId,UD(e,a)}catch(a){await Nd(e,a)}q_(e)&&F_(e)}function LD(t){return zi(t)&&t.Eu.length<10}function UD(t,e){t.Eu.push(e);const n=Xs(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function q_(t){return zi(t)&&!Xs(t).Uo()&&t.Eu.length>0}function F_(t){Xs(t).start()}async function VD(t){Xs(t).hu()}async function BD(t){const e=Xs(t);for(const n of t.Eu)e.uu(n.mutations)}async function zD(t,e,n){const s=t.Eu.shift(),a=Xp.from(s,e,n);await P_(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await fh(t)}async function PD(t,e){e&&Xs(t).ou&&await async function(n,s){if(a=s.code,DO(a)&&a!==H.ABORTED){const l=n.Eu.shift();Xs(n).Qo(),await P_(n,()=>n.remoteSyncer.rejectFailedWrite(l.batchId,s)),await fh(n)}var a}(t,e),q_(t)&&F_(t)}async function ew(t,e){const n=Te(t);n.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const s=zi(n);n.vu.add(3),await vu(n),s&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await hh(n)}async function qD(t,e){const n=Te(t);e?(n.vu.delete(2),await hh(n)):e||(n.vu.add(2),await vu(n),n.bu.set("Unknown"))}function co(t){return t.Su||(t.Su=function(e,n,s){const a=Te(e);return a.fu(),new kD(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{uo:jD.bind(null,t),ao:ID.bind(null,t),nu:MD.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),i0(t)?s0(t):t.bu.set("Unknown")):(await t.Su.stop(),z_(t))})),t.Su}function Xs(t){return t.Du||(t.Du=function(e,n,s){const a=Te(e);return a.fu(),new CD(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{uo:VD.bind(null,t),ao:PD.bind(null,t),au:BD.bind(null,t),cu:zD.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await fh(t)):(await t.Du.stop(),t.Eu.length>0&&(ue("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,f=new a0(e,n,c,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function o0(t,e){if(Xr("AsyncQueue",`${e}: ${t}`),gu(t))return new se(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=wl(),this.sortedSet=new kt(this.comparator)}static emptySet(e){return new Fa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Fa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.Cu=new kt(ge.comparator)}track(e){const n=e.doc.key,s=this.Cu.get(n);s?e.type!==0&&s.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&s.type!==1?this.Cu=this.Cu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Cu=this.Cu.remove(n):e.type===1&&s.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):be():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,s)=>{e.push(s)}),e}}class Wa{constructor(e,n,s,a,l,c,f,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new Wa(e,n,Fa.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.Nu=void 0,this.listeners=[]}}class HD{constructor(){this.queries=new uo(e=>d_(e),ah),this.onlineState="Unknown",this.ku=new Set}}async function H_(t,e){const n=Te(t),s=e.query;let a=!1,l=n.queries.get(s);if(l||(a=!0,l=new FD),a)try{l.Nu=await n.onListen(s)}catch(c){const f=o0(c,`Initialization of query '${Fg(e.query)}' failed`);return void e.onError(f)}n.queries.set(s,l),l.listeners.push(e),e.Mu(n.onlineState),l.Nu&&e.$u(l.Nu)&&l0(n)}async function $_(t,e){const n=Te(t),s=e.query;let a=!1;const l=n.queries.get(s);if(l){const c=l.listeners.indexOf(e);c>=0&&(l.listeners.splice(c,1),a=l.listeners.length===0)}if(a)return n.queries.delete(s),n.onUnlisten(s)}function $D(t,e){const n=Te(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.listeners)f.$u(a)&&(s=!0);c.Nu=a}}s&&l0(n)}function GD(t,e,n){const s=Te(t),a=s.queries.get(e);if(a)for(const l of a.listeners)l.onError(n);s.queries.delete(e)}function l0(t){t.ku.forEach(e=>{e.next()})}class G_{constructor(e,n,s){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Wa(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Ku||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e){this.key=e}}class Y_{constructor(e){this.key=e}}class KD{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ve(),this.mutatedKeys=Ve(),this.tc=h_(e),this.ec=new Fa(this.tc)}get nc(){return this.Yu}sc(e,n){const s=n?n.ic:new tw,a=n?n.ec:this.ec;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,w)=>{const E=a.get(v),A=oh(this.query,w)?w:null,L=!!E&&this.mutatedKeys.has(E.key),V=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let O=!1;E&&A?E.data.isEqual(A.data)?L!==V&&(s.track({type:3,doc:A}),O=!0):this.rc(E,A)||(s.track({type:2,doc:A}),O=!0,(m&&this.tc(A,m)>0||p&&this.tc(A,p)<0)&&(f=!0)):!E&&A?(s.track({type:0,doc:A}),O=!0):E&&!A&&(s.track({type:1,doc:E}),O=!0,(m||p)&&(f=!0)),O&&(A?(c=c.add(A),l=V?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{ec:c,ic:s,zi:f,mutatedKeys:l}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((p,v)=>function(w,E){const A=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return A(w)-A(E)}(p.type,v.type)||this.tc(p.doc,v.doc)),this.oc(s);const c=n?this.uc():[],f=this.Zu.size===0&&this.current?1:0,m=f!==this.Xu;return this.Xu=f,l.length!==0||m?{snapshot:new Wa(this.query,e.ec,a,l,e.mutatedKeys,f===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new tw,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ve(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const n=[];return e.forEach(s=>{this.Zu.has(s)||n.push(new Y_(s))}),this.Zu.forEach(s=>{e.has(s)||n.push(new K_(s))}),n}hc(e){this.Yu=e.ir,this.Zu=Ve();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Wa.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class YD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class QD{constructor(e){this.key=e,this.fc=!1}}class XD{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new uo(f=>d_(f),ah),this._c=new Map,this.mc=new Set,this.gc=new kt(ge.comparator),this.yc=new Map,this.Ic=new e0,this.Tc={},this.Ec=new Map,this.Ac=Za.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function ZD(t,e){const n=o9(t);let s,a;const l=n.wc.get(e);if(l)s=l.targetId,n.sharedClientState.addLocalQueryTarget(s),a=l.view.lc();else{const c=await wD(n.localStore,Zr(e)),f=n.sharedClientState.addLocalQueryTarget(c.targetId);s=c.targetId,a=await WD(n,e,s,f==="current",c.resumeToken),n.isPrimaryClient&&U_(n.remoteStore,c)}return a}async function WD(t,e,n,s,a){t.Rc=(w,E,A)=>async function(L,V,O,Y){let U=V.view.sc(O);U.zi&&(U=await Zb(L.localStore,V.query,!1).then(({documents:Z})=>V.view.sc(Z,U)));const G=Y&&Y.targetChanges.get(V.targetId),$=V.view.applyChanges(U,L.isPrimaryClient,G);return rw(L,V.targetId,$.cc),$.snapshot}(t,w,E,A);const l=await Zb(t.localStore,e,!0),c=new KD(e,l.ir),f=c.sc(l.documents),m=yu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(f,t.isPrimaryClient,m);rw(t,n,p.cc);const v=new YD(e,n,c);return t.wc.set(e,v),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),p.snapshot}async function JD(t,e){const n=Te(t),s=n.wc.get(e),a=n._c.get(s.targetId);if(a.length>1)return n._c.set(s.targetId,a.filter(l=>!ah(l,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Yg(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),V_(n.remoteStore,s.targetId),Qg(n,s.targetId)}).catch(mu)):(Qg(n,s.targetId),await Yg(n.localStore,s.targetId,!0))}async function e9(t,e,n){const s=l9(t);try{const a=await function(l,c){const f=Te(l),m=jt.now(),p=c.reduce((E,A)=>E.add(A.key),Ve());let v,w;return f.persistence.runTransaction("Locally write mutations","readwrite",E=>{let A=Wr(),L=Ve();return f.Zi.getEntries(E,p).next(V=>{A=V,A.forEach((O,Y)=>{Y.isValidDocument()||(L=L.add(O))})}).next(()=>f.localDocuments.getOverlayedDocuments(E,A)).next(V=>{v=V;const O=[];for(const Y of c){const U=AO(Y,v.get(Y.key).overlayedDocument);U!=null&&O.push(new Bi(Y.key,U,r_(U.value.mapValue),er.exists(!0)))}return f.mutationQueue.addMutationBatch(E,m,O,c)}).next(V=>{w=V;const O=V.applyToLocalDocumentSet(v,L);return f.documentOverlayCache.saveOverlays(E,V.batchId,O)})}).then(()=>({batchId:w.batchId,changes:m_(v)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(l,c,f){let m=l.Tc[l.currentUser.toKey()];m||(m=new kt(Ge)),m=m.insert(c,f),l.Tc[l.currentUser.toKey()]=m}(s,a.batchId,n),await xu(s,a.changes),await fh(s.remoteStore)}catch(a){const l=o0(a,"Failed to persist write");n.reject(l)}}async function Q_(t,e){const n=Te(t);try{const s=await vD(n.localStore,e);e.targetChanges.forEach((a,l)=>{const c=n.yc.get(l);c&&(at(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.fc=!0:a.modifiedDocuments.size>0?at(c.fc):a.removedDocuments.size>0&&(at(c.fc),c.fc=!1))}),await xu(n,s,e)}catch(s){await mu(s)}}function nw(t,e,n){const s=Te(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.wc.forEach((l,c)=>{const f=c.view.Mu(e);f.snapshot&&a.push(f.snapshot)}),function(l,c){const f=Te(l);f.onlineState=c;let m=!1;f.queries.forEach((p,v)=>{for(const w of v.listeners)w.Mu(c)&&(m=!0)}),m&&l0(f)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function t9(t,e,n){const s=Te(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.yc.get(e),l=a&&a.key;if(l){let c=new kt(ge.comparator);c=c.insert(l,en.newNoDocument(l,_e.min()));const f=Ve().add(l),m=new ch(_e.min(),new Map,new kt(Ge),c,f);await Q_(s,m),s.gc=s.gc.remove(l),s.yc.delete(e),u0(s)}else await Yg(s.localStore,e,!1).then(()=>Qg(s,e,n)).catch(mu)}async function n9(t,e){const n=Te(t),s=e.batch.batchId;try{const a=await yD(n.localStore,e);Z_(n,s,null),X_(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await xu(n,a)}catch(a){await mu(a)}}async function r9(t,e,n){const s=Te(t);try{const a=await function(l,c){const f=Te(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let p;return f.mutationQueue.lookupMutationBatch(m,c).next(v=>(at(v!==null),p=v.keys(),f.mutationQueue.removeMutationBatch(m,v))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,p,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,p)).next(()=>f.localDocuments.getDocuments(m,p))})}(s.localStore,e);Z_(s,e,n),X_(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await xu(s,a)}catch(a){await mu(a)}}function X_(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Z_(t,e,n){const s=Te(t);let a=s.Tc[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function Qg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t._c.get(e))t.wc.delete(s),n&&t.dc.Pc(s,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(s=>{t.Ic.containsKey(s)||W_(t,s)})}function W_(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(V_(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),u0(t))}function rw(t,e,n){for(const s of n)s instanceof K_?(t.Ic.addReference(s.key,e),s9(t,s)):s instanceof Y_?(ue("SyncEngine","Document no longer in limbo: "+s.key),t.Ic.removeReference(s.key,e),t.Ic.containsKey(s.key)||W_(t,s.key)):be()}function s9(t,e){const n=e.key,s=n.path.canonicalString();t.gc.get(n)||t.mc.has(s)||(ue("SyncEngine","New document in limbo: "+n),t.mc.add(s),u0(t))}function u0(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ge(it.fromString(e)),s=t.Ac.next();t.yc.set(s,new QD(n)),t.gc=t.gc.insert(n,s),U_(t.remoteStore,new zs(Zr(Kp(n.path)),s,"TargetPurposeLimboResolution",Pp.ct))}}async function xu(t,e,n){const s=Te(t),a=[],l=[],c=[];s.wc.isEmpty()||(s.wc.forEach((f,m)=>{c.push(s.Rc(m,e,n).then(p=>{if((p||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(m.targetId,p!=null&&p.fromCache?"not-current":"current"),p){a.push(p);const v=n0.Li(m.targetId,p);l.push(v)}}))}),await Promise.all(c),s.dc.nu(a),await async function(f,m){const p=Te(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>K.forEach(m,w=>K.forEach(w.Fi,E=>p.persistence.referenceDelegate.addReference(v,w.targetId,E)).next(()=>K.forEach(w.Bi,E=>p.persistence.referenceDelegate.removeReference(v,w.targetId,E)))))}catch(v){if(!gu(v))throw v;ue("LocalStore","Failed to update sequence numbers: "+v)}for(const v of m){const w=v.targetId;if(!v.fromCache){const E=p.Ji.get(w),A=E.snapshotVersion,L=E.withLastLimboFreeSnapshotVersion(A);p.Ji=p.Ji.insert(w,L)}}}(s.localStore,l))}async function i9(t,e){const n=Te(t);if(!n.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const s=await j_(n.localStore,e);n.currentUser=e,function(a,l){a.Ec.forEach(c=>{c.forEach(f=>{f.reject(new se(H.CANCELLED,l))})}),a.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await xu(n,s.er)}}function a9(t,e){const n=Te(t),s=n.yc.get(e);if(s&&s.fc)return Ve().add(s.key);{let a=Ve();const l=n._c.get(e);if(!l)return a;for(const c of l){const f=n.wc.get(c);a=a.unionWith(f.view.nc)}return a}}function o9(t){const e=Te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Q_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t9.bind(null,e),e.dc.nu=$D.bind(null,e.eventManager),e.dc.Pc=GD.bind(null,e.eventManager),e}function l9(t){const e=Te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r9.bind(null,e),e}class sw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=dh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return pD(this.persistence,new mD,e.initialUser,this.serializer)}createPersistence(e){return new hD(t0.zs,this.serializer)}createSharedClientState(e){return new _D}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class u9{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>nw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=i9.bind(null,this.syncEngine),await qD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new HD}createDatastore(e){const n=dh(e.databaseInfo.databaseId),s=(a=e.databaseInfo,new AD(a));var a;return function(l,c,f,m){return new RD(l,c,f,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,a=e.asyncQueue,l=f=>nw(this.syncEngine,f,0),c=Jb.D()?new Jb:new SD,new DD(n,s,a,l,c);var n,s,a,l,c}createSyncEngine(e,n){return function(s,a,l,c,f,m,p){const v=new XD(s,a,l,c,f,m);return p&&(v.vc=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Te(e);ue("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await vu(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e,n,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Jt.UNAUTHENTICATED,this.clientId=JE.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async l=>{ue("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(s,l=>(ue("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=o0(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function sg(t,e){t.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async a=>{s.isEqual(a)||(await j_(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function iw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await h9(t);ue("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(a=>ew(e.remoteStore,a)),t.setAppCheckTokenChangeListener((a,l)=>ew(e.remoteStore,l)),t._onlineComponents=e}function d9(t){return t.name==="FirebaseError"?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function h9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await sg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!d9(n))throw n;Ka("Error using user provided cache. Falling back to memory cache: "+n),await sg(t,new sw)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await sg(t,new sw);return t._offlineComponents}async function eS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await iw(t,t._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await iw(t,new u9))),t._onlineComponents}function f9(t){return eS(t).then(e=>e.syncEngine)}async function tS(t){const e=await eS(t),n=e.eventManager;return n.onListen=ZD.bind(null,e.syncEngine),n.onUnlisten=JD.bind(null,e.syncEngine),n}function m9(t,e,n={}){const s=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,m){const p=new J_({next:w=>{l.enqueueAndForget(()=>$_(a,v));const E=w.docs.has(c);!E&&w.fromCache?m.reject(new se(H.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&w.fromCache&&f&&f.source==="server"?m.reject(new se(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),v=new G_(Kp(c.path),p,{includeMetadataChanges:!0,Ku:!0});return H_(a,v)}(await tS(t),t.asyncQueue,e,n,s)),s.promise}function g9(t,e,n={}){const s=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,m){const p=new J_({next:w=>{l.enqueueAndForget(()=>$_(a,v)),w.fromCache&&f.source==="server"?m.reject(new se(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),v=new G_(c,p,{includeMetadataChanges:!0,Ku:!0});return H_(a,v)}(await tS(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t,e,n){if(!n)throw new se(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function p9(t,e,n,s){if(e===!0&&s===!0)throw new se(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ow(t){if(!ge.isDocumentKey(t))throw new se(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lw(t){if(ge.isDocumentKey(t))throw new se(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be()}function Jr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mh(t);throw new se(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new se(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}p9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,s=e.experimentalLongPollingOptions,n.timeoutSeconds===s.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,s}}class gh{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new se(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uw(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new V6;switch(n.type){case"firstParty":return new q6(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new se(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=aw.get(e);n&&(ue("ComponentProvider","Removing Datastore"),aw.delete(e),n.terminate())}(this),Promise.resolve()}}function y9(t,e,n,s={}){var a;const l=(t=Jr(t,gh))._getSettings();if(l.host!=="firestore.googleapis.com"&&l.host!==e&&Ka("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${n}`,ssl:!1})),s.mockUserToken){let c,f;if(typeof s.mockUserToken=="string")c=s.mockUserToken,f=Jt.MOCK_USER;else{c=o2(s.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new se(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Jt(m)}t._authCredentials=new B6(new WE(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class Pi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Pi(this.firestore,e,this._query)}}class $s extends Pi{constructor(e,n,s){super(e,n,Kp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new ge(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function sS(t,e,...n){if(t=ct(t),rS("collection","path",e),t instanceof gh){const s=it.fromString(e,...n);return lw(s),new $s(t,null,s)}{if(!(t instanceof bn||t instanceof $s))throw new se(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(it.fromString(e,...n));return lw(s),new $s(t.firestore,null,s)}}function eu(t,e,...n){if(t=ct(t),arguments.length===1&&(e=JE.A()),rS("doc","path",e),t instanceof gh){const s=it.fromString(e,...n);return ow(s),new bn(t,null,new ge(s))}{if(!(t instanceof bn||t instanceof $s))throw new se(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(it.fromString(e,...n));return ow(s),new bn(t.firestore,t instanceof $s?t.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new M_(this,"async_queue_retry"),this.Xc=()=>{const n=rg();n&&ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=rg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=rg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Kr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!gu(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{this.Wc=s,this.Hc=!1;const a=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(s);throw Xr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Hc=!1,s))));return this.Gc=n,n}enqueueAfterDelay(e,n,s){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const a=a0.createAndSchedule(this,e,n,s,l=>this.na(l));return this.zc.push(a),a}Zc(){this.Wc&&be()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class ho extends gh{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new v9,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||iS(this),this._firestoreClient.terminate()}}function x9(t,e){const n=typeof t=="object"?t:ap(),s=typeof t=="string"?t:"(default)",a=Ud(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=s2("firestore");l&&y9(a,...l)}return a}function c0(t){return t._firestoreClient||iS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function iS(t){var e,n,s;const a=t._freezeSettings(),l=function(c,f,m,p){return new eO(c,f,m,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,nS(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._firestoreClient=new c9(t._authCredentials,t._appCheckCredentials,t._queue,l),!((n=a.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.cache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ja(on.fromBase64String(e))}catch(n){throw new se(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ja(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=/^__.*__$/;class w9{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)}}function aS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class m0{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new m0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ad(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(aS(this.ca)&&b9.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class E9{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||dh(e)}ya(e,n,s,a=!1){return new m0({ca:e,methodName:n,ga:s,path:tn.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function g0(t){const e=t._freezeSettings(),n=dh(t._databaseId);return new E9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oS(t,e,n,s,a,l={}){const c=t.ya(l.merge||l.mergeFields?2:0,e,n,a);cS("Data must be an object, but it was:",c,s);const f=lS(s,c);let m,p;if(l.merge)m=new Jn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const w of l.mergeFields){const E=S9(e,w,n);if(!c.contains(E))throw new se(H.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);N9(v,E)||v.push(E)}m=new Jn(v),p=c.fieldTransforms.filter(w=>m.covers(w.field))}else m=null,p=c.fieldTransforms;return new w9(new $n(f),m,p)}class p0 extends h0{_toFieldTransform(e){return new _O(e.path,new Zl)}isEqual(e){return e instanceof p0}}function _9(t,e,n,s=!1){return y0(n,t.ya(s?4:3,e))}function y0(t,e){if(uS(t=ct(t)))return cS("Unsupported field value:",e,t),lS(t,e);if(t instanceof h0)return function(n,s){if(!aS(s.ca))throw s._a(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,s){const a=[];let l=0;for(const c of n){let f=y0(c,s.wa(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(t,e)}return function(n,s){if((n=ct(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return bO(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=jt.fromDate(n);return{timestampValue:Td(s.serializer,a)}}if(n instanceof jt){const a=new jt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Td(s.serializer,a)}}if(n instanceof f0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ja)return{bytesValue:A_(s.serializer,n._byteString)};if(n instanceof bn){const a=s.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw s._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Jp(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s._a(`Unsupported field value: ${mh(n)}`)}(t,e)}function lS(t,e){const n={};return e_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(t,(s,a)=>{const l=y0(a,e.ha(s));l!=null&&(n[s]=l)}),{mapValue:{fields:n}}}function uS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof f0||t instanceof Ja||t instanceof bn||t instanceof h0)}function cS(t,e,n){if(!uS(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=mh(n);throw s==="an object"?e._a(t+" a custom object"):e._a(t+" "+s)}}function S9(t,e,n){if((e=ct(e))instanceof d0)return e._internalPath;if(typeof e=="string")return dS(t,e);throw Ad("Field path arguments must be of type string or ",t,!1,void 0,n)}const T9=new RegExp("[~\\*/\\[\\]]");function dS(t,e,n){if(e.search(T9)>=0)throw Ad(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new d0(...e.split("."))._internalPath}catch{throw Ad(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ad(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new se(H.INVALID_ARGUMENT,f+t+m)}function N9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new A9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(v0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class A9 extends hS{data(){return super.data()}}function v0(t,e){return typeof e=="string"?dS(t,e):e instanceof d0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class x0{}class fS extends x0{}function C9(t,e,...n){let s=[];e instanceof x0&&s.push(e),s=s.concat(n),function(a){const l=a.filter(f=>f instanceof w0).length,c=a.filter(f=>f instanceof b0).length;if(l>1||l>0&&c>0)throw new se(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)t=a._apply(t);return t}class b0 extends fS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new b0(e,n,s)}_apply(e){const n=this._parse(e);return mS(e._query,n),new Pi(e.firestore,e.converter,Pg(e._query,n))}_parse(e){const n=g0(e.firestore);return function(a,l,c,f,m,p,v){let w;if(m.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new se(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){dw(v,p);const E=[];for(const A of v)E.push(cw(f,a,A));w={arrayValue:{values:E}}}else w=cw(f,a,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||dw(v,p),w=_9(c,l,v,p==="in"||p==="not-in");return At.create(m,p,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class w0 extends x0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new w0(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let l=s;const c=a.getFlattenedFilters();for(const f of c)mS(l,f),l=Pg(l,f)}(e._query,n),new Pi(e.firestore,e.converter,Pg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class E0 extends fS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new E0(e,n)}_apply(e){const n=function(s,a,l){if(s.startAt!==null)throw new se(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new se(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Pa(a,l);return function(f,m){if(Yp(f)===null){const p=ih(f);p!==null&&gS(f,p,m.field)}}(s,c),c}(e._query,this._field,this._direction);return new Pi(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new lo(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function R9(t,e="asc"){const n=e,s=v0("orderBy",t);return E0._create(s,n)}function cw(t,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new se(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!c_(e)&&n.indexOf("/")!==-1)throw new se(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ge.isDocumentKey(s))throw new se(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ib(t,new ge(s))}if(n instanceof bn)return Ib(t,n._key);throw new se(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mh(n)}.`)}function dw(t,e){if(!Array.isArray(t)||t.length===0)throw new se(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mS(t,e){if(e.isInequality()){const s=ih(t),a=e.field;if(s!==null&&!s.isEqual(a))throw new se(H.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const l=Yp(t);l!==null&&gS(t,a,l)}const n=function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function gS(t,e,n){if(!n.isEqual(e))throw new se(H.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class O9{convertValue(e,n="none"){switch(Mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return oo(e,(a,l)=>{s[a]=this.convertValue(l,n)}),s}convertGeoPoint(e){return new f0(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Fp(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const n=Qs(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);at(D_(s));const a=new n_(s.get(1),s.get(3)),l=new ge(s.popFirst(5));return a.isEqual(n)||Xr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t,e,n){let s;return s=t?t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yS extends hS{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(v0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class nd extends yS{data(e={}){return super.data(e)}}class D9{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new _l(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new nd(this._firestore,this._userDataWriter,s.key,s,new _l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const f=new nd(s._firestore,s._userDataWriter,c.doc.key,c.doc,new _l(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const f=new nd(s._firestore,s._userDataWriter,c.doc.key,c.doc,new _l(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,p=-1;return c.type!==0&&(m=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:j9(c.type),doc:f,oldIndex:m,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function j9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t){t=Jr(t,bn);const e=Jr(t.firestore,ho);return m9(c0(e),t._key).then(n=>V9(e,t,n))}class xS extends O9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ja(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}}function I9(t){t=Jr(t,Pi);const e=Jr(t.firestore,ho),n=c0(e),s=new xS(e);return k9(t._query),g9(n,t._query).then(a=>new D9(e,s,t,a))}function M9(t,e,n){t=Jr(t,bn);const s=Jr(t.firestore,ho),a=pS(t.converter,e);return _0(s,[oS(g0(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,er.none())])}function L9(t){return _0(Jr(t.firestore,ho),[new Qp(t._key,er.none())])}function U9(t,e){const n=Jr(t.firestore,ho),s=eu(t),a=pS(t.converter,e);return _0(n,[oS(g0(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,er.exists(!1))]).then(()=>s)}function _0(t,e){return function(n,s){const a=new Kr;return n.asyncQueue.enqueueAndForget(async()=>e9(await f9(n),s,a)),a.promise}(c0(t),e)}function V9(t,e,n){const s=n.docs.get(e._key),a=new xS(t);return new yS(t,a,e._key,s,new _l(n.hasPendingWrites,n.fromCache),e.converter)}function bS(){return new p0("serverTimestamp")}(function(t,e=!0){(function(n){ao=n})(Ui),Ri(new Ks("firestore",(n,{instanceIdentifier:s,options:a})=>{const l=n.getProvider("app").getImmediate(),c=new ho(new z6(n.getProvider("auth-internal")),new H6(n.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new se(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new n_(f.options.projectId,m)}(l,s),l);return a=Object.assign({useFetchStreams:e},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),xr(Cb,"3.12.1",t),xr(Cb,"3.12.1","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="firebasestorage.googleapis.com",ES="storageBucket",B9=2*60*1e3,z9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt extends Sr{constructor(e,n,s=0){super(ig(e),`Firebase Storage: ${n} (${ig(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ig(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yt||(yt={}));function ig(t){return"storage/"+t}function S0(){const t="An unknown error occurred, please check the error payload for server response.";return new vt(yt.UNKNOWN,t)}function P9(t){return new vt(yt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function q9(t){return new vt(yt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function F9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new vt(yt.UNAUTHENTICATED,t)}function H9(){return new vt(yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function $9(t){return new vt(yt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function G9(){return new vt(yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function K9(){return new vt(yt.CANCELED,"User canceled the upload/download.")}function Y9(t){return new vt(yt.INVALID_URL,"Invalid URL '"+t+"'.")}function Q9(t){return new vt(yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function X9(){return new vt(yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ES+"' property when initializing the app?")}function Z9(){return new vt(yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function W9(){return new vt(yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function J9(t){return new vt(yt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Xg(t){return new vt(yt.INVALID_ARGUMENT,t)}function _S(){return new vt(yt.APP_DELETED,"The Firebase app was deleted.")}function e7(t){return new vt(yt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cl(t,e){return new vt(yt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ml(t){throw new vt(yt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=On.makeFromUrl(e,n)}catch{return new On(e,"")}if(s.path==="")return s;throw Q9(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p($){$.path_=decodeURIComponent($.path)}const v="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",A=new RegExp(`^https?://${w}/${v}/b/${a}/o${E}`,"i"),L={bucket:1,path:3},V=n===wS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",Y=new RegExp(`^https?://${V}/${a}/${O}`,"i"),G=[{regex:f,indices:m,postModify:l},{regex:A,indices:L,postModify:p},{regex:Y,indices:{bucket:1,path:2},postModify:p}];for(let $=0;$<G.length;$++){const Z=G[$],Ee=Z.regex.exec(e);if(Ee){const Re=Ee[Z.indices.bucket];let Oe=Ee[Z.indices.path];Oe||(Oe=""),s=new On(Re,Oe),Z.postModify(s);break}}if(s==null)throw Y9(e);return s}}class t7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n7(t,e,n){let s=1,a=null,l=null,c=!1,f=0;function m(){return f===2}let p=!1;function v(...O){p||(p=!0,e.apply(null,O))}function w(O){a=setTimeout(()=>{a=null,t(A,m())},O)}function E(){l&&clearTimeout(l)}function A(O,...Y){if(p){E();return}if(O){E(),v.call(null,O,...Y);return}if(m()||c){E(),v.call(null,O,...Y);return}s<64&&(s*=2);let G;f===1?(f=2,G=0):G=(s+Math.random())*1e3,w(G)}let L=!1;function V(O){L||(L=!0,E(),!p&&(a!==null?(O||(f=2),clearTimeout(a),w(0)):O||(f=1)))}return w(0),l=setTimeout(()=>{c=!0,V(!0)},n),V}function r7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(t){return t!==void 0}function i7(t){return typeof t=="object"&&!Array.isArray(t)}function T0(t){return typeof t=="string"||t instanceof String}function hw(t){return N0()&&t instanceof Blob}function N0(){return typeof Blob<"u"&&!ek()}function fw(t,e,n,s){if(s<e)throw Xg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Xg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function SS(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ki;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ki||(ki={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e,n,s,a,l,c,f,m,p,v,w,E=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=w,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,L)=>{this.resolve_=A,this.reject_=L,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Hc(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===ki.NO_ERROR,m=l.getStatus();if(!f||a7(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===ki.ABORT;s(!1,new Hc(!1,null,v));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new Hc(p,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());s7(m)?l(m):l()}catch(m){c(m)}else if(f!==null){const m=S0();m.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,m)):c(m)}else if(a.canceled){const m=this.appDelete_?_S():K9();c(m)}else{const m=G9();c(m)}};this.canceled_?n(!1,new Hc(!1,null,!0)):this.backoffId_=n7(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&r7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function l7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function u7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function c7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function d7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function h7(t,e,n,s,a,l,c=!0){const f=SS(t.urlParams),m=t.url+f,p=Object.assign({},t.headers);return c7(p,e),l7(p,n),u7(p,l),d7(p,s),new o7(m,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function m7(...t){const e=f7();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(N0())return new Blob(t);throw new vt(yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function g7(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t){if(typeof atob>"u")throw J9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ag{constructor(e,n){this.data=e,this.contentType=n||null}}function y7(t,e){switch(t){case pr.RAW:return new ag(TS(e));case pr.BASE64:case pr.BASE64URL:return new ag(NS(t,e));case pr.DATA_URL:return new ag(x7(e),b7(e))}throw S0()}function TS(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=s,c=t.charCodeAt(++n);s=65536|(l&1023)<<10|c&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function v7(t){let e;try{e=decodeURIComponent(t)}catch{throw Cl(pr.DATA_URL,"Malformed data URL.")}return TS(e)}function NS(t,e){switch(t){case pr.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Cl(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case pr.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Cl(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=p7(e)}catch(a){throw a.message.includes("polyfill")?a:Cl(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class AS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Cl(pr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=w7(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function x7(t){const e=new AS(t);return e.base64?NS(pr.BASE64,e.rest):v7(e.rest)}function b7(t){return new AS(t).contentType}function w7(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n){let s=0,a="";hw(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(hw(this.data_)){const s=this.data_,a=g7(s,e,n);return a===null?null:new Ls(a)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Ls(s,!0)}}static getBlob(...e){if(N0()){const n=e.map(s=>s instanceof Ls?s.data_:s);return new Ls(m7.apply(null,n))}else{const n=e.map(c=>T0(c)?y7(pr.RAW,c).data:c.data_);let s=0;n.forEach(c=>{s+=c.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new Ls(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t){let e;try{e=JSON.parse(t)}catch{return null}return i7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function _7(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function CS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(t,e){return e}class un{constructor(e,n,s,a){this.server=e,this.local=n||e,this.writable=!!s,this.xform=a||S7}}let $c=null;function T7(t){return!T0(t)||t.length<2?t:CS(t)}function RS(){if($c)return $c;const t=[];t.push(new un("bucket")),t.push(new un("generation")),t.push(new un("metageneration")),t.push(new un("name","fullPath",!0));function e(l,c){return T7(c)}const n=new un("name");n.xform=e,t.push(n);function s(l,c){return c!==void 0?Number(c):c}const a=new un("size");return a.xform=s,t.push(a),t.push(new un("timeCreated")),t.push(new un("updated")),t.push(new un("md5Hash",null,!0)),t.push(new un("cacheControl",null,!0)),t.push(new un("contentDisposition",null,!0)),t.push(new un("contentEncoding",null,!0)),t.push(new un("contentLanguage",null,!0)),t.push(new un("contentType",null,!0)),t.push(new un("metadata","customMetadata",!0)),$c=t,$c}function N7(t,e){function n(){const s=t.bucket,a=t.fullPath,l=new On(s,a);return e._makeStorageReference(l)}Object.defineProperty(t,"ref",{get:n})}function A7(t,e,n){const s={};s.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];s[c.local]=c.xform(s,e[c.server])}return N7(s,t),s}function OS(t,e,n){const s=kS(e);return s===null?null:A7(t,s,n)}function k7(t,e,n,s){const a=kS(e);if(a===null||!T0(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const v=t.bucket,w=t.fullPath,E="/b/"+c(v)+"/o/"+c(w),A=A0(E,n,s),L=SS({alt:"media",token:p});return A+L})[0]}function C7(t,e){const n={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(n[l.server]=t[l.local])}return JSON.stringify(n)}class DS{constructor(e,n,s,a){this.url=e,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(t){if(!t)throw S0()}function R7(t,e){function n(s,a){const l=OS(t,a,e);return jS(l!==null),l}return n}function O7(t,e){function n(s,a){const l=OS(t,a,e);return jS(l!==null),k7(l,a,t.host,t._protocol)}return n}function IS(t){function e(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=H9():a=F9():n.getStatus()===402?a=q9(t.bucket):n.getStatus()===403?a=$9(t.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return e}function D7(t){const e=IS(t);function n(s,a){let l=e(s,a);return s.getStatus()===404&&(l=P9(t.path)),l.serverResponse=a.serverResponse,l}return n}function j7(t,e,n){const s=e.fullServerUrl(),a=A0(s,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,f=new DS(a,l,O7(t,n),c);return f.errorHandler=D7(e),f}function I7(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function M7(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=I7(null,e)),s}function L7(t,e,n,s,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let G="";for(let $=0;$<2;$++)G=G+Math.random().toString().slice(2);return G}const m=f();c["Content-Type"]="multipart/related; boundary="+m;const p=M7(e,s,a),v=C7(p,n),w="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+m+"--",A=Ls.getBlob(w,s,E);if(A===null)throw Z9();const L={name:p.fullPath},V=A0(l,t.host,t._protocol),O="POST",Y=t.maxUploadRetryTime,U=new DS(V,O,R7(t,n),Y);return U.urlParams=L,U.headers=c,U.body=A.uploadData(),U.errorHandler=IS(e),U}class U7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ki.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ki.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ki.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,a){if(this.sent_)throw ml("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ml("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ml("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ml("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ml("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class V7 extends U7{initXhr(){this.xhr_.responseType="text"}}function MS(){return new V7}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n){this._service=e,n instanceof On?this._location=n:this._location=On.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Li(e,n)}get root(){const e=new On(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CS(this._location.path)}get storage(){return this._service}get parent(){const e=E7(this._location.path);if(e===null)return null;const n=new On(this._location.bucket,e);return new Li(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw e7(e)}}function B7(t,e,n){t._throwIfRoot("uploadBytes");const s=L7(t.storage,t._location,RS(),new Ls(e,!0),n);return t.storage.makeRequestWithTokens(s,MS).then(a=>({metadata:a,ref:t}))}function z7(t){t._throwIfRoot("getDownloadURL");const e=j7(t.storage,t._location,RS());return t.storage.makeRequestWithTokens(e,MS).then(n=>{if(n===null)throw W9();return n})}function P7(t,e){const n=_7(t._location.path,e),s=new On(t._location.bucket,n);return new Li(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(t){return/^[A-Za-z]+:\/\//.test(t)}function F7(t,e){return new Li(t,e)}function LS(t,e){if(t instanceof k0){const n=t;if(n._bucket==null)throw X9();const s=new Li(n,n._bucket);return e!=null?LS(s,e):s}else return e!==void 0?P7(t,e):t}function H7(t,e){if(e&&q7(e)){if(t instanceof k0)return F7(t,e);throw Xg("To use ref(service, url), the first argument must be a Storage instance.")}else return LS(t,e)}function mw(t,e){const n=e==null?void 0:e[ES];return n==null?null:On.makeFromBucketSpec(n,t)}function $7(t,e,n,s={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:a}=s;a&&(t._overrideAuthToken=typeof a=="string"?a:o2(a,t.app.options.projectId))}class k0{constructor(e,n,s,a,l){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=wS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=B9,this._maxUploadRetryTime=z9,this._requests=new Set,a!=null?this._bucket=On.makeFromBucketSpec(a,this._host):this._bucket=mw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=On.makeFromBucketSpec(this._url,e):this._bucket=mw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Li(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new t7(_S());{const c=h7(e,this._appId,s,a,n,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const gw="@firebase/storage",pw="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US="storage";function G7(t,e,n){return t=ct(t),B7(t,e,n)}function K7(t){return t=ct(t),z7(t)}function Y7(t,e){return t=ct(t),H7(t,e)}function Q7(t=ap(),e){t=ct(t);const s=Ud(t,US).getImmediate({identifier:e}),a=s2("storage");return a&&X7(s,...a),s}function X7(t,e,n,s={}){$7(t,e,n,s)}function Z7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new k0(n,s,a,e,Ui)}function W7(){Ri(new Ks(US,Z7,"PUBLIC").setMultipleInstances(!0)),xr(gw,pw,""),xr(gw,pw,"esm2017")}W7();const J7={apiKey:"AIzaSyA2LBsiciRmvrPYOcIxUOt1UEgw2R5cUe4",authDomain:"ollo-app-e5224.firebaseapp.com",projectId:"ollo-app-e5224",storageBucket:"ollo-app-e5224.firebasestorage.app",messagingSenderId:"194732965696",appId:"1:194763296569:web:4c8db85f88b235a11322e8"},C0=c2(J7),eo=x9(C0),ej=Q7(C0),Xn=CR(C0),VS=x.createContext(null),tj=({children:t})=>{const[e,n]=x.useState(null),[s,a]=x.useState(!0);x.useEffect(()=>{const v=z2(Xn,async w=>{if(w){const E=eu(eo,"users",w.uid),A=await vS(E);A.exists()?n({...A.data(),emailVerified:w.emailVerified}):n(null)}else n(null);a(!1)});return()=>v()},[]);const p={currentUser:e,loading:s,registerWithEmail:async(v,w,E)=>{const L=(await f3(Xn,v,w)).user,V=eu(eo,"users",L.uid);await M9(V,{uid:L.uid,email:L.email,name:E.name,username:E.username,bio:"Novo membro do OLLO!",avatarUrl:`https://ui-avatars.com/api/?name=${encodeURIComponent(E.name)}&background=0D1B2A&color=E0E1DD&bold=true`,createdAt:bS()});const O={url:`${window.location.origin}/login?email_verified=true`,handleCodeInApp:!0};return await B2(L,O),{success:!0}},loginWithEmail:(v,w)=>m3(Xn,v,w),logout:async()=>{await y3(Xn)},forgotPassword:v=>V2(Xn,v)};return g.jsx(VS.Provider,{value:p,children:!s&&t})},qi=()=>{const t=x.useContext(VS);if(t===void 0)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return t};function nj({openCreatePostModal:t}){const{currentUser:e,logout:n}=qi(),s=wn(),a=async()=>{try{await n(),s("/")}catch(m){console.error("Erro ao fazer logout:",m)}},l=({isActive:m})=>{const p="flex items-center px-3 lg:px-4 py-3 text-sm font-medium rounded-lg transition-colors duration-150 ease-in-out group justify-center lg:justify-start";return m?`${p} bg-ollo-accent text-white shadow-sm dark:bg-ollo-accent-light dark:text-ollo-deep`:`${p} text-gray-600 hover:bg-gray-200/70 hover:text-ollo-deep dark:text-gray-300 dark:hover:bg-gray-700/50 dark:hover:text-white`};return g.jsxs("div",{className:"h-screen bg-ollo-light w-20 lg:w-64 flex flex-col p-3 lg:p-4 border-r border-gray-200/80 dark:border-gray-700/50 shadow-sm transition-all duration-300 ease-in-out dark:bg-ollo-deep",children:[g.jsx("div",{className:"mb-8 lg:mb-10 flex-shrink-0 pt-2 flex items-center justify-center",children:g.jsx(nn,{to:"/",className:"focus:outline-none focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:ring-offset-2 focus:ring-offset-ollo-light dark:focus:ring-offset-ollo-deep rounded-md",title:"Página Inicial OLLO",children:g.jsx("img",{src:"/images/logo_ollo.jpeg",alt:"Logo OLLO",className:"h-16 w-auto"})})}),g.jsxs("nav",{className:"flex-grow space-y-2",children:[g.jsxs(Ra,{to:"/",title:"Início",className:l,end:!0,children:[g.jsx(A4,{className:"h-6 w-6 flex-shrink-0 lg:mr-3"}),g.jsx("span",{className:"hidden lg:inline",children:"Início"})]}),g.jsxs(Ra,{to:"/explore",title:"Explorar",className:l,children:[g.jsx(O4,{className:"h-6 w-6 flex-shrink-0 lg:mr-3"}),g.jsx("span",{className:"hidden lg:inline",children:"Explorar"})]}),g.jsxs(Ra,{to:"/marketplace",title:"Mercado",className:l,children:[g.jsx(s4,{className:"h-6 w-6 flex-shrink-0 lg:mr-3"}),g.jsx("span",{className:"hidden lg:inline",children:"Mercado"})]}),e&&g.jsxs(g.Fragment,{children:[g.jsxs(Ra,{to:"/notifications",title:"Notificações",className:l,children:[g.jsx(n4,{className:"h-6 w-6 flex-shrink-0 lg:mr-3"}),g.jsx("span",{className:"hidden lg:inline",children:"Notificações"})]}),g.jsxs(Ra,{to:"/profile",title:"Meu Perfil",className:l,children:[g.jsx(Jw,{className:"h-6 w-6 flex-shrink-0 lg:mr-3"}),g.jsx("span",{className:"hidden lg:inline",children:"Meu Perfil"})]})]})]}),g.jsx("div",{className:"mt-auto flex-shrink-0 pb-2 space-y-2",children:e?g.jsxs(g.Fragment,{children:[g.jsxs("button",{title:"Criar Post",onClick:t,className:"w-full flex items-center justify-center mt-4 px-3 lg:px-4 py-2.5 rounded-lg text-sm font-semibold transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 bg-ollo-accent text-white hover:bg-opacity-90 dark:bg-ollo-accent-light dark:text-ollo-deep dark:hover:bg-opacity-90 focus:ring-ollo-accent dark:focus:ring-ollo-accent-light focus:ring-offset-ollo-light dark:focus:ring-offset-ollo-deep",children:[g.jsx(Ml,{className:"h-5 w-5 lg:mr-2"}),g.jsx("span",{className:"hidden lg:inline",children:"Criar Post"})]}),g.jsxs("button",{title:"Sair",onClick:a,className:"w-full flex items-center px-3 lg:px-4 py-3 text-sm font-medium rounded-lg transition-colors duration-150 ease-in-out group justify-center lg:justify-start text-gray-600 hover:bg-red-100 hover:text-red-700 dark:text-gray-300 dark:hover:bg-red-500/20 dark:hover:text-red-400",children:[g.jsx(ZA,{className:"h-6 w-6 flex-shrink-0 lg:mr-3"}),g.jsx("span",{className:"hidden lg:inline",children:"Sair"})]})]}):g.jsxs(Ra,{to:"/login",title:"Entrar",className:l,children:[g.jsx(e4,{className:"h-6 w-6 flex-shrink-0 lg:mr-3"}),g.jsx("span",{className:"hidden lg:inline",children:"Entrar"})]})})]})}function dr({children:t,openCreatePostModal:e,darkMode:n,toggleTheme:s}){return g.jsxs("div",{className:"flex h-screen",children:[g.jsx(nj,{openCreatePostModal:e,darkMode:n,toggleTheme:s}),g.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:g.jsxs("main",{className:`flex-1 overflow-x-hidden overflow-y-auto 
                     p-4 sm:p-6 md:p-8 
                     transition-colors duration-300 ease-in-out
                     ${n?"bg-gradient-to-br from-ollo-deep to-gray-900":"bg-gradient-to-b from-ollo-crystal-green to-ollo-sky-blue"}`,children:[t," "]})})]})}function kd({postData:t,onCommentSubmit:e,onDeletePost:n,variant:s}){if(!t)return null;const{postId:a,userName:l,timestamp:c,content:f}=t,m=t.comments||[],[p,v]=x.useState(!1),[w,E]=x.useState(t.likeCount||Math.floor(Math.random()*100)),[A,L]=x.useState(!1),[V,O]=x.useState(""),[Y,U]=x.useState(!1),[G,$]=x.useState({}),[Z,Ee]=x.useState(""),Re=x.useRef(null),Oe=4,De=f&&(f.length>200||f.split(`
`).length>Oe);x.useEffect(()=>{const ne={};m.length>0&&m.forEach(ce=>{const S=ce.commentId||`c-${Math.random()}`;ne[S]={likes:ce.likes||Math.floor(Math.random()*20),dislikes:ce.dislikes||Math.floor(Math.random()*5),userReaction:ce.userReaction||null}}),$(ne)},[m]);const ot=()=>U(!Y),Je=()=>{v(!p),E(p?w-1:w+1)},fe=()=>L(!A),ke=()=>{V.trim()&&(e(a,V),O(""))},Ue=()=>{alert("Compartilhar: Funcionalidade em desenvolvimento!")},je=()=>{n&&n(a)},M=(ne,ce)=>{$(S=>{const P=S[ne];if(!P)return S;let J=P.likes,W=P.dislikes,ie=P.userReaction;return ce==="like"?ie==="liked"?(J--,ie=null):(J++,ie==="disliked"&&W--,ie="liked"):ce==="dislike"&&(ie==="disliked"?(W--,ie=null):(W++,ie==="liked"&&J--,ie="disliked")),{...S,[ne]:{likes:Math.max(0,J),dislikes:Math.max(0,W),userReaction:ie}}})},Q=ne=>{const ce=document.documentElement.classList.contains("dark"),S=ce?"00A896":"0D1B2A",P=ce?"0D1B2A":"E0E1DD";return`https://ui-avatars.com/api/?name=${encodeURIComponent(ne)}&background=${S}&color=${P}&bold=true&size=128`};return g.jsxs("div",{className:`
        bg-white/90 dark:bg-ollo-slate/90 
        backdrop-blur-md rounded-xl shadow-lg mb-8 
        border border-gray-200/70 dark:border-gray-700/50 
        text-sm sm:text-base
        ${s==="explore"?"min-h-[400px] flex flex-col":""}
      `,children:[g.jsxs("div",{className:`p-4 sm:p-5 md:p-6 flex flex-col h-full ${s==="explore"?"flex-grow":""}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{className:"flex items-center min-w-0",children:[g.jsx("img",{className:"h-10 w-10 sm:h-11 sm:w-11 rounded-full mr-3 sm:mr-3.5 object-cover ring-2 ring-offset-2 ring-ollo-accent-light/80 dark:ring-ollo-accent-light ring-offset-white dark:ring-offset-ollo-slate",src:Q(l),alt:`Avatar de ${l}`}),g.jsxs("div",{className:"min-w-0",children:[g.jsx("p",{className:"font-semibold text-sm sm:text-base text-ollo-deep dark:text-ollo-light leading-tight truncate",children:l}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 cursor-pointer transition-colors",children:c})]})]}),l==="Usuário OLLO"&&n&&g.jsx("button",{onClick:je,title:"Excluir este post",className:"p-1.5 rounded-full text-gray-400 dark:text-gray-500 hover:text-red-500 dark:hover:text-red-400 hover:bg-red-100/50 dark:hover:bg-red-500/10 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 transition-colors duration-150 ease-in-out ml-2",children:g.jsx(Ww,{className:"h-5 w-5"})})]}),g.jsxs("div",{className:"mb-2",children:[g.jsx("p",{ref:Re,className:`text-gray-700 dark:text-gray-300 whitespace-pre-wrap leading-relaxed ${!Y&&De?`line-clamp-${Oe}`:""}`,children:f}),De&&g.jsx("button",{onClick:ot,className:"text-ollo-deep dark:text-ollo-accent-light hover:underline font-semibold text-xs mt-1.5 transition-colors focus:outline-none focus:ring-2 focus:ring-ollo-deep/50 dark:focus:ring-ollo-accent-light/50 rounded",children:Y?"Ler menos":"Continuar lendo..."})]}),(w>0||m.length>0)&&g.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 text-xs text-gray-500 dark:text-gray-400 mt-2 mb-4",children:[w>0&&g.jsxs("span",{className:"hover:text-gray-700 dark:hover:text-gray-200 cursor-default",children:[w," ",w===1?"Gosto":"Gostos"]}),m.length>0&&g.jsxs("button",{onClick:fe,className:"hover:text-gray-700 dark:hover:text-gray-200",children:[m.length," ",m.length===1?"Comentário":"Comentários"]})]}),g.jsxs("div",{className:`flex justify-around items-center border-t border-gray-200/90 dark:border-gray-700/50 pt-3 ${s==="explore"&&!A?"mt-auto":"mt-3"}`,children:[g.jsxs("button",{onClick:Je,className:`group flex items-center space-x-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700/50 px-2 sm:px-3 py-1.5 transition-colors duration-150 ${p?"text-red-600 dark:text-red-500":"text-gray-500 dark:text-gray-400 hover:text-ollo-deep dark:hover:text-gray-200"}`,title:"Gostar",children:[p?g.jsx(Gw,{className:"w-5 h-5"}):g.jsx(Zw,{className:"w-5 h-5"}),g.jsx("span",{className:"font-medium text-xs hidden md:group-hover:inline ml-1",children:"Gostar"})]}),g.jsxs("button",{onClick:fe,className:"group flex items-center space-x-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700/50 px-2 sm:px-3 py-1.5 transition-colors duration-150 text-gray-500 dark:text-gray-400 hover:text-ollo-deep dark:hover:text-gray-200",title:A?"Ocultar comentários":"Comentar",children:[g.jsx(c4,{className:"w-5 h-5"}),g.jsx("span",{className:"font-medium text-xs hidden md:inline ml-1",children:A?"Ocultar":"Comentar"})]}),g.jsxs("button",{onClick:Ue,className:"group flex items-center space-x-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700/50 px-2 sm:px-3 py-1.5 transition-colors duration-150 text-gray-500 dark:text-gray-400 hover:text-ollo-deep dark:hover:text-gray-200",title:"Partilhar",children:[g.jsx(L4,{className:"w-5 h-5"}),g.jsx("span",{className:"font-medium text-xs hidden md:group-hover:inline ml-1",children:"Partilhar"})]})]})]}),A&&g.jsxs("div",{className:"px-4 sm:px-5 md:px-6 pb-5 pt-4 border-t border-gray-200/90 dark:border-gray-700/50",children:[g.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 mb-4",children:[g.jsx("img",{className:"h-8 w-8 sm:h-9 sm:w-9 rounded-full object-cover flex-shrink-0 ring-1 ring-offset-1 ring-gray-300 dark:ring-gray-600 ring-offset-white dark:ring-offset-ollo-slate",src:Q("Eu"),alt:"Seu avatar"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("textarea",{rows:"2",className:"w-full p-2 sm:p-2.5 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 placeholder-gray-500 dark:placeholder-gray-400 focus:ring-1 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent text-xs sm:text-sm shadow-sm transition-colors",placeholder:"Escreva um comentário...",value:V,onChange:ne=>O(ne.target.value)}),g.jsx("div",{className:"flex justify-end mt-2",children:g.jsx("button",{onClick:ke,className:"px-4 py-1.5 sm:px-5 sm:py-2 bg-ollo-deep text-ollo-light dark:bg-ollo-accent-light dark:text-ollo-deep rounded-lg text-xs font-semibold hover:bg-opacity-90 active:scale-95 transition-all duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 shadow-md disabled:opacity-60 disabled:cursor-not-allowed focus:ring-ollo-deep/70 dark:focus:ring-ollo-accent-light/70 focus:ring-offset-white dark:focus:ring-offset-ollo-slate",disabled:!V.trim(),children:"Enviar Comentário"})})]})]}),g.jsx("div",{className:"space-y-3 sm:space-y-4",children:m.length>0?m.map(ne=>{const ce=ne.commentId||`c-${Math.random()}`,S=G[ce]||{likes:0,dislikes:0,userReaction:null},P=S.userReaction==="liked",J=S.userReaction==="disliked";return g.jsxs("div",{className:"text-xs sm:text-sm flex items-start space-x-2 sm:space-2.5",children:[g.jsx("img",{className:"h-6 w-6 sm:h-7 sm:w-7 rounded-full object-cover flex-shrink-0 mt-0.5 ring-1 ring-offset-1 ring-gray-300 dark:ring-gray-600 ring-offset-white dark:ring-offset-ollo-slate",src:Q(ne.user),alt:`Avatar de ${ne.user}`}),g.jsxs("div",{className:"bg-gray-100/90 dark:bg-gray-800/70 backdrop-blur-sm rounded-lg px-3 py-2 sm:px-3.5 sm:py-2.5 flex-1 shadow-sm border border-gray-200/70 dark:border-gray-700/50",children:[g.jsxs("p",{className:"text-gray-700 dark:text-gray-300 leading-snug",children:[g.jsxs("span",{className:"font-semibold text-ollo-deep dark:text-ollo-light mr-1.5",children:[ne.user,":"]}),ne.text]}),g.jsxs("div",{className:"mt-1.5 flex items-center space-x-3 sm:space-4",children:[g.jsxs("div",{className:"relative",children:[g.jsxs("button",{onClick:()=>M(ce,"like"),onMouseEnter:()=>Ee(`like-${ce}`),onMouseLeave:()=>Ee(""),className:`flex items-center text-xs group ${P?"text-ollo-deep dark:text-ollo-accent-light":"text-gray-500 dark:text-gray-400 hover:text-ollo-deep dark:hover:text-ollo-accent-light/80"}`,children:[P?g.jsx(BA,{className:"h-4 w-4 mr-1"}):g.jsx(S4,{className:"h-4 w-4 mr-1"}),g.jsx("span",{className:`${P?"font-semibold":""}`,children:S.likes})]}),Z===`like-${ce}`&&g.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 bg-black text-white text-xs font-medium rounded-md shadow-xl z-30",children:[" ","Gostei"," "]})]}),g.jsxs("div",{className:"relative",children:[g.jsxs("button",{onClick:()=>M(ce,"dislike"),onMouseEnter:()=>Ee(`dislike-${ce}`),onMouseLeave:()=>Ee(""),className:`flex items-center text-xs group ${J?"text-red-600 dark:text-red-500":"text-gray-500 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-500"}`,children:[J?g.jsx(UA,{className:"h-4 w-4 mr-1"}):g.jsx(E4,{className:"h-4 w-4 mr-1"}),g.jsx("span",{className:`${J?"font-semibold":""}`,children:S.dislikes})]}),Z===`dislike-${ce}`&&g.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 bg-black text-white text-xs font-medium rounded-md shadow-xl z-30",children:[" ","Não gostei"," "]})]})]})]})]},ce)}):g.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 italic text-center py-2",children:"Nenhum comentário ainda. Seja o primeiro!"})})]})]})}const rj=[{id:1,userName:"Seu Story",avatarText:"+",isOwn:!0,imageUrl:"https://images.unsplash.com/photo-1579546929518-9e396f3cc809?q=80&w=2070"},{id:2,userName:"Gemini",avatarText:"GA",imageUrl:"https://images.unsplash.com/photo-1554034483-2610ac3443a5?q=80&w=1887"},{id:3,userName:"Dev Ent.",avatarText:"DE",imageUrl:"https://images.unsplash.com/photo-1558591710-4b4a1ae0f04d?q=80&w=1887"},{id:4,userName:"Usuário C",avatarText:"UC",imageUrl:"https://images.unsplash.com/photo-1557682224-5b8590cd9ec5?q=80&w=2029"},{id:5,userName:"Usuário D",avatarText:"UD",imageUrl:"https://images.unsplash.com/photo-1604079628040-94301bb21b91?q=80&w=1887"},{id:6,userName:"Usuário E",avatarText:"UE",imageUrl:"https://images.unsplash.com/photo-1579546929662-7221826a7f8c?q=80&w=2070"}],sj=({story:t})=>g.jsxs("div",{className:`relative flex-shrink-0 w-28 h-48 sm:w-32 sm:h-56 rounded-xl overflow-hidden cursor-pointer \r
                       shadow-lg transform transition-all duration-300 ease-in-out hover:scale-105 \r
                       focus:outline-none focus:ring-2 ring-offset-2 dark:ring-offset-ollo-deep \r
                       focus:ring-ollo-deep dark:focus:ring-ollo-accent-light`,title:t.userName,onClick:()=>console.log(`Story de ${t.userName} clicada.`),children:[g.jsx("img",{src:t.imageUrl,alt:`Story de ${t.userName}`,className:"w-full h-full object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent"}),g.jsx("div",{className:`absolute top-3 left-3 h-10 w-10 rounded-full flex items-center justify-center font-bold border-2
                           ${t.isOwn?"bg-white text-ollo-deep border-gray-300 dark:bg-gray-200":"bg-ollo-deep text-white border-ollo-accent-light dark:bg-ollo-slate"}`,children:g.jsx("span",{className:t.isOwn?"text-2xl":"text-sm",children:t.avatarText})}),g.jsx("p",{className:"absolute bottom-2 left-2 right-2 text-white text-xs sm:text-sm font-semibold truncate",children:t.isOwn?"Criar Story":t.userName})]}),ij=()=>g.jsx("section",{"aria-labelledby":"stories-heading",className:"py-4 md:py-1 rounded-lg bg-white/50 dark:bg-gray-800/30",children:g.jsxs("div",{className:"max-w-full mx-auto px-1 sm:px-0",children:[g.jsx("h2",{id:"stories-heading",className:"sr-only",children:"Stories"}),g.jsx("div",{className:"flex space-x-3 sm:space-x-4 overflow-x-auto pb-3 pt-1 scrollbar-hide",children:rj.map(t=>g.jsx(sj,{story:t},t.id))})]})}),aj=({posts:t,onTriggerCreatePost:e,onCommentSubmit:n,onDeletePost:s})=>{const{user:a}=qi(),l=wn(),c=t;return g.jsxs("div",{className:"flex flex-col lg:flex-row lg:gap-x-6 xl:gap-x-8 pt-1 px-2 md:px-4 lg:px-6 xl:px-8",children:[g.jsx("main",{className:"w-full flex-grow lg:max-w-2xl xl:max-w-3xl mx-auto lg:mx-0",children:g.jsxs("div",{className:"space-y-6 md:space-y-8",children:[g.jsx(ij,{}),g.jsxs("section",{"aria-labelledby":"create-post-prompt-heading",className:"p-4 rounded-lg bg-white dark:bg-gray-800/70 shadow-md",children:[a&&g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:`flex-shrink-0 h-10 w-10 sm:h-11 sm:w-11 rounded-full flex items-center justify-center text-lg sm:text-xl font-bold\r
                                              bg-ollo-deep text-ollo-light dark:bg-ollo-accent-light dark:text-ollo-deep`,children:a.name?a.name.charAt(0).toUpperCase():"?"}),g.jsxs("div",{className:`flex-grow px-4 py-2.5 sm:py-3 rounded-full cursor-pointer transition-colors text-left\r
                                               bg-gray-100 hover:bg-gray-200 text-gray-600\r
                                               dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-300`,onClick:e,role:"button",tabIndex:0,onKeyPress:f=>{(f.key==="Enter"||f.key===" ")&&e()},children:["No que você está pensando,"," ",a.name?a.name.split(" ")[0]:"Usuário","?"]})]}),g.jsx("h2",{id:"create-post-prompt-heading",className:"sr-only",children:"Iniciar nova postagem"})]}),g.jsxs("section",{"aria-labelledby":"feed-heading",children:[g.jsx("h2",{id:"feed-heading",className:"text-xl md:text-2xl font-semibold mb-4 sm:mb-6 text-gray-900 dark:text-gray-100",children:"Atualizações Recentes"}),c&&c.length>0?g.jsx("div",{className:"space-y-6 md:space-y-8",children:c.map(f=>g.jsx(kd,{postData:f,onCommentSubmit:n,onDeletePost:s},f.postId||f.id))}):g.jsxs("div",{className:`text-center py-12 px-6 rounded-lg \r
                                          bg-white dark:bg-gray-800/70 shadow-md border border-gray-200/70 dark:border-gray-700/50`,children:[g.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800 dark:text-gray-200",children:"Bem-vindo(a) ao OLLO!"}),g.jsx("p",{className:"text-base text-gray-600 dark:text-gray-400",children:"Seu feed está um pouco vazio. Que tal explorar ou criar seu primeiro post?"}),g.jsx("button",{onClick:()=>l("/explore"),className:`mt-6 px-5 py-2.5 rounded-lg font-semibold transition-colors\r
                                               bg-ollo-deep text-ollo-light hover:bg-opacity-80\r
                                               dark:bg-ollo-accent-light dark:text-ollo-deep dark:hover:bg-opacity-90`,children:"Explorar o OLLO"})]})]})]})}),g.jsx("aside",{className:"hidden lg:block lg:w-72 xl:w-80 flex-shrink-0",children:g.jsxs("div",{className:"sticky top-4 space-y-6",children:[g.jsx("h3",{className:"px-1 text-lg font-semibold tracking-tight text-gray-700 dark:text-gray-300",children:"Para Você"}),g.jsxs("div",{className:`rounded-xl overflow-hidden shadow-lg transition-all duration-300 ease-in-out group\r
                                  bg-white dark:bg-gray-800 border border-gray-200/90 dark:border-gray-700/60\r
                                  hover:shadow-xl dark:hover:border-gray-600`,children:[g.jsx("div",{className:"h-32 bg-cover bg-center bg-gray-300 dark:bg-gray-700",style:{backgroundImage:"url('https://placehold.co/300x180/A0D2DB/005A4B?text=OLLO+Promo')"}}),g.jsxs("div",{className:"p-4",children:[g.jsx("p",{className:"text-xs uppercase tracking-wider mb-1 text-ollo-deep/80 dark:text-ollo-accent-light/80",children:"Patrocinado"}),g.jsx("h4",{className:"font-semibold mb-1 text-ollo-deep group-hover:text-sky-700 dark:text-gray-100 dark:group-hover:text-ollo-accent-light",children:"Nova Coleção OLLO!"}),g.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Descubra designs incríveis e exclusivos."})]})]}),g.jsx("div",{className:`rounded-xl overflow-hidden shadow-lg transition-all duration-300 ease-in-out group\r
                                  bg-white dark:bg-gray-800 border border-gray-200/90 dark:border-gray-700/60\r
                                  hover:shadow-xl dark:hover:border-gray-600`,children:g.jsxs("div",{className:"p-4",children:[g.jsx("p",{className:"text-xs uppercase tracking-wider mb-1 text-gray-400 dark:text-gray-500",children:"Dica OLLO"}),g.jsx("h4",{className:"font-semibold mb-1 text-ollo-deep group-hover:text-sky-700 dark:text-gray-100 dark:group-hover:text-ollo-accent-light",children:"Personalize Seu Perfil"}),g.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Adicione uma foto e uma bio para se conectar melhor!"}),g.jsx("button",{onClick:()=>l("/profile"),className:`mt-3 text-xs font-semibold py-1 px-3 rounded-full transition-colors\r
                                              bg-ollo-deep/10 text-ollo-deep hover:bg-ollo-deep/20\r
                                              dark:bg-ollo-accent-light/20 dark:text-ollo-accent-light dark:hover:bg-ollo-accent-light/30`,children:"Ver Perfil"})]})})]})})]})};function oj({allPosts:t,onCommentSubmit:e}){const[n,s]=x.useState("recentes"),[a,l]=x.useState("recentes"),[c,f]=x.useState([]),m=w=>{s(w)},p=w=>{l(w.target.value)};x.useEffect(()=>{if(!t){f([]);return}let w=[...t];n==="seguindo"?w=w.filter(E=>E.userName==="Usuário OLLO"):n==="populares"&&w.sort((E,A)=>(A.likeCount||0)-(E.likeCount||0)),a==="recentes"?w.sort((E,A)=>A.id-E.id):a==="antigos"?w.sort((E,A)=>E.id-A.id):a==="curtidos"&&w.sort((E,A)=>(A.likeCount||0)-(E.likeCount||0)),f(w)},[t,n,a]);const v=w=>{const E=n===w,A="px-3 py-1.5 text-xs font-medium rounded-full transition-colors duration-150 ease-in-out";return E?`${A} bg-ollo-deep dark:bg-ollo-accent-light text-white dark:text-ollo-deep border border-transparent shadow-md`:`${A} bg-white/70 dark:bg-gray-700/50 text-gray-500 dark:text-gray-300 border border-gray-300/70 dark:border-gray-600/70 hover:bg-gray-200/70 dark:hover:bg-gray-600/80 hover:text-ollo-deep dark:hover:text-gray-100 hover:border-gray-400/70 dark:hover:border-gray-500/70`};return g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold mb-6 sm:mb-8 text-center text-ollo-deep dark:text-ollo-accent-light",children:"Explorar OLLO"}),g.jsxs("div",{className:"mb-8 flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0 sm:gap-6",children:[g.jsxs("div",{className:"flex flex-col items-start space-y-2 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-3",children:[g.jsx("label",{className:"text-sm font-medium whitespace-nowrap text-gray-600 dark:text-gray-300",children:"Filtrar por:"}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("button",{onClick:()=>m("recentes"),className:v("recentes"),children:"Recentes"}),g.jsx("button",{onClick:()=>m("populares"),className:v("populares"),children:"Populares"}),g.jsx("button",{onClick:()=>m("seguindo"),className:v("seguindo"),children:"Seguindo"})]})]}),g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("label",{htmlFor:"sort-order",className:"text-sm font-medium whitespace-nowrap text-gray-600 dark:text-gray-300",children:"Ordenar por:"}),g.jsxs("select",{id:"sort-order",value:a,onChange:p,className:`text-xs rounded-md py-1.5 px-2.5 focus:ring-1 appearance-none custom-select-arrow\r
                                   bg-white dark:bg-gray-800 \r
                                   border border-gray-300 dark:border-gray-600 \r
                                   text-gray-700 dark:text-gray-200 \r
                                   focus:ring-ollo-deep dark:focus:ring-ollo-accent-light \r
                                   focus:border-ollo-deep dark:focus:border-ollo-accent-light`,children:[g.jsx("option",{value:"recentes",children:"Mais Recentes"}),g.jsx("option",{value:"antigos",children:"Mais Antigos"}),g.jsx("option",{value:"curtidos",children:"Mais Curtidos"})]})]})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:c.length>0?c.map(w=>g.jsx(kd,{postData:w,onCommentSubmit:e,variant:"explore"},w.id)):g.jsxs("div",{className:`sm:col-span-full rounded-xl p-8 sm:p-12 text-center \r
                                  bg-white/80 dark:bg-ollo-slate/70\r
                                  backdrop-blur-sm shadow-lg \r
                                  border border-gray-200/80 dark:border-gray-700/50`,children:[g.jsx("p",{className:"text-base sm:text-lg text-gray-700 dark:text-gray-300",children:"Oops! Parece que não há posts para explorar com os filtros atuais."}),g.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-2",children:n!=="recentes"||a!=="recentes"?"Tente outros filtros ou opções de ordenação!":"Por que não criar o primeiro post?"})]})})]})}const lj={"usuario-ollo":{id:"usuario-ollo",name:"Usuário OLLO",userNameForPosts:"Usuário OLLO",bio:"Este é o perfil do Usuário OLLO. Explorando o universo OLLO e compartilhando ideias!",avatarName:"Usuário OLLO",coverUrl:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",stats:{followers:153,following:88}},"gemini-aux":{id:"gemini-aux",name:"Gemini Auxiliar",userNameForPosts:"Gemini Auxiliar",bio:"Assistente AI, sempre pronto para ajudar e conectar!",avatarName:"Gemini Aux",coverUrl:"https://images.unsplash.com/photo-1519681393784-d120267933ba?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",stats:{followers:250,following:10}},"dev-entusiasta":{id:"dev-entusiasta",name:"Dev Entusiasta",userNameForPosts:"Dev Entusiasta",bio:"Apaixonado por código, React e novas tecnologias. #ReactDev",avatarName:"Dev Entusiasta",coverUrl:"https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80",stats:{followers:120,following:75}}},uj={"usuario-ollo":["bem-vindo-ollo","usando-useState"],"gemini-aux":["componentizacao-react","meu-outro-post","bem-vindo-ollo"],"dev-entusiasta":["usando-useState"]},og=(t,e)=>{if(!t)return"";const n=e?"00A896":"0D1B2A",s=e?"0D1B2A":"E0E1DD";return`https://ui-avatars.com/api/?name=${encodeURIComponent(t)}&background=${n}&color=${s}&size=128&bold=true&format=svg`};function yw({allPosts:t=[],onCommentSubmit:e,sessionFollowStatus:n={},setSessionFollowStatus:s}){const{profileId:a}=rp(),l=wn(),c="usuario-ollo",f=a||c,[m,p]=x.useState(null),[v,w]=x.useState(!1),[E,A]=x.useState(!1),[L,V]=x.useState(""),[O,Y]=x.useState(""),[U,G]=x.useState(""),[$,Z]=x.useState(""),[Ee,Re]=x.useState(!1),[Oe,De]=x.useState(!1),[ot,Je]=x.useState(0),[fe,ke]=x.useState(0),[Ue,je]=x.useState("posts"),[M,Q]=x.useState([]),ne=x.useRef(null),ce=x.useRef(null);x.useEffect(()=>{const de=lj[f];if(de){const lt=document.documentElement.classList.contains("dark");p({...de,avatarUrl:og(de.avatarName,lt)}),w(!1),A(!1),U.startsWith("blob:")&&URL.revokeObjectURL(U),$.startsWith("blob:")&&URL.revokeObjectURL($),G(""),Z("");const ft=de.stats.followers;ke(ft);const En=f!==c&&n[f]||!1;Re(En),Je(ft+(En?1:0)),De(!1)}else p(null),w(!0)},[f,c,n]),x.useEffect(()=>{const de=()=>{if(m&&!U&&m.avatarUrl.includes("ui-avatars.com")){const ft=document.documentElement.classList.contains("dark"),En=og(m.avatarName,ft);En!==m.avatarUrl&&p(fo=>({...fo,avatarUrl:En}))}};de();const lt=new MutationObserver(de);return lt.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>lt.disconnect()},[m,U]),x.useEffect(()=>{if(t&&(m!=null&&m.userNameForPosts)){const de=t.flatMap(lt=>(lt.comments||[]).filter(ft=>ft.user===m.userNameForPosts).map(ft=>({...ft,id:ft.commentId||`c-${Math.random()}`,originalPost:{id:lt.postId,contentPreview:lt.content.substring(0,100)+"..."}})));Q(de)}else Q([])},[t,m==null?void 0:m.userNameForPosts]),x.useEffect(()=>()=>{U.startsWith("blob:")&&URL.revokeObjectURL(U),$.startsWith("blob:")&&URL.revokeObjectURL($)},[U,$]);const S=x.useCallback((de,lt)=>{const ft=de.target.files[0];if(ft){const En=URL.createObjectURL(ft);lt==="avatar"?(U.startsWith("blob:")&&URL.revokeObjectURL(U),G(En)):lt==="cover"&&($.startsWith("blob:")&&URL.revokeObjectURL($),Z(En)),de.target.value=null}},[U,$]),P=x.useCallback(()=>{m&&(E||(V(m.name),Y(m.bio),U.startsWith("blob:")&&URL.revokeObjectURL(U),$.startsWith("blob:")&&URL.revokeObjectURL($),G(""),Z("")),A(!E))},[E,m,U,$]),J=x.useCallback(()=>{if(!m)return;const de=document.documentElement.classList.contains("dark");let lt=m.avatarUrl;U?lt=U:(L!==m.name||m.avatarName&&L!==m.avatarName)&&(lt=og(L,de)),p(ft=>({...ft,name:L,avatarName:L,bio:O,avatarUrl:lt,coverUrl:$||ft.coverUrl})),A(!1)},[m,L,O,U,$]),W=x.useCallback(()=>{U.startsWith("blob:")&&URL.revokeObjectURL(U),$.startsWith("blob:")&&URL.revokeObjectURL($),G(""),Z(""),A(!1)},[U,$]),ie=x.useCallback(()=>{if(Oe||m&&m.id===c||typeof s!="function")return;De(!0);const de=!Ee;setTimeout(()=>{Re(de),s(lt=>({...lt,[f]:de})),Je(fe+(de?1:0)),De(!1)},de?800:500)},[Ee,Oe,m,c,f,fe,s]);if(v)return g.jsxs("div",{className:"min-h-[calc(100vh-200px)] flex flex-col items-center justify-center p-8 text-center text-ollo-deep dark:text-ollo-light",children:[" ",g.jsx(Yw,{className:"mx-auto h-20 w-20 mb-6 text-red-500 dark:text-red-400"})," ",g.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Perfil Não Encontrado"})," ",g.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"O perfil que você está procurando não existe ou não pôde ser carregado."})," ",g.jsxs("button",{onClick:()=>l("/"),className:"mt-8 px-6 py-2.5 rounded-lg font-semibold transition-colors bg-ollo-deep text-ollo-light hover:bg-opacity-90 dark:bg-ollo-accent-light dark:text-ollo-deep dark:hover:bg-opacity-90",children:[" ","Voltar para a Página Inicial"," "]})," "]});if(!m)return g.jsxs("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center text-ollo-deep dark:text-ollo-light",children:[" ",g.jsx(Gs,{className:"h-12 w-12 animate-spin mr-3"})," ",g.jsx("p",{className:"text-xl",children:"Carregando perfil..."})," "]});const Ne=m.id===c,ve=U||m.avatarUrl,Ct=$||m.coverUrl,He=t.filter(de=>de.userName===m.userNameForPosts),fn=uj[f]||[],rr=t.filter(de=>fn.includes(de.postId)),sr=de=>`py-3 px-4 sm:px-6 font-semibold text-sm sm:text-base border-b-4 -mb-px transition-all duration-150 ease-in-out focus:outline-none focus:ring-2 focus:z-10 ${Ue===de?"border-ollo-deep dark:border-ollo-accent-light text-ollo-deep dark:text-ollo-accent-light":"border-transparent text-gray-500 hover:text-ollo-deep dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"} focus:ring-ollo-deep/50 dark:focus:ring-ollo-accent-light/50`;return g.jsxs("div",{children:[g.jsxs("div",{className:"bg-white/80 dark:bg-ollo-slate/90 border border-gray-200/50 dark:border-gray-700/50 backdrop-blur-md rounded-xl shadow-2xl overflow-hidden mb-6",children:[g.jsxs("div",{className:"h-52 md:h-72 bg-gradient-to-r from-ollo-accent/30 to-ollo-steel/30 dark:from-ollo-deep via-teal-900 to-gray-900 relative",children:[g.jsx("img",{className:"h-full w-full object-cover",src:Ct,alt:"Imagem de Capa"}),E&&Ne&&g.jsxs("button",{onClick:()=>{var de;return(de=ce.current)==null?void 0:de.click()},className:"absolute top-4 right-4 p-2.5 rounded-full transition-all duration-150 ease-in-out shadow-lg z-10 bg-white/70 hover:bg-white/90 text-ollo-deep dark:bg-black/60 dark:hover:bg-black/80 dark:text-white",title:"Alterar imagem de capa",children:[" ",g.jsx(a4,{className:"h-5 w-5 sm:h-6 sm:w-6"})," ",g.jsx("input",{type:"file",ref:ce,accept:"image/*",onChange:de=>S(de,"cover"),className:"hidden"})," "]})]}),g.jsxs("div",{className:"relative px-4 sm:px-6 lg:px-8 pb-8 pt-3",children:[g.jsx("div",{className:"-mt-20 sm:-mt-24 flex justify-center",children:g.jsxs("div",{className:"relative",children:[g.jsx("img",{className:"h-28 w-28 sm:h-36 sm:w-36 rounded-full ring-4 ring-offset-4 ring-offset-white dark:ring-offset-ollo-slate ring-ollo-deep dark:ring-ollo-accent-light object-cover bg-gray-200 dark:bg-gray-700 shadow-md",src:ve,alt:`Avatar de ${m.name}`}),E&&Ne&&g.jsxs("button",{onClick:()=>{var de;return(de=ne.current)==null?void 0:de.click()},className:"absolute bottom-1 right-1 p-2 rounded-full transition-all duration-150 ease-in-out shadow-lg bg-white/70 hover:bg-white/90 text-ollo-deep dark:bg-black/60 dark:hover:bg-black/80 dark:text-white",title:"Alterar avatar",children:[" ",g.jsx(Ml,{className:"h-4 w-4 sm:h-5 sm:w-5"})," ",g.jsx("input",{type:"file",ref:ne,accept:"image/*",onChange:de=>S(de,"avatar"),className:"hidden"})," "]})]})}),g.jsx("div",{className:"flex mt-4 justify-center md:justify-end mb-4 min-h-[44px]",children:Ne?E?g.jsxs("div",{className:"flex space-x-4",children:[g.jsx("button",{onClick:J,className:"px-6 py-2.5 bg-ollo-deep text-white rounded-lg text-sm font-bold hover:opacity-90 transition-opacity dark:bg-ollo-accent-light dark:text-ollo-deep",children:"Salvar"}),g.jsx("button",{onClick:W,className:"px-5 py-2.5 bg-gray-200 text-gray-700 rounded-lg text-sm font-semibold hover:bg-gray-300 transition-colors dark:bg-gray-600 dark:text-gray-100 dark:hover:bg-gray-700",children:"Cancelar"})]}):g.jsx("button",{onClick:P,className:"px-5 py-2.5 border-2 border-ollo-deep text-ollo-deep rounded-lg text-sm font-semibold hover:bg-ollo-deep hover:text-white transition-colors duration-150 dark:border-ollo-accent-light dark:text-ollo-accent-light dark:hover:bg-ollo-accent-light dark:hover:text-ollo-deep",children:"Editar Perfil"}):g.jsx("button",{onClick:ie,disabled:Oe,className:`px-5 py-2.5 rounded-lg text-sm font-semibold transition-all duration-200 ease-in-out focus:outline-none focus:ring-4 shadow-md hover:shadow-lg flex items-center justify-center space-x-2 w-36 disabled:opacity-60 disabled:cursor-not-allowed 
                                ${Oe?"bg-ollo-deep text-white dark:bg-ollo-accent-light dark:text-ollo-deep":Ee?"bg-transparent border-2 border-gray-400 text-gray-500 hover:border-gray-500 hover:text-gray-700 focus:ring-gray-400/30 dark:border-gray-500 dark:text-gray-400 dark:hover:border-gray-400 dark:hover:text-gray-300 dark:focus:ring-gray-500/30":"bg-ollo-deep text-white hover:bg-opacity-90 focus:ring-ollo-deep/30 dark:bg-ollo-accent-light dark:text-ollo-deep dark:hover:bg-opacity-90 dark:focus:ring-ollo-accent-light/30"}`,children:Oe?g.jsx(Gs,{className:"h-5 w-5 animate-spin"}):Ee?g.jsxs(g.Fragment,{children:[g.jsx(f4,{className:"h-5 w-5"})," ",g.jsx("span",{children:"Seguindo"})]}):g.jsxs(g.Fragment,{children:[g.jsx(q4,{className:"h-5 w-5"})," ",g.jsx("span",{children:"Seguir"})]})})}),g.jsxs("div",{className:`mt-1 ${E?"max-w-lg mx-auto":"max-w-xl mx-auto text-center"}`,children:[(!E||!Ne)&&g.jsxs("div",{className:"text-center mb-6",children:[g.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-ollo-deep dark:text-ollo-accent-light mb-2 tracking-tight",children:m.name}),g.jsx("p",{className:"text-base text-gray-700 dark:text-gray-300 mt-2 max-w-lg mx-auto leading-relaxed",children:m.bio})]}),E&&Ne&&g.jsxs("div",{className:"space-y-5 mb-8",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"profileName",className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1.5",children:"Nome"}),g.jsx("input",{type:"text",id:"profileName",value:L,onChange:de=>V(de.target.value),className:"w-full p-3 rounded-lg text-base shadow-sm transition-colors bg-white/70 border-gray-300 text-gray-900 focus:ring-ollo-deep focus:border-ollo-deep dark:bg-gray-800/70 dark:border-gray-600 dark:text-white focus:dark:ring-ollo-accent-light focus:dark:border-ollo-accent-light"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"profileBio",className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1.5",children:"Bio"}),g.jsx("textarea",{id:"profileBio",rows:"5",value:O,onChange:de=>Y(de.target.value),className:"w-full p-3 rounded-lg text-base shadow-sm transition-colors bg-white/70 border-gray-300 text-gray-900 focus:ring-ollo-deep focus:border-ollo-deep dark:bg-gray-800/70 dark:border-gray-600 dark:text-white focus:dark:ring-ollo-accent-light focus:dark:border-ollo-accent-light"})]})]}),g.jsxs("div",{className:"flex flex-wrap justify-center gap-x-6 sm:gap-x-10 gap-y-3 text-sm",children:[g.jsxs("div",{className:"text-center",children:[" ",g.jsx("span",{className:"block font-bold text-xl sm:text-2xl text-ollo-deep dark:text-ollo-accent-light",children:He.length})," ",g.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Posts"})," "]}),g.jsxs("div",{className:"text-center",children:[" ",g.jsx("span",{className:"block font-bold text-xl sm:text-2xl text-ollo-deep dark:text-ollo-accent-light",children:ot})," ",g.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Seguidores"})," "]}),g.jsxs("div",{className:"text-center",children:[" ",g.jsx("span",{className:"block font-bold text-xl sm:text-2xl text-ollo-deep dark:text-ollo-accent-light",children:m.stats.following})," ",g.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Seguindo"})," "]})]})]})]})]}),g.jsx("div",{className:"mb-6 sm:mb-8 border-b border-gray-200/80 dark:border-gray-700/50",children:g.jsxs("nav",{className:"-mb-px flex justify-center sm:justify-start space-x-2 sm:space-x-6 lg:space-x-8","aria-label":"Tabs",children:[g.jsx("button",{onClick:()=>je("posts"),className:sr("posts"),children:"Posts"}),g.jsx("button",{onClick:()=>je("comments"),className:sr("comments"),children:"Comentários"}),g.jsx("button",{onClick:()=>je("likes"),className:sr("likes"),children:"Curtidas"})]})}),g.jsxs("div",{className:"max-w-xl mx-auto w-full px-4 sm:px-0 pb-12",children:[Ue==="posts"&&g.jsxs("div",{className:"space-y-8",children:[" ",He.length>0?He.map(de=>g.jsx(kd,{postData:de,onCommentSubmit:e},de.postId)):g.jsxs("div",{className:"rounded-xl p-8 sm:p-10 text-center shadow-xl mt-4 bg-white/60 dark:bg-ollo-slate/70",children:[" ",g.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400 dark:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{vectorEffect:"non-scaling-stroke",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})})," ",g.jsx("h3",{className:"mt-4 text-xl font-semibold text-ollo-deep dark:text-white",children:"Sem posts por aqui ainda..."})," ",g.jsxs("p",{className:"mt-2 text-base text-gray-500 dark:text-gray-400",children:["Quando ",m.name," compartilhar algo, seus posts aparecerão aqui."]})," "]})," "]}),Ue==="comments"&&g.jsxs("div",{className:"space-y-6",children:[" ",M.length>0?M.map(de=>g.jsxs("div",{className:"bg-white/80 dark:bg-ollo-slate/90 p-5 rounded-xl shadow-lg border border-gray-200/50 dark:border-gray-700/50",children:[" ",g.jsxs("p",{className:"text-base text-ollo-deep dark:text-white mb-3",children:['"',de.text,'"']})," ",g.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 border-t border-gray-200/80 dark:border-gray-700/50 pt-3",children:[" ",g.jsxs("p",{children:["Comentado em"," ",g.jsx("span",{className:"font-semibold",children:de.timestamp||"data indisponível"})]})," ",g.jsxs("p",{className:"mt-1",children:["No post:"," ",g.jsxs("span",{className:"italic",children:['"',de.originalPost.contentPreview,'"']})]})," "]})," "]},de.id)):g.jsxs("div",{className:"rounded-xl p-8 sm:p-10 text-center shadow-xl bg-white/60 dark:bg-ollo-slate/70",children:[" ",g.jsx(l4,{className:"mx-auto h-16 w-16 text-gray-400 dark:text-gray-600"})," ",g.jsx("h3",{className:"mt-4 text-xl font-semibold text-ollo-deep dark:text-white",children:"Nenhum comentário encontrado."})," ",g.jsxs("p",{className:"mt-2 text-base text-gray-500 dark:text-gray-400",children:["Quando ",m.name," comentar, seus comentários aparecerão aqui."]})," "]})," "]}),Ue==="likes"&&g.jsxs("div",{className:"space-y-8",children:[" ",rr.length>0?rr.map(de=>g.jsx(kd,{postData:de,onCommentSubmit:e},de.postId)):g.jsxs("div",{className:"rounded-xl p-8 sm:p-10 text-center shadow-xl mt-4 bg-white/60 dark:bg-ollo-slate/70",children:[" ",g.jsx(Zw,{className:"mx-auto h-16 w-16 text-gray-400 dark:text-gray-600"})," ",g.jsx("h3",{className:"mt-4 text-xl font-semibold text-ollo-deep dark:text-white",children:"Nenhuma curtida por aqui..."})," ",g.jsxs("p",{className:"mt-2 text-base text-gray-500 dark:text-gray-400",children:["Quando ",m.name," curtir algo, aparecerá aqui."]})," "]})," "]})]})]})}const cj=t=>{const e="h-5 w-5 text-ollo-deep dark:text-ollo-accent-light";switch(t){case"like":return g.jsx(Gw,{className:e});case"comment":return g.jsx(jA,{className:e});case"follow":return g.jsx(GA,{className:e});case"system":return g.jsx(qA,{className:e});default:return g.jsx($w,{className:e})}};function dj(){const t=wn(),e=[{id:1,type:"like",user:"Usuário OLLO",target:'seu post "Explorando OLLO"',timestamp:"5m atrás",postId:"ollo-exploration",unread:!0},{id:2,type:"comment",user:"Dev Entusiasta",target:'seu post "Minhas Ideias"',text:"Excelente ponto de vista! Concordo totalmente.",timestamp:"1h atrás",postId:"my-ideas-post",unread:!1},{id:3,type:"follow",user:"Gemini Auxiliar",timestamp:"3h atrás",profileId:"gemini-aux",unread:!0},{id:4,type:"like",user:"Designer Criativo",target:"sua foto de perfil",timestamp:"ontem",profileId:"meu-perfil",unread:!1},{id:5,type:"comment",user:"Marketing Digital",target:'seu post "Explorando OLLO"',text:"Adorei a plataforma! Como posso colaborar?",timestamp:"ontem",postId:"ollo-exploration",unread:!0},{id:6,type:"system",user:"Plataforma OLLO",target:"Novos Termos de Serviço",text:"Atualizamos nossos termos, confira as novidades.",timestamp:"2 dias atrás",link:"/terms",unread:!1}],[n,s]=x.useState(e),a=l=>{let c=null;l.postId?c=`/posts/${l.postId}`:l.profileId?c=`/profile/${l.profileId}`:l.link&&(c=l.link),c&&t(c),l.unread&&s(f=>f.map(m=>m.id===l.id?{...m,unread:!1}:m))};return g.jsx("div",{className:"min-h-full py-8 sm:py-12",children:g.jsxs("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-8 sm:mb-10 tracking-tight text-center text-ollo-deep dark:text-ollo-accent-light",children:"Notificações"}),g.jsx("div",{className:"space-y-3 sm:space-y-4",children:n.length>0?n.map(l=>g.jsxs("div",{onClick:()=>a(l),className:`
                  rounded-xl shadow-lg transition-all duration-200 ease-in-out cursor-pointer 
                  border-l-4 flex items-start space-x-3 sm:space-x-4 p-4
                  ${l.unread?"bg-white hover:bg-gray-50/80 border-ollo-accent-light dark:bg-gray-800 dark:hover:bg-gray-700/80":"bg-white/70 hover:bg-gray-50/70 border-gray-300 dark:bg-gray-800/50 dark:hover:bg-gray-700/70 dark:border-gray-700"}
                `,children:[g.jsx("div",{className:`flex-shrink-0 mt-0.5 p-2 rounded-full 
                              ${l.unread?"bg-ollo-accent-light/20 dark:bg-ollo-accent-light/10":"bg-gray-200/70 dark:bg-gray-700/60"}`,children:cj(l.type)}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-100 leading-relaxed",children:[g.jsx("span",{className:"font-semibold text-ollo-deep dark:text-white hover:underline",children:l.user}),l.type==="like"&&` curtiu ${l.target}.`,l.type==="comment"&&g.jsxs(g.Fragment,{children:[" ","comentou em ",l.target,":"," ",g.jsxs("span",{className:"italic text-gray-600 dark:text-gray-300",children:['"',l.text,'"']})]}),l.type==="follow"&&" começou a seguir você.",l.type==="system"&&g.jsxs(g.Fragment,{children:[" ",g.jsx("span",{className:"font-semibold",children:l.target})," ",g.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:l.text})]})]}),g.jsx("p",{className:`text-xs mt-1 
                                ${l.unread?"font-medium text-ollo-deep dark:text-ollo-accent-light":"text-gray-500 dark:text-gray-400"}`,children:l.timestamp})]})]},l.id)):g.jsxs("div",{className:"text-center py-16 px-6 text-gray-400 dark:text-gray-500",children:[g.jsx($w,{className:"mx-auto h-16 w-16 mb-4 text-gray-400 dark:text-gray-600"}),g.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-700 dark:text-gray-300",children:"Tudo Limpo por Aqui!"}),g.jsx("p",{children:"Você não tem nenhuma notificação nova no momento."})]})})]})})}const hj=({darkMode:t,allPosts:e=[]})=>{const{postId:n}=rp(),s=wn();console.log("--- Iniciando busca pelo post ---"),console.log(`Procurando pelo postId: |${n}|`),console.log(`Total de posts para pesquisar: ${e.length}`);const a=e.find(f=>{const m=f.postId===n;return console.log(`Comparando: |${f.postId}| com |${n}|. Resultado: ${m}`),m});console.log("--- Fim da busca ---");const l=e.findIndex(f=>f.postId===n),c=l>-1&&l<e.length-1?e[l+1]:null;return a?g.jsxs("div",{className:`p-4 sm:p-6 lg:p-8 rounded-lg shadow-md ${t?"bg-gray-800 text-ollo-bg-light":"bg-white text-ollo-deep"}`,children:[g.jsxs("button",{onClick:()=>s(-1),className:`flex items-center gap-2 mb-6 text-sm font-semibold ${t?"text-ollo-accent-light hover:text-white":"text-ollo-deep hover:text-black"}`,children:[g.jsx(kA,{className:"h-5 w-5"}),"Voltar"]}),g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx(HA,{className:`h-10 w-10 ${t?"text-gray-400":"text-gray-500"}`}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold",children:a.userName}),g.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[g.jsx(MA,{className:"h-3 w-3"}),g.jsx("span",{children:a.timestamp})]})]})]}),g.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none",children:g.jsx("p",{children:a.content})}),g.jsx("div",{className:"mt-8 pt-4 border-t border-gray-300 dark:border-gray-700 flex justify-end",children:c?g.jsxs("button",{onClick:()=>s(`/posts/${c.postId}`),className:`flex items-center gap-2 text-sm font-semibold ${t?"text-ollo-accent-light hover:text-white":"text-ollo-deep hover:text-black"}`,children:["Próximo Post",g.jsx(RA,{className:"h-5 w-5"})]}):g.jsx("p",{className:"text-sm text-gray-500",children:"Você está no último post."})})]}):g.jsxs("div",{className:`p-4 sm:p-6 lg:p-8 rounded-lg shadow-md text-center ${t?"bg-gray-800 text-ollo-bg-light":"bg-white text-ollo-deep"}`,children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Post Não Encontrado"}),g.jsx("p",{children:"O post que você está procurando não existe ou foi removido. (Verifique o console para detalhes da busca)."}),g.jsx("button",{onClick:()=>s("/"),className:`mt-6 inline-block px-4 py-2 rounded-lg font-semibold ${t?"bg-ollo-accent-light text-ollo-deep":"bg-ollo-deep text-ollo-bg-light"}`,children:"Voltar para a Página Inicial"})]})},fj=({darkMode:t})=>g.jsxs("div",{className:`p-4 sm:p-6 lg:p-8 rounded-lg shadow-md ${t?"bg-gray-800 text-ollo-bg-light":"bg-white text-ollo-deep"}`,children:[g.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Termos de Serviço"}),g.jsx("p",{children:"Esta é a página de Termos de Serviço da OLLO."}),g.jsx("p",{className:"mt-4",children:"O conteúdo completo será adicionado aqui futuramente."})]});let mj={data:""},gj=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||mj,pj=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,yj=/\/\*[^]*?\*\/|  +/g,vw=/\n+/g,Us=(t,e)=>{let n="",s="",a="";for(let l in t){let c=t[l];l[0]=="@"?l[1]=="i"?n=l+" "+c+";":s+=l[1]=="f"?Us(c,l):l+"{"+Us(c,l[1]=="k"?"":e)+"}":typeof c=="object"?s+=Us(c,e?e.replace(/([^,])+/g,f=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,f):f?f+" "+m:m)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Us.p?Us.p(l,c):l+":"+c+";")}return n+(e&&a?e+"{"+a+"}":a)+s},Pr={},BS=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+BS(t[n]);return e}return t},vj=(t,e,n,s,a)=>{let l=BS(t),c=Pr[l]||(Pr[l]=(m=>{let p=0,v=11;for(;p<m.length;)v=101*v+m.charCodeAt(p++)>>>0;return"go"+v})(l));if(!Pr[c]){let m=l!==t?t:(p=>{let v,w,E=[{}];for(;v=pj.exec(p.replace(yj,""));)v[4]?E.shift():v[3]?(w=v[3].replace(vw," ").trim(),E.unshift(E[0][w]=E[0][w]||{})):E[0][v[1]]=v[2].replace(vw," ").trim();return E[0]})(t);Pr[c]=Us(a?{["@keyframes "+c]:m}:m,n?"":"."+c)}let f=n&&Pr.g?Pr.g:null;return n&&(Pr.g=Pr[c]),((m,p,v,w)=>{w?p.data=p.data.replace(w,m):p.data.indexOf(m)===-1&&(p.data=v?m+p.data:p.data+m)})(Pr[c],e,s,f),c},xj=(t,e,n)=>t.reduce((s,a,l)=>{let c=e[l];if(c&&c.call){let f=c(n),m=f&&f.props&&f.props.className||/^go/.test(f)&&f;c=m?"."+m:f&&typeof f=="object"?f.props?"":Us(f,""):f===!1?"":f}return s+a+(c??"")},"");function ph(t){let e=this||{},n=t.call?t(e.p):t;return vj(n.unshift?n.raw?xj(n,[].slice.call(arguments,1),e.p):n.reduce((s,a)=>Object.assign(s,a&&a.call?a(e.p):a),{}):n,gj(e.target),e.g,e.o,e.k)}let zS,Zg,Wg;ph.bind({g:1});let es=ph.bind({k:1});function bj(t,e,n,s){Us.p=e,zS=t,Zg=n,Wg=s}function ei(t,e){let n=this||{};return function(){let s=arguments;function a(l,c){let f=Object.assign({},l),m=f.className||a.className;n.p=Object.assign({theme:Zg&&Zg()},f),n.o=/ *go\d+/.test(m),f.className=ph.apply(n,s)+(m?" "+m:"");let p=t;return t[0]&&(p=f.as||t,delete f.as),Wg&&p[0]&&Wg(f),zS(p,f)}return a}}var wj=t=>typeof t=="function",Cd=(t,e)=>wj(t)?t(e):t,Ej=(()=>{let t=0;return()=>(++t).toString()})(),PS=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),_j=20,qS=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,_j)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:n}=e;return qS(t,{type:t.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},rd=[],Si={toasts:[],pausedAt:void 0},Fi=t=>{Si=qS(Si,t),rd.forEach(e=>{e(Si)})},Sj={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Tj=(t={})=>{let[e,n]=x.useState(Si),s=x.useRef(Si);x.useEffect(()=>(s.current!==Si&&n(Si),rd.push(n),()=>{let l=rd.indexOf(n);l>-1&&rd.splice(l,1)}),[]);let a=e.toasts.map(l=>{var c,f,m;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((c=t[l.type])==null?void 0:c.removeDelay)||(t==null?void 0:t.removeDelay),duration:l.duration||((f=t[l.type])==null?void 0:f.duration)||(t==null?void 0:t.duration)||Sj[l.type],style:{...t.style,...(m=t[l.type])==null?void 0:m.style,...l.style}}});return{...e,toasts:a}},Nj=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Ej()}),bu=t=>(e,n)=>{let s=Nj(e,t,n);return Fi({type:2,toast:s}),s.id},dn=(t,e)=>bu("blank")(t,e);dn.error=bu("error");dn.success=bu("success");dn.loading=bu("loading");dn.custom=bu("custom");dn.dismiss=t=>{Fi({type:3,toastId:t})};dn.remove=t=>Fi({type:4,toastId:t});dn.promise=(t,e,n)=>{let s=dn.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let l=e.success?Cd(e.success,a):void 0;return l?dn.success(l,{id:s,...n,...n==null?void 0:n.success}):dn.dismiss(s),a}).catch(a=>{let l=e.error?Cd(e.error,a):void 0;l?dn.error(l,{id:s,...n,...n==null?void 0:n.error}):dn.dismiss(s)}),t};var Aj=(t,e)=>{Fi({type:1,toast:{id:t,height:e}})},kj=()=>{Fi({type:5,time:Date.now()})},Rl=new Map,Cj=1e3,Rj=(t,e=Cj)=>{if(Rl.has(t))return;let n=setTimeout(()=>{Rl.delete(t),Fi({type:4,toastId:t})},e);Rl.set(t,n)},Oj=t=>{let{toasts:e,pausedAt:n}=Tj(t);x.useEffect(()=>{if(n)return;let l=Date.now(),c=e.map(f=>{if(f.duration===1/0)return;let m=(f.duration||0)+f.pauseDuration-(l-f.createdAt);if(m<0){f.visible&&dn.dismiss(f.id);return}return setTimeout(()=>dn.dismiss(f.id),m)});return()=>{c.forEach(f=>f&&clearTimeout(f))}},[e,n]);let s=x.useCallback(()=>{n&&Fi({type:6,time:Date.now()})},[n]),a=x.useCallback((l,c)=>{let{reverseOrder:f=!1,gutter:m=8,defaultPosition:p}=c||{},v=e.filter(A=>(A.position||p)===(l.position||p)&&A.height),w=v.findIndex(A=>A.id===l.id),E=v.filter((A,L)=>L<w&&A.visible).length;return v.filter(A=>A.visible).slice(...f?[E+1]:[0,E]).reduce((A,L)=>A+(L.height||0)+m,0)},[e]);return x.useEffect(()=>{e.forEach(l=>{if(l.dismissed)Rj(l.id,l.removeDelay);else{let c=Rl.get(l.id);c&&(clearTimeout(c),Rl.delete(l.id))}})},[e]),{toasts:e,handlers:{updateHeight:Aj,startPause:kj,endPause:s,calculateOffset:a}}},Dj=es`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,jj=es`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ij=es`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Mj=ei("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Dj} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${jj} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ij} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Lj=es`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Uj=ei("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Lj} 1s linear infinite;
`,Vj=es`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Bj=es`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,zj=ei("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Vj} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Bj} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Pj=ei("div")`
  position: absolute;
`,qj=ei("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Fj=es`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Hj=ei("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Fj} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$j=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?x.createElement(Hj,null,e):e:n==="blank"?null:x.createElement(qj,null,x.createElement(Uj,{...s}),n!=="loading"&&x.createElement(Pj,null,n==="error"?x.createElement(Mj,{...s}):x.createElement(zj,{...s})))},Gj=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Kj=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Yj="0%{opacity:0;} 100%{opacity:1;}",Qj="0%{opacity:1;} 100%{opacity:0;}",Xj=ei("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Zj=ei("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Wj=(t,e)=>{let n=t.includes("top")?1:-1,[s,a]=PS()?[Yj,Qj]:[Gj(n),Kj(n)];return{animation:e?`${es(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${es(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Jj=x.memo(({toast:t,position:e,style:n,children:s})=>{let a=t.height?Wj(t.position||e||"top-center",t.visible):{opacity:0},l=x.createElement($j,{toast:t}),c=x.createElement(Zj,{...t.ariaProps},Cd(t.message,t));return x.createElement(Xj,{className:t.className,style:{...a,...n,...t.style}},typeof s=="function"?s({icon:l,message:c}):x.createElement(x.Fragment,null,l,c))});bj(x.createElement);var eI=({id:t,className:e,style:n,onHeightUpdate:s,children:a})=>{let l=x.useCallback(c=>{if(c){let f=()=>{let m=c.getBoundingClientRect().height;s(t,m)};f(),new MutationObserver(f).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return x.createElement("div",{ref:l,className:e,style:n},a)},tI=(t,e)=>{let n=t.includes("top"),s=n?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:PS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...a}},nI=ph`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Gc=16,wu=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:s,children:a,containerStyle:l,containerClassName:c})=>{let{toasts:f,handlers:m}=Oj(n);return x.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Gc,left:Gc,right:Gc,bottom:Gc,pointerEvents:"none",...l},className:c,onMouseEnter:m.startPause,onMouseLeave:m.endPause},f.map(p=>{let v=p.position||e,w=m.calculateOffset(p,{reverseOrder:t,gutter:s,defaultPosition:e}),E=tI(v,w);return x.createElement(eI,{id:p.id,key:p.id,onHeightUpdate:m.updateHeight,className:p.visible?nI:"",style:E},p.type==="custom"?Cd(p.message,p):a?a(p):x.createElement(Jj,{toast:p,position:v}))}))},yr=dn;const rI=()=>{const[t,e]=x.useState(""),[n,s]=x.useState(""),[a,l]=x.useState(!1),{loginWithEmail:c}=qi(),f=wn(),m=async p=>{p.preventDefault(),l(!0);try{(await c(t,n)).user.emailVerified?f("/"):f("/verify-email")}catch{yr.error("Email ou senha inválidos.")}finally{l(!1)}};return g.jsxs(g.Fragment,{children:[g.jsx(wu,{}),g.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 font-sans",children:[g.jsxs("div",{className:`w-full max-w-md p-6 sm:p-8 rounded-xl\r
                           bg-white/80 dark:bg-gray-800/80 \r
                           backdrop-blur-md shadow-xl dark:shadow-2xl \r
                           border border-gray-200/30 dark:border-gray-700/50`,children:[g.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-center mb-3 tracking-tighter text-ollo-deep dark:text-ollo-accent-light",children:"OLLO"}),g.jsx("p",{className:"text-center text-sm mb-8 sm:mb-10 text-gray-700 dark:text-gray-300",children:"Acesse sua conta para continuar"}),g.jsxs("form",{onSubmit:m,className:"space-y-5 sm:space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"Email"}),g.jsx("input",{type:"email",id:"email",value:t,onChange:p=>e(p.target.value),placeholder:"seuemail@exemplo.com",required:!0,className:`mt-1 block w-full px-4 py-3 sm:py-3.5 rounded-lg shadow-sm \r
                                         bg-white/70 dark:bg-gray-700 \r
                                         text-black dark:text-white \r
                                         border-gray-300 dark:border-gray-600 \r
                                         placeholder-gray-500 dark:placeholder-gray-400\r
                                         focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none transition-colors duration-150`})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1.5 text-gray-700 dark:text-gray-300",children:"Senha"}),g.jsx("input",{type:"password",id:"password",value:n,onChange:p=>s(p.target.value),placeholder:"••••••••",required:!0,className:`mt-1 block w-full px-4 py-3 sm:py-3.5 rounded-lg shadow-sm\r
                                         bg-white/70 dark:bg-gray-700 \r
                                         text-black dark:text-white \r
                                         border-gray-300 dark:border-gray-600 \r
                                         placeholder-gray-500 dark:placeholder-gray-400\r
                                         focus:ring-2 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light focus:border-transparent outline-none transition-colors duration-150`})]}),g.jsx("div",{className:"flex justify-end items-center -mt-3 mb-2 sm:mb-0 sm:-mt-4",children:g.jsx(nn,{to:"/forgot-password",className:"text-xs text-gray-600 hover:underline dark:text-gray-400",children:"Esqueceu a senha?"})}),g.jsx("div",{className:"pt-1",children:g.jsx("button",{type:"submit",disabled:a,className:`w-full py-3 sm:py-3.5 px-4 border border-transparent rounded-lg shadow-sm text-sm sm:text-base font-semibold transition-all duration-150\r
                                         bg-ollo-deep text-ollo-light hover:bg-opacity-90 \r
                                         dark:bg-ollo-accent-light dark:text-ollo-deep dark:hover:bg-opacity-90\r
                                         focus:outline-none focus:ring-2 focus:ring-offset-2 \r
                                         focus:ring-ollo-deep dark:focus:ring-ollo-accent-light\r
                                         focus:ring-offset-white dark:focus:ring-offset-gray-900 flex justify-center items-center`,children:a?"Entrando...":"Entrar"})})]}),g.jsxs("p",{className:"mt-8 sm:mt-10 text-center text-xs text-gray-700 dark:text-gray-300",children:["Ainda não tem uma conta?"," ",g.jsx(nn,{to:"/register",className:"font-semibold text-ollo-deep hover:underline dark:text-ollo-accent-light dark:hover:underline",children:"Cadastre-se"})]})]}),g.jsx("footer",{className:"text-center mt-8 sm:mt-12 text-xs text-gray-600 dark:text-gray-400",children:g.jsxs("p",{children:["© ",new Date().getFullYear()," OLLO. Todos os direitos reservados."]})})]})]})},sI=()=>{const[t,e]=x.useState(""),[n,s]=x.useState(""),[a,l]=x.useState(!1),[c,f]=x.useState(!1),m=async w=>{if(w.preventDefault(),s(""),!t){s("Por favor, insira seu endereço de email.");return}l(!0);try{const E={url:`${window.location.origin}/reset-password`,handleCodeInApp:!0};await V2(Xn,t,E),f(!0)}catch{f(!0)}finally{l(!1)}},p="mt-1 block w-full px-3 py-2.5 border rounded-md shadow-sm focus:outline-none sm:text-sm transition-colors duration-150 bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 text-slate-900 dark:text-ollo-light placeholder-slate-400 dark:placeholder-slate-400 focus:border-ollo-deep dark:focus:border-ollo-accent-light focus:ring-1 focus:ring-ollo-deep dark:focus:ring-ollo-accent-light",v=`w-full flex items-center justify-center py-2.5 px-4 border border-transparent rounded-md shadow-sm text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-150 ${a?"bg-slate-300 text-slate-500 dark:bg-slate-600 dark:text-slate-400 cursor-not-allowed":"bg-ollo-deep text-ollo-light hover:bg-opacity-90 focus:ring-ollo-deep focus:ring-offset-white dark:bg-ollo-accent-light dark:text-ollo-deep dark:hover:bg-opacity-90 dark:focus:ring-ollo-accent-light dark:focus:ring-offset-gray-800"}`;return g.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 selection:bg-ollo-deep/30 selection:text-ollo-deep",children:g.jsx("div",{className:"w-full max-w-md p-7 sm:p-10 space-y-6 rounded-xl bg-ollo-light/80 dark:bg-gray-800/90 text-slate-800 dark:text-ollo-light backdrop-blur-lg shadow-2xl",children:c?g.jsxs("div",{className:"text-center space-y-4 py-4",children:[g.jsx("div",{className:"mb-6 text-5xl font-bold tracking-wider text-ollo-deep dark:text-ollo-accent-light",children:"OLLO"}),g.jsx(Kw,{className:"w-16 h-16 mx-auto text-green-500 dark:text-green-400"}),g.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-ollo-deep dark:text-ollo-accent-light",children:"Link Enviado!"}),g.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Se o email"," ",g.jsx("strong",{className:"text-ollo-deep/90 dark:text-ollo-accent-light/90",children:t})," ","estiver cadastrado, você receberá as instruções em breve."]}),g.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"(Verifique sua pasta de spam)."}),g.jsx("div",{className:"pt-4",children:g.jsx(nn,{to:"/login",className:v,children:"Voltar para o Login"})})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"mb-6 text-5xl font-bold tracking-wider text-ollo-deep dark:text-ollo-accent-light",children:"OLLO"}),g.jsx(y4,{className:"w-12 h-12 mx-auto mb-3 text-ollo-deep dark:text-ollo-accent-light"}),g.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-ollo-deep dark:text-ollo-accent-light",children:"Recuperar Senha"}),g.jsx("p",{className:"mt-2 text-sm text-slate-600 dark:text-slate-400",children:"Sem problemas! Digite seu email abaixo e enviaremos um link para você voltar a acessar sua conta Ollo."})]}),n&&g.jsx("div",{className:"p-3.5 rounded-lg text-sm bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/50 dark:text-red-200 dark:border-red-700/70",children:n}),g.jsxs("form",{onSubmit:m,className:"space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"text-slate-700 dark:text-gray-300 font-medium",children:"Email"}),g.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:w=>e(w.target.value),className:p,placeholder:"seu.email@exemplo.com"})]}),g.jsx("div",{className:"pt-2",children:g.jsx("button",{type:"submit",disabled:a,className:v,children:a?g.jsxs(g.Fragment,{children:[g.jsx(Gs,{className:"animate-spin -ml-1 mr-3 h-5 w-5"}),"Enviando..."]}):"Enviar Link de Recuperação"})})]}),g.jsxs("p",{className:"mt-8 text-sm text-center",children:["Lembrou a senha?"," ",g.jsx(nn,{to:"/login",className:"font-medium text-ollo-deep hover:text-opacity-80 underline dark:text-ollo-accent-light dark:hover:text-opacity-80",children:"Voltar para o Login"})]})]})})})};var Eu=t=>t.type==="checkbox",Ti=t=>t instanceof Date,cn=t=>t==null;const FS=t=>typeof t=="object";var wt=t=>!cn(t)&&!Array.isArray(t)&&FS(t)&&!Ti(t),iI=t=>wt(t)&&t.target?Eu(t.target)?t.target.checked:t.target.value:t,aI=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,oI=(t,e)=>t.has(aI(e)),lI=t=>{const e=t.constructor&&t.constructor.prototype;return wt(e)&&e.hasOwnProperty("isPrototypeOf")},R0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Wt(t){let e;const n=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(R0&&(t instanceof Blob||s))&&(n||wt(t)))if(e=n?[]:{},!n&&!lI(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=Wt(t[a]));else return t;return e}var yh=t=>Array.isArray(t)?t.filter(Boolean):[],Nt=t=>t===void 0,oe=(t,e,n)=>{if(!e||!wt(t))return n;const s=yh(e.split(/[,[\].]+?/)).reduce((a,l)=>cn(a)?a:a[l],t);return Nt(s)||s===t?Nt(t[e])?n:t[e]:s},hr=t=>typeof t=="boolean",O0=t=>/^\w*$/.test(t),HS=t=>yh(t.replace(/["|']|\]/g,"").split(/\.|\[/)),rt=(t,e,n)=>{let s=-1;const a=O0(e)?[e]:HS(e),l=a.length,c=l-1;for(;++s<l;){const f=a[s];let m=n;if(s!==c){const p=t[f];m=wt(p)||Array.isArray(p)?p:isNaN(+a[s+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;t[f]=m,t=t[f]}};const xw={BLUR:"blur",FOCUS_OUT:"focusout"},Zn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},qr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Rn.createContext(null);var uI=(t,e,n,s=!0)=>{const a={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(a,l,{get:()=>{const c=l;return e._proxyFormState[c]!==Zn.all&&(e._proxyFormState[c]=!s||Zn.all),t[c]}});return a};const cI=typeof window<"u"?x.useLayoutEffect:x.useEffect;var vr=t=>typeof t=="string",dI=(t,e,n,s,a)=>vr(t)?(s&&e.watch.add(t),oe(n,t,a)):Array.isArray(t)?t.map(l=>(s&&e.watch.add(l),oe(n,l))):(s&&(e.watchAll=!0),n),hI=(t,e,n,s,a)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:a||!0}}:{},Ol=t=>Array.isArray(t)?t:[t],bw=()=>{let t=[];return{get observers(){return t},next:a=>{for(const l of t)l.next&&l.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(l=>l!==a)}}),unsubscribe:()=>{t=[]}}},Jg=t=>cn(t)||!FS(t);function Vs(t,e){if(Jg(t)||Jg(e))return t===e;if(Ti(t)&&Ti(e))return t.getTime()===e.getTime();const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(const a of n){const l=t[a];if(!s.includes(a))return!1;if(a!=="ref"){const c=e[a];if(Ti(l)&&Ti(c)||wt(l)&&wt(c)||Array.isArray(l)&&Array.isArray(c)?!Vs(l,c):l!==c)return!1}}return!0}var xn=t=>wt(t)&&!Object.keys(t).length,D0=t=>t.type==="file",Wn=t=>typeof t=="function",Rd=t=>{if(!R0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},$S=t=>t.type==="select-multiple",j0=t=>t.type==="radio",fI=t=>j0(t)||Eu(t),lg=t=>Rd(t)&&t.isConnected;function mI(t,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)t=Nt(t)?s++:t[e[s++]];return t}function gI(t){for(const e in t)if(t.hasOwnProperty(e)&&!Nt(t[e]))return!1;return!0}function Dt(t,e){const n=Array.isArray(e)?e:O0(e)?[e]:HS(e),s=n.length===1?t:mI(t,n),a=n.length-1,l=n[a];return s&&delete s[l],a!==0&&(wt(s)&&xn(s)||Array.isArray(s)&&gI(s))&&Dt(t,n.slice(0,-1)),t}var GS=t=>{for(const e in t)if(Wn(t[e]))return!0;return!1};function Od(t,e={}){const n=Array.isArray(t);if(wt(t)||n)for(const s in t)Array.isArray(t[s])||wt(t[s])&&!GS(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Od(t[s],e[s])):cn(t[s])||(e[s]=!0);return e}function KS(t,e,n){const s=Array.isArray(t);if(wt(t)||s)for(const a in t)Array.isArray(t[a])||wt(t[a])&&!GS(t[a])?Nt(e)||Jg(n[a])?n[a]=Array.isArray(t[a])?Od(t[a],[]):{...Od(t[a])}:KS(t[a],cn(e)?{}:e[a],n[a]):n[a]=!Vs(t[a],e[a]);return n}var gl=(t,e)=>KS(t,e,Od(e));const ww={value:!1,isValid:!1},Ew={value:!0,isValid:!0};var YS=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Nt(t[0].attributes.value)?Nt(t[0].value)||t[0].value===""?Ew:{value:t[0].value,isValid:!0}:Ew:ww}return ww},QS=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>Nt(t)?t:e?t===""?NaN:t&&+t:n&&vr(t)?new Date(t):s?s(t):t;const _w={isValid:!1,value:null};var XS=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,_w):_w;function Sw(t){const e=t.ref;return D0(e)?e.files:j0(e)?XS(t.refs).value:$S(e)?[...e.selectedOptions].map(({value:n})=>n):Eu(e)?YS(t.refs).value:QS(Nt(e.value)?t.ref.value:e.value,t)}var pI=(t,e,n,s)=>{const a={};for(const l of t){const c=oe(e,l);c&&rt(a,l,c._f)}return{criteriaMode:n,names:[...t],fields:a,shouldUseNativeValidation:s}},Dd=t=>t instanceof RegExp,pl=t=>Nt(t)?t:Dd(t)?t.source:wt(t)?Dd(t.value)?t.value.source:t.value:t,Tw=t=>({isOnSubmit:!t||t===Zn.onSubmit,isOnBlur:t===Zn.onBlur,isOnChange:t===Zn.onChange,isOnAll:t===Zn.all,isOnTouch:t===Zn.onTouched});const Nw="AsyncFunction";var yI=t=>!!t&&!!t.validate&&!!(Wn(t.validate)&&t.validate.constructor.name===Nw||wt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Nw)),vI=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Aw=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const Dl=(t,e,n,s)=>{for(const a of n||Object.keys(t)){const l=oe(t,a);if(l){const{_f:c,...f}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],a)&&!s)return!0;if(c.ref&&e(c.ref,c.name)&&!s)return!0;if(Dl(f,e))break}else if(wt(f)&&Dl(f,e))break}}};function kw(t,e,n){const s=oe(t,n);if(s||O0(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const l=a.join("."),c=oe(e,l),f=oe(t,l);if(c&&!Array.isArray(c)&&n!==l)return{name:n};if(f&&f.type)return{name:l,error:f};if(f&&f.root&&f.root.type)return{name:`${l}.root`,error:f.root};a.pop()}return{name:n}}var xI=(t,e,n,s)=>{n(t);const{name:a,...l}=t;return xn(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!s||Zn.all))},bI=(t,e,n)=>!t||!e||t===e||Ol(t).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),wI=(t,e,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(e||t):(n?s.isOnBlur:a.isOnBlur)?!t:(n?s.isOnChange:a.isOnChange)?t:!0,EI=(t,e)=>!yh(oe(t,e)).length&&Dt(t,e),_I=(t,e,n)=>{const s=Ol(oe(t,n));return rt(s,"root",e[n]),rt(t,n,s),t},sd=t=>vr(t);function Cw(t,e,n="validate"){if(sd(t)||Array.isArray(t)&&t.every(sd)||hr(t)&&!t)return{type:n,message:sd(t)?t:"",ref:e}}var Da=t=>wt(t)&&!Dd(t)?t:{value:t,message:""},Rw=async(t,e,n,s,a,l)=>{const{ref:c,refs:f,required:m,maxLength:p,minLength:v,min:w,max:E,pattern:A,validate:L,name:V,valueAsNumber:O,mount:Y}=t._f,U=oe(n,V);if(!Y||e.has(V))return{};const G=f?f[0]:c,$=fe=>{a&&G.reportValidity&&(G.setCustomValidity(hr(fe)?"":fe||""),G.reportValidity())},Z={},Ee=j0(c),Re=Eu(c),Oe=Ee||Re,De=(O||D0(c))&&Nt(c.value)&&Nt(U)||Rd(c)&&c.value===""||U===""||Array.isArray(U)&&!U.length,ot=hI.bind(null,V,s,Z),Je=(fe,ke,Ue,je=qr.maxLength,M=qr.minLength)=>{const Q=fe?ke:Ue;Z[V]={type:fe?je:M,message:Q,ref:c,...ot(fe?je:M,Q)}};if(l?!Array.isArray(U)||!U.length:m&&(!Oe&&(De||cn(U))||hr(U)&&!U||Re&&!YS(f).isValid||Ee&&!XS(f).isValid)){const{value:fe,message:ke}=sd(m)?{value:!!m,message:m}:Da(m);if(fe&&(Z[V]={type:qr.required,message:ke,ref:G,...ot(qr.required,ke)},!s))return $(ke),Z}if(!De&&(!cn(w)||!cn(E))){let fe,ke;const Ue=Da(E),je=Da(w);if(!cn(U)&&!isNaN(U)){const M=c.valueAsNumber||U&&+U;cn(Ue.value)||(fe=M>Ue.value),cn(je.value)||(ke=M<je.value)}else{const M=c.valueAsDate||new Date(U),Q=S=>new Date(new Date().toDateString()+" "+S),ne=c.type=="time",ce=c.type=="week";vr(Ue.value)&&U&&(fe=ne?Q(U)>Q(Ue.value):ce?U>Ue.value:M>new Date(Ue.value)),vr(je.value)&&U&&(ke=ne?Q(U)<Q(je.value):ce?U<je.value:M<new Date(je.value))}if((fe||ke)&&(Je(!!fe,Ue.message,je.message,qr.max,qr.min),!s))return $(Z[V].message),Z}if((p||v)&&!De&&(vr(U)||l&&Array.isArray(U))){const fe=Da(p),ke=Da(v),Ue=!cn(fe.value)&&U.length>+fe.value,je=!cn(ke.value)&&U.length<+ke.value;if((Ue||je)&&(Je(Ue,fe.message,ke.message),!s))return $(Z[V].message),Z}if(A&&!De&&vr(U)){const{value:fe,message:ke}=Da(A);if(Dd(fe)&&!U.match(fe)&&(Z[V]={type:qr.pattern,message:ke,ref:c,...ot(qr.pattern,ke)},!s))return $(ke),Z}if(L){if(Wn(L)){const fe=await L(U,n),ke=Cw(fe,G);if(ke&&(Z[V]={...ke,...ot(qr.validate,ke.message)},!s))return $(ke.message),Z}else if(wt(L)){let fe={};for(const ke in L){if(!xn(fe)&&!s)break;const Ue=Cw(await L[ke](U,n),G,ke);Ue&&(fe={...Ue,...ot(ke,Ue.message)},$(Ue.message),s&&(Z[V]=fe))}if(!xn(fe)&&(Z[V]={ref:G,...fe},!s))return Z}}return $(!0),Z};const SI={mode:Zn.onSubmit,reValidateMode:Zn.onChange,shouldFocusError:!0};function TI(t={}){let e={...SI,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Wn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const s={};let a=wt(e.defaultValues)||wt(e.values)?Wt(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:Wt(a),c={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,p=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let w={...v};const E={array:bw(),state:bw()},A=e.criteriaMode===Zn.all,L=T=>D=>{clearTimeout(p),p=setTimeout(T,D)},V=async T=>{if(!e.disabled&&(v.isValid||w.isValid||T)){const D=e.resolver?xn((await Re()).errors):await De(s,!0);D!==n.isValid&&E.state.next({isValid:D})}},O=(T,D)=>{!e.disabled&&(v.isValidating||v.validatingFields||w.isValidating||w.validatingFields)&&((T||Array.from(f.mount)).forEach(z=>{z&&(D?rt(n.validatingFields,z,D):Dt(n.validatingFields,z))}),E.state.next({validatingFields:n.validatingFields,isValidating:!xn(n.validatingFields)}))},Y=(T,D=[],z,re,ee=!0,X=!0)=>{if(re&&z&&!e.disabled){if(c.action=!0,X&&Array.isArray(oe(s,T))){const le=z(oe(s,T),re.argA,re.argB);ee&&rt(s,T,le)}if(X&&Array.isArray(oe(n.errors,T))){const le=z(oe(n.errors,T),re.argA,re.argB);ee&&rt(n.errors,T,le),EI(n.errors,T)}if((v.touchedFields||w.touchedFields)&&X&&Array.isArray(oe(n.touchedFields,T))){const le=z(oe(n.touchedFields,T),re.argA,re.argB);ee&&rt(n.touchedFields,T,le)}(v.dirtyFields||w.dirtyFields)&&(n.dirtyFields=gl(a,l)),E.state.next({name:T,isDirty:Je(T,D),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else rt(l,T,D)},U=(T,D)=>{rt(n.errors,T,D),E.state.next({errors:n.errors})},G=T=>{n.errors=T,E.state.next({errors:n.errors,isValid:!1})},$=(T,D,z,re)=>{const ee=oe(s,T);if(ee){const X=oe(l,T,Nt(z)?oe(a,T):z);Nt(X)||re&&re.defaultChecked||D?rt(l,T,D?X:Sw(ee._f)):Ue(T,X),c.mount&&V()}},Z=(T,D,z,re,ee)=>{let X=!1,le=!1;const Se={name:T};if(!e.disabled){if(!z||re){(v.isDirty||w.isDirty)&&(le=n.isDirty,n.isDirty=Se.isDirty=Je(),X=le!==Se.isDirty);const Be=Vs(oe(a,T),D);le=!!oe(n.dirtyFields,T),Be?Dt(n.dirtyFields,T):rt(n.dirtyFields,T,!0),Se.dirtyFields=n.dirtyFields,X=X||(v.dirtyFields||w.dirtyFields)&&le!==!Be}if(z){const Be=oe(n.touchedFields,T);Be||(rt(n.touchedFields,T,z),Se.touchedFields=n.touchedFields,X=X||(v.touchedFields||w.touchedFields)&&Be!==z)}X&&ee&&E.state.next(Se)}return X?Se:{}},Ee=(T,D,z,re)=>{const ee=oe(n.errors,T),X=(v.isValid||w.isValid)&&hr(D)&&n.isValid!==D;if(e.delayError&&z?(m=L(()=>U(T,z)),m(e.delayError)):(clearTimeout(p),m=null,z?rt(n.errors,T,z):Dt(n.errors,T)),(z?!Vs(ee,z):ee)||!xn(re)||X){const le={...re,...X&&hr(D)?{isValid:D}:{},errors:n.errors,name:T};n={...n,...le},E.state.next(le)}},Re=async T=>{O(T,!0);const D=await e.resolver(l,e.context,pI(T||f.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return O(T),D},Oe=async T=>{const{errors:D}=await Re(T);if(T)for(const z of T){const re=oe(D,z);re?rt(n.errors,z,re):Dt(n.errors,z)}else n.errors=D;return D},De=async(T,D,z={valid:!0})=>{for(const re in T){const ee=T[re];if(ee){const{_f:X,...le}=ee;if(X){const Se=f.array.has(X.name),Be=ee._f&&yI(ee._f);Be&&v.validatingFields&&O([re],!0);const tt=await Rw(ee,f.disabled,l,A,e.shouldUseNativeValidation&&!D,Se);if(Be&&v.validatingFields&&O([re]),tt[X.name]&&(z.valid=!1,D))break;!D&&(oe(tt,X.name)?Se?_I(n.errors,tt,X.name):rt(n.errors,X.name,tt[X.name]):Dt(n.errors,X.name))}!xn(le)&&await De(le,D,z)}}return z.valid},ot=()=>{for(const T of f.unMount){const D=oe(s,T);D&&(D._f.refs?D._f.refs.every(z=>!lg(z)):!lg(D._f.ref))&&Ct(T)}f.unMount=new Set},Je=(T,D)=>!e.disabled&&(T&&D&&rt(l,T,D),!Vs(S(),a)),fe=(T,D,z)=>dI(T,f,{...c.mount?l:Nt(D)?a:vr(T)?{[T]:D}:D},z,D),ke=T=>yh(oe(c.mount?l:a,T,e.shouldUnregister?oe(a,T,[]):[])),Ue=(T,D,z={})=>{const re=oe(s,T);let ee=D;if(re){const X=re._f;X&&(!X.disabled&&rt(l,T,QS(D,X)),ee=Rd(X.ref)&&cn(D)?"":D,$S(X.ref)?[...X.ref.options].forEach(le=>le.selected=ee.includes(le.value)):X.refs?Eu(X.ref)?X.refs.forEach(le=>{(!le.defaultChecked||!le.disabled)&&(Array.isArray(ee)?le.checked=!!ee.find(Se=>Se===le.value):le.checked=ee===le.value||!!ee)}):X.refs.forEach(le=>le.checked=le.value===ee):D0(X.ref)?X.ref.value="":(X.ref.value=ee,X.ref.type||E.state.next({name:T,values:Wt(l)})))}(z.shouldDirty||z.shouldTouch)&&Z(T,ee,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&ce(T)},je=(T,D,z)=>{for(const re in D){if(!D.hasOwnProperty(re))return;const ee=D[re],X=T+"."+re,le=oe(s,X);(f.array.has(T)||wt(ee)||le&&!le._f)&&!Ti(ee)?je(X,ee,z):Ue(X,ee,z)}},M=(T,D,z={})=>{const re=oe(s,T),ee=f.array.has(T),X=Wt(D);rt(l,T,X),ee?(E.array.next({name:T,values:Wt(l)}),(v.isDirty||v.dirtyFields||w.isDirty||w.dirtyFields)&&z.shouldDirty&&E.state.next({name:T,dirtyFields:gl(a,l),isDirty:Je(T,X)})):re&&!re._f&&!cn(X)?je(T,X,z):Ue(T,X,z),Aw(T,f)&&E.state.next({...n}),E.state.next({name:c.mount?T:void 0,values:Wt(l)})},Q=async T=>{c.mount=!0;const D=T.target;let z=D.name,re=!0;const ee=oe(s,z),X=Be=>{re=Number.isNaN(Be)||Ti(Be)&&isNaN(Be.getTime())||Vs(Be,oe(l,z,Be))},le=Tw(e.mode),Se=Tw(e.reValidateMode);if(ee){let Be,tt;const Hi=D.type?Sw(ee._f):iI(T),ir=T.type===xw.BLUR||T.type===xw.FOCUS_OUT,vh=!vI(ee._f)&&!e.resolver&&!oe(n.errors,z)&&!ee._f.deps||wI(ir,oe(n.touchedFields,z),n.isSubmitted,Se,le),as=Aw(z,f,ir);rt(l,z,Hi),ir?(ee._f.onBlur&&ee._f.onBlur(T),m&&m(0)):ee._f.onChange&&ee._f.onChange(T);const os=Z(z,Hi,ir),Tr=!xn(os)||as;if(!ir&&E.state.next({name:z,type:T.type,values:Wt(l)}),vh)return(v.isValid||w.isValid)&&(e.mode==="onBlur"?ir&&V():ir||V()),Tr&&E.state.next({name:z,...as?{}:os});if(!ir&&as&&E.state.next({...n}),e.resolver){const{errors:ti}=await Re([z]);if(X(Hi),re){const ni=kw(n.errors,s,z),_u=kw(ti,s,ni.name||z);Be=_u.error,z=_u.name,tt=xn(ti)}}else O([z],!0),Be=(await Rw(ee,f.disabled,l,A,e.shouldUseNativeValidation))[z],O([z]),X(Hi),re&&(Be?tt=!1:(v.isValid||w.isValid)&&(tt=await De(s,!0)));re&&(ee._f.deps&&ce(ee._f.deps),Ee(z,tt,Be,os))}},ne=(T,D)=>{if(oe(n.errors,D)&&T.focus)return T.focus(),1},ce=async(T,D={})=>{let z,re;const ee=Ol(T);if(e.resolver){const X=await Oe(Nt(T)?T:ee);z=xn(X),re=T?!ee.some(le=>oe(X,le)):z}else T?(re=(await Promise.all(ee.map(async X=>{const le=oe(s,X);return await De(le&&le._f?{[X]:le}:le)}))).every(Boolean),!(!re&&!n.isValid)&&V()):re=z=await De(s);return E.state.next({...!vr(T)||(v.isValid||w.isValid)&&z!==n.isValid?{}:{name:T},...e.resolver||!T?{isValid:z}:{},errors:n.errors}),D.shouldFocus&&!re&&Dl(s,ne,T?ee:f.mount),re},S=T=>{const D={...c.mount?l:a};return Nt(T)?D:vr(T)?oe(D,T):T.map(z=>oe(D,z))},P=(T,D)=>({invalid:!!oe((D||n).errors,T),isDirty:!!oe((D||n).dirtyFields,T),error:oe((D||n).errors,T),isValidating:!!oe(n.validatingFields,T),isTouched:!!oe((D||n).touchedFields,T)}),J=T=>{T&&Ol(T).forEach(D=>Dt(n.errors,D)),E.state.next({errors:T?n.errors:{}})},W=(T,D,z)=>{const re=(oe(s,T,{_f:{}})._f||{}).ref,ee=oe(n.errors,T)||{},{ref:X,message:le,type:Se,...Be}=ee;rt(n.errors,T,{...Be,...D,ref:re}),E.state.next({name:T,errors:n.errors,isValid:!1}),z&&z.shouldFocus&&re&&re.focus&&re.focus()},ie=(T,D)=>Wn(T)?E.state.subscribe({next:z=>T(fe(void 0,D),z)}):fe(T,D,!0),Ne=T=>E.state.subscribe({next:D=>{bI(T.name,D.name,T.exact)&&xI(D,T.formState||v,In,T.reRenderRoot)&&T.callback({values:{...l},...n,...D})}}).unsubscribe,ve=T=>(c.mount=!0,w={...w,...T.formState},Ne({...T,formState:w})),Ct=(T,D={})=>{for(const z of T?Ol(T):f.mount)f.mount.delete(z),f.array.delete(z),D.keepValue||(Dt(s,z),Dt(l,z)),!D.keepError&&Dt(n.errors,z),!D.keepDirty&&Dt(n.dirtyFields,z),!D.keepTouched&&Dt(n.touchedFields,z),!D.keepIsValidating&&Dt(n.validatingFields,z),!e.shouldUnregister&&!D.keepDefaultValue&&Dt(a,z);E.state.next({values:Wt(l)}),E.state.next({...n,...D.keepDirty?{isDirty:Je()}:{}}),!D.keepIsValid&&V()},He=({disabled:T,name:D})=>{(hr(T)&&c.mount||T||f.disabled.has(D))&&(T?f.disabled.add(D):f.disabled.delete(D))},fn=(T,D={})=>{let z=oe(s,T);const re=hr(D.disabled)||hr(e.disabled);return rt(s,T,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:T}},name:T,mount:!0,...D}}),f.mount.add(T),z?He({disabled:hr(D.disabled)?D.disabled:e.disabled,name:T}):$(T,!0,D.value),{...re?{disabled:D.disabled||e.disabled}:{},...e.progressive?{required:!!D.required,min:pl(D.min),max:pl(D.max),minLength:pl(D.minLength),maxLength:pl(D.maxLength),pattern:pl(D.pattern)}:{},name:T,onChange:Q,onBlur:Q,ref:ee=>{if(ee){fn(T,D),z=oe(s,T);const X=Nt(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,le=fI(X),Se=z._f.refs||[];if(le?Se.find(Be=>Be===X):X===z._f.ref)return;rt(s,T,{_f:{...z._f,...le?{refs:[...Se.filter(lg),X,...Array.isArray(oe(a,T))?[{}]:[]],ref:{type:X.type,name:T}}:{ref:X}}}),$(T,!1,void 0,X)}else z=oe(s,T,{}),z._f&&(z._f.mount=!1),(e.shouldUnregister||D.shouldUnregister)&&!(oI(f.array,T)&&c.action)&&f.unMount.add(T)}}},rr=()=>e.shouldFocusError&&Dl(s,ne,f.mount),sr=T=>{hr(T)&&(E.state.next({disabled:T}),Dl(s,(D,z)=>{const re=oe(s,z);re&&(D.disabled=re._f.disabled||T,Array.isArray(re._f.refs)&&re._f.refs.forEach(ee=>{ee.disabled=re._f.disabled||T}))},0,!1))},de=(T,D)=>async z=>{let re;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let ee=Wt(l);if(E.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:le}=await Re();n.errors=X,ee=le}else await De(s);if(f.disabled.size)for(const X of f.disabled)rt(ee,X,void 0);if(Dt(n.errors,"root"),xn(n.errors)){E.state.next({errors:{}});try{await T(ee,z)}catch(X){re=X}}else D&&await D({...n.errors},z),rr(),setTimeout(rr);if(E.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:xn(n.errors)&&!re,submitCount:n.submitCount+1,errors:n.errors}),re)throw re},lt=(T,D={})=>{oe(s,T)&&(Nt(D.defaultValue)?M(T,Wt(oe(a,T))):(M(T,D.defaultValue),rt(a,T,Wt(D.defaultValue))),D.keepTouched||Dt(n.touchedFields,T),D.keepDirty||(Dt(n.dirtyFields,T),n.isDirty=D.defaultValue?Je(T,Wt(oe(a,T))):Je()),D.keepError||(Dt(n.errors,T),v.isValid&&V()),E.state.next({...n}))},ft=(T,D={})=>{const z=T?Wt(T):a,re=Wt(z),ee=xn(T),X=ee?a:re;if(D.keepDefaultValues||(a=z),!D.keepValues){if(D.keepDirtyValues){const le=new Set([...f.mount,...Object.keys(gl(a,l))]);for(const Se of Array.from(le))oe(n.dirtyFields,Se)?rt(X,Se,oe(l,Se)):M(Se,oe(X,Se))}else{if(R0&&Nt(T))for(const le of f.mount){const Se=oe(s,le);if(Se&&Se._f){const Be=Array.isArray(Se._f.refs)?Se._f.refs[0]:Se._f.ref;if(Rd(Be)){const tt=Be.closest("form");if(tt){tt.reset();break}}}}for(const le of f.mount)M(le,oe(X,le))}l=Wt(X),E.array.next({values:{...X}}),E.state.next({values:{...X}})}f={mount:D.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!v.isValid||!!D.keepIsValid||!!D.keepDirtyValues,c.watch=!!e.shouldUnregister,E.state.next({submitCount:D.keepSubmitCount?n.submitCount:0,isDirty:ee?!1:D.keepDirty?n.isDirty:!!(D.keepDefaultValues&&!Vs(T,a)),isSubmitted:D.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ee?{}:D.keepDirtyValues?D.keepDefaultValues&&l?gl(a,l):n.dirtyFields:D.keepDefaultValues&&T?gl(a,T):D.keepDirty?n.dirtyFields:{},touchedFields:D.keepTouched?n.touchedFields:{},errors:D.keepErrors?n.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},En=(T,D)=>ft(Wn(T)?T(l):T,D),fo=(T,D={})=>{const z=oe(s,T),re=z&&z._f;if(re){const ee=re.refs?re.refs[0]:re.ref;ee.focus&&(ee.focus(),D.shouldSelect&&Wn(ee.select)&&ee.select())}},In=T=>{n={...n,...T}},mo={control:{register:fn,unregister:Ct,getFieldState:P,handleSubmit:de,setError:W,_subscribe:Ne,_runSchema:Re,_focusError:rr,_getWatch:fe,_getDirty:Je,_setValid:V,_setFieldArray:Y,_setDisabledField:He,_setErrors:G,_getFieldArray:ke,_reset:ft,_resetDefaultValues:()=>Wn(e.defaultValues)&&e.defaultValues().then(T=>{En(T,e.resetOptions),E.state.next({isLoading:!1})}),_removeUnmounted:ot,_disableForm:sr,_subjects:E,_proxyFormState:v,get _fields(){return s},get _formValues(){return l},get _state(){return c},set _state(T){c=T},get _defaultValues(){return a},get _names(){return f},set _names(T){f=T},get _formState(){return n},get _options(){return e},set _options(T){e={...e,...T}}},subscribe:ve,trigger:ce,register:fn,handleSubmit:de,watch:ie,setValue:M,getValues:S,reset:En,resetField:lt,clearErrors:J,unregister:Ct,setError:W,setFocus:fo,getFieldState:P};return{...mo,formControl:mo}}function I0(t={}){const e=Rn.useRef(void 0),n=Rn.useRef(void 0),[s,a]=Rn.useState({isDirty:!1,isValidating:!1,isLoading:Wn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Wn(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:TI(t),formState:s},t.formControl&&t.defaultValues&&!Wn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const l=e.current.control;return l._options=t,cI(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>a({...l._formState}),reRenderRoot:!0});return a(f=>({...f,isReady:!0})),l._formState.isReady=!0,c},[l]),Rn.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),Rn.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),Rn.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),Rn.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),Rn.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==s.isDirty&&l._subjects.state.next({isDirty:c})}},[l,s.isDirty]),Rn.useEffect(()=>{t.values&&!Vs(t.values,n.current)?(l._reset(t.values,l._options.resetOptions),n.current=t.values,a(c=>({...c}))):l._resetDefaultValues()},[l,t.values]),Rn.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=uI(s,l),e.current}function NI(){wn();const{register:t,handleSubmit:e,watch:n,reset:s,formState:{errors:a}}=I0(),{registerWithEmail:l}=qi(),[c,f]=x.useState(!1),[m,p]=x.useState(!1),[v,w]=x.useState(!1),E=async A=>{f(!0);const L={name:`${A.firstName} ${A.lastName}`,username:A.username.toLowerCase()};try{(await l(A.email,A.password,L)).success&&(yr.success("Cadastro realizado! Verifique seu e-mail para ativar a conta.",{duration:5e3,position:"top-center"}),s())}catch(V){yr.error(V.code==="auth/email-already-in-use"?"Este email já está cadastrado.":"Ocorreu um erro no cadastro. Tente novamente.",{duration:4e3,position:"top-center"})}finally{f(!1)}};return n("password"),g.jsxs(g.Fragment,{children:[g.jsx(wu,{}),g.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 overflow-hidden",children:g.jsxs("div",{className:"w-full max-w-lg p-7 sm:p-10 space-y-6 rounded-xl bg-white/80 dark:bg-gray-800/90 text-slate-800 dark:text-ollo-light backdrop-blur-lg shadow-2xl border border-gray-200/50 dark:border-gray-700/50",children:[g.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-center text-ollo-deep dark:text-ollo-accent-light",children:"Criar Conta OLLO"}),g.jsxs("form",{onSubmit:e(E),className:"space-y-5",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"firstName",className:"label-style",children:"Nome"}),g.jsx("input",{id:"firstName",type:"text",...t("firstName",{required:"Nome é obrigatório"}),className:"input-field",placeholder:"Seu nome"}),a.firstName&&g.jsx("p",{className:"error-message",children:a.firstName.message})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"lastName",className:"label-style",children:"Sobrenome"}),g.jsx("input",{id:"lastName",type:"text",...t("lastName",{required:"Sobrenome é obrigatório"}),className:"input-field",placeholder:"Seu sobrenome"}),a.lastName&&g.jsx("p",{className:"error-message",children:a.lastName.message})]})]}),g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"username",className:"label-style",children:"Nome de Usuário"}),g.jsx("input",{id:"username",type:"text",...t("username",{required:"Nome de usuário é obrigatório",pattern:{value:/^[a-z0-9_.]+$/,message:"Formato inválido. Veja as regras."}}),className:"input-field",placeholder:"ex: seu_nome.123",onFocus:()=>w(!0),onBlur:()=>w(!1)}),v&&g.jsx("div",{className:"absolute bottom-full left-0 mb-2 w-full p-3 bg-gray-800 text-white text-xs rounded-lg shadow-lg z-10",children:g.jsxs("div",{className:"flex items-start",children:[g.jsx(C4,{className:"h-5 w-5 mr-2 flex-shrink-0 text-blue-400"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold mb-1",children:"Regras para nome de usuário:"}),g.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[g.jsx("li",{children:"Apenas letras minúsculas (a-z) e números (0-9)."}),g.jsx("li",{children:"Pode conter ponto (.) ou sublinhado (_)."}),g.jsxs("li",{className:"mt-1",children:[g.jsx("strong",{children:"Exemplos:"})," `ana.silva`, `joao_1995`, `ollo_user`"]})]})]})]})}),a.username&&g.jsx("p",{className:"error-message",children:a.username.message})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"label-style",children:"Email"}),g.jsx("input",{id:"email",type:"email",...t("email",{required:"Email é obrigatório",pattern:{value:/^\S+@\S+$/i,message:"Formato de email inválido"}}),className:"input-field",placeholder:"voce@exemplo.com"}),a.email&&g.jsx("p",{className:"error-message",children:a.email.message})]}),g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"password",className:"label-style",children:"Senha"}),g.jsx("input",{id:"password",type:m?"text":"password",...t("password",{required:"Senha é obrigatória",minLength:{value:6,message:"A senha deve ter no mínimo 6 caracteres"}}),className:"input-field",placeholder:"••••••••"}),g.jsx("span",{className:"absolute top-8 right-0 pr-3 flex items-center cursor-pointer",onClick:()=>p(!m),children:m?g.jsx(Qw,{className:"h-5 w-5 text-gray-500"}):g.jsx(Xw,{className:"h-5 w-5 text-gray-500"})}),a.password&&g.jsx("p",{className:"error-message",children:a.password.message})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"confirmPassword",className:"label-style",children:"Confirmar Senha"}),g.jsx("input",{id:"confirmPassword",type:"password",...t("confirmPassword",{required:"Confirme sua senha",validate:A=>A===n("password")||"As senhas não coincidem"}),className:"input-field",placeholder:"••••••••"}),a.confirmPassword&&g.jsx("p",{className:"error-message",children:a.confirmPassword.message})]}),g.jsx("div",{className:"pt-2",children:g.jsx("button",{type:"submit",disabled:c,className:"button-primary w-full",children:c?g.jsxs(g.Fragment,{children:[g.jsx(Gs,{className:"animate-spin h-5 w-5 mr-3"}),"Concluindo Registro..."]}):"Concluir Registro"})})]}),g.jsxs("p",{className:"mt-8 text-sm text-center",children:["Já tem uma conta?"," ",g.jsx(nn,{to:"/login",className:"link-primary",children:"Faça login"})]})]})})]})}function AI({listing:t,onDelete:e}){if(!t)return null;const{id:n,title:s,price:a,category:l,imageUrls:c}=t,f=c&&c.length>0?c[0]:`https://placehold.co/400x300/E0E1DD/0D1B2A?text=${encodeURIComponent(s||"Sem Imagem")}`,m=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a||0),p=l?l.charAt(0).toUpperCase()+l.slice(1):"",v=E=>{E.stopPropagation(),E.preventDefault(),e&&e(n)},w=E=>{E.stopPropagation(),E.preventDefault(),alert(`Navegando para a página de edição de ${n} (funcionalidade a ser implementada)`)};return g.jsxs(nn,{to:`/marketplace/detalhes/${n}`,className:"group flex flex-col overflow-hidden rounded-xl border border-gray-200/80 dark:border-gray-700/60 bg-white dark:bg-ollo-slate shadow-md transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[g.jsxs("div",{className:"relative h-48 sm:h-56",children:[g.jsx("img",{src:f,alt:`Imagem de ${s}`,className:"absolute inset-0 h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}),p&&g.jsx("span",{className:"absolute top-3 right-3 bg-ollo-accent dark:bg-ollo-accent-light text-white dark:text-ollo-deep text-xs font-semibold px-2.5 py-1 rounded-full z-10",children:p})]}),g.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[g.jsxs("div",{className:"flex-grow",children:[g.jsx("h3",{className:"text-lg font-bold text-ollo-deep dark:text-ollo-light truncate",title:s,children:s||"Anúncio sem título"}),g.jsx("p",{className:"mt-2 text-xl font-black text-ollo-accent dark:text-ollo-accent-light",children:m})]}),g.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700/50 flex justify-end space-x-2",children:[g.jsx("button",{onClick:w,className:"p-2 text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",title:"Editar Anúncio",children:g.jsx(Ml,{className:"h-5 w-5"})}),g.jsx("button",{onClick:v,className:"p-2 text-gray-500 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",title:"Excluir Anúncio",children:g.jsx(Ww,{className:"h-5 w-5"})})]})]})]})}function kI(){const[t,e]=x.useState([]),[n,s]=x.useState(!0),[a,l]=x.useState(null);x.useEffect(()=>{(async()=>{s(!0);try{const p=sS(eo,"listagens"),v=C9(p,R9("createdAt","desc")),E=(await I9(v)).docs.map(A=>({id:A.id,...A.data()}));e(E),l(null)}catch(p){console.error("Erro ao buscar anúncios:",p),l("Não foi possível carregar os produtos. Tente novamente mais tarde.")}finally{s(!1)}})()},[]);const c=async m=>{if(window.confirm("Tem certeza que deseja excluir este anúncio? Esta ação não pode ser desfeita."))try{const p=eu(eo,"listagens",m);await L9(p),e(v=>v.filter(w=>w.id!==m)),console.log(`Anúncio ${m} excluído com sucesso!`)}catch(p){console.error("Erro ao excluir anúncio:",p),alert("Ocorreu um erro ao tentar excluir o anúncio. Tente novamente.")}},f=()=>n?g.jsxs("div",{className:"flex justify-center items-center py-20",children:[g.jsx(Gs,{className:"h-8 w-8 animate-spin text-ollo-accent dark:text-ollo-accent-light"}),g.jsx("p",{className:"ml-3 text-lg text-gray-500 dark:text-gray-400",children:"Carregando produtos..."})]}):a?g.jsx("div",{className:"text-center py-20",children:g.jsx("p",{className:"text-red-500 dark:text-red-400",children:a})}):t.length===0?g.jsx("div",{className:"text-center py-20",children:g.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nenhum produto encontrado no momento."})}):g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(m=>g.jsx(AI,{listing:m,onDelete:c},m.id))});return g.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[g.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 gap-4",children:[g.jsx("h1",{className:"text-3xl font-bold text-ollo-deep dark:text-ollo-accent-light",children:"Marketplace OLLO"}),g.jsx(nn,{to:"/marketplace/criar",className:"w-full sm:w-auto flex justify-center py-2 px-6 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-ollo-accent hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ollo-accent-light transition-transform active:scale-95",children:"Anunciar Produto"})]}),g.jsx("main",{children:f()})]})}const $t=[];for(let t=0;t<256;++t)$t.push((t+256).toString(16).slice(1));function CI(t,e=0){return($t[t[e+0]]+$t[t[e+1]]+$t[t[e+2]]+$t[t[e+3]]+"-"+$t[t[e+4]]+$t[t[e+5]]+"-"+$t[t[e+6]]+$t[t[e+7]]+"-"+$t[t[e+8]]+$t[t[e+9]]+"-"+$t[t[e+10]]+$t[t[e+11]]+$t[t[e+12]]+$t[t[e+13]]+$t[t[e+14]]+$t[t[e+15]]).toLowerCase()}let ug;const RI=new Uint8Array(16);function OI(){if(!ug){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ug=crypto.getRandomValues.bind(crypto)}return ug(RI)}const DI=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ow={randomUUID:DI};function jI(t,e,n){var a;if(Ow.randomUUID&&!t)return Ow.randomUUID();t=t||{};const s=t.random??((a=t.rng)==null?void 0:a.call(t))??OI();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,CI(s)}const II=()=>{const{register:t,handleSubmit:e,formState:{errors:n,isSubmitting:s}}=I0(),a=wn(),{currentUser:l}=qi(),[c,f]=x.useState(""),[m,p]=x.useState([]),[v,w]=x.useState([]),E=O=>{if(O.target.files){const U=Array.from(O.target.files).slice(0,5-m.length);p($=>[...$,...U]);const G=U.map($=>URL.createObjectURL($));w($=>[...$,...G]),O.target.value=null}},A=O=>{p(Y=>Y.filter((U,G)=>G!==O)),URL.revokeObjectURL(v[O]),w(Y=>Y.filter((U,G)=>G!==O))},L=async O=>{if(!l){f("Você precisa estar logado para criar um anúncio.");return}if(m.length===0){f("Por favor, adicione pelo menos uma imagem.");return}f("");try{const Y=await Promise.all(m.map(async U=>{const G=Y7(ej,`listings/${l.uid}/${jI()}-${U.name}`);return await G7(G,U),K7(G)}));await U9(sS(eo,"listagens"),{title:O.title,description:O.description,price:O.price,category:O.category.toLowerCase(),imageUrls:Y,sellerId:l.uid,sellerName:l.name,status:"active",isPromoted:!1,createdAt:bS()}),console.log("Anúncio e imagens salvos com sucesso!"),a("/marketplace")}catch(Y){console.error("Erro ao criar anúncio:",Y),Y.code==="permission-denied"?f("Você não tem permissão para criar anúncios. Verifique suas regras de segurança no Firebase."):f("Ocorreu um erro ao criar seu anúncio. Tente novamente.")}},V=O=>`mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 bg-white/50 dark:bg-gray-800/50 shadow-sm focus:ring-opacity-50 pl-10 ${n[O]?"border-red-500 dark:border-red-500 focus:border-red-500 dark:focus:border-red-500 focus:ring-red-500":"focus:border-ollo-deep dark:focus:border-ollo-accent-light focus:ring-ollo-deep dark:focus:ring-ollo-accent-light"}`;return g.jsxs("div",{className:"container mx-auto p-4 max-w-3xl",children:[g.jsx("h1",{className:"text-3xl font-bold text-center text-ollo-deep dark:text-ollo-accent-light mb-8",children:"Anunciar Novo Item"}),g.jsxs("form",{onSubmit:e(L),className:"space-y-6 bg-white dark:bg-ollo-slate p-6 sm:p-8 rounded-xl shadow-2xl border border-gray-200/50 dark:border-gray-700/50",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Imagens do Produto (até 5)"}),g.jsx("div",{className:"mt-2 flex justify-center rounded-lg border border-dashed border-gray-900/25 dark:border-gray-100/25 px-6 py-10",children:g.jsxs("div",{className:"text-center",children:[g.jsx(I4,{className:"mx-auto h-12 w-12 text-gray-300 dark:text-gray-500"}),g.jsxs("div",{className:"mt-4 flex text-sm leading-6 text-gray-600 dark:text-gray-400",children:[g.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md bg-transparent font-semibold text-ollo-accent dark:text-ollo-accent-light focus-within:outline-none focus-within:ring-2 focus-within:ring-ollo-accent focus-within:ring-offset-2 dark:focus-within:ring-offset-gray-900 hover:text-ollo-deep dark:hover:text-white",children:[g.jsx("span",{children:"Carregue os arquivos"}),g.jsx("input",{id:"file-upload",name:"file-upload",type:"file",multiple:!0,accept:"image/*",className:"sr-only",onChange:E,disabled:m.length>=5})]}),g.jsx("p",{className:"pl-1",children:"ou arraste e solte"})]}),g.jsx("p",{className:"text-xs leading-5 text-gray-600 dark:text-gray-500",children:"PNG, JPG, GIF até 5MB"})]})}),v.length>0&&g.jsx("div",{className:"mt-4 grid grid-cols-3 sm:grid-cols-5 gap-4",children:v.map((O,Y)=>g.jsxs("div",{className:"relative group",children:[g.jsx("img",{src:O,alt:`Preview ${Y}`,className:"h-24 w-full object-cover rounded-md"}),g.jsx("button",{type:"button",onClick:()=>A(Y),className:"absolute top-1 right-1 p-0.5 rounded-full bg-red-600 text-white opacity-0 group-hover:opacity-100 transition-opacity focus:outline-none focus:ring-2 focus:ring-red-500",children:g.jsx(H4,{className:"h-5 w-5"})})]},Y))})]}),g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Título do Anúncio"}),g.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pt-6 pointer-events-none",children:g.jsx(Ml,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),g.jsx("input",{id:"title",type:"text",...t("title",{required:"O título é obrigatório"}),className:V("title"),placeholder:"Ex: Bicicleta Caloi Aro 29"}),n.title&&g.jsx("p",{className:"mt-2 text-sm text-red-500",children:n.title.message})]}),g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Descrição"}),g.jsx("div",{className:"absolute top-9 left-0 flex items-center pl-3 pointer-events-none",children:g.jsx(Ml,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),g.jsx("textarea",{id:"description",rows:"5",...t("description",{required:"A descrição é obrigatória"}),className:V("description"),placeholder:"Detalhe seu produto..."}),n.description&&g.jsx("p",{className:"mt-2 text-sm text-red-500",children:n.description.message})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Preço (R$)"}),g.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pt-6 pointer-events-none",children:g.jsx(g4,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),g.jsx("input",{id:"price",type:"number",step:"0.01",...t("price",{required:"O preço é obrigatório",valueAsNumber:!0,min:{value:.01,message:"O preço deve ser maior que zero."}}),className:V("price"),placeholder:"0,00"}),n.price&&g.jsx("p",{className:"mt-2 text-sm text-red-500",children:n.price.message})]}),g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Categoria"}),g.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pt-6 pointer-events-none",children:g.jsx(V4,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),g.jsxs("select",{id:"category",...t("category",{required:"A categoria é obrigatória"}),className:V("category"),children:[g.jsx("option",{value:"",children:"Selecione..."}),g.jsx("option",{value:"tecnologia",children:"Tecnologia"}),g.jsx("option",{value:"casa",children:"Casa e Jardim"}),g.jsx("option",{value:"esportes",children:"Esportes e Lazer"}),g.jsx("option",{value:"veiculos",children:"Veículos"}),g.jsx("option",{value:"moda",children:"Moda e Beleza"})]}),n.category&&g.jsx("p",{className:"mt-2 text-sm text-red-500",children:n.category.message})]})]}),c&&g.jsx("p",{className:"text-center text-sm text-red-500 py-2",children:c}),g.jsx("div",{className:"pt-4",children:g.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white dark:text-ollo-deep bg-ollo-accent dark:bg-ollo-accent-light hover:bg-opacity-90 disabled:opacity-50 disabled:cursor-wait focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-ollo-slate focus:ring-ollo-accent-light",children:s?g.jsxs(g.Fragment,{children:[g.jsx(Gs,{className:"animate-spin h-5 w-5 mr-3"})," ","Publicando..."]}):"Criar Anúncio"})})]})]})};function MI(){const{listingId:t}=rp(),[e,n]=x.useState(null),[s,a]=x.useState(!0),[l,c]=x.useState(null),[f,m]=x.useState("");if(x.useEffect(()=>{(async()=>{if(!t){c("ID do anúncio não encontrado."),a(!1);return}a(!0);try{const w=eu(eo,"listagens",t),E=await vS(w);if(E.exists()){const A={id:E.id,...E.data()};n(A),A.imageUrls&&A.imageUrls.length>0&&m(A.imageUrls[0])}else c("Anúncio não encontrado.")}catch{c("Ocorreu um erro ao carregar o anúncio.")}finally{a(!1)}})()},[t]),s)return g.jsxs("div",{className:"flex justify-center items-center h-screen",children:[g.jsx(Gs,{className:"h-10 w-10 animate-spin text-ollo-accent"}),g.jsx("span",{className:"ml-4 text-xl text-gray-600 dark:text-gray-400",children:"Carregando detalhes..."})]});if(l)return g.jsxs("div",{className:"flex flex-col justify-center items-center h-screen text-center p-4",children:[g.jsx(Yw,{className:"h-12 w-12 text-red-500 mb-4"}),g.jsx("h2",{className:"text-2xl font-bold text-ollo-deep dark:text-ollo-light mb-2",children:"Erro ao Carregar"}),g.jsx("p",{className:"text-red-500 dark:text-red-400 mb-6",children:l}),g.jsx(nn,{to:"/marketplace",className:"px-4 py-2 bg-ollo-accent text-white rounded-lg hover:bg-opacity-90",children:"Voltar para o Marketplace"})]});if(!e)return null;const p=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.price||0);return g.jsx("div",{className:"max-w-6xl mx-auto p-4 sm:p-6 lg:p-8",children:g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8 lg:gap-12",children:[g.jsxs("div",{className:"lg:col-span-3",children:[g.jsx("div",{className:"aspect-w-16 aspect-h-12 bg-gray-200 dark:bg-gray-800 rounded-lg overflow-hidden mb-4 shadow-lg",children:g.jsx("img",{src:f||"https://placehold.co/800x600/E0E1DD/0D1B2A?text=Sem+Imagem",alt:`Imagem principal de ${e.title}`,className:"w-full h-full object-cover transition-opacity duration-300"})}),e.imageUrls&&e.imageUrls.length>1&&g.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:e.imageUrls.map((v,w)=>g.jsx("button",{onClick:()=>m(v),className:`flex-shrink-0 w-20 h-20 sm:w-24 sm:h-24 rounded-md overflow-hidden transition-all duration-200
                                                border-2 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-ollo-deep
                                                ${f===v?"border-ollo-accent dark:border-ollo-accent-light ring-2 ring-ollo-accent dark:ring-ollo-accent-light":"border-transparent hover:border-gray-400 dark:hover:border-gray-500"}`,children:g.jsx("img",{src:v,alt:`Miniatura ${w+1}`,className:"w-full h-full object-cover"})},w))})]}),g.jsx("div",{className:"lg:col-span-2",children:g.jsxs("div",{className:"bg-white dark:bg-ollo-slate p-6 rounded-lg shadow-md border border-gray-200 dark:border-gray-700",children:[g.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-ollo-deep dark:text-ollo-light mb-2",children:e.title}),g.jsx("p",{className:"text-3xl lg:text-4xl font-black text-ollo-accent dark:text-ollo-accent-light mb-4",children:p}),g.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700/50 my-4"}),g.jsx("h2",{className:"text-lg font-semibold text-ollo-deep dark:text-ollo-light mb-2",children:"Descrição"}),g.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap leading-relaxed mb-6",children:e.description}),g.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800/50 p-4 rounded-lg",children:[g.jsx("h3",{className:"text-md font-semibold text-ollo-deep dark:text-ollo-light mb-3",children:"Informações do Vendedor"}),g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(Jw,{className:"h-10 w-10 text-gray-400 dark:text-gray-500"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:e.sellerName||"Vendedor OLLO"}),g.jsx(nn,{to:`/profile/${e.sellerId}`,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"Ver perfil"})]})]})]}),g.jsx("button",{className:"mt-6 w-full py-3 px-6 bg-ollo-accent hover:bg-opacity-90 text-white font-bold rounded-lg shadow-lg transition-transform active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ollo-accent-light",children:"Entrar em Contato"})]})})]})})}const LI=()=>{const{logout:t}=qi(),e=wn(),[n,s]=x.useState(Xn.currentUser);x.useEffect(()=>{const c=z2(Xn,f=>{f?(s(f),f.emailVerified&&(yr.success("Email verificado com sucesso! Redirecionando..."),setTimeout(()=>e("/"),2e3))):(s(null),e("/login"))});return()=>c()},[e]);const a=async()=>{if(!n){yr.error("Ocorreu um erro. Por favor, faça login novamente.");return}try{await B2(n),yr.success("Um novo link de verificação foi enviado para o seu e-mail!")}catch{yr.error("Ocorreu um erro ao reenviar o e-mail. Tente novamente mais tarde.")}},l=async()=>{await t(),e("/login")};return n?g.jsxs(g.Fragment,{children:[g.jsx(wu,{}),g.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900",children:g.jsxs("div",{className:"max-w-md w-full p-8 space-y-6 bg-white dark:bg-gray-800 rounded-lg shadow-md text-center",children:[g.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:g.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),g.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Confirme seu e-mail"}),g.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Enviamos um link de verificação para"," ",g.jsx("strong",{children:n.email}),". Por favor, verifique sua caixa de entrada (e a pasta de spam) para ativar sua conta."]}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Após verificar, você pode fazer o login."}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[g.jsx("button",{onClick:a,className:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-white bg-ollo-primary hover:bg-ollo-primary-dark rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ollo-primary",children:"Reenviar e-mail"}),g.jsx("button",{onClick:l,className:"w-full sm:w-auto px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-md",children:"Fazer logout"})]})]})})]}):g.jsx("div",{className:"flex items-center justify-center min-h-screen bg-white dark:bg-ollo-deep",children:g.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Carregando..."})})},UI=()=>{wn();const t=rs(),{register:e,handleSubmit:n,watch:s,formState:{errors:a}}=I0(),[l,c]=x.useState(!0),[f,m]=x.useState(""),[p,v]=x.useState(null),[w,E]=x.useState(!1),[A,L]=x.useState(!1);x.useEffect(()=>{const Y=new URLSearchParams(t.search).get("oobCode");Y?h3(Xn,Y).then(()=>{v(Y),c(!1)}).catch(()=>{m("Link inválido ou expirado. Por favor, solicite uma nova redefinição."),c(!1)}):(m("Código de redefinição não encontrado na URL."),c(!1))},[t.search]);const V=async O=>{if(!p){yr.error("Erro: código de ação inválido. Tente novamente.");return}c(!0),m("");try{await u3(Xn,p,O.password),L(!0)}catch{m("Erro ao redefinir a senha. O link pode ter expirado ou a senha é muito fraca."),c(!1)}};return s("password"),l?g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Carregando..."}):f?g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen text-center p-4",children:[g.jsx("p",{className:"text-red-500 text-lg mb-4",children:f}),g.jsx(nn,{to:"/forgot-password",className:"px-4 py-2 bg-ollo-primary text-white rounded-md",children:"Solicitar Novo Link"})]}):A?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:g.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white dark:bg-gray-800 rounded-lg shadow-md text-center",children:[g.jsx(Kw,{className:"w-16 h-16 mx-auto text-green-500"}),g.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Senha Redefinida!"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Sua senha foi alterada com sucesso. Agora você já pode acessar sua conta com a nova senha."}),g.jsx(nn,{to:"/login",className:"mt-4 inline-block w-full py-2.5 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-ollo-primary hover:bg-ollo-primary-dark",children:"Ir para o Login"})]})}):g.jsxs(g.Fragment,{children:[g.jsx(wu,{}),g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:g.jsxs("div",{className:"w-full max-w-md p-8 space-y-6 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Redefinir sua Senha"}),g.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Crie uma nova senha forte para sua conta OLLO."})]}),g.jsxs("form",{onSubmit:n(V),className:"space-y-6",children:[g.jsxs("div",{className:"relative",children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nova Senha"}),g.jsx("input",{id:"password",type:w?"text":"password",...e("password",{required:"A nova senha é obrigatória",minLength:{value:6,message:"A senha deve ter no mínimo 6 caracteres"}}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-ollo-primary focus:ring-ollo-primary",placeholder:"••••••••"}),g.jsx("span",{className:"absolute top-8 right-0 pr-3 flex items-center cursor-pointer",onClick:()=>E(!w),children:w?g.jsx(Qw,{className:"h-5 w-5 text-gray-500"}):g.jsx(Xw,{className:"h-5 w-5 text-gray-500"})}),a.password&&g.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.password.message})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirmar Nova Senha"}),g.jsx("input",{id:"confirmPassword",type:"password",...e("confirmPassword",{required:"Confirme sua nova senha",validate:O=>O===s("password")||"As senhas não coincidem"}),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-ollo-primary focus:ring-ollo-primary",placeholder:"••••••••"}),a.confirmPassword&&g.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.confirmPassword.message})]}),g.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-ollo-primary hover:bg-ollo-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ollo-primary disabled:opacity-50",children:l?g.jsxs(g.Fragment,{children:[g.jsx(Gs,{className:"animate-spin h-5 w-5 mr-3"}),"Salvando..."]}):"Salvar Nova Senha"})]})]})})]})},Kc=({children:t})=>{const{currentUser:e,loading:n}=qi(),s=rs();return console.log("🔍 ProtectedRoute Debug:",{loading:n,currentUser:e?{email:e.email,emailVerified:e.emailVerified,uid:e.uid}:null,pathname:s.pathname}),n?(console.log("⏳ ProtectedRoute: Ainda carregando..."),g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Carregando..."})):e?e.emailVerified?(console.log("✅ ProtectedRoute: Usuário autenticado e verificado, permitindo acesso"),t):(console.log("📧 ProtectedRoute: Email não verificado, redirecionando para /verify-email"),g.jsx(zx,{to:"/verify-email",replace:!0})):(console.log("❌ ProtectedRoute: Usuário não autenticado, redirecionando para /login"),g.jsx(zx,{to:"/login",state:{from:s},replace:!0}))},VI=()=>{const t=wn(),[e]=_A();x.useEffect(()=>{const s=e.get("mode"),a=e.get("oobCode");if(!a){t("/login");return}switch(s){case"verifyEmail":n(a);break;case"resetPassword":t(`/reset-password?oobCode=${a}`);break;default:t("/login")}},[e,t]);const n=async s=>{try{await c3(Xn,s),yr.success("E-mail verificado com sucesso! Você já pode fazer o login.",{duration:5e3}),t("/login")}catch{yr.error("Link de verificação inválido ou expirado. Tente fazer login para reenviar."),t("/login")}};return g.jsxs(g.Fragment,{children:[g.jsx(wu,{}),g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:g.jsxs("div",{className:"text-center p-6 bg-white rounded shadow-md",children:[g.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Processando..."}),g.jsx("p",{children:"Por favor, aguarde enquanto processamos sua solicitação."})]})})]})};function BI(){const[t,e]=x.useState(()=>localStorage.getItem("darkMode")==="true"),[n,s]=x.useState({}),[a,l]=x.useState([{id:1,postId:"bem-vindo-ollo",userName:"Usuário OLLO",comments:[],likeCount:Math.floor(Math.random()*101),content:"Bem-vindo ao OLLO! Uma nova plataforma para conectar e compartilhar. Explore, crie e divirta-se!"}]),[c,f]=x.useState(!1);x.useEffect(()=>{localStorage.setItem("darkMode",t);const A=window.document.documentElement;t?A.classList.add("dark"):A.classList.remove("dark")},[t]);const m=()=>e(!t),p=()=>f(!0),v=()=>f(!1),w={openCreatePostModal:p,toggleTheme:m},E=t?"bg-ollo-deep text-ollo-light":"bg-ollo-light text-ollo-deep";return g.jsxs("div",{className:`min-h-screen flex flex-col font-sans transition-colors duration-300 ${E}`,children:[g.jsxs(uA,{children:[g.jsx(Ht,{path:"/login",element:g.jsx(rI,{})}),g.jsx(Ht,{path:"/register",element:g.jsx(NI,{})}),g.jsx(Ht,{path:"/forgot-password",element:g.jsx(sI,{})}),g.jsx(Ht,{path:"/verify-email",element:g.jsx(LI,{})}),g.jsx(Ht,{path:"/reset-password",element:g.jsx(UI,{})}),g.jsx(Ht,{path:"/actions",element:g.jsx(VI,{})}),g.jsx(Ht,{path:"/",element:g.jsx(dr,{...w,children:g.jsx(aj,{posts:a,onTriggerCreatePost:p,onCommentSubmit:()=>{},onDeletePost:()=>{}})})}),g.jsx(Ht,{path:"/explore",element:g.jsx(dr,{...w,children:g.jsx(oj,{allPosts:a,onCommentSubmit:()=>{}})})}),g.jsx(Ht,{path:"/marketplace",element:g.jsx(dr,{...w,children:g.jsx(kI,{})})}),g.jsx(Ht,{path:"/marketplace/detalhes/:listingId",element:g.jsx(dr,{...w,children:g.jsx(MI,{})})}),g.jsx(Ht,{path:"/posts/:postId",element:g.jsx(dr,{...w,children:g.jsx(hj,{allPosts:a})})}),g.jsx(Ht,{path:"/terms",element:g.jsx(dr,{...w,children:g.jsx(fj,{})})}),g.jsx(Ht,{path:"/profile",element:g.jsx(Kc,{children:g.jsx(dr,{...w,children:g.jsx(yw,{allPosts:a,onCommentSubmit:()=>{},sessionFollowStatus:n,setSessionFollowStatus:s})})})}),g.jsx(Ht,{path:"/profile/:profileId",element:g.jsx(Kc,{children:g.jsx(dr,{...w,children:g.jsx(yw,{allPosts:a,onCommentSubmit:()=>{},sessionFollowStatus:n,setSessionFollowStatus:s})})})}),g.jsx(Ht,{path:"/marketplace/criar",element:g.jsx(Kc,{children:g.jsx(dr,{...w,children:g.jsx(II,{})})})}),g.jsx(Ht,{path:"/notifications",element:g.jsx(Kc,{children:g.jsx(dr,{...w,children:g.jsx(dj,{})})})})]}),g.jsx(TA,{}),c&&g.jsx(QA,{onClose:v,onAddPost:()=>{}})]})}bN.createRoot(document.getElementById("root")).render(g.jsx(Rn.StrictMode,{children:g.jsx(vA,{children:g.jsx(tj,{children:g.jsx(BI,{})})})}));
